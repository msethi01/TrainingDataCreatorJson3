text
.
.
.
specifying placement settings the tool performs coarse placement at various points during the preroute stage of the design flow.
.
.
"for example, to perform clock tree optimization on a design that has completed clock routing, use the following command: fc_shell> synthesize_clock_trees -postroute \ -routed_clock_stage detail to perform clock tree optimization on a design that has completed both clock and signal routing, use the following command: fc_shell> synthesize_clock_trees -postroute \ -routed_clock_stage detail_with_signal_routes note: when you enable concurrent clock and data optimization, including power or area recovery that uses this technique, the tool does not optimize the clock latency or skew during postroute clock tree optimization; it only fixes the logical drc violations on the clock network."
.
.
.
.
.
.
.
.
.
"to enable crosstalk-driven global routing, set the route.global.crosstalk_driven and time.si_enable_analysis application options to true before you run the route_global command."
.
.
.
"to continue with placement when a region is overutilized due to it being too small or being covered by blockages, set the place.coarse.handle_early_data application option to true."
.
"for each via type, you must explicitly specify the allowed cut numbers and orientation."
.
.
.
.
.
"to perform guided power grid augmentation, 1. ensure that the block is fully routed with very few or no drc violations."
"you can set options to adjust the routing, control the tool operation, and enable or disable routing aids."
.
.
.
.
.
.
.
.
.
.
.
"-for name of the driver pin or port (figure 157 and figure 158), or net group (figure 159) that must comply with the constraint."
.
"if you do not have a synopsys user name and password, follow the instructions to sign up for an account."
.
.
.
.
.
"you can • enter individual commands interactively at the fc_shell> prompt in fc_shell • enter individual commands interactively on the console command line in the gui • run one or more tcl scripts, which are text files that contain fc_shell commands (see using tcl scripts) when entering a command, an option, or a file name, you can minimize your typing by pressing the tab key when you have typed enough characters to specify a unique name; the fusion compiler tool completes the remaining characters."
.
.
.
"the default change threshold is 20 percent; to modify the change threshold, set the signoff.check_drc.auto_eco_threshold_value application option."
rail minimal path resistance map shows minimum path resistance values for a selected net when minimal path resistance analysis is complete.
.
.
.
.
.
"◦ if the edge segment contains one corner, the tap wall starts at that corner."
.
.
.
.
.
.
344 defining sink pins .
.
.
.
.
.
"the fusion compiler tool supports the following types of area-based placement blockages: • hard a hard blockage prevents the placement of standard cells and hard macros within the specified area during coarse placement, optimization, and legalization."
.
.
.
.
.
.
"5. set the application options for performing power grid augmentation, as described in setting options for power grid augmentation."
.
.
.
.
.
.
.
.
.
.
.
.
the routing blockage is considered as real metal for rc extraction and drc checking and the router must meet the minimum spacing requirements between the routing blockage boundary and the net shapes.
.
"to perform voltage optimization, you need • scaled library panes voltage optimization works on the fundamental principle of scaling the voltage, therefore, scaled library panes with different voltages are required."
.
.
.
.
"to prevent the tool from estimating the latency for a specific clock gate, set the dont_estimate_clock_latency attribute on its clock pin by using the set_attribute command, as shown in the following example: fc_shell> set_attribute \ [get_pins {icg21/ck}] dont_estimate_clock_latency true fusion compiler™ user guide v-2023.12-sp3 304 chapter 4: clock gating controlling clock-gate latencies feedback for best results, do not use the following features with integrated clock-gate latency estimation: • trial clock tree synthesis to disable this feature, set the compile.flow.trial_clock_tree application option to false."
◦ stage 0 refers to a register driven by a clock gate.
increasing the priority of hold violations reduces the number of setup violations that are fixed.
.
.
.
the nets may have too many blockages.
.
.
.
.
.
"for more information about all the available options and all the supported pin attributes, see the man page for the get_clock_tree_pins command."
"preventing specific clocks from being synthesized by default, the tool synthesizes all clocks defined with the create_clock and create_generated_clock commands."
.
.
.
.
.
custom.route.shield_min_shield_seg specifies the minimum length of shield segments.
.
"by default, the tool names each run with a number, such as run1, run2, and so on."
.
.
(optional) generate an ascii name-mapping file for use with the primepower tool by using the saif_map -write_map -type primepower -essential command.
"by default, when you enable timing-driving routing, zroute uses medium effort to assign timing-critical nets to low-resistance metal layers."
.
.
.
"to do so, specify the location coordinates for leaf cells by using the set_cell_location command."
.
.
.
check the reported reason and other printed messages for more details.
.
.
.
.
.991 setting constraints of variant cell .
the tool does not create a logical supply net in the following situations: • there is a conflict between the connection and the supply net type specified with the supply_net_pg_type attribute.
using the layout view can expose problems that are masked by the frame view abstraction.
.
specify the below options to enable multi-rail-scenario rail analysis.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 684 chapter 8: ic validator in-design performing signoff design rule checking feedback if you have already run the signoff_check_drc command, you can generate a configuration file by running the $icv_home_dir/contrib/generate_layer_rule_map.pl script."
see also • timing-driven metal fill insertion using an ic validator parameter file you can customize the metal fill insertion by using an ic validator parameter file.
"2. at the top level, load the block upf for each of the block instances that are represented by an etm and the top only upf: load_upf -scope <instance_name> block.upf load_upf top.upf • apply top-level placement constraints and settings such as hard keepout margins."
.
.
.
.
"(opt-853) an implementation of the mux_op cell from the target library is created, but it might not be the best implementation possible."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"• modes, corners, and scenarios, see the “defining modes, corners, and scenarios” topic in the fusion compiler timing analysis user guide."
.
.
.
.
.
.
"after this initial step, the tool can perform an optional embedded area optimization flow before moving on to other optimization techniques performed during the logic_opto stage."
.
.
.
.
.
.
.
.
.
.
.
.
.
"specifying synchronous input types for library cell pins when mapping sequential cells, the tool uses the nextstate_type attribute of a library cell pin to identify its synchronous pin type."
.
"fc_shell> set_app_options \ -name route.detail.drc_convergence_effort_level -value high you can force the detail router to complete the maximum number of iterations, regardless of the drc convergence status, by setting the route.detail.force_max_number_iterations application option to true."
.
.
.
.
"to reduce the leakage current, use the -leakage_vt_order option to specify the threshold voltage layers in order of decreasing leakage current."
.
"note: to perform ir-drop-aware placement, you must have digital-af and snps_indesign_rh_rail license keys."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"to place eco cells closer to fixed points, specify an integer value greater than one for the corresponding net."
"this means, the cell cannot be swapped if the cell size and pin shapes are different."
.
"manually enabling dynamic power shaping and voltage-drop-aware placement to manually enable • dynamic power shaping for the compile_fusion command, use the following settings: fc_shell> set_app_option -name opt.common.power_integrity \ -value false fc_shell> set_app_option -name compile.flow.enable_dps \ -value true • voltage-drop-aware placement for the compile_fusion command, use the following settings: fc_shell> set_app_option -name opt.common.power_integrity \ -value false fc_shell> set_app_option -name compile.flow.enable_irap \ -value true • voltage-drop-aware placement for the clock_opt command, use the following settings: fc_shell> set_app_option -name opt.common.power_integrity \ -value false fc_shell> set_app_option -name clock_opt.flow.enable_irap \ -value true fusion compiler™ user guide v-2023.12-sp3 198 chapter 2: preparing the design specifying the routing resources feedback specifying the routing resources you can specify the minimum and maximum routing layers both for the block (global layer constraints), for specific nets (net-specific layer constraints), and for unsynthesized clock nets (clock-tree layer constraints)."
.
.
.
.
.
.444 defining simple vias .
989 removing repeater groups .
"the offset from the nonpreferred-direction edge is s, which is the spacing specified for the layer by the -spacing_from_boundary option."
.
.
"the valid values are none, before, and after."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"when you use this option, the gdsii or oasis data replaces the cell library data for the cells defined in the specified stream files."
.
.
.
.
"custom.route.layer_grid_mode specifies whether the route and corresponding parallel shields, jumpers for parallel shields, and bus shields snap to the wire tracks or the routing grid."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"the tool generates all design collaterals (including def, lef, spef, twf and ploc) from the design library and adds them to the user-customized python script to run voltage drop analysis in a single iteration of analyze_rail."
.
.
.
.
.
.
"at a minimum, you must specify the foundry runset to use for design rule checking by setting the signoff.check_drc.runset application option."
"5. insert the tap drivers by using the create_clock_drivers command, as described in inserting clock drivers."
.
.
.
"by default, the route_eco command • considers timing and crosstalk during routing, which means that the tool performs extraction and updates the timing before performing the routing."
.
.
.
.
.
.
.
.
.
"resolving overlapping voltage areas if voltage area shapes from two or more voltage areas overlap, either completely or partially, the tool uses the stacking order of the shapes to determine the effective shapes of the voltage areas."
• define the rule on the command line by using the create_via_rule command with a detailed specification and then specifying additional details by setting its attributes.
.
.
.
.
.
.
"the following example switches the ui cell instance from its abstract view to its etm: fc_shell> set_reference -block ams_blk_etm.ndm:ams_blk.timing u1 the following example switches the ui cell instance from its etm to its abstract view: fc_shell> set_reference -block ams_blk.ndm:ams_blk.abstract u1 when you switch between etms and abstract views, reapply the top-level timing constraints."
"to activate the create route tool, click the button on the edit toolbar or choose create > route."
"• when inserting new diodes, zroute selects the diodes from the reference libraries and inserts them into existing open spaces."
.
.
.
.
.
.
"for more information about the error browser, see “using the error browser” in the fusion compiler graphical user interface user guide."
.
.
.
.
.
"to set the constraint for specific corners associated with the specified mode, use the -corners option with the constraint command."
.
the report is in the following format: geometry bbox_value here are commonly used options of the get_geometry_result command: option description -layer (optional) specifies the name or number of the layer to report.
.
.
• enable concurrent clock and data optimization for the clock_opt command.
.
specify the routing layers by using the layer names from the technology file.
.
.
.
.
"• to flatten the physical hierarchy and retain only the relevant logic of the lower-level blocks, use the -preserve_block_instances false option."
fc_shell> open_rail_result fc_shell> report_rail_result -type pg_pin_power -limit 5 \ -supply_nets { vss } power.rpt fc_shell> sh cat power.rpt fi2/vss 4.81004e-06 fi6/vss 4.80959e-06 fi3/vss 4.79702e-06 fi4/vss 4.79684e-06 fi1/vss 4.79594e-06 ... the following example writes the calculated effective voltage drop values for the vdd and vss nets to an output file called inst_effvd.rpt.
the ic validator tool outputs the exclude layers that have defined data types.
.
.
.
.
.
"if you run both logic optimization and routability optimization, you should first perform the logic optimization and then the routability optimization."
.
.
.
.
"in this mode, track-based metal fill insertion skips one track between signal shapes and fill shapes."
.
.
.
.
.
.
"you assign library cells to groups (the boundaries are in a predefined group named snps_boundary), and then define the required spacing between cells in these groups."
.
advanced nodes often require the insertion of additional tap cells to manage the substrate and well noise.
.
.
"for example, to use the results from the default signoff_check_drc run directory, use the following commands: fc_shell> set_app_options \ -name signoff.fix_drc.init_drc_error_db \ -value signoff_check_drc_run fc_shell> signoff_fix_drc note: to use existing signoff drc results as input to the signoff_fix_drc command, you must use the signoff drc application options described in generating input for the automatic fixing flow."
"for details, see creating and specifying rail scenarios for rail analysis."
.
.
.
.
.
.
.
◦ the tool makes the eco changes to the current design.
"12. analyze the clock mesh by using the analyze_subcircuit command, as described in analyzing the clock mesh."
.
.
.
.
.
.
.800 applying compression to groups with straddling leaf cells .
.
"• to specify the boundary of a rectangle shape, use the following format to specify its lower-left and upper-right corners: {{llx lly} {urx ury}} • to specify the boundary of a rectilinear shape, use the following format to specify the coordinates of its vertices: {{x1 y1} {x2 y2} {x3 y3} {x4 y4} ...} if a voltage area consists of multiple abutting or overlapping shapes, you can merge the shapes into a minimum set of disjoint shapes based on the stacking order of the shapes."
"to fix power integrity (voltage drop) violations, the tool downsizes aggressor cells while considering the timing and drc qor."
.
-twist_interval specifies the distance between each twist.
.
.
.
.
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 75 chapter 2: preparing the design setting up libraries feedback for example, fc_shell> create_lib lib_a -ref_libs \ {../libs/scll.ndm ../libs/schh.ndm ../blocks/macros} {lib_a} fc_shell> report_ref_libs... name path location --------------------------------------------------------------- *+ scll ../libs/scll.ndm /remote/project/libs/scll.ndm *+ schh ../libs/schh.ndm /remote/project/libs/schh.ndm * macros ../blocks/macros /remote/project/blocks/macros ""*"" = library currently open ""+"" = library has technology information • set_ref_libs -rebind when you make a change that invalidates the reference library list, such as moving a reference library to a new location, you need to rebind the reference libraries."
.
the default is fusion_adv.
.
.
figure 169 shows a relative placement group in which cells straddle columns (instance u2) and rows (instance u7).
• -excluded_coordinates this option prevents metal fill insertion in the specified regions.
".167 controlling the optimization of cells, nets, pins, and ports ."
.
.
.
.
.
.
.438 introduction to zroute .
.
.
.
330 library requirements for self-gating .
.
.
.
.
note that the command does not verify that the block has boundary cells or that the boundary cells actually contain taps.
.
.
.
figure 116 coaxial shielding you can perform shielding either before or after signal routing.
.
.
.
"if you want the insertion delay of clk1 and clk2 to be the same and the insertion delay of clk3 to be 100 less than that of clk1 and clk2, use the following command: fc_shell> create_clock_balance_group -name group3 \ -objects [get_clocks {clk1 clk2 clk3}] \ -offset_latencies {0 0 -100} reporting clock balance groups to report clock balance groups, use the report_clock_balance_groups command."
.
.
.
.
.
.
b. add relative placement objects to the groups by using the add_to_rp_group command.
figure 221 shows the cell group with two variants.
.
.
"the out1_reg bank is clock gated according to the specified clock-gating style: fc_shell> set_clock_gating_objects -exclude adder \ -include adder/out1_reg[*] fusion compiler™ user guide v-2023.12-sp3 295 chapter 4: clock gating setting up clock gating feedback the following example sets and then removes the inclusion and exclusion criteria specified by the -include, -exclude, and -clear options: fc_shell> set_clock_gating_objects -include adder/out1_reg[*] \ -exclude adder/out2_reg[*] fc_shell> set_clock_gating_objects \ -clear {adder/out1_reg[*] adder/out2_reg[*]} clock-gating enable source selection by default, the tool extracts the clock-gating enable condition from one of these sources: • signals connected directly to the synchronous enable pin of the sequential element, as shown in figure 48 figure 48 directly connected enable signal • the enable condition on the feedback loops of the input and output data pins of the sequential element, as shown in figure 49 figure 49 enable signal in a feedback loop when using clock gating, you can specify the signal source of the enable logic."
fusion compiler™ user guide v-2023.12-sp3 454 chapter 6: routing and postroute optimization inserting via ladders feedback defining via ladder constraints the via ladder constraints define the pins on which to insert via ladders and the via ladder templates that can be used for those pins.
.
.
.
"4. inserts metal and via fill in the empty regions for the specified regions, except in the areas around the critical nets to enable fill insertion for shielded timing-critical clock nets, set the signoff.create_metal_fill.fill_shielded_clock application option to true."
"10. enable integrated structural multisource clock tree synthesis by setting the compile.flow.enable_multisource_clock_trees application option to true, and build the local subtree by running the compile_fusion -from initial_place command."
.
.
.
.
.
.
378 excluding specific sinks .
.
fusion compiler™ user guide v-2023.12-sp3 860 chapter 11: hierarchical implementation transparent hierarchy optimization feedback figure 197 transparent hierarchy optimization flow tho flow open_block -ref_libs_for_edit (blocks linked with design view) enable tho settings compile_fusion -from final_place route_opt or hyper_route_opt t h o the following example flow shows the usage of tho in the overall implementation flow.
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 427 chapter 5: clock tree synthesis implementing multisource clock trees feedback ◦ the number of taps that the sinks are redistributed among by using the -num_taps option.
.
.
.830 overview of abstract views .
.
.
.
.
.
place_group_repeat ers eco-241 warning: the distance based placement does not support multi-fanout path driver(%s).
"to do so, use the write_rp_groups -file_name command."
.
.
"use the following commands to define the antenna rules for this example: fc_shell> define_antenna_rule -mode 1 -diode_mode 14 \ -metal_ratio 285 -cut_ratio 10 fc_shell> define_antenna_layer_rule -mode 1 -layer ""m1"" \ -ratio 285 -diode_ratio {1 0 1e9 1e9 0 1 2 285 1 285 \ 1 0 1e9 1e9 1 0 2 165 1 28 \ 1 0 1e9 1e9 0 1 2 1e9 1 1e9 \ 1 0 1e9 1e9 0 1 2 1e9 1 1e9 } the following table shows the vector usage: formula 1 formula 2 with diode no diode with diode no diode gate sum switch diode protect ion multipl ier offset ratio gate area multipl ier diode protect ion multipl ier ratio gate area multipl ier ratio gate class 0 v01 v11 v21 v31 v41 v51 v61 v71 v81 v91 gate class 1 v02 v12 v22 v32 v42 v52 v62 v72 v82 v92 gate class 2 v03 v13 v23 v33 v43 v53 v63 v73 v83 v93 gate class 3 v04 v14 v24 v34 v44 v54 v64 v74 v84 v94 here: • v0: defines which gate areas are used for the check for the first formula: ◦ 0: gate area of all gates that belong to the current gate class ◦ 1: total gate area regardless of gate class • v1: defines the diode protection multiplier for the connected to diode case for the first formula • v2: defines the offset value for the connected to diode case for the first formula fusion compiler™ user guide v-2023.12-sp3 611 chapter 7: chip finishing and design for manufacturing finding and fixing antenna violations feedback • v3: defines the ratio requirement for the not connected to diode case for the first formula • v4: defines which gate areas are used for the check for the second formula: ◦ 0: gate area of all gates that belong to the current gate class ◦ 1: total gate area regardless of gate class • v5: defines the gate area multiplier for the connected to diode case for the second formula • v6: defines the diode protection multiplier for the connected to diode case for the second formula • v7: defines the ratio requirement for the connected to diode case for the second formula • v8: defines the gate area multiplier for the not connected to diode case for the second formula • v9: defines the antenna ratio requirement for the not connected to diode case for the second formula calculating the antenna ratio for a pin the tool supports several ways to calculate the antenna ratio (antenna-area/gate-area)."
.
the following example generates a qor snapshot named r1 using zero wire load for timing paths in the snapshot directory: fc_shell> create_qor_snapshot -name r1 -zero_wire_load ... no.
.
.
.
.
.
.
.
"to enable distributed analysis in the primepower tool, specify the following options with the set_indesign_primepower_options command: • -num_processes: use this option to specify the number of hosts to launch."
.
.
.
.
.
.
163 enabling advanced pg net checks .
.
.
.
"• voltage-drop-aware placement, which use the voltage (ir) drop values of cells to identify areas of high power density and spread the cells with high voltage drop values to reduce the power density of such areas."
.
.
"if you change the default effort level by setting the opt.common.power.integrity_effort application option to low, the tool ignores the threshold specified with the opt.common.ir_drop_threshold application option."
"• if you need to promote clock data for a specific top-level clock, use the promote_clock_data -clocks {top_clock} -port_latency command."
"figure 11 outlier cell in library cell family fusion compiler™ user guide v-2023.12-sp3 87 chapter 2: preparing the design analyzing libraries feedback cells are considered equivalent if all their properties are the same for all process, voltage, and temperature (pvt) values, as shown in the following plot of cell area versus timing for a family of cells with the same function."
.
.
.
.
.
.
.
.
"to remove the ignore pin definition from a pin, use the remove_clock_tre_exceptions comand-stop_pinscomandsremove_clock_tre_exceptions-stop_pinsremove_clock_balance_points command."
.
"to perform electromigration analysis, 1. set the rail.tech_file application option to specify the apache technology file (*.tech) that defines the layer-by-layer current density limits."
.
.
.
.
.
.
leakage power optimization is performed if there is an active scenario with only leakage power enabled.
.
.
.
.
"however, the clock gating is not modeled."
.
fusion compiler™ user guide v-2023.12-sp3 404 chapter 5: clock tree synthesis implementing multisource clock trees feedback this requires at least one of the dynamic power scenarios to be defined and active during h-tree synthesis.
"for example, drc-summary: @@@@@@@ total violations = 506 @@@@ total number of instance ports with antenna violations = 1107 antena rulescheckingto check for antenna violations, use the check_routes -antenna true command."
.
the fix_mv_design command does not insert isolation cells or level-shifter cells to fix existing isolation or voltage violations.
this leads to detouring for balancing among the endpoints of the default group or other user skew group.
.
.
"• robustness histogram to report the robustness of each sink, with respect to a robustness corner specified by using the -robustness_corner option, in a histogram format, use the -histogram_type robustness option."
.
.
.987 previewing repeater groups .
.
.
.
"for more information, see the configuring cell libraries topic in the fusion compiler data model user guide."
.
573 reporting the routing results .
.
.
"fusion compiler™ user guide v-2023.12-sp3 538 chapter 6: routing and postroute optimization shielding nets feedback • to enable crosstalk-driven mode, set the route.global.crosstalk_driven, route.track.crosstalk_driven, and time.si_enable_analysis application options to true."
.
.
"by default, this application option is set to autovector."
.
.
.
.
.
.
.
-driver (optional) name of the driver pin or port.
.
"the file is read in the following order: 1. the .synopsys_fc.setup file in your home directory 2. the .synopsys_fc.setup file in the project directory fusion compiler™ user guide v-2023.12-sp3 62 chapter 1: working with the fusion compiler tool using the command log file feedback the setup files can contain commands that perform basic tasks, such as initializing application options and setting gui options."
.
.
"some attributes that provide information about drc errors are type_name, bbox, objects, and shape."
.
.
.
.
.
.
.
(warning) the last distance (%s) specified by command option is shorter than the gap (%s) between pin and route for load (%s).
.
.
.
.
.
.
"however, before clearing the checkpoint directory, the reset_checkpoints command saves a timestamped copy of the directory in your run directory."
"note: if you specify both the checks and policies, the configuration supports all the policies described in this section, depending on what the application-specific check supports."
"by default, when rule-based name matching is enabled, the following characters are considered equivalent: ◦ hierarchical separators { / _ . }"
"this helps you to enhance the cell layout as you cannot modify the cell layout later, after the library is finalized and released to the place and route group."
"the report_clock_qor command can also generate the following types of histograms: • latency histogram to report the latency of each sink in a histogram format, use the -histogram_type latency option."
.
.102 embedding tcl commands in rtl code .
"you can enable placement-based multibit banking during the final_place stage of the compile_fusion command, instead of the initial_opto stage, by setting the compile.flow.enable_second_pass_multibit_banking application option to true and the compile.flow.enable_physical_multibit_banking application option to false."
.
.
.
"if you want to use the default spacings and widths from the technology file for postroute shielding, you do not need to define and assign nondefault routing rules."
.
.
"for example, to remove the metal fill from the regions modified since the last time you ran the signoff_create_metal_fill command and then fill only those regions using the pattern-based mode, use the following command: fc_shell> signoff_create_metal_fill -auto_eco true you can use the -select_layers option to specify the layers on which to perform metal fill insertion; however, the tool performs metal fill insertion on a specified layer only if it is one of the automatically detected changed layers."
.
.
.
.
.
.
.
.
.
.
.
.
.
"the vias listed in the -to option can be simple vias, simple via arrays, or custom vias."
.
.
814 saving relative placement information .
• -respect_voltage_areas: inserts buffers within the hierarchy of the voltage area such that the buffer is physically in the layout.
"7. run the compile_fusion command until logic optimization for the subblocks and top- level design is complete as shown in the following example: fc_shell> compile_fusion -to logic_opto 8. perform standard cell placement followed by the pin assignment, timing estimation and budgeting."
.
.
"by limiting the percentage of lvt cells in a block, you can improve yield of your design."
.
.
.
.
.
.
.
.
.
"run_dir signoff_fix_isolated_via_run specifies the run directory, which contains the files generated by the signoff_fix_isolated_via command."
the default is three.
fusion compiler™ user guide v-2023.12-sp3 943 chapter 12: redhawk and redhawk-sc fusion voltage hotspot analysis feedback see also • generating hotspots • reporting hotspots • voltage hotspot analysis examples voltage hotspot analysis examples this topic provides examples about how to use the hotspot analysis capability to identify the root cause of voltage violations.
.
.
267 comparing qor data .
.
.
.
190 enabling power optimization for the clock_opt command .
.
.
.
.
.
.
.
.
.
"to do so, use the compute_clock_latency command after clock tree synthesis."
.
.
"the following library manager scripts combine the etms created for every mode and corner of the ams_blk design with the corresponding physical information and creates the corresponding cell library: # create a library work space create_workspace -flow etm_moded ams_blk # read the physical data (frame view) read_ndm -views frame ams_blk.ndm # read the etms for every scenario read_db -mode_label m1 ams_blk_m1_c1.db read_db -mode_label m1 ams_blk_m1_c2.db read_db -mode_label m1 ams_blk_m1_c3.db read_db -mode_label m2 ams_blk_m2_c1.db read_db -mode_label m2 ams_blk_m2_c2.db read_db -mode_label m2 ams_blk_m2_c3.db # check the compatibility of the libraries you read in check_workspace # generate cell library commit_workspace -output ams_blk_etm.ndm when you create a cell library for an etm, you can use one of the following methods to obtain the physical data: • read the frame view of the corresponding block by using the read_ndm -views frame command."
optionally you can ◦ prevent the tool from merging specific clock tree cells by using the -dont_merge_cells option.
.
"d q ___ rst d using a reset pin d q ___ rst d using a gate on the data pin if your library has registers with synchronous reset (or preset) pins, you must still use the sync_set_reset directive in the rtl so that the tool can distinguish the reset (or preset) signals from other data signals and connect the reset signal as close to the register as possible."
.
.
.
.
.
.
3. analyze and fix the antenna violations.
.
.
"• user-specified latencies user-specified latencies are set by the set_clock_latency, set_clock_gate_latency, set_clock_gating_check -setup, or set_path_margin -setup commands."
.
.
"the syntax of the command is as follows: - report_clock_gating_efficiency [-by_register] [-by_clock_gate] [-bin_size] [-type clock_gate | self_gate | fanin_seqcg] [-origin tool_inserted | pre_existing] [-sortby name | stage | gating_efficiency] fusion compiler™ user guide v-2023.12-sp3 323 chapter 4: clock gating clock gate efficiency reporting feedback the following figure shows the report_clock_gating_efficiency command report: the columns of this report include the following parameters: • toggle savings distribution: a histogram of registers efficiency with a bin size of 5 (the bin size can be modified) • number of registers: the number of registers in each histogram bin • accumulated percentage: the cumulative percentage of registers encountered so far • number of bitwidth: the bitwise equivalent for the number of registers in each bin • accumulated percentage (of the bitwidth): the cumulative bitwise register equivalent percentage encountered so far fusion compiler™ user guide v-2023.12-sp3 324 chapter 4: clock gating clock gate efficiency reporting feedback the reports can be refined to report efficiency with respect to the following: • bin size using the following command: report_clock_gating_efficiency -bin_size #numberofbin • registers using the following command: report_clock_gating_efficiency -by_register fusion compiler™ user guide v-2023.12-sp3 325 chapter 4: clock gating clock gate efficiency reporting feedback the columns of this report include the following parameters: ◦ register: the name of the register under consideration ◦ bitwidth: bitwidth of the register ◦ local clock toggle rate: toggle rate at the clock pin of the register after gating ◦ d toggle rate: toggle rage at the d-pin of the register ◦ q toggle rate: toggle rage at the q-pin of the register ◦ d/clk toggle rate: d toggle rate per local clock toggle rate ◦ q/clk toggle rate: q toggle rate per local clock toggle rate ◦ current gating efficiency: efficiency of the register computed as 1 (local clock toggle by root clock toggle) • clock gates using the following command: report_clock_gating_efficiency -by_clock_gate the columns of this report include the following parameters: ◦ clock: the root clock of the clock gate ◦ clock gating stage: stage of the clock gate ◦ gating element ◦ number of fanout registers: the number of registers the clock gate is directly driving ◦ number of fanout bitwidth: the bitwidth equivalent for the number of registers the clock gate is directly driving fusion compiler™ user guide v-2023.12-sp3 326 chapter 4: clock gating clock gate efficiency reporting feedback ◦ toggle savings: toggle saving of the clock-gate ◦ clock gating efficiency: the efficiency of the clock gate ◦ receiver clock gate: the name of clock-gate directly driven by the clock-gate under consideration the output can also be sorted based on name, efficiency, or stage of clock gates in ascending order using the following command: report_clock_gating_efficiency -sort_by [name | stage | gating_efficiency] • name: alphabetically • stage: by clock gate stage • gating_efficiency: by clock gate or register gating efficiency fusion compiler™ user guide v-2023.12-sp3 327 chapter 4: clock gating self-gating optimization feedback the following figure shows an example report: self-gating optimization the tool supports self-gating optimization, which occurs at the compile_fusion command."
"fusion compiler™ user guide v-2023.12-sp3 776 chapter 9: routing using custom router using a ddr routing flow feedback figure 165 a basic ddr flow prepare input data run custom routing insert buffer cells run eco routing define single-loop lengthening trimming define net bundles define and apply routing rules route_custom -nets set the length match route_custom -nets add_buffer_on_route route_eco -nets route_detail -incremental remove_redundant_shapes create_bundle create_routing_rule set_routing_rule run custom routing create_wire_matching to perform routing on a ddr design with custom router, 1. before you run custom router to perform routing on a ddr design, ◦ group the nets as a bundle for length matching."
.
.
.
.
.
.
.
you can use this type of routing guide to prevent wrong-way jog wires on specific layers.
.
.
.
.
.
.
.
.
350 copying clock tree exceptions across modes .
.
"considering the effects of clock gating cells of sequential arrays during placement a sequential array, which is commonly used in storage devices, is a group of registers that are arranged as a two-dimensional array."
.
.
.
.
.
.
"therefore, for optimal convergence, ensure that the fusion compiler timing analysis settings at the postroute stage are consistent with the primetime timing analysis settings."
.
.
569 performing signoff design rule checking .
.
.
.
.
.
.
.
"the check_routability command supports the following additional pin connection controls that apply to all pin access checks: • pin access edges during frame view extraction, the tool annotates the frame views with information about the pin access edges."
.
"when the missing via check is completed, open the generated error data to examine the errors in the error browser."
.
.
.
"• to create the routing guide in a different physical cell, use the -cell option."
.
• the first metal shape is offset from the nonpreferred-direction edge by the value specified in the start_value argument the start value must be greater than or equal to 0 and less than the smaller of the width or height of the block boundary.
.
.
.
error also occurs if they do not belong to the same variant cell group.
.
the tool does not update the i/o clock latencies • for the entire block when you disable this feature by setting the ccd.adjust_io_clock_latency to false or when you disable concurrent clock and data optimization for boundary paths by setting the ccd.optimize_boundary_timing application option to false • for specific i/o paths when you exclude the corresponding path groups from concurrent clock and data optimization by using the ccd.skip_path_groups application option • for specific i/o clocks when you disable latency adjustment those i/o clocks by using the set_latency_adjustment_options -exclude_clocks command fusion compiler™ user guide v-2023.12-sp3 379 chapter 5: clock tree synthesis implementing clock trees and performing post-cts optimization feedback performing dynamic-voltage-drop-driven concurrent clock and data optimization during the route_opt command the concurrent clock and data optimization performed during the route_opt command can reduce the peak dynamic voltage drop without affecting the timing qor.
.
.
"the legalization and eco routing performed by the first route_opt run might impact the block timing, which is then optimized by the second route_opt run."
.
.
.
.
.787 using hierarchical relative placement for straddling .
.
.
.
"• a script file that defines the via ladder rules the script file contains a create_via_rule command for each template defined in the xml file, as well as set_attribute commands to set the appropriate via rule attributes."
.
.
.
.
.
.
.
.
"• the routing guides have the default metal width specified for the routing layer in the technology file to specify a different width in microns, use the -width_nonpreferred option."
.
.
.
.
.
.
.
table 35 defines how each of the diode protection mode settings affect the maximum antenna ratio for a net.
.
.
.
.
.
"◦ to save the block at the end of the signoff_fix_isolated_via run, use the -save_design true option with the signoff_fix_isolated_via command."
.
.
.
.
"• the naming convention used to identify the inserted filler cell instances by default, the command uses the following naming convention for inserted filler cells: xofiller!filler_library_cell_name!number to identify the filler cells inserted in a specific run, use the -prefix option to specify a prefix string."
.
.
.
.
this feature can reduce the area of blocks with many designware hierarchies.
.
"see also • removing metal fill timing-driven metal fill insertion timing-driven metal fill insertion inserts metal and via fill in the specified regions of the block, except around timing-critical nets."
"by default, the value of this option is 0, which means that there is no limit on the number of secondary power or ground pins in a cluster."
"• to insert routing blockages along the preferred-direction edges of the current block, use the derive_perimeter_constraint_objects command with the -perimeter_objects route_blockage_nonpreferred option."
.
.
"you can prevent the tool from adding clock ports, data ports, or both by using the -clock, -data, or -all option."
.
.
.
"however, enabling this feature might degrade the design qor."
293 setting up clock gating .
"• the hdlin.elaborate.ff_infer_sync_set_reset application option when the rtl does not contain the directive, set the hdlin.elaborate.ff_infer_sync_set_reset application option to true."
.
"for more information about the advanced legalizer, see enabling advanced legalization algorithms."
.
.
.
.
.
the tool uses the default jog spacing for any unspecified layers.
.
73 setting up libraries .
"to enable this feature for the final_opto stage of the compile_fusion and clock_opt commands, use the opt.common.advanced_logic_restructuring_mode application option, as shown in the following table."
.
.
.
fusion compiler™ user guide v-2023.12-sp3 652 chapter 7: chip finishing and design for manufacturing inserting filler cells feedback figure 133 fixing a maximum vertical edge length violation tap cell spacing rule the tap cell spacing rule restricts the distance between a target tap cell’s oxide diffusion (od) layer and the od layers of its neighboring cells on the left and right sides.
"by default, the tool uses the nanosim simulator."
.
3. enable voltage-drop-aware clock tree synthesis by setting the clock_opt.flow.enable_voltage_drop_aware application option to true.
.
.
"this command divides the whole chip area into multiple grids in terms of rows and columns, such as 100x100."
"type of register data preset reset simple, constant data 1 or 0 preset and constant data 1 1 x constant preset x 1 reset and constant data 0 0 x constant reset x 1 preset, reset, and constant data 1; reset always inactive 1 x 0 fusion compiler™ user guide v-2023.12-sp3 240 chapter 3: physical synthesis controlling mapping and optimization feedback type of register data preset reset preset, reset, and constant data 0; preset always inactive 0 0 x 2-input xor gate where one input is 0 x retention register where d and q pins are directly connected 1 or 0 to disable constant register removal for the entire block you are synthesizing, set the compile.seqmap.remove_constant_registers application option to false, changing it from its default of true."
"if the clock-gating logic uses a non-unate cell, such as an xor or xnor gate, the tool uses both the positive-unate timing arc and the negative-unate timing arc when tracing the clock path."
"the routing layer constraints are used by rc estimation, congestion analysis, and routing."
.
figure 159 shows an example of net-based wire length matching.
.
"• to verify the legality of the design, use the check_legality command."
.
• the number of hosts to use use the -num_processes option to specify the number of hosts.
.
.
.
.
970 specifying settings for multivoltage designs .
.
.
.
.
.
"the following example creates the t_low and t_high rail scenarios and generates input files for them: fc_shell> create_rail_scenario -name t_low \ -scenario func_cbest fc_shell> set_rail_scenario -name t_low \ -generate_file {ploc def spef twf lef} \ -custom_script_file ./customized.py fc_shell> create_rail_scenario -name t_high \ -scenario func_cbest fc_shell> set_rail_scenario -name t_high \ -generate_file {ploc def spef twf lef} \ -custom_script_file ./customized.py you can then use the customized.py file for multi-rail-scenario rail analysis or other ir- driven features, such as ir-driven placement or ir-driven concurrent clock and data optimization."
.
.
.
.
.
"you also might want to use route_auto if congestion qor is your main goal, rather than timing qor."
.
.
.
.
.
.
.
.
.
.
.
.
.
"5. initial_opto during this stage, the tool performs physical optimization and incremental placement."
"to remove the dont_touch attribute from the network, specify the -clear option."
.
"by reducing the length of multivoltage nets, the tool can reduce the number of dual-rail buffers used during optimization and prevent unoptimized multivoltage nets due to the unavailability of dual-rail buffers."
.
.
the -move_effort option controls the extent to which a relative placement group can be moved from its initial location to preserve the relative placement without violating relative placement constraints.
.
.
"note: by default, design views are not included in the cell libraries to save the design views, you must set the lib.workspace.save_design_views application option to true during library preparation, as described in the library manager user guide."
.
.
"• block requirements before you perform routing, your block must meet the following conditions: ◦ power and ground nets have been routed after design planning and before placement."
"note: specifying a smaller value with the set_clock_tree_options -root_ndr_fanout_limit command increases the number of clock nets that are assigned the root-net layer constraints, which can increase routing congestion."
.
each power domain has a scope and an extent.
.
.
.
"click ok. fusion compiler™ user guide v-2023.12-sp3 911 chapter 12: redhawk and redhawk-sc fusion performing minimum path resistance analysis feedback the mpr interactive mouse tool, which is shown in figure 209, provides the following features: • zoom in and out to review the traces • provide two operation modes: the add mode to trace multiple paths in the map, and the replace mode to trace one path at a time in the map • use the standard query tool to show tracing information • select a region to trace multiple cells at a time • document the interactive actions by scripts figure 208 invoking the mpr mouse tool fusion compiler™ user guide v-2023.12-sp3 912 chapter 12: redhawk and redhawk-sc fusion performing minimum path resistance analysis feedback figure 209 tracing the path with the least resistance click to hide all objects from showing in the map then select cell fusion compiler™ user guide v-2023.12-sp3 913 chapter 12: redhawk and redhawk-sc fusion performing effective resistance analysis feedback performing effective resistance analysis note: effective resistance analysis is supported in both redhawk fusion and redhawk-sc fusion analysis flows."
.
.
◦ none: never places or shapes objects even if they are not already placed.
.
.
.
.
.
"to select the nets to reroute, use the -nets option to specify the nets."
figure 123 shows the boundary and corner cell locations for a horizontal-row block with two hard macros or blockages.
.
.
.
.
.
"ignores the rest of the objects in the design, and displays an error for each non-hierarchical cell passed with cgt-2500 and cgt-2501 warning messages."
"fusion compiler™ user guide v-2023.12-sp3 329 chapter 4: clock gating self-gating optimization feedback figure 67 self-gating tree clk d0 q0 d2 q2 d1 q1 d q en the tool does not support the following types of sequential cells for self-gate insertion: • level-sensitive sequential cells • level-sensitive scan design registers • master-slave flip-flops • retention registers • single-bit and multibit registers that belong to shift registers • multibit registers with multiple clock paths for more information, see the following topics: • self-gating flow • library requirements for self-gating • setting up for self-gating • reporting and querying self-gating cells self-gating flow figure 68 illustrates the fusion compiler flow for inserting self-gates by using the compile_fusion command."
.
.
use the following options to change the default behavior.
.
.
"pg_pin_power the power value on each power or ground pin, in watts."
.
.
"removing library subset restrictions to remove library subsets, use the remove_libcell_subset command."
.
.
.
.
.
.
5. run the gui_start command to open the fusion compiler gui.
.
.
.
.
.
.
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 252 chapter 3: physical synthesis performing multibit optimization feedback module top (...); output [2:0] reg_state; always @(posedge clk) reg_state <= next_reg_state; endmodule the report shows that the reg_state bus register is mapped to the mb_dff multibit component.
.
.
"therefore, the tool might place clock buffers in locations with high pg resistance, which increases the voltage drop."
.
.
the following example analyzes the clock mesh net named clk_mesh using the hspice simulator.
.
.
.
.
.
both of these steps are performed by the compile_fusion command.
nets with a higher priority are routed first.
.
.
.
.
.
.
.
"11, 12 {{v0 v1 v2 v3 [v4]}{s0 s1 s2 s2 s4 s5}} the second vector, {s0 s1 s2 s3 s4 s5}, specifies scaling values."
.775 using a hybrid routing flow .
.
.
.
.
.
.
.
.
.
.
.
"(optional) specify additional settings for ir-drop-aware placement, as described in controlling ir-drop-aware placement."
"if you do not specify an entry for a layer, redundant via insertion is not performed on that layer."
valid values are ◦diagonal: applies 45-degree twists to the wires.
nets with a higher priority are routed first.
.
"to do so, you can provide full block-level upf for the tool to automatically extract power intent interface."
.
.
.
.
.
they are hard constraints only if the route.common.global_min_layer_mode and route.common.global_max_layer_mode application options are set to hard.
.
.
.
.
this topic describes how to manually specify latency values on those clock gates.
.
"use the options in the map panel to change map display: ◦ value: sets the type of map to display ◦ bins: changes the number of unique bins used to display the map ◦ from: and to: sets the range of density values displayed in the power density map ◦ text: displays the calculated values in the layout; if the values are not visible, zoom in to view them fusion compiler™ user guide v-2023.12-sp3 933 chapter 12: redhawk and redhawk-sc fusion displaying maps in the gui feedback examples the following examples show how to display various types of maps in the gui: figure 212 shows how to display a rail instance effective voltage drop map and check for hotspots in the instance effective voltage drop map."
the max value corresponds to the highest number of overutilized wires in a single global routing cell.
.
.
"fusion compiler™ user guide v-2023.12-sp3 756 chapter 9: routing using custom router defining routing constraints feedback in example 31, the commands create five wire-length constraints, one for each of the receivers shown in figure 154. example 31 five wire-length constraints for the five receivers connected to driver d fc_shell> create_length_limit -for [get_nets -physical_context $net] \ -driver [get_pins -physical_context d/o1] fc_shell> create_length_limit -for [get_pins -physical_context r1/a] \ -min_value 38.0 fc_shell> create_length_limit -for [get_pins -physical_context r2/a] \ -min_value 40.0 fc_shell> create_length_limit -for [get_pins -physical_context r3/a] \ -min_value 45.0 fc_shell> create_length_limit -for [get_pins -physical_context r4/a] \ -min_value 42.0 fc_shell> create_length_limit -for [get_pins -physical_context r5/a] \ -min_value 41.0 in example 32, the command creates a constraint group named abc for the nets and bundles that match the pattern pr*."
you can add blockages to relative placement group by using the -blockage option with the add_to_rp_group command.
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 866 feedback 12 redhawk and redhawk-sc fusion the redhawk™ and redhawk-sc™ power integrity solution is integrated with the implementation flow through the redhawk fusion and redhawk-sc fusion interface.
"the cost multiplier must be a value between 0.0 and 20.0. when you specify this option, the effective cost is the base cost times (1+multiplier)."
.
.
.
.
.
"• for diode mode 3, the maximum antenna ratio for the net is the sum of the maximum antenna ratios for the diodes, 400 + 2200 + 2300 = 4900."
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 89 chapter 2: preparing the design analyzing libraries feedback the create_environment command associates a predefined libset with a process label, process number, voltage, and temperature, which is then used for analyzing the libraries."
.
.
.
.
985 specifying locations for repeater groups .
.
"when you run route_auto, zroute reads the block before starting routing and updates the block when all routing steps are done."
.
"rail.sta_file (optional) specifies the static timing file (sta), which contains the final slew and delay information."
.
"if you enable both, the tool performs regular concurrent clock and data optimization first, followed by targeted concurrent clock and data optimization."
.
.
.
"finding and fixing antenna violations in chip manufacturing, gate oxide can be easily damaged by electrostatic discharge."
.
controlling tool-inserted clock-gate levels you can specify the maximum number of clock-gate levels that the tool should use for either all clock gates or only tool-inserted clock gates.
"this example creates unique reference copies of the specified cells a1, a2, and a3."
.
.
"when you select this rule, you must specify • the filler cells to be replaced and their replacements the filler cells to be replaced are called target cells."
.
.
the golden upf flow is an optional method of maintaining the upf multivoltage power intent of the design.
.
.
.
.
.
.
.
.
2. proceed with your tool flow.
.
.
.
.
35 fusion compiler concepts .
"when the analysis is complete, the tool updates the tap validity status based on the rail analysis results."
.
.
.
.
"• voltage drop analysis to perform voltage drop analysis, use the analyze_3d_rail -voltage_drop -electromigration command."
.
.
5.
.
.
.
.
.
.
.
"the command can perform the following changes: • minimize the number of dual-rail buffers or inverters • fix isolation violations in buffer trees • fix buffers and inverters that have illegal settings, as follows: ◦ process, voltage, and temperature settings ◦ library cell purpose or subset settings ◦ target library subset settings ◦ bias voltages • fix a mismatch between a buffer's power domain and the voltage area in which the buffer or inverter is physically placed the command can change the netlist as follows: • swap buffer library cells to fix illegal settings • swap single-rail buffers for dual-rail buffers • swap dual-rail buffers for single-rail buffers • change the backup supplies of dual-rail buffers and inverters • change the input or output supplies of level shifters • fix a mismatch between a buffer's power domain and a voltage area by using a physical or logical feedthrough • fix a mismatch between a buffer's power domain and a gas station voltage area by using a physical or logical feedthrough the fix_mv_design command keeps the placement of the original buffers or inverters and honors the repeater strategies associated with existing buffers and inverters."
494 defining nondefault routing rules .
.
.
.
.
.
"typically the analysis process consists of the following tasks: • analyzing the clock tree qor (as described in generating clock tree qor reports) • analyzing the clock tree timing (as described in analyzing clock timing) • verifying the placement of the clock instances, using the gui (as described in analyzing clock trees in the gui) generating clock tree qor reports to generate clock tree qor reports, use the report_clock_qor command."
"to enable your timing report to run after the place_opt_to_initial_opto and place_opt_to_final_opto checkpoints, use the following command: associate_checkpoint_report -enable timing \ -after { place_opt_to_initial_opto place_opt_to_final_opto } to enable your app_options report to run before all the checkpoints in your script, use the following command: associate_checkpoint_report -enable app_options -before * you can also add the command like this, which enables the report to run before the remove_buffers checkpoint and any checkpoints beginning with the phrase place_opt: associate_checkpoint_report -enable app_options -before remove_buffers place_opt* the following is a portion of your checkpointed script showing what happens when the script runs."
"to verify that a routing corridor meets these requirements, use the check_routing_corridors command."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
6.
.
"the average value of the offset is computed across all scenarios, where a balance point offset is defined."
.
.
.
(des-001) 3. query the specified message ids that were issued during the link command step by using the check_error command.
the delayed signal drives sequential clock gate seqcg1 for register bank r1.
.
.
.
▪ they must use the same site definition as the standard cells.
.
"fusion compiler™ user guide v-2023.12-sp3 31 feedback 1 working with the fusion compiler tool the fusion compiler tool supports the following functionality: • extraction and timing analysis • physical synthesis and optimization • placement and optimization, including relative placement • clock tree synthesis • routing • chip finishing • top-level closure for hierarchical designs • engineering change orders (eco) • reporting • ascii output interfaces it takes as input a verilog netlist, timing constraints, logic and physical libraries, and foundry-process data."
.
"defining checkpoint reports to define a checkpoint report, use the create_checkpoint_report command in your checkpoint.config.tcl file."
.
e. perform detail routing.
.
.
you can further control the placement of the spare cells as follows: ◦ ignore specific types of placement blockages by using the -ignore_blockage_types option.
"to run commands in parallel, use the parallel_execute command, as shown in the following example: fc_shell> update_timing fc_shell> parallel_execute { report_cmd1 log_file1 report_cmd2 log_file2 report_cmd3 log_file3 ... } fusion compiler™ user guide v-2023.12-sp3 70 chapter 1: working with the fusion compiler tool enabling multicore processing feedback to list the supported commands, use the -list_allowed_commands option with the parallel_execute command."
908 viewing minimum path resistance analysis results .
.
.
.
.
.
.
.
.
.
.
.
naming convention for tool-inserted clock gates clock gates inserted by the fusion compiler tool use a naming convention that is consistent between runs.
.
"to create straps in both directions, specify a layer for each direction."
.
.
.
"6. analyze the libraries by using the run_library_analysis command, as shown in the following example: fc_shell> run_library_analysis -name mylibset_run1 -environment env1 the name of the environment you specify with the -environment option must correspond to an environment you previously created by using the create_environment command."
.
.
"additionally, datapath extraction is enabled across ungrouped hierarchies."
.
.
.
.
131 associating power strategies with existing multivoltage cells .
.862 setting up transparent hierarchy optimization .
"in addition to generating a report, the check_hier_design command generates an enhanced messaging system (ems) database that you can view by using the message fusion compiler™ user guide v-2023.12-sp3 844 chapter 11: hierarchical implementation checking designs with abstracts for top-level-closure issues feedback browser in the fusion compiler gui."
.
.
.
.
.
.
.
.
"to disable rule-based name matching and require exact name matches between the def file and the block, set the file.def.rule_based_name_matching application option to false."
.
fc_shell> derive_mask_constraint -follow_wider_object_mask \ [get_shapes -of_objects [get_nets net1]] see also • multiple-patterning concepts inserting and removing cut metal shapes cut metal shapes are used in double-patterning designs to reduce the line-end minimum spacing.
.
.
.
.
.
"for example, to prevent the tool from creating additional clock ports on the mbx22 cell instance, use the following command: fc_shell> set_freeze_ports -clock [get_cells mbx22] true to report the freeze-port settings, use the report_freeze_ports command."
.
3.
.
"at a minimum, you must define the power and ground nets on which to perform pg augmentation."
.
.
.
.
"to report the library cells which are not lexical classified under the given naming convention, use the report_lexical_unclassified_lib_cells command."
.
.
updating activity for improved power optimization the primepower in-design flow in the fusion compiler tool uses input waveform information from the rtl fsdb file and performs time-based analysis to update the activity for enhanced power estimation accuracy.
.
"for example, to verify that the clk clock tree is properly defined, use the following command: fc_shell> check_clock_trees -clocks [get_clocks clk] if you do not specify the -clock option, the tool checks all clocks in the current block."
3. generate the qorsum report by using the compare_qor_data command.
.
.
"fusion compiler™ user guide v-2023.12-sp3 881 chapter 12: redhawk and redhawk-sc fusion preparing design and input data for rail analysis feedback note: when running rail analysis using multicorner-multimode technology, you must create rail scenarios using the create_rail_scenario command before the set_rail_scenario command."
"in addition, the width of the via enclosure must meet the nondefault width and the xlegalwidthtbl and ylegalwidthtbl rules defined in the technology file for the adjacent metal layers."
.
.
.
.
.
signoff.fix_drc.
.
.
it inserts metal and via fill by using a foundry runset.
.
.
.
.
.
.
.
.
.
"2. to establish cell connection based on real connection and apply distance based placement, use the place_group_repeaters -cells command."
"you can specify any of the labels defined by the set_lib_cel_spacing_label comandcomandset_lib_cel_spacing_label set_placement_spacing_label command or the predefined snps_boundary label, which includes the chip boundary, hard macro boundaries, a hard macro keepout margins, hard placement blockages, and voltage area guard bands."
.
.
"the objects can include leaf cells, hierarchical cells, and modules."
.
.
.
137 defining keepout margins .
.
.
"this command generates a tcl script that reproduces the metal shapes and vias for a block, including their attribute settings."
required.
"at lower technology nodes, leakage power consumption contributes significantly to the total power consumption of the circuit."
.
.
.
"if drc violations are created during shielding, the create_shields command triggers five detail routing iterations to fix them."
.
.
.
.
.
.
"if your block contains library cells that have a very low pass rate, they will cause large displacements and increased runtime during legalization."
.
.
.
523 routing the secondary power and ground pins .
.
.
.
.
.
.
"track-based metal fill insertion offers the following benefits as compared to pattern-based metal fill insertion: • higher density • better control of density • well-balanced mask distribution for double-patterning layers to perform track-based metal fill insertion, set the -track_fill option of the signoff_create_metal_fill command to a value other than off."
.
.
-sort_by_hot_inst sorts missing vias by voltage drop values.
.
.
.
.
.
.
.
.
"if you define a tap in a location where a tap already exists, the tool issues a warning message and replaces the original tap with the new one."
.
.
.
.
.
access preference areas with higher strengths are preferred for routing.
.
.
.
.
.
"4. automatically map all the eco changes to spare cells by using the place_freeze_silicon command or manually map each eco cell to a specific spare cell by using the map_freeze_silicon command, as described in placing and mapping eco cells to spare cells."
"by defining these fusion compiler™ user guide v-2023.12-sp3 51 chapter 1: working with the fusion compiler tool adding changes to a script with checkpoints feedback associations in a portable configuration file, you isolate your golden flow scripts from the changes you want to apply for a particular run."
.
.
.
.
.
.
.
"reporting multibit registers after you run the compile_fusion command, you can report the registers that are transformed due to multibit banking and debanking by using the report_transformed_registers -multibit command."
.
.
.
.
"to include the power and ground structure within a threshold distance in the shielding ratio calculation, set the route.common.pg_shield_distance_threshold application option, which specifies the distance threshold in microns."
"if it is illegal, the command attempts to find a legal reference from its variant cell group defined to swap with the illegal one."
.
.
.
.
.
.
.
.
.
.
.
.
signoff.physical.
.
817 performing hierarchical synthesis using abstracts .
.
"for example, fc_shell> create_cell_array -lib_cell myreflib/mytapcell \ -x_pitch 10 -y_pitch 10 by default, the create_cell_array command inserts a tap cell in each location in the specified grid for the entire block."
.
.
.
.
.
.
.
.
.
.
.
.
.
838 linking to abstract views at the top-level .
.
it can also check for routing design rule violations as you draw the route segments.
.
-sharing specifies whether the shielding can be shared among the nets in the constraint group.
.
.
• out-of-boundary pins this check verifies that all pins are within the block boundary.
.
.
.
.
.
"when you run clock tree synthesis with the clock_opt command, the tool automatically updates the latencies of the clocks constraining the i/o ports."
note: all of the application options that control the rtl reading behavior have the hdlin prefix.
"for example, fc_shell> set_app_options \ -name rail.tech_file \ -value chiptop.tech specifies the dies that are included in detailed analysis."
"to delete the existing constraint group, use the -force option."
"the higher the effort, the more timing qor improvement you will see in the targeted paths, but at the expense of the timing qor of other paths."
.
"when you use this mode, you can control where the metal fill insertion occurs by using one or more of the following options: • -select_layers, which restricts the layers on which to perform metal fill insertion, as described in specifying the layers for metal fill insertion • -coordinates or -excluded_coordinates, which restrict the regions on which to perform metal fill insertion, as described in specifying the regions for metal fill insertion."
you must use this application option for n5 and older technical nodes.
127 controlling physical-feedthrough nets in voltage areas .
.
.
the tool performs dynamic power shaping optimization during the final_opto stage of the compile_fusion command.
.
.
.
.
"to report multibit statistics such as the total number of single-bit and multibit registers, the multibit banking ratio, and so on, use the report_multibit command."
.
"by default, no cells are allowed within these blockages during placement, optimization, and legalization."
.
.
"the default is 0, which allows an infinite number of levels."
.
.
vx_per_metal 1 specifies the maximum number of via fill shapes contained in a metal fill shape.
.
.
.
.
.
"if the tool inserts a new library cell as a result of the fix_mv_design command, the new cell is chosen according to the following rules, in priority order: • a cell from the same library as the original library cell • a cell from a library with a name similar to the original library • a cell with a name similar to the original library cell name by default, buffer trees stop at level-shifter cells."
.
assume you want clock tree synthesis to fix drc violations up to the ff3/d pin using clock tree constraints.
.
.
.
"however, if the port belongs to a voltage area, you can insert the diode cells in the logic hierarchy associated with the voltage area by setting the route.detail.use_lower_hierarchy_for_port_diodes application option to true."
with lesser buffer trees chosen the level improvement takes place locally which further helps to improve the metric for overall clock tree.
"2. set appropriate settings and link the top-level design as shown in the following example: fc_shell> set_label_switch_list \ -reference {block1 block2} postcompile fc_shell> set_attribute -objects {block1.nlib block2.nlib} \ -name use_hier_ref_libs -value true fc_shell> set_top_module top when a subblock has been saved in the design library using labels, use the set_label_switch_list command to specify which label to link to."
.
"for example, a summary table might give a high-level overview of design timing (wns, tns, nve) at each major stage in the flow."
.
.
.
114 using incomplete upf information .
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 952 chapter 13: eco flow incremental signoff eco flow feedback figure 218 incremental signoff eco flow starrc incremental parasitic extraction eco change list file fusion compiler incremental signoff eco flow primetime timing eco eco change list file incremental parasitics incremental design data primetime incremental timing analysis and eco to perform the incremental signoff eco flow within the fusion compiler tool, use the record_signoff_eco_changes command."
routing constraints provide guidance during routing.
.
"5. saves the fill data in the design view 6. writes the result files to the run directory for information about the generated result files, see signoff metal fill result files."
.
.
these rules are applied on clock gates after the compile_fusion command.
.
.
.
.
.
.
.
.
.
.
.
"when using a via connection, the via’s metal enclosure must be contained within the pin shape."
"disallowed objects include ports, latches, and registers with asynchronous state changes."
"when the -nocheck option is used, the attribute value is unknown for all taps."
.
.
.
.
.
"to control unloaded register removal for a specific cell or module , use the set_unloaded_register_removal command."
.
"track assignment before you run track assignment, • define the common routing application options for information about the common routing application options, see the route.common_options man page."
.
.
figure 165 illustrates the basic steps to create interconnects (routes) between a ddr net and the core.
.
.
.
.
.
.
.
"if tracks and routing grids are not defined and you specify on, the custom router uses an internally determined grid."
.
.
.
"you can specify either a relative path, in which case the directory is created under the current working directory, or an absolute path."
.
"the more frequently a net switches, the more susceptible it is to electromigration."
"def file lef file spef file twf file ploc file default name in fc_shell def lef spef twf ploc default variable name in redhawk-sc fusion def_files lef_files spef_files tw_files ploc for example, if you specify a test_def_file for the def variable to match with the def file specified in the customized python script file, set the following: fc_shell> set_app_options -name rail.generate_file_variables \ -value {def test_def_files} 3. create and specify rail scenarios for generating the necessary input files to add to the customized python script."
.
.
"linking to subblocks with multiple labels when saving a block at different stages of an implementation flow, you can use the -as blockname/labelname or -label labelname option with the save_block command to specify a unique label for each version of the block you save."
.
.
.
.
add_group_repeaters place_group_repeat ers eco-270 error: unable to find swappable variant reference for cell '%s': %s.
-layer_spacings specifies the minimum spacing for each routing layer.
.
.
.
.
.
.
.
"2. optimizes the subtree by splitting, sizing, and relocating the clock cells, and snaps the first level of clock cells to the clock straps."
.
.
.
.
.
.
.
.
.
"as the number of changes during postroute logic optimization decreases, the timing improvement from subsequent route_opt runs decreases."
.
.
.
"to report the via ladder rules, use the report_via_ladder_rules command."
.
"to specify the coordinates, use the following format: {{x1 y1} {x2 y2} ... {xn yn}} note that there must be a space between each set of coordinates."
.
.
.
see aligning by pin location.
.
.511 controlling pin connections .
.
.982 grouping a list of repeaters .
"fc_shell> analyze_subcircuit -net clk_mesh \ -driver_subckt_files max_spice_model \ -spice_header_files header_file \ -configuration { \ {-scenario_name scenario1 \ -max_driver_subckt_files max_file1 \ -max_spice_header_files header_max1 \ -min_driver_subckt_files min_file1 \ -min_spice_header_files header_min1} \ {-scenario_name scenario2 \ -max_driver_subckt_files max_file2 \ -max_spice_header_files header_max2 \ -min_driver_subckt_files min_file2 \ -min_spice_header_files header_min2}} -simulator hspice \ -name clk_mesh_analysis performing automated tap insertion and h-tree synthesis to perform this task, you must 1. specify the required settings by using the set_regular_multisource_clock_tree_options command as follows: ◦ the clock name by using the -clock option ◦ the topology for the global clock tree by using the -topology htree_only option fusion compiler™ user guide v-2023.12-sp3 425 chapter 5: clock tree synthesis implementing multisource clock trees feedback ◦ the number of rows and columns of tap cells to insert by using the -tap_boxes option ◦ a list of library cells to use as tap drivers by using the -tap_lib_cells option the library cells you specify must be enabled for clock tree synthesis by using the set_lib_cell_purpose -include cts command."
.
.
.
.
.
.
"to allow nonrelative placement cells within relative placement blockages and unused areas of a specific relative placement group, use the -allow_non_rp_cells_on_blockages option with the set_rp_group_options command."
.
.
.
.
.
.
.
"for the route_opt command, you can enable both regular concurrent clock and data optimization by using the route_opt.flow.enable_ccd application option and targeted concurrent clock and data optimization by using the route_opt.flow.enable_targeted_ccd_wns_optimization application option."
.
.
.
.
.
.
.
"for example, to define possible wire widths of 0.07 and 0.06 microns for the m1 layer; wire widths of 0.08 and 0.07 microns for the m2 layer; and 1.5 times the existing wire width for all other layers, enter the following command: fc_shell> widen_wires \ -widen_widths_by_layer_name {{m1 0.07 0.06} {m2 0.08 0.07}} when you perform wire widening, the spacing between neighboring wires is decreased, which can reduce the improvement in critical area shorts gained from wire spreading."
.
.
.
"to distribute the spare cells within a specific ◦ hierarchical block, use the -hier_cell option."
.
.
.
.
.
.
"(ndmui-154) 1 fc_shell> get_voltage_area_shapes -of_objects pd1 {voltage_area_shape_3} figure 14 merging voltage area shapes to report the stacking order of the voltage area shapes, use the report_voltage_areas -verbose command."
.
.
the tool then automatically saves the design view.
.
.
"to remove all skew and latency targets, use the -all option; otherwise, use the appropriate -target_skew, -target_latency, -clocks, and -corners options to remove the specific targets."
.
.
.
.
.
"for example, read_verilog -top top2 netlists.v set_top_module top2 fusion compiler™ user guide v-2023.12-sp3 101 chapter 2: preparing the design reading the design feedback to specify a new block name other than top_module_name.design, use the -design option."
"for a list of all attributes associated with drc errors, use the list_attributes -application -class drc_error command."
.
.
.
.
.
.
.
.
.
the following example writes the calculated minimum path resistances for the vdd net to an output file called minres.rpt.
.
.
"however, you can exclude additional cells, such as library cells with a dont_use setting, as shown in the following example: fc_shell> set exclude_cells [filter_collection [get_lib_cells $libs/*] \ ""dont_use == true""] fc_shell> set_use_for_library_analysis $exclude_cells false to report the cells that are excluded, use the report_lexical_ignored_lib_cells command."
.
.
unplace_group_repeat ers eco-266 warning: the cells in collection %s which are not placed before cannot be unplaced by unplace_group_repeaters.
layer m2: cached 773 shapes out of 773 total shapes.
"however, splitting the metal layer into many pieces might have a negative impact on rc and timing delay."
"table 31 restricting clock routing rule assignments to assign a nondefault routing rule to use this option specific clock trees -clocks clocks nets connected to the clock root2 -net_type root nets connected to one or more clock sinks2 -net_type sink internal nets in the clock tree (all nets except the root and sink nets)2 -net_type internal specific clock nets -nets nets figure 107 shows the root, internal, and sink nets of a clock tree after clock tree synthesis."
.
"during clock tree synthesis and optimization, the tool also honors nondefault routing rules set by using the set_routing_rule command."
.
.
.
.
.
viewing the violations in an icv heat map an icv heat map displays the density of signoff drc violations in a block.
.
.
.
.
.
"◦ signal, clock, or pg nets that have a shielding nondefault rule but no associated shield shapes, which might be caused by inappropriate shape_use attributes."
.
"the route_opt command supports both graph-based analysis (gba), the default, and path-based analysis (pba)."
.
.
.
"the tool honors the specified design scenario for the ir-driven features in power integrity flow, such as ir-driven placement, ir- driven concurrent clock and data optimization, and ir-driven optimization.​ here is a script example: open_lib open_block set_app_option -name rail.technology -value 7 set_app_options -name rail.tech_file -value ./apache.tech set_app_options -name rail.lib_files -value {\ a.lib \ b.lib } set_app_options -name rail.switch_model_files -value {./switch_cells.txt } source ./test_taps.tcl current_scenario func_max set_app_options -name rail.scenario_name -value func_typ analyze_rail -voltage_drop creating and specifying rail scenarios for rail analysis you can create multiple rail scenarios and associate them with a design scenario in the current design."
.
.
.
.
.
.
currently the tool does not make changes within the abstracts during top-level closure.
.
.
"• if the region does not exist in the block, it is created with the same name as in the def file by applying the create_bound command; matched cells in the related group are also attached."
.
.
.
.
"; voltage_map(""nom_voltage"", 1.08); voltage_map(""vdd"", 1.08); ... cell( block1 ) { timing_model_type : ""extracted""; ... pg_pin(""vdd"") { voltage_name : ""vdd""; pg_type : primary_power; } ... topics in this section • running the hierarchical synthesis feasibility analysis flow using etms • running the hierarchical synthesis flow using etms • example script of hierarchical synthesis using etms see also • solvnet article 2284429, ""top-level closure flow with extracted timing models (etms)"" • creating etms and etm cell libraries • linking to etms at the top level fusion compiler™ user guide v-2023.12-sp3 824 chapter 11: hierarchical implementation performing hierarchical synthesis using etms feedback running the hierarchical synthesis feasibility analysis flow using etms to minimize the number of iterations and obtain optimal results, you can perform feasibility analysis before running hierarchical synthesis, as shown in figure 189. the hierarchical synthesis feasibility flow uses the following block-level information generated post compile_fusion: • floorplanning information to generate the etm in step 2 • power intent and test model (ctl) information for top-level synthesis in step 4 fusion compiler™ user guide v-2023.12-sp3 825 chapter 11: hierarchical implementation performing hierarchical synthesis using etms feedback figure 189 hierarchical synthesis feasibility analysis 1. synthesize the block in the front- end tool compile_fusion rtl block upf (front end) block ctl (front end) upf sdc, floorplan sdc design (ndm) netlist upf’ ctl spef design (frame) 2. create an etm in the front-end tool extract_model block_etm (ndm) 3. synthesize the top-level design in the front-end tool compile_fusion rtl top-level upf sdc, floorplan fusion compiler™ user guide v-2023.12-sp3 826 chapter 11: hierarchical implementation performing hierarchical synthesis using etms feedback running the hierarchical synthesis flow using etms to run hierarchical synthesis flow, follow the steps described in figure 190. in contrast to the feasibility flow, the hierarchical synthesis flow uses the following block-level information generated post place and route: • floorplanning information to generate the etm in step 3 • power intent and test model (ctl) information for top-level synthesis in step 5 fusion compiler™ user guide v-2023.12-sp3 827 chapter 11: hierarchical implementation performing hierarchical synthesis using etms feedback figure 190 hierarchical synthesis flow 1. synthesize the block in the front-end tool compile_fusion rtl block upf (back end) block ctl (back end) upf sdc, floorplan design (ndm) 3. create an etm in the back-end tool extract_model block_etm (ndm) 4. synthesize the top-level design in the front-end tool compile_fusion rtl top-level upf sdc, floorplan sdc netlist upf’’ ctl design (frame) 2. implement the block design in the back-end tool spef (back end or starrc) fusion compiler™ user guide v-2023.12-sp3 828 chapter 11: hierarchical implementation performing prechecks for hierarchical synthesis flows feedback example script of hierarchical synthesis using etms the following script shows an example of the hierarchical synthesis flow: # specify reference libraries set ref_libs ${std_cell}.ndm lappend ref_libs ${block_design}_etm.ndm create_lib -tech ${tech_file} -ref_libs $ref_libs ${design_name} # read the rtl design analyze -format verilog [list $rtl_list] elaborate ${design_name} #etm.ndm in ref_lib is used to link cell instances set_top_module ${design_name} # load upf for etm cell instance load_upf ${block_design}.upf -scope cell_instance # read test model for etm cell instance read_test_model ${block_design}.mapped.ctl ... compile_fusion -to initial_opto # query commands # list all macro cell instances get_cells -hierarchical -filter ""is_hard_macro == true"" # ref view name is ""timing"" for cell instances bound to etm get_attribute ${cell} is_etm_moded_cell performing prechecks for hierarchical synthesis flows to check the readiness for the hierarchical synthesis flow, use the following commands: • check_design -checks block_ready_for_top run this command after block synthesis to check whether the synthesized block is ready for the top-level synthesis."
.
.
.
.
.
184 enabling advanced logic restructuring .
.
.
"to read the initial drc violations from a different error data file, specify the file name with the signoff.check_drc.merge_base_error_name application option."
"figure 191 a block and its abstract view a b clk x y block a b clk x y abstract view the interface logic of an abstract view consists of the following: • all cells, pins, and nets in timing paths from input ports to registers or output ports • all cells, pins, and nets in timing paths to output ports from registers or input ports • any logic in the connection from a master clock to generated clocks • the clock trees that drive interface registers, including any logic in the clock tree • the longest and shortest clock paths from the clock ports • all pins with timing constraints that are part of the interface logic in addition to the interface logic, an abstract view contains the following information associated with the interface logic: • placement information • timing constraints • clock tree exceptions • parasitic information • transition and case values of dangling pins • power management cells and upf constraints • nondefault routing rule association and minimum and maximum layer constraints, if any, for the nets that are retained in the abstract view fusion compiler™ user guide v-2023.12-sp3 832 chapter 11: hierarchical implementation creating abstract views feedback creating abstract views in the fusion compiler tool, you can create an abstract view for a block at various stages of the design flow, such as, after synthesis, placement, optimization, clock tree synthesis, routing, and so on."
.
.
.
.
.
.
"9. route the connections between the clock mesh and the tap drivers by using the route_clock_straps command, as described in routing to clock straps."
.
"to save a library to disk, use this command."
"fc_shell> list_attributes -application -class tap ... properties: a - application-defined u - user-defined i - importable from design/library (for user-defined) s - settable b - subscripted attribute name object type properties constraints ------------------------------------------------------------------------- ------- fusion compiler™ user guide v-2023.12-sp3 888 chapter 12: redhawk and redhawk-sc fusion specifying ideal voltage sources as taps feedback context tap string a integrity, rail, session full_name tap string a is_valid_location tap boolean a layer_name tap string a layer_number tap int a net tap string a object_class tap string a parasitics tap string a position tap coord a static_current tap double a type tap string a absolute_coord, auto_pg, cell_coord, cell_pg, lib_cell_coord, lib_cell_pg, signal, terminal, top_pg fc_shell> get_attribute [get_taps tap_1437] is_valid_location true finding invalid taps to find taps that fail the validity checking, use the get_taps command to report the taps that have is_valid_location attribute set to false."
.
.
.
54 associating checkpoints and checkpoint behaviors .
.
.
.
209 applying required settings for improving specific qor metrics .
.
"to do so, create equivalent cell groups by using the create_cell_groups command."
.
.
.
.
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 288 chapter 4: clock gating introduction to clock gating feedback clock gating in the compile log file the compile log file contains information about clock gating, which can help you debug simple setup issues."
.
.
.
.
.
.
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 298 chapter 4: clock gating setting up clock gating feedback the following figure shows a circuit after enable exclusion: report clock gating options the report_clock_gating_options command reports the clock gating settings used for the current design.
.
.
.
you can also synthesize other clocks in the design that are not synthesized.
"specifying distributed analysis for faster runtime, use distributed analysis, which is disabled by default in the primepower tool."
"defining shielding rules to define shielding rules, use the create_routing_rule command using the following syntax: create_routing_rule rule_name -shield_widths {layer1 width1 layer2 width2 … layern widthn} -shield_spacings {layer1 spacing1 layer2 spacing2 … layern spacingn} [-snap_to_track] specify the routing layers by using the layer names from the technology file."
.
.
.
.
.
.
.
.
.
.
"when the analysis is completed, the tool writes the effective resistance values into the same rail result with the voltage drop results."
.
• it must contain the pins that connect to the nets and supernets associated with the routing corridor.
.
.
"implementing mscts multiple h-tree to improve clock qor, latency, and skew, you can build multiple global trees in different sections of the floorplan by using the -htree_sections option with the set_regular_multisource_clock_tree_options command."
.
the string that you specify in this option is added to the command line used to invoke the ic validator tool.
.
.
.
.
.
"if the specified name is already present in the design, the tool issues a warning message, and replaces the original tap with the new one."
.
.
.
"placement-aware clock gating when you enable placement-aware clock gating, the tool performs the following optimizations: • replication of clock gates with timing-critical enables • adjustment of clock gates so they are placed closer to their gated registers • automatic clock network latency annotation for clock-gate cells to enable this feature, set the compile.clockgate.physically_aware application option to true."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"by default, interactive design rule checking uses the frame view of each cell."
.
"to flip the boundary cell orientations, use one or more of the following options with the set_boundary_cell_rules command: -mirror_left_boundary_cell, -mirror_right_boundary_cell, -mirror_left_outside_corner_cell, -mirror_right_outside_corner_cell, -mirror_left_inside_corner_cell, -mirror_right_inside_corner_cell, -mirror_left_inside_horizontal_abutment_cell, and -mirror_right_inside_horizontal_abutment_cell."
.
.
the value you specify determines the adherence of routes to tracks.
.
.
-constant true | false disable (set to true) or enable (set to false) drc on constant nets.
.
.
.
.
.
.
.
"• robustness to report the robustness of each sink, use the -type robustness option."
"you can specify a value of 1, 2, or 3. fusion compiler™ user guide v-2023.12-sp3 641 chapter 7: chip finishing and design for manufacturing inserting filler cells feedback note: the advanced legalizer automatically prevents gaps; therefore, this option is ignored when place.legalize.enable_advanced_legalizer application option is set to true."
12 diode protection is limited; scaling is based on total diode protection.
.
.
.
.
"when you change the option setting from a higher effort level to a lower effort level, you reduce the size of the region searched for placement of a relative placement group."
.
.
.
"2. set up for redhawk fusion and perform static or dynamic voltage drop analysis by using the analyze_rail -voltage_drop command as shown in the following example: fc_shell> source redhawk_setup.tcl fc_shell> analyze_rail -voltage_drop static -nets {vdd vss} for more information, see performing voltage drop analysis."
.
.
.
.
.
.
the following example adds equivalent cell groups to an existing reference library in the library manager tool: lm_shell> create_workspace -flow edit lib.ndm lm_shell> create_cell_group -name a [get_lib_cells my_lib/a_*] lm_shell> create_cell_group -name b [get_lib_cells my_lib/b_*] fusion compiler™ user guide v-2023.12-sp3 166 chapter 2: preparing the design specifying legalization settings feedback lm_shell> check_workspace lm_shell> commit_workspace you can report the equivalent cell groups in a library by using the report_cell_groups command in either the library manager tool or the fusion compiler tool.
.
"if the characters you typed could be used for more than one name, the fusion compiler tool lists the qualifying names, from which you can select by using the arrow keys and the enter key."
.
it is the reader’s responsibility to determine the applicable regulations and to comply with them.
.
.
.
.
.
.
.
.
4. insert metal filler cells by using the create_stdcell_fillers command.
.
.
the number of cores specified by the -max_cores option applies to all commands that support multithreading.
.842 checking designs with abstracts for top-level-closure issues .
.
829 providing block-level test models .
.
.
"5. perform routing and postroute optimization, as described in routing and postroute optimization."
.
.
.
.
.
.
examples the following example uses a customized python script for multi-rail-scenario rail analysis on a grid system.
"to change the extent to which timing-driven routing prefers lower-resistance metal layers when routing timing-critical nets, set the route.common.rc_driven_setup_effort_level application option."
"to reduce runtime, at a possible cost to the timing qor, set the route.global.advance_node_timing_driven_effort application option."
.
"when you use this command, you can set the switching activity for a specific mode, corner, or scenario by using the -mode, -corner, or -scenario options."
"considering voltage drop information during clock tree synthesis by default, the clock_opt command does not consider voltage drop information when inserting clock buffers."
.
.
.
.
202 enabling level-based clock nondefault routing rule .
.
.
.
.
table 31 shows the options used to restrict the routing rule assignment.
"fusion compiler™ user guide v-2023.12-sp3 483 chapter 6: routing and postroute optimization routing constraints feedback figure 101 continuous metal shape perimeter constraint objects w w w s s s s s s inserting metal stubs parallel to preferred-direction edges to insert metal stubs along the preferred-direction edges of the current block, use the derive_perimeter_constraint_objects command with the -perimeter_objects metal_preferred and -stub options."
custom.route.shield_connect_mesh_overlap custom.route.shield_connect_route custom.route.shield_connect_to_supply custom.route.shield_min_open_loop custom.route.shield_min_shield_seg custom.route.shield_min_signal_seg custom.route.shield_net custom.route.shield_second_net specifies shielding constraints.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 850 chapter 11: hierarchical implementation checking designs with abstracts for top-level-closure issues feedback ◦ lenient: the tool sets the first matching policy in the following order: 1. repair 2. tolerate 3. error for example, when a check supports the error and tolerate policies, and you select lenient as the policy type, the tolerate policy type is set."
"during clock tree synthesis, the tool uses sink pins in calculations and optimizations for both design rule constraints and clock tree timing (skew and insertion delay)."
.
"• to enable crosstalk-driven mode, set the route.track.crosstalk_driven and time.si_enable_analysis application options to true."
.
"when you define an inner keepout margin, you must specify the keepout distance explicitly."
"by default, the route_group command does not fix soft drc violations, such as bridge rule violations."
"when you do so, the tool issues warning messages as shown in the following example output: warning: utilization of move_bound_0 is 109%."
you can use the finesim or hspice simulators by using the finesim or hspice setting with the -simulator option.
"fusion compiler™ user guide v-2023.12-sp3 409 chapter 5: clock tree synthesis implementing multisource clock trees feedback inserting clock drivers before you insert clock drivers, • specify all clock tree synthesis settings, including clock routing rules • specify that the inserted clock drivers should be aligned with the clock straps of the mesh structure by setting the cts.multisource.enable_clock_driver_snapping application option to true during multisource clock tree synthesis, you can use the create_clock_drivers command for the following: • insert mesh drivers for both regular or structural multisource clock trees."
.
.
.
.
.
.
.
.
.
.
.
.
.
"note: by default, only the hard congestion data is saved in the design library."
"a block might operate under several different conditions, such as different temperatures and voltages, and might operate in several different functional modes."
.
.
.
.
"note: specifying a smaller value with the set_clock_tree_options -root_ndr_fanout_limit command increases the number of clock nets that are assigned the root-net routing rule, which can increase routing congestion."
.
.
.
.
.
.
.
.
.
.
.
.
this application option is required when the script contains non-standard collateral python variable names.
.
reports geometry layers with voltage drop values that are greater than specified threshold.
use the -y_offset option to shift the pattern startpoint up by the specified distance in microns.
"see also • standard filler cell insertion controlling cell-based filler cell insertion you can control the following aspects of the filler cell insertion with the create_left_right_filler_cells command: • the region in which to insert the filler cells by default, the command inserts filler cells next to the specified standard cells in the entire block."
.
.
.
valid values are: • length: (default) compares the length of each object in the constraint group to make sure they have the same total length.
.
"• to specify the affected layers, use the -layers option."
.
.
.
.
"the clock cell spacing rules defined by the set_clock_cell_spacing command are honored by the synthesize_clock_trees, balance_clock_groups, and clock_opt commands."
.
.
"by default, it reports the first 100 changed nets."
.
.
.
.
note that extra tap cells are added to the right of the hard macro to ensure that a tap cell exists within the minimum tap distance from the edge of the hard macro.
.
the tool then calculates the number of vias in each global routing cell and reports via overflows.
the available file types are: • tcl (default): generates the file in tcl format.
.
.
"to remove the sink pin definition from a pin, use the remove_clock_tre_exceptions comand-stop_pinscomandsremove_clock_tre_exceptions-stop_pinsremove_clock_balance_points command."
.
.
.
"the compile_fusion command consists of the following stages: 1. initial_map during this stage, the tool maps the design and performs area optimization."
this enables you to detect potential power network issues before you perform detail routing and thus significantly reduce the turnaround time of the design cycle.
.
.
.
.
.
"if so, you can prevent the tool from creating the temporary placement blockages by setting the cts.multisource.enable_pin_accessibility_for_global_clock_trees application option to false."
.
.
.
.
- numbers of ports and nets are not reported.
.
.
.
auto_eco_threshold_value 20 specifies the maximum percentage of change to the block to perform incremental design rule checking using the -auto_eco true option.
865 performing tho during route_opt or hyper_route_opt .
"this command allows you to define patterns for staggering buffers on bused nets, which prevent clumping and overlapping of buffers."
"note that the highlighted code is not actually in your script, but shows the checkpoint behaviors that are executed when the tool encounters the checkpoints in the run."
.
.
.
.
.
.
966 adding buffers at an interval that is a ratio of the net length .
.
.
.
.
.
"the target filler cells are shown in red, while the replacement filler cells are shown in green."
.
.
566 performing design rule checking using zroute .
.
.
"3. inserts metal and via fill in the empty regions by default, the command uses the spacing rules defined in the technology file to perform metal fill insertion on all metal and via layers for the entire block."
.
.
.
.
.
the ic validator tool uses the results of this voltage drop analysis to drive the power grid augmentation.
fusion compiler™ user guide v-2023.12-sp3 766 chapter 9: routing using custom router using custom routing application options feedback valid value description cross routes the bits so that they overlap at the corner.
.
.
.
"note: when you use the -stub option, the command uses the specified start_value and ignores the -spacing_from_boundary option."
.
"to perform wire spreading, use the spread_zrt_wires comandcomandspread_zrt_wiresspread_wires command."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"to perform threshold-voltage-based filler cell insertion, 1. ensure that the block is legalized by using the check_legality command."
.
"the tool identifies the following clock endpoints as sink pins: • a clock pin on a sequential cell (a latch or flip-flip), unless that cell drives a generated clock • a clock pin on a macro cell fusion compiler™ user guide v-2023.12-sp3 342 chapter 5: clock tree synthesis defining the clock trees feedback the tool identifies the following clock endpoints as clock tre synthesisimplicitexclude pinignore pins: • source pins of clock trees in the fanout of another clock for example, in figure 73, the source pin of the driven clock (clk2) is an ignore pin of the driving clock (clk1)."
.
.
.
.
.
"fc_shell> report_routing_rules -of_objects [get_nets *] • to report the clock routing rule assignments, use the report_clock_routing_rules command."
.
"▪ to limit rerouting to modified wires, set this option to modified_nets_only."
.
.
.
.
third-party links any links to third-party websites included in this document are for your convenience only.
the general flow is as follows: 1. use the set_early_data_check_policy command to define the global violation handling policy for data checks.
.
.
the tool does not include cells that already belong to another group bound in the automatic group bounds.
.
.
.
.
.
"to perform incremental global routing by reusing the existing global routes, use the -reuse_existing_global_route true option when you run global routing."
888 tap attributes .
.
.
.
.
.
.
.
some application option categories have subcategories to further refine the area affected by the application option.
.
.
.
.80 using pin access checker utility .
.
.
.
.
.
"to leave some empty space, use the -utilization option to specify the percentage of empty space to fill."
.
.
.
.
.
.
.
.
.
.
.
"to create the logical power and ground connections in automatic mode, use the -automatic option with the connect_pg_net command."
.
.
.
.
.
.
"the following example places and maps the eco cells named eco1, eco2, and eco3: fc_shell> place_freeze_silicon -cells {eco1 eco2 eco3} this command places each eco cell and maps it to the nearest matching spare cell."
"signoff.fix_drc.run_dir signoff_fix_drc_run specifies the run directory, which contains the files generated by the signoff_fix_drc command."
.
.
.
.
.
"for example, to define a partial blockage that excludes relative placement groups, but allows a cell density of 100 percent for all other cells, use the following commands: create_placement_blockage -boundary {{10 20} {100 200}} \ -type rp_group -blocked_percentage 0 note: relative placement group blockages are honored during placement, but not during legalization, optimization, or clock tree synthesis."
.
.
"fc_shell> compile_fusion -to initial_opto fc_shell> report_qor fc_shell> set_app_option \ -name opt.common.advanced_logic_restructuring_mode -value timing fc_shell> compile_fusion -from initial_opto in the following situations, the design can contain unmapped cells after the compile_fusion command: • missing the required cells in the library • user-specified restrictions on the required library cells when a design contains unmapped cells, the compile_fusion command continues the compilation and provides an estimated area for the unmapped cells."
-multiple_script_files\ directory_name script_name specifies the redhawk scripts and the directories for saving analysis results.
"place_group_repeaters \ -cells cell_list | -repeater_groups group_id_list \ [-lib_cell_input pin_name] \ [-lib_cell_output pin_name] \ [-max_distance_for_incomplete_route distance] \ [-first_distance distance] \ [-last_distance distance] \ [-blockage_aware] \ [-horizontal_repeater_spacing spacing] \ [-vertical_repeater_spacing spacing] \ [-layer_cutting_distance layer_scale_list] [-verbose] placing group repeaters for multibit registers to place group repeaters for multibit registers, use the create_repeater_groups command with the -multi_bit option with the following command options: create_repeater_groups -cells | -supernet_bundles | -supernets -multi_bit -pin_mapping {{lib_cell1 {inp1 outp1} {inp2 outp2}…} the -multi_bit option determines the order of a multibit repeater based on the path driver and creates the repeater groups for the multibit repeaters."
.
.
.
.
.
set the type of the script file to python.
731 signoff metal fill result files .
.
.
.
.
"to get a report with a reasonable size, use the -violated option as well, which limits the report to only the nets with electromigration violations."
.
.
.
.
"controlling threshold-voltage-based filler cell insertion by default, the create_vtcell_fillers command fills all empty space in the horizontal standard-cell rows of the entire block."
.
"fc_shell> set block_list [get_attribute \ [get_cells -hierarchical -filter ""is_soft_macro==true"" \ ref_full_name] fc_shell> set block_list [lsort -unique $block_list] fc_shell> set_host_options -name myhost -submit_command ""sh"" fc_shell> run_block_script \ -host_options myhost \ fusion compiler™ user guide v-2023.12-sp3 68 chapter 1: working with the fusion compiler tool enabling multicore processing feedback -script block_synthesis.tcl \ -blocks $block_list \ -work_dir my_work_dir to control the order in which blocks are processed, use the -run_order option with the top_down or bottom-up argument."
.
.
.
"edit > copy indicates a path to a menu command, such as opening the edit menu and choosing copy."
.
"• for single-voltage designs, you must run the resolve_pg_netx command to resolve the conflicts."
.
.
.
"• change the voltage area name to change the name of the voltage area, use the -name option with the set_voltage_area command."
.
.
.
.
.
961 making eco changes using netlist editing commands .
.
.
.
.
.
"note that global routing considers routing corridors as a hard constraint, while track assignment and detail routing consider routing corridors as a soft constraint and might route nets slightly outside of the routing corridor to fix drc violations."
.
"you can specify the process label, process number, voltage, and temperature of the analysis environment by using one of the following methods: ◦ specify the process label, process number, voltage, and temperature values by using the -ppvt option, as shown in the following example: fc_shell> create_environment -name env1 -libset mylibset \ -ppvt {{ss1p, 1.0, 0.6, 125}} ◦ specify a predefined operating condition from the reference library by using the -op_conds option, as shown in the following example: fc_shell> create_environment -name env2 -libset mylibset \ -op_conds ss1p6125 ◦ specify corners from which to infer the process label, process number, voltage, and temperature values by using the -corners option, as shown in the following example: fc_shell> create_environment -name env3 -libset mylibset \ -corners nworst ◦ specify that the tool infers the process label, process number, voltage, and temperature values from the scenario and upf associated with the current design by using the -auto_infer_design option, as shown in the following example: fc_shell> create_environment -name env4 -libset mylibset \ -auto_infer_design 3."
.
.
in most cases you achieve better results if you use a customized mapping table rather than the default mapping table.
.
.
.
.
.
.
.
the analysis results are saved in the working directory.
.
"• replacing existing metal and via fill in modified regions, as described in performing metal fill insertion only in modified regions."
.
.
"by default, concurrent redundant via insertion is disabled."
.
.
.
these two commands do not affect explicit floorplanning.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 91 chapter 2: preparing the design analyzing libraries feedback by default, the tool excludes physical-only cells during library analysis."
figure 102 shows the metal stubs inserted for an l-shaped block on a layer whose preferred direction is horizontal.
.
.
.
.
.
.180 enabling route-driven estimation (rde) for preroute optimization .
.
.
.
.
• the connect_pg_net command is not specified in the current or parent physical hierarchy.
.
.
.
.
.
.
.
"• to route specific clock nets, use the -nets option."
.
(optional) enable fishbone routing for the subtree clock nets by using the cts.multisource.subtree_routing_mode application option.
.
.
some views have default filters that are shown automatically.
.
.
.
"fc_shell> set_app_options -name custom.route.match_box \ -value {{1000 1000} {1500 1500}} by default, the bounding box coordinates are set to {{0 0} {0 0}}."
.
.
.
.
.
signoff.physical.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
948 generic eco flow for timing or functional changes .
.
"to perform a fast legalization of the relative placement groups, use the -prototype option."
.
"to see the segment-by-segment resistance of that minimum resistance path shown in the gui, use the -error_cell option of the report_rail_minimum_path command to save the geometries on the path of the minimum path resistance to an error cell."
.
◦ define the overall dynamic power optimization goal by setting the ccd.dps.optimize_power_target_modes application option.
.
"a cell is considered changed if the eco_change_status attribute of the cell has one of the following values: ◦ create_cell ◦ change_link ◦ add_buffer ◦ size_cell when you run the eco_netlist command, the tool automatically sets the eco_change_status attribute on the changed cells."
.
"for nested clock trees with generated clocks, which are defined by the create_generated_clock command, the tool considers the master-clock source to be the clock root, and the clock endpoints of the nested clock tree are considered endpoints of the master-clock source."
.
setting this option to true increases accuracy but also increases runtime.
.
.
.
"this allows the tool to legalize a cell by replacing it with a variant, instead of moving the cell."
.
.
.
"◦ strict: the tool sets the first matching policy in the following order: 1. error 2. tolerate 3. repair for example, when a check supports the error and tolerate policies, and you select strict as the policy type, the error policy type is set."
.
.
.697 improving instance voltage drop by augmenting the power grid .
"you can supplement this functionality by optimizing for power, recovering area for placement, minimizing congestion, and minimizing timing and design rule violations."
.
.
.
.
.
.
"to explicitly specify an inner keepout margin, use the -inner option to specify the margin distance for each side."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"to define a clock balance group for the clocks of a specific mode, use the -objects option with the get_clocks -mode command."
.
you must specify which rules to remove.
.
.
.
.
you can use the heat map to locate problematic areas in your design.
.
an exception exists for primary input ports that use a clock specified with the set_input_delay command.
"by default, the tool does not allow orthogonal straps that are unconnected."
.
.
shapes with this attribute must be at least the multiple-patterning minimum spacing distance from other mask3-colored metal shapes.
.
"to remove relative placement groups, use the remove_rp_groups command."
.
"• to control this distance, use the -max_distance_to_spare_cell option."
remove blockages or find cutlines and use the -repeater_group option.
.
.
"• if the master-clock source is not a clock source defined by the create_clock or create_generated_clock command, the tool cannot synthesize a clock tree for the generated clock or its source."
.
"by default, this application is set to false."
979 recording the changes made to a layout .
230 mapping sequential elements exactly as described in rtl .
.
.
.
.
"if the row width is less than the specified value, the command does not insert boundary cells on the row."
.
.
.
.
.
"to insert metal fill, run the signoff_create_metal_fill command, as described in inserting metal fill with ic validator in-design."
.
.
.
.
.
.
.
.
.
.
.
.
.
"scan-only script example # set up the library ... # read the design ... # specify any registers that should not be mapped to scan equivalent, and also to be excluded from any scan chains set_scan_element false <registers that should not be mapped to scan equivalent> # run compile_fusion to logic_opto step compile_fusion -to logic_opto # dft specifications: # scan chain setup set_scan_configuration -chain_count sc # dft signals # clocks and asynchronous resets fusion compiler™ user guide v-2023.12-sp3 259 chapter 3: physical synthesis performing test insertion and scan synthesis feedback set_dft_signal -view existing -type scanclock \ -port clk -timing [list 45 55] set_dft_signal -view existing -type reset \ -port reset_n -active_state0 # scan in, scan out, scan enable set_dft_signal -view spec -type scandatain -port si set_dft_signal -view spec -type scandataout -port so set_dft_signal -view spec -type scanenable -port se # scan synthesis steps create_test_protocol dft_drc preview_dft insert_dft # continue from initial_place step compile_fusion -from initial_place -to initial_opto # perform post dft_drc dft_drc -test_mode internal_scan # generate post dft_drc verbose report report_dft_drc_violations -test_mode internal_scan -rule all # write out scandef write_scan_def design.scan.def # write out test model write_test_model -output design.ctl # save output for tetramax write_test_protocol -output design.scan.spf \ -test_mode internal_scan write_verilog -hierarchy all design.v minimizing glitches on asynchronous set and reset lines of scan registers when a design switches between the functional and scan modes, glitches might occur on asynchronous set and reset lines of scan registers, which can reset the state of these registers."
.
.
.
.
.
.
this spacing requirement also applies to the vertical extension of the critical net on the adjacent layers.
.
.
"the optimize_routability command performs the following tasks: • analyzes the cells with drc violations to find violations where cells abut by default, the command considers all drc violations."
.
.
.
954 eco fusion power integrity flow .
.
.
.
.
.
.
"to see this, click on the row in the detailed table for that path group and scenario."
.
.
"checking if library cells are legally placeable after you specify all your placement and legalization constraints and settings, you can check if specific library cells can be legally placed in the block by using the analyze_lib_cell_placement -lib_cells command."
start transferring placement data.
.
"by default, the tool generates a report for all clock trees in all active modes and corners in all active scenarios."
.
.
.
.
.
.
.
.
.
.
"use the following commands to define the antenna rules for this example: fc_shell> define_antenna_rule -mode 1 -diode_mode diode_mode \ -metal_ratio 400 -cut_ratio 20 fc_shell> define_antenna_layer_rule -mode 1 -layer ""m1"" \ -ratio 400 -diode_ratio {0.7 0.0 150 800} as shown in table 37, for diode modes 7 and 8, the maximum antenna ratio is computed as (metal_area - equi_gate_area) / gate_area where the equivalent gate area, equi_gate_area, is computed by using the diode ratio vector: (diode_protection + v1) * (v2 + v3)."
.
.
41 mask constraints .
"to change the maximum number of detail routing iterations, use the -max_detail_route_iterations option."
.
.
.
.
.
"using the create_tap_cells command ad_tap_cel_aray comandcomandsad_tap_cel_arayto add a tap cell array based on the site rows, use the create_tap_cells command."
.
.
.
.
"example 12 def preroute information specialnets 2 ; - vdd + routed metal3 10000 + shape stripe ( 10000 150000 ) ( 50000 * ) + use power ; ... end specialnets using automatic floorplanning during early design stages, a design often undergoes many iterations due to changes such as adding features and macros; as a result, the floorplan contains limited or no physical information."
.
.
.
"to switch a cell instance from its abstract view to its etm or vice versa, use the set_reference command."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"• when you use the create_voltage_area_shape -merge_regions command, the merges the shape specified with the -region option and the existing shapes of the specified voltage area."
.
.
.
.
"a retention register has a separate, always-on supply net, sometimes called the backup supply, which keeps the data stable in the retention register while the primary supply of the domain is shut down."
fusion compiler™ user guide v-2023.12-sp3 955 chapter 13: eco flow manually instantiating spare cells feedback the fusion compiler eco fusion power integrity flow consists of the following steps: 1. specify the path for saving the redhawk fusion rail analysis results by setting the rail.database application option.
(optional) generate a configuration file that aids in the fixing process.
.
397 implementing a regular multisource clock tree .
q d ___ rst d si se clk q q d q d q so this capability improves the sequential design area and reduces congestion because of fewer scan-signals for routing.
.
.
.
.
.
.
.
.
.
4. perform custom routing with length matching.
.
"fc_shell> set_app_options \ -name route.common.post_group_route_fix_soft_violations \ -value true routing secondary power and ground pins to use zroute to perform secondary power and ground pin routing, 1. verify that the secondary power and ground pins have the appropriate attributes in the standard cell frame views."
.
.
.
the following example specifies that ◦ the standard cells named buf1 and inv1 can map to the programmable spare cell named fill1x by setting the psc_type_id attribute to 1 for the corresponding library cells.
"to create this type of routing guide, use the -max_patterns option with the create_routing_guide command."
"for example, to see the options supported by the report_timing command, use the following command: fc_shell> report_timing -help fusion compiler™ user guide v-2023.12-sp3 47 chapter 1: working with the fusion compiler tool using application options feedback using application options the fusion compiler tool uses application options to control the tool behavior."
.
.
.
"• the metal shapes have the default metal width specified for the routing layer in the technology file for information about specifying the default metal width for a layer, see the “default width rule” topic in the synopsys technology file and routing rules reference manual."
"to perform incremental global routing by reusing existing global routes, use the -reuse_existing_global_route true option."
.
you prioritize the access preference areas by assigning strengths to them.
this improves the ccd balance point implementation and timing after the smscts step in the clock_opt command.
.
.
.
46 entering fc_shell commands .
.
.
.
.
.
.
"for example, to use four cores on the current host and potentially acquire up to four more hosts from lsf, use the following commands: fc_shell> set_host_options -target icv -max_cores 4 fc_shell> set_host_options -target icv -add_hosts \ -submit_protocol lsf -num_processes 4 defining the layer mapping for ic validator in-design commands a layer mapping file maps the technology layers to the layers used in the runset file."
"• all outputs are unconnected if you instantiate the spare cells before you perform physical synthesis on a block, the tool places and legalizes the spare cells during the subsequent physical synthesis steps."
the following example specifies to use booth-encoded architectures to generate multiplexers: fc_shell> set_datapath_architecture_options -booth_encoding true • set_implementation this command specifies the implementation to use for dividers and synthetic library cell instances with a specified name.
.
.
• run eco routing by using the -route option with the optimize_routability command.
.
"◦ an error data file by default, the error data generated by the signoff_fix_isolated_via command is saved in a file named signoff_fix_isolated_via.err."
.
.
◦ tolerate: the tool issues an error message if the check does not support tolerate as a policy.
.
• find cells that have overlapping timing windows to identify cells that might switch at the same time during dynamic rail analysis.
.973 controlling placement when using the place_eco_cells command .
.
.
.
.
.
.
.
.
.
.
fc_shell> signoff_check_drc -select_rules {list_of_dpt_rules} 3. perform signoff design rule checking to verify the results by using the process described in performing signoff design rule checking.
.
.
.
"if you do not specify a setting for the lower- level placement groups, the value of the top-level relative placement group is used for the lower-level relative placement groups."
"if you specify this option, you must supply a library cell that has an inverting output."
.
.
.
.
.
.
.
.
.
you must specify the name of the script using the pin_check.place.preplace_option_file application option.
.
.
.
"when you enable this feature, the tool reduces the length of the multivoltage nets by placing the multivoltage cells closer to the voltage area boundaries."
.
.338 defining the clock trees .
.
.
.
.
.
.
.
"you can enable multiple-port-net fixing for • the logic_opto and initial_drc stages, which are earlier stages of the compile_fusion command, by using the set_fix_multiple_port_nets command this command sets the fix_multiple_port_nets attribute on the specified objects."
.
fc_shell> link error: current block is not defined.
.
"to control boundary optimization globally, use the compile.flow.boundary_optimization application option."
"a tap mesh is typically inserted outside of a place and route block, but you can insert one in any area that is either completely inside or completely outside the core area."
.
"by default, all logic elements in a power domain use the same primary supply and primary ground."
.
.
.
.
.
.
.
.
this command reports both the user-defined sink pins and the user-defined ignore pins.
.
.
fusion compiler™ user guide v-2023.12-sp3 767 chapter 9: routing using custom router using custom routing application options feedback pin-trunk offset the custom.route.bus_pin_trunk_offset application option changes the default spacing between the bus trunk and the bus bit pins.
.
.
.
413 inserting clock drivers for designs with multiple levels of physical hierarchy .
"• add programmable spare cells during the chip finishing stage by using the create_stdcell_fillers, as described in adding programmable spare cells."
.
.
.
.
.
use the following syntax to set this option: { {layer multiplier} ... } specify the layers by using the layer names from the technology file.
.
.
.
.
.
"for more information about using the golden upf flow, see solvnet article 1412864, “golden upf flow application note.” fusion compiler™ user guide v-2023.12-sp3 40 chapter 1: working with the fusion compiler tool fusion compiler concepts feedback multiple-patterning concepts at the 20-nm process node and below, printing the required geometries is extremely difficult with the existing photolithography tools."
.
.
.
.
.
.
.
.
.
fc_shell> set_dont_touch_network -clock_only [get_pins pin_name] -clear you can also set don't touch settings on specific objects in the clock network by using the set_dont_touch command.
set_clock_gating_objects -include [get_cells u_dfx/input_c_reg*] \ -enable_source prefer_enable_pin user-driven enable exclusion the set_clock_gating_enable command provides an interface to specify signals to be excluded from clock-gating enable.
.
.
.
.
"◦ antenna violations, except when doing area-based drc ◦ nets crossing the top-cell boundary ◦ frozen layers ◦ minimum layer fusion compiler™ user guide v-2023.12-sp3 571 chapter 6: routing and postroute optimization analyzing the routing results feedback ◦ maximum layer ◦ voltage area violations note: these violations are also reported after each detail route iteration."
.
.
.999 fixing multivoltage violations .
.
.
.
.
.
.
(optional) specify name prefixes and suffixes to use when merging and splitting clock cells during local subtree synthesis by using the following application options: ◦ cts.multisource.subtree_merge_cell_name_prefix ◦ cts.multisource.subtree_merge_cell_name_suffix ◦ cts.multisource.subtree_split_cell_name_prefix ◦ cts.multisource.subtree_split_cell_name_suffix ◦ cts.multisource.subtree_split_net_name_prefix ◦ cts.multisource.subtree_split_net_name_suffix when you run the synthesize_multisource_clock_subtrees command the tool performs the following steps: 1. merges equivalent clock cells to remove any artificial boundaries between clusters of sinks.
.
.
.
.
"when you use this option, this command writes a report to a file named block_fillers_with_violation.rpt in the current working directory."
.
.
.
.
.
457 protecting via ladders .
.
.
"if you do not specify a clock-gating style, the tool uses a default style where the test point is before and the observation output is false."
.
.
.
.
.
.
.
.
.
.
.
.
.
"if you get this error message, see solvnet article 027178, “debugging the zrt-311 message.” see also • annotating antenna properties on hard macro cells analyzing and fixing antenna violations antena rulescheckingenablingif the design library contains antenna rules, zroute automatically analyzes and antena violationsenablingfixingfixes antenna violations."
• you can use tool-specific conditional statements to perform different tasks in different tools.
.
"by default, the check_routability command ignores the pin access edges and allows pin connections at any point."
fusion compiler™ user guide v-2023.12-sp3 132 chapter 2: preparing the design specifying timing constraints and settings feedback table 6 commands for reporting multivoltage information to do this use this command report a summary of multivoltage information report_mv_design report information about the multivoltage cells report_mv_cells report information about the multivoltage library cells report_mv_lib_cells report paths with multivoltage constraints and the associated multivoltage cells report_mv_path report the power domains report_power_domains check whether the specified power domains are equivalent check_equivalent_power_domains display a list of equivalent power domains get_equivalent_power_domains report the voltage areas report_voltage_areas specifying timing constraints and settings timing constraints describe the timing requirements of a design.
"if you specify a value smaller than the tap cell width, the command uses a spacing of zero."
.
the default value for -lib_cell_input is d. the default value for -lib_cell_output is q. place_group_repeat ers eco-234 warning: there is no repeater to be placed for the path driver (%s).
.
.
the report_clock_gating_efficiency command reports the overall clock gating efficiency of the user specified clock gates for each clock tree.
.
.
.
.
.
.
"however,using this technique can increase the runtime and degrade the area and power qor."
.
"that is, simply inserting checkpoints with the eval_checkpoint command does not change your flow."
.
.
.
.
.
"note: if you use the -fill_all_tracks true option, the default changes to 0. mx_fill_staggering 0.075 microns controls staggering for fill patterns."
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 950 chapter 13: eco flow signoff eco flow feedback if you make changes to your design in the primetime tool, you can generate an eco change list file and incorporate those changes into the design by using the fusion compiler eco capabilities, as shown in figure 217. figure 217 signoff eco flow fusion compiler eco yes no starrc parasitic extraction eco change list file primetime timing eco violations?"
.
.
.
you can create multiple taps by running multiple create_taps commands.
.
.
.
.
.
.
it does not connect to clock straps with the shape_use attribute setting of user_route.
.
.
.
"in addition, the command can report unconnected pins that do not have an access edge defined."
.
.
.
.
.
.
"provide the following values as input, ◦ lib cell name - specifies the name of the library cell."
.
.
.
"to report clock cell spacing rules, use the report_clock_cell_spacings command."
.
.
.
.
.
"however, you can specify additional strategies for pin access optimization by setting the place.legalize.optimize_pin_access_strategies application option as shown in the following table."
.
.
.
.
.
.
.
.
"the compile_fusion -to initial_opto command maps the first register to a scan cell and the other cells to nonscan cells, as shown in this figure."
"defining the interclock delay balancing constraints to define interclock delay balancing constraints, use the create_clock_balance_group command."
mask constraints mask constraints indicate the mask requirements for the metal shapes of the physical pins and nets in a block that uses multiple-patterning technology.
.
.
.
"in this example, the tho operations are run as an additional incremental optimization step on top of the typical hierarchical optimization flow."
.
.
.
"when you use the -auto_eco true option, the tool automatically determines the modified regions and layers, and then removes the existing metal fill and redoes metal fill insertion only in those locations; all other existing metal fill is retained."
.
"valid values are unset, true and false."
.793 aligning leaf cells within a column .
.
.
"the layers can be metal, via, or poly layers."
.
.
"in the fusion compiler environment, custom router honors both the custom router constraints and the fusion compiler nondefault routing rules."
"• the worst 300 timing paths by setting the ccd.enable_top_wns_optimization application option to true specifying optimization targets at the postroute stage at the final stages of your design flow, you can use the route_opt command to perform concurrent clock and data optimization on specific critical path groups or endpoints by using the following steps: 1. enable targeted concurrent clock and data optimization for the route_opt command by setting the route_opt.flow.enable_targeted_ccd_wns_optimization application option to true."
"for more information about analyzing clock tree information in the gui, see the using map and visual modes topic in the fusion compiler graphical user interface user guide."
.
.
.
.
.
.
"◦ to perform detail routing, use the route_detail command."
9.
.
.
.
• reset_power_switch_resistance - this command resets the ron value specified for a power switch cell.
.
.
"however, you can create an empty bound and specify the contents of the bound later by using the add_to_bound command."
cell connection between groups depend on cell order in a group.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 796 chapter 10: physical datapath with relative placement specifying options for relative placement groups feedback figure 176 bottom-right-aligned relative placement group u4 u3 u2 u1 row 3 row 2 row 1 row 0 col 0 aligning by pin location to align a group by pin location, use the -alignment pin and -pin_name options with the set_rp_group_options command."
.
you can modify the default behavior by using the options described in table 62. table 62 the write_rp_groups command options to do this use this option write all the relative placement groups within the hierarchy of the relative placement groups.
.
.
"• to add a metal fill shape in a specific fill cell, use the create_shape -fill_cell command."
.
.
.
you can use the -max_detail_route_iterations option to control the maximum number of detail routing iterations.
.
"for p-type half-height filler cells, the inbound- cell interaction polygons (icip) are at the bottom corners."
"2. run voltage drop analysis using redhawk fusion, as described in performing voltage drop analysis."
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 371 chapter 5: clock tree synthesis implementing clock trees and performing post-cts optimization feedback synthesizing, optimizing, and routing clock trees with the clock_opt command to synthesize the clock trees, route the clock nets, and further optimize the design by using a single command, use the clock_opt command."
.
.
.
the second value is the y-direction step size.
.
.
.
.
"to specify the extra cost multiplier for the metal layers on which the via enclosures are routed, set the route.common.extra_via_off_grid_cost_multiplier_by_layer_name application option."
.
.
.
.
.
.
.
this option is valid only for the end orientation rule.
"if you specify this mode with the -metric timing option, the tool ignores the specified mode setting and uses the balanced mode."
.
.
.
"to specify which analysis or checking types to report, use the -type option."
the base name does not include bus bit indexes.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 887 chapter 12: redhawk and redhawk-sc fusion specifying ideal voltage sources as taps feedback for a detailed description about simple package rlc models, see the related section in the redhawk user manual."
.
"if you update the design without using the eco_netlist command, you can manually set the eco_change_status attribute by using the set_attribute command."
skew groups defined for the clock can be distributed among different taps.
.
"2 diode protection is limited; if more than one diode is connected, the largest value of the maximum antenna ratio for all diodes is used."
.
.
.
.
.
| 2 | 2 --------------------------------------------------------------------------- clock-gate levels and stages the tool uses the following definitions for clock-gate levels and stages in clock-gating commands and options: • the clock-gate level is related to the fanin of a clock gate.
.
.
.
the derive_clock_balance_points command converts ideal latencies specified with the set_clock_latency command on clock sink pins to set_clock_balance_points commands.
.
.
.
.
.
"table 10 application options for controlling placement density to do this use this application option specify a maximum density that controls how densely the tool can place cells during non-congestion-driven placement place.coarse.auto_density_control (default is -enhanced, and the tool follows a preset schedule during the flow if place.coarse.auto_density_control is not set to false."
"to create a floating supply net with the connect_pg_net command, use the following steps: 1. specify the supply net type in the upf file by using the supply_net_pg_type attribute, as shown in the following upf file example: … create_supply_net vdd … … set_design_attributes -elements vdd \ -attribute supply_net_pg_type power … 2. enable floating supply nets by setting the mv.pg.create_floating_pg application option to true before you create supply nets with the connect_pg_net command, as shown in the following script example: … … # apply the upf load_upf $upf_input_file_name commit_upf … … # create logical supply nets set_app_options -as_user_default \ -name mv.pg.create_floating_pg -value true connect_pg_net -automatic … check_mv_design the tool creates the logical supply nets in the topmost hierarchy of the current upf scope for domain-independent supply nets."
the tool determines the limit values by looking up the values in the lookup table and then using linear interpolation or extrapolation.
.
.
"to remove all the constraint groups, use the -all option."
.
"this command sets the dont_touch attribute on cell a. fc_shell> set_dont_touch [get_cells a] true fusion compiler™ user guide v-2023.12-sp3 170 chapter 2: preparing the design controlling the optimization of cells, nets, pins, and ports feedback to remove the dont_touch attribute, use the remove_attributes command or the set_dont_touch command set to false, as shown in the following two commands: fc_shell> remove_attributes [get_cells a] dont_touch fc_shell> set_dont_touch [get_cells a] false the following table summaries the commands that you can use to set, remove, or report the dont_touch attribute on design objects, including modules, cells, nets, and library cells."
.
.
.
(optional) check the multibit component mapping information by using the report_cells command.
.
"if the cell has no variants, it is moved to a legal location."
.
"for example, {m1 5.0 m2 6.0} -layer_widths specifies the minimum width for each routing layer."
enabling or disabling clock gating on design objects you can enable or disable clock gating on certain design objects by overriding all necessary conditions set by the clock-gating style.
.
"the copy_useful_skew command also ensures that the corresponding constraints of the set_clock_latency command are set on all the pins and scenarios, where a new offset value is computed."
"• to return a list of all the checkpoints that have been executed, specify the -list_names option: fc_shell> get_checkpoint_data -list_names remove_buffers place_opt_to_initial_drc incr_placement place_opt_to_initial_opto place_opt_to_final_opto • to return detailed information for a checkpoint, specify the checkpoint with the -name option."
.
.
.
.
.
.
.
"to create a separate clock path from the clock source to the required endpoints, use the -to option with the split_clock_cells command before clock tree synthesis, that is, before using the synthesize_clock_trees or the build_clock stage of the clock_opt command."
.
.
.
"when you use the place_freeze_silicon command, you can • place the eco cells by the target spare cells, but not map them to the spare cells, by using the -no_spare_cell_swapping option this feature allows you to place the eco cells and analyze the qor before you map them."
fusion compiler™ user guide v-2023.12-sp3 999 chapter 13: eco flow swapping variant cell feedback table 73 group repeater placement and insertion troubleshooting (continued) command error code message troubleshooting tips place_group_repeat ers eco-220 warning: failed to connect to route for %d object: {%s }.
7 diode protection is limited; the maximum diode-protection value for all diodes is used to calculate the equivalent metal area.
.
figure 214 shows how to display a power density map for the block.
.
.
.
.
.
.
.
.
"• for diode mode 5, the equivalent gate area is computed using the maximum diode protection, which is 1.5, so the maximum antenna ratio for the net is metal_area / (gate_area + ((1.5 + 0) * (1 + 0))) = metal_area/(gate_area + 1.5) • for diode mode 6, the equivalent gate area is computed using the total diode protection, which is 0.5+1.0+1.5=3.0, so the maximum antenna ratio for the net is metal_area / (gate_area + ((3.0 + 0) * (1 + 0))) = metal_area/(gate_area + 3.0) fusion compiler™ user guide v-2023.12-sp3 609 chapter 7: chip finishing and design for manufacturing finding and fixing antenna violations feedback example for diode modes 7 and 8 assume that the antenna area is calculated using surface area in single-layer mode (antenna mode 1), the diode ratio vector for the m1 layer is {0.7 0.0 150 800}, the layermaxratio value for the m1 layer is 400, and the following diodes are connected to a single m1 net: diode a with a diode-protection value of 0.5, diode b with a diode-protection value of 1.0, and diode c with a diode-protection value of 1.5. in this example, the v4 value is not specified so a value of 0 is used."
"5. set the application options for performing power grid augmentation, as described in setting options for power grid augmentation."
.517 controlling the tapering width .
.
.
.
.
.
.
.
.
.
481 inserting metal shapes in the preferred direction .
"to remove specific voltage areas from a block, specify the voltage area names."
"enabling area recovery in regions of high utilization for designs that cannot be legalized due to areas of high utilization, you can specify that the tool perform area recovery in regions where the utilization is high by setting the opt.common.small_region_area_recovery application option to true."
.
.
.
.
.
.
.
.
.
.
.
.
this allows multiple elaborate commands to be run before performing the single linking of the entire design.
.
.
.
.
.769 differential-pair options .
.
145 removing placement blockages .
.
.
"in tcl, a pound sign (#) at the beginning of a line denotes a comment."
.
.
.
.
.
.
.
.
.
.
.
check the right cutline for this group.
.
.
.
• -all_pins_driving this option applies the mapping to all pins that drive one of the specified ports.
.978 mapping eco cells to specific spare cells .
"else, remove such cells from input."
.
.
"you must specify the following information: • the tap cell used in the tap wall (the -lib_cell option) by default, the command inserts the tap cells with r0 orientation."
.
.
.
.
.
"by default, the compile_fusion command removes constant registers and prints an information message in the compile log file."
236 identification of shift registers .
.
.
.
avoiding crosstalk during group repeater insertion the crosstalk management is only supported in the create_group_repeaters_guidance and add_group_repeaters commands flow.
"if this does not fix the drc violations, you can fix the remaining violations by running incremental detail routing with the route_detail -incremental true command."
4. removes floating via fill from the specified via layers and from the via layers associated with the specified metal layers floating via fill is via fill that does not have both an upper and lower metal enclosure.
.
.
.
this can improve routability and reduce dynamic power.
.
.
.
.
.
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 420 chapter 5: clock tree synthesis implementing multisource clock trees feedback the span is measured orthogonal to the direction of the finger.
.
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 66 chapter 1: working with the fusion compiler tool enabling multicore processing feedback removing multicore configurations to remove the multicore configurations defined by the set_host_options command, use the remove_host_options command."
.
.
the custom.route.bus_split_even_bits application option requires that you set the custom.route.bus_split_ignore_width application option.
.
note: the read_drc_error_file command supports only flat calibre drc error files; it does not support calibre hierarchy drc error files.
.
.
.
.
.
.
.
.
(optional) specify the type of optimization to perform by using the ccd.targeted_ccd_select_optimization_moves application option.
the following example specifies that the top level should link to the postcompile label of the block1 and block2 subblocks: fc_shell> set_label_switch_list \ -reference {block1 block2} postcompile the following example specifies that the postcompile label has a higher priority than the precompile label when linking any subblock at the top level.
.
.
.
.
"◦ the reference and target libraries can have a similar naming convention, but the lexical attributes values might not identical."
.
"• to report only the relative placement groups that do not meet a specific threshold, use the -threshold option."
.
"for pin-track and pin-color alignment during variant-aware legalization, set the following application options to true: • place.legalize.enable_prerouted_net_check • place.legalize.enable_pin_color_alignment_check in addition, you must specify the layers to be aligned by using the place.legalize.pin_color_alignment_layers application option."
.
.
.
.
.
.
.
.
.
.
.
.
"for example, to set a maximum transition time of 0.20 ns on all pins in the clk clock path for all corners of the current mode, use the following command: fc_shell> set_max_transition 0.20 -clock_path [get_clocks clk] to set different maximum transition time constraints for different corners associated with a specific mode, use the -mode option with the get_clocks command to specify the mode and use the -corners option to specify the corner."
.
.
.
.
.
.
.
.
.
"wire spreading is performed only on nets with slack greater than or equal to the specified values or the nets specified in the -timing_preserve_nets option, as well as adjacent nets on the same layer within two routing pitches."
fc_shell> set_app_options \ -name route.common.post_detail_route_fix_soft_violations \ -value true shielding nets zroute shields routed nets net shieldingshielding nets by generating shielding wires that are based on the shielding widths and spacing defined in the shielding rules.
.
.
.
"to extend the pin cutouts beyond the metal blockages, use the -pin_extension option to specify the extension distance in microns."
.
"fc_shell> set_app_options \ -name cts.common.skip_cts_clocks -value ck_b preserving preexisting clock trees when you perform clock tree synthesis, by default, the tool removes all preexisting clock buffers and inverters."
"via fusion compiler™ user guide v-2023.12-sp3 446 chapter 6: routing and postroute optimization inserting via ladders feedback ladders reduce the via resistance, which can improve performance and electromigration robustness."
fixing multivoltage violations design changes in the eco flow sometimes result in isolation or voltage violations.
"performing ir-drop-aware placement during placement, the tool can use the voltage (ir) drop values of cells to identify areas of high power density and spread the cells with high voltage drop values, which reduces the power density of such areas."
.
check if the routes are merged after unplacing repeaters.
.
.
"if it finds a mismatch, the tool issues a warning but still creates the connection."
4. place interconnect repeaters on route with cutline for input repeater groups.
.
.
"for information about creating design- specific vias, see defining vias."
.
.
.
.
72 defining the search path .
.
.
.
.
.
you can use the error browser to examine the errors detected by the check_routability command.
.
"2. specify the via ladders that can be used for specific library pins by using the set_via_ladder_candidate command, as described in specifying via ladder candidates for library pins."
"when you enable multithreading, multithreaded commands create and use the specified number of threads, even if the number is more than the number of available cores."
.
"you can insert a tap wall outside or inside of the boundary of a block, macro, or hard placement blockage."
.
.
.
"to reset the diode preference to the default behavior, set the route.detail.diode_preference application option to none."
.
.
.
"for example, to filter the path group details view by displaying the path groups in the func@cworst scenario, define the filter as shown in the following figure: reporting logic levels in batch mode as an alternative to displaying logic-level histograms in the gui, you can report logic levels by using the report_logic_levels command on the command line or in a script (batch mode)."
.
.
.
.
.
.
.
.
.
• integrated clock gates inside multibit cells are counted as part of the clock-gate level count.
.
316 placement-aware clock gating .
.
.
.
"fc_shell> set_app_options \ -name route.detail.timing_driven -value true by default, when you enable timing-driving detail routing, zroute uses medium effort to assign timing-critical nets to low-resistance metal layers."
.
.
.
you can disable automatic ungrouping by setting the compile.flow.autoungroup application option to false.
.
.
this script has the following syntax: generate_layer_rule_map.pl -dplog ic_validator_log_file -tech_file technology_file -o config_file_name the ic validator log file that you specify in the -dplog option is the log file that was generated by the previous signoff_check_drc run.
.
.
195 setting up for dynamic power shaping .
.
"for information about using the error browser, see the fusion compiler graphical user interface user guide."
.
"fusion compiler™ user guide v-2023.12-sp3 414 chapter 5: clock tree synthesis implementing multisource clock trees feedback inserting clock drivers for designs with multiple levels of physical hierarchy to insert clock drivers from the top level of a design with multiple levels of physical hierarchy, 1. enable the lower-level physical blocks for editing by using the set_editability command."
.
"if you specify alternating, the colors alternate from shape to shape after the first shape."
.
.
.
.
.
.
.
.
x x opt-4004 design port does not have placement information.
the following topics describe how to define these types of vias.
.
.
.
.
"figure 175 bottom-left-aligned relative placement group u4 u3 u2 u1 row 3 row 2 row 1 row 0 col 0 aligning by the right edges to align a group by aligning the right edges, use the -alignment right option of the set_rp_group_options command."
.
.
.
.
.
the fusion compiler tool: • banks single-bit combinational cells to multibit combinational cells.
.
.
.
.
.
.
.
"removing voltage areas to remove voltage areas from a block, use the remove_placement_blockage comandcomandsremove_placement_blockageremove_voltage_areas command."
.
"similarly, if you do not specify the -to option, the tool continues until the final_opto stage is completed."
"fusion compiler™ user guide v-2023.12-sp3 50 chapter 1: working with the fusion compiler tool adding changes to a script with checkpoints feedback see also • starting the cli • adding changes to a script with checkpoints adding changes to a script with checkpoints when running experiments on a block, you might might modify your golden flow scripts in two ways: • by making flow changes, such as setting application options, modifying constraints, or making other changes to improve the quality of results • by generating reports (either additional reports or reports at new places in the flow) to help debug an issue in most flows, you apply changes through a small number of static, modifiable files."
.
.
.
.
.
.
.
"to obtain detailed information about the clock networks in the current block, use the report_clock_timing comandcomandsreport_clock_timingreport_clock_timing command."
.
.
"when you remove a nondefault routing rule, the rule fusion compiler™ user guide v-2023.12-sp3 505 chapter 6: routing and postroute optimization routing constraints feedback is removed from all nets to which it is applied and the rule definition is removed from the design library."
you can also use this process to perform incremental optimization on specific endpoints.
.
.
.
.
.
this includes registers that are gated by both preexisting and tool-inserted clock-gating cells.
"to invoke the redhawk/redhawk-sc tool for calculating voltage drops of the specified power and ground networks, use the analyze_rail command with the following options: • use the -voltage_drop option to specify the analysis mode."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"for more information, see controlling standard filler cell insertion."
.
.
"◦ to perform a regular expression comparison, select the regexp comparison type and specify a regular expression in the value field."
.
.
"when you define insertion delay requirements, by default, they apply to all corners."
.
.
"if there is no supply net, supply pin, or via shape at the specified location, which means there is no conductive path to the supply network, the tap has no effect on rail analysis despite being present."
"reporting abstract inclusion reasons in the fusion compiler tool, the create_abstract command includes netlist objects such as the cells, nets, and pins in the abstract view at both the top-level and block-level."
.
the enable condition is the first condition that the tool checks.
.
• only placement information is stored in the database after mitigation; routing information is not saved.
"in both examples, all the receivers have a matched length constraint from driver d. • net-based: total length of wires of specified nets must match."
.
.
.
.
.
.
"the higher the value, the more likely the route will remain on the track or grid."
fusion compiler™ user guide v-2023.12-sp3 442 chapter 6: routing and postroute optimization defining vias feedback defining vias the router supports the following types of via definitions: • simple vias and simple via arrays a simple via is a single-cut via.
.
.
.
.
.
.
"in this manner, ccd optimizations can address any violations on these paths completely."
.
.
user-specified clock-gate latency you cannot disable general integrated clock-gate latency estimation.
.
.
.
.
.
.
.
.
.
.
.
.
792 anchoring relative placement groups .
.
"handling design data using the early data check manager while you identify the issues related to top-level closure and fix them, the tool enables you to explore the top-level flow in the presence of design data violations."
fusion compiler™ user guide v-2023.12-sp3 883 chapter 12: redhawk and redhawk-sc fusion preparing design and input data for rail analysis feedback set_app_options -name rail.generate_file_variables \ -value {def test_def_files } create_rail_scenario -name func.ff_125c_ -scenario func.ff_125c set_rail_scenario -name func.ff_125c \ -generate_file {ploc def spef twf lef} \ -custom_script_file ./customized.py set_host_options -submit_protocol sge \ -submit_command {qsub -v -notify -b y \ -cwd -j y -p bnormal -l mfree=16g} analyze_rail -rail_scenario {func.ff_125c} \ -submit_to_other_machine the following example uses a customized python script for ir-driven placement on a grid system.
.
"to address this issue, a new technique, multiple patterning, is used to partition the layout mask into two or more separate masks, each of which has an increased manufacturing pitch to enable higher resolution and better printability."
"to fix soft routing rules, you must map the weight levels to routing effort levels, as described in specifying the routing effort for soft spacing violations."
.
the cell libraries include both p-type and n-type replacement filler cells with inbound-cell interaction polygons (icip).
.
.
.
"by default, this routing guide applies to all layers within the routing guide boundary."
.
.
.
only the analyze and elaborate commands should be used to read rtl files.
.
"setting options for fixing isolated vias before you run the signoff_fix_isolated_via command, configure the run by setting the application options shown in table 51. to set the application options, use the set_app_options command."
.
"specifying a range separator for contiguous bits of a bused register when combining contiguous bits of a bused register, the tool uses the : character as the range separator."
"by default, the clock-gating information is displayed after • clock-gate insertion n the initial_map stage • clock-gate restructuring in the logic_opto stage • clock-gate restructuring in the initial_opto stage • self-gating insertion in the initial_opto stage, if enabled the reported information includes the following: • the number of preexisting clock gates that have a dont_touch attribute, which prevents optimization and might lead to unsatistactory results • the number of clock-gating library cells that have a cts purpose, which is required for insertion • clock-gating metrics such as the number of elements and the number of gated registers • a summary of reasons for registers that could not be gated if the self-gating or fanin-based sequential clock gating features are enabled, their metrics are displayed separately."
.
.
"fusion compiler™ user guide v-2023.12-sp3 299 chapter 4: clock gating setting up clock gating feedback the output of the report_clock_gating_options command is shown in figure 50: figure 50 output of the report_clock_gating_options command when no gating options have been set, or when the design has been set only with specific options, the table displays the assigned options in a single row, alongside any other objects that might have been passed through the -objects parameter."
.
.
.
.
.
.
.
signoff.
.
"if you specify multiple power domains, you must specify a name for the voltage area by using the -name option."
• fixes violations by applying nondefault routing rules to widen the metal shapes and then performing eco routing.
.
.
"◦ to specify the filler cells whose right side can be used to break a continuous edge of constrained cells, use the -non_constraint_right_fillers option."
.
.
.
controlling multibit optimization performed during the clock_opt command the following topics describe how you can control the multibit optimization performed during the clock_opt command: • enabling the rewiring of mixed-drive-strength multibit cells • enabling post-clock-tree-synthesis multibit debanking enabling the rewiring of mixed-drive-strength multibit cells some logic libraries have mixed-drive-strength multibit cells where some bits have a higher drive strength than others.
.
.
.
.
.
.
.
"after routing, a matched-length summary report is generated."
192 performing total-power optimization .
.
.627 near 100 percent redundant via insertion .
.
.
.
you can also generate this file by using the associate_performance_via_ladder command.
"for example, the following detailed views have default scenario and path group filters: path type details, path group details, and logic level details."
.
.
.
.
• consideration of voltage areas use the -at_va_boundary option with the set_boundary_cell_rules command to insert horizontal boundary cells on both sides of the voltage area boundaries.
"by default, all standard cells are constrained."
.
.
.
.
the default is low.
.
"to override the technology file settings, set the following application options: • route.common.wire_on_grid_by_layer_name this option controls off-grid routing for metal layers."
.
.
.
.
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 592 chapter 7: chip finishing and design for manufacturing performing boundary cell insertion feedback performing boundary cell insertion before placing the standard cells, you can add boundary cells to the block."
"by default, a power domain has supply set handles for the domain’s primary supply set, a default isolation supply set, and a default retention supply set."
.
.
.
use the analyze and elaborate commands to read the rtl files.
.
.
"the command does not consider standard cells, macros, placement blockages, or voltage areas when inserting the mim capacitors."
reporting early data check records you can report the policy set for all checks or for a specific set of checks by using the report_early_data_checks command.
"the default is user, and by default the tool uses the configuration specified by the -tap_boxes option of the set_regular_multisource_clock_tree_options command for the tap drivers."
103 importing the floorplan information .
.
.
.
.
"for example, to define a rectangular soft move bound for the inst_1 cell instance with its lower-left corner at (100, 100) and its upper-right corner at (200, 200), use the following command: fc_shell> create_bound -name b1 -boundary {100 100 200 200} inst_1 • to define a hard move bound, use the following syntax: create_bound -name name -type hard -boundary {coordinates}\ [bound_objects] for example, to define a rectangular hard move bound for the inst_1 cell instance with its lower-left corner at (100, 100) and its upper-right corner at (200, 200), use the following command: fc_shell> create_bound -name b2 -type hard \ -boundary {100 100 200 200} inst_1 • to define an exclusive move bound, use the following syntax: create_bound -name name -exclusive -boundary {coordinates} \ [bound_objects] for example, to define a rectangular exclusive move bound for the inst_1 cell instance with its lower-left corner at (100, 100) and its upper-right corner at (200, 200), use the following command: fc_shell> create_bound -name b3 -exclusive \ -boundary {100 100 200 200} inst_1 fusion compiler™ user guide v-2023.12-sp3 147 chapter 2: preparing the design specifying physical constraints for placement and legalization feedback to add shapes to an existing move bound, use the create_bound_shape command."
.
.
.
"when routing a single-signal net, the tool uses this net for the right and top shields."
"applying compression to groups with straddling leaf cells you can apply compression to a relative placement group with cells that straddle multiple rows or columns, as shown in the following example: fc_shell> add_to_rp_group rp -cells u5 \ -column 0 -row 0 -num_columns 1 -num_rows 2 fc_shell> set_rp_group_options rp -tiling_type horizontal_compression figure 181 shows the placement of the relative placement group in the previous example."
.
.
• the tap cells used to replace the violating tap cells these cells are called replacement cells.
.
.
.
.
.
.
.
"only single-rail repeaters are allowed in gas stations, and only optimization steps can add cells to gas stations."
.
"if the tool does not insert a level-shifter cell, you can use the analyze_mv_design -level_shifter command to obtain more information."
.
.
.
hard-rule-based redundant via insertion can improve the redundant via rate by treating redundant vias as hard design rules during routing.
the tool retains the clock sinks with mpw violations including their fan-in cells and nets at the time of abstract creation.
"• the set_fanin_sequential_clock_gating_objects command this command allows you to specify registers, hierarchical cells, power domains, or modules to be included in or excluded from fanin-based sequential clock gate insertion."
"table 29 routing constraints guidance description controlling the layers used for routing for information about specifying the routing layers, see specifying the routing resources."
.
the estimated latency offset values are not captured in an sdc file generated by the write_sdc command.
.
"note: by default, layout views are not included in the cell libraries to save the layout views, you must set the lib.workspace.save_layout_views application option to true during library preparation, as described in the library manager user guide."
.
.
-exclude specifies a list of objects to exclude from clock gating.
"by default, nets connected to fixed cells have a weight of one."
.
.
.
.
.
1 the diodes provide unlimited protection.
"when you specify the -run_order top-down option, the tool delays processing for a child block until all parent blocks for the child block are processed."
.
.
.
assigning nondefault routing rules to nets the fusion compiler tool provides two commands for assigning nondefault routing rules to nets: • set_clock_routing_rules this command assigns nondefault routing rules to clock nets before clock tree synthesis.
.
"for example, assume a cell in your library is named and2d4wsulvt."
.
"• to route all clock nets, use the -all_clock_nets option."
.
"fusion compiler™ user guide v-2023.12-sp3 491 chapter 6: routing and postroute optimization routing constraints feedback • to create a path-based routing corridor, use the -path option to specify the path and the -width option to specify the width in microns."
.
.
.
signoff.physical.
.
this feature is on by default.
.
.
.
"by default, the variant cell support in the eco_change_legal_reference command detects the variant mode and settings automatically."
.
.
.
signoff.fix_drc.
.
.
.
.
x x opt-3003 cell is logical hierarchy and not allowed in compile.
.
.
.
.
.
.
"when you link a top-level design, if an abstract view for a lower-level block is available, the tool links to that abstract view by default."
.
.
signoff.create_metal_fill.
.
.
.
the loads of the clock mesh are not finalized until the local subtrees are synthesized in step 6 and routed to the mesh in step 7. therefore the clock mesh can only be analyzed after you complete those steps.
.
.
.
"◦ use the -at_distance_only option to allow the insertion of tap cells only at the specified tap distance, half of the tap distance, or one fourth of the tap distance (for the stagger pattern only)."
.
.
.
.
.
.
.
.
.
.
"to explicitly specify an outer keepout margin, use the -outer option to specify the margin distance for each side."
.
"for example, to remove the new_width_rule routing rule, use the following command: fc_shell> remove_routing_rules new_width_rule modifying nondefault routing rules to change the definition for an existing rule, you must use the remove_routing_rules command to remove the rule and then use the create_routing_rule command to redefine the rule."
.
.
-layer_spacings specifies the minimum spacing for each routing layer.
.
.
.
.
.
you can specify multiple shapes per layer.
.
"fusion compiler™ user guide v-2023.12-sp3 482 chapter 6: routing and postroute optimization routing constraints feedback inserting continuous metal shapes parallel to preferred-direction edges to insert continuous rectangular metal shapes along the preferred-direction edges of the current block, use the derive_perimeter_constraint_objects command with the -perimeter_objects metal_preferred option."
.
the low setting can reduce runtime at a cost of increased violations.
"error, tolerate, repair mid hier.block.port _mismatch_betwe en_views checks whether there is a mismatch of ports between the views of a physical hierarchy bound view is treated as golden and the frame view is recreated to match the bound view error, tolerate, repair mid, bot hier.block.miss ing_design_view _for_abs checks whether the design view for an abstract is missing error, tolerate mid, bot hier.block.inst ance_unlinked checks whether the physical hierarchy reference is not linked properly to the top-level design due to a view change from frame or etm to abstract or design error top hier.block.abst ract_type_non_t iming checks whether the abstract type is not timing error mid, bot hier.block.abst ract_target_use _non_implementa tion checks whether the target use of an abstract is not implementation error mid, bot hier.block.miss ing_core_area checks whether the core area for a physical hierarchy is missing error mid, bot fusion compiler™ user guide v-2023.12-sp3 849 chapter 11: hierarchical implementation checking designs with abstracts for top-level-closure issues feedback table 64 top-level closure checks, policies, and strategies (continued) check description strategy supported policies supported references hier.block.unma pped_logic checks whether unmapped logic is present in the physical hierarchy error mid, bot where • bot signifies bottom level design."
.
.
.
.
.
"by default, the ic validator tool uses the setting defined for the mindensity attribute in the densityrule sections of the technology file."
.
.
.
"when you run signoff design rule checking, the ic validator tool uses the on- disk information for the block, not the information in memory."
.
"this option supports the following additional options: • -lib_cell_input specifies the input pin of the library cell to connect, if it has multiple inputs."
.
.
"◦ all active scenarios of specific corners, use the -corners option."
.
"fusion compiler™ user guide v-2023.12-sp3 512 chapter 6: routing and postroute optimization routing constraints feedback for example, to allow staggering of up to three tracks on the first level, use the following command: fc_shell> set_app_options -name \ route.auto_via_ladder.pattern_must_join_max_number_stagger_tracks \ -value {3 0} figure 112 shows the possible solutions to avoid a blockage on the m3 layer when you allow staggering of up to three tracks."
439 basic zroute flow .
.
figure 147 shows the drc toolbar.
"to do so, define a skew group by using the create_clock_skew_group command."
"2. use the report_repeater_group_constraints command to view the report of the repeater group constraint settings, after setting the variant for cell swapping."
.
.
.
.
.
.
.
.
"after running the command, you must use the save_block command to save the updated block to disk."
.
.
"to specify logical hierarchies in which feedthrough buffers are allowed or not allowed, use the -include_logical_feedthrough_hierarchy or -exclude_logical_feedthrough_hierarchy option, respectively."
"• exceptions for timing paths and constraints for boundary paths, see the “constraining timing paths” topic in the fusion compiler timing analysis user guide."
.
.
.
.
.
.
.
the i2 and i3 pins are excluded from the length matching constraint.
.
.
.
-valid_layers specifies the layers on which to route the differential group.
.
.
.
.
.
.
"for more information, see creating differential groups."
.
.
.
.
.
846 prerequisites for handling early design data .
fusion compiler™ user guide v-2023.12-sp3 977 chapter 13: eco flow placing and mapping eco cells to spare cells feedback • map the spare cells that are already placed by the target spare cells by using the -map_spare_cells_only option.
see track adherence options.
"to exclude boundary paths from concurrent clock and data optimization, set the ccd.optimize_boundary_timing application option to false."
.
.
"this command does not derive equivalent library cells for preexisting buffers and inverters, therefore, you must manually specify the buffers and inverters to use for clock tree synthesis, as shown in the following example: fc_shell> set_lib_cell_purpose -include cts \ {tech_lib/clk_buf* tech_lib/clk_inv*} fc_shell> derive_clock_cell_references fc_shell> synthesize_clock_trees instead of automatically specifying the equivalent library cells of the preexisting clock tree cells as clock tree references, you can generate a tcl script that specifies the equivalent library cells of the preexisting clock tree cells as clock tree references."
.
"if this occurs, it means that the original constraints used to constrain the block in the fusion compiler tool cannot be used for signoff purposes; instead, you must write out the constraints from the fusion compiler tool and include these constraints with the resulting block."
.
"you do not need to specify the location of the template libraries on disk, which is automatically created by the analyze command based on the -hdl_library option."
.
.
"after this process finishes, the tool optimizes each design copy based on the unique context of its cell instance."
"updating via ladders you can use the following methods to update existing via ladders in a design: • use the refresh_via_ladders command • automatic updates during the route_group, route_auto, and route_eco commands is enabled by default by setting the route.auto_via_ladder.update_during_route application option to true both of these methods perform the following tasks: • verifies the existing via ladders based on the current via ladder constraints • removes invalid via ladders • inserts via ladders where needed based on the settings of the route.auto_via_ladder application options by default, the tool ◦ updates all pins with via ladder constraints, whether on signal nets or clock nets by default, during the route_group command, the via ladder updates is restricted to only those nets specified in the route_group command by setting the route.auto_via_ladder.update_on_route_group_nets_only application option to true."
.
.
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 469 chapter 6: routing and postroute optimization routing constraints feedback table 29 routing constraints (continued) guidance description prioritizing routing regions to prioritize routing regions, use an access preference routing guide."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"to do this, set the -virtual_flat option to top_and_interface_routing_only."
"for example, if the run directory for the initial track-based metal fill insertion run is named init_fill, use the following command to fix isolated vias using the existing fill shapes: fc_shell> signoff_fix_isolated_via -update_track_fill true \ -track_fill_runset_include_file init_fill/track_fill_params.rh for information about performing track-based metal fill insertion, see track-based metal fill insertion."
it creates a collection named epl_legalizer_rejected_cells that consists of such eco cells that are not legalized.
.
.
.
.
.
c. run the check_mv_design command and fix all multivoltage issues.
.
.
.
.
"in addition to inserting metal shapes along the preferred-direction edges, you can insert short metal shapes perpendicular to the nonpreferred-direction edges, as described in inserting short metal shapes perpendicular to nonpreferred-direction edges."
"fusion compiler™ user guide v-2023.12-sp3 569 chapter 6: routing and postroute optimization analyzing the routing results feedback to disable checks for routing drc violations, set the -drc option to false."
.
this command honors the settings you specify with the set_latency_adjustment_options command.
the rest of the name follows standard clock- fusion compiler™ user guide v-2023.12-sp3 318 chapter 4: clock gating fanin-based sequential clock gating feedback gate naming conventions.
.
.
"by default, the tool uses the following naming convention for inserted tap cells: tapfiller__library_cell_name_r#_c#_number to identify the tap cells inserted in a specific run, use the -prefix option to specify a prefix string."
.158 considering dft connections during placement .
.
.
.
.
.
"when you specify the -run_order bottom-up option, the tool begins by processing the child blocks, then processes the parent blocks."
.
.
.
.
.
.
.
.
.
739 removing metal fill with the ic validator tool .
.
.
.
.
.
.
.
they are converted to spare cells and remain in the design.
.
.
.
.
.
.
.
.
.
.
.
place_group_repeat ers unplace_group_repeat ers eco-259 warning: the number of cells from repeater group (%d) is not consistent with the number of drivers from driver group (%s).
.
.
.
-touching (optional) specifies a rectangular region in the format of {{x1 y1} {x2 y2}} in which all geometry layers that touch the specified region are reported.
.797 overriding the alignment when adding objects .
.
.
.
.
"to specify the number of columns and rows the cells occupies, use the -num_columns and -num_rows options respectively."
.
"to modify the stacking order of the voltage area shapes, use the set_voltage_area_shape command, as described in modifying the stacking order."
.
-x_offset -y_offset specify a corner for the anchor point set by the -x_offset and -y_offset options.
.
"you can relax the adjoining cell spacing rule by setting the cts.placement.cell_spacing_rule_style application option to maximum, in which case the tool uses the larger of the spacing settings between two adjoining cells instead of the sum of the spacing settings."
.
.
"by default, the tool uses the worst corner associated with the mode in which the subtree options are defined."
"to implement the mutliplexer logic, the hdl compiler uses select_op cells, which the fusion compiler tool map to combinational logic or multiplexers in the logic library."
.
.
note: -strategy is not applicable for the hierarchical checks.
.
.
excluded_cell_types {} specifies the cell types to exclude from checking.
"you must specify the name of the library cell to use for tap cell insertion (-lib_cell option) and the maximum distance, in microns, between tap cells (-distance option)."
.
.
.
"you cannot control the naming of the error data file generated by the check_routes command, but you can rename the error data file after running the command."
"if in one clock cycle the registers in bank r0 are disabled (in other words, enable signal en0 is 0), those registers do not change their values."
.
.
.
"the eco1 cell is of type buf2, at location (100, 70), connecting to a routing shape on the m3 layer."
"for example, if the clk1 port is the root of the clk1 clock tree, use the following command to set its driving cell as the clkbuf cell in the mylib cell library: fc_shell> set_driving_cell -lib_cell mylib/clkbuf [get_ports clk1] • if the clock root is an input port with an i/o pad cell, you must accurately specify the input transition time of the input port."
"when you use this option, the command only checks the existing filler cells; it does not insert filler cells."
.
.
.
.
.
.
.
an ideal clock incurs no delay through the clock network.
.
the annotated net delay arcs are defined from the anchor driver.
.
.
.
.
.
the tool then reports all missing vias found in the geometry with voltage values in the missing via report.
"to force the tool to re-create the abstract, use the -force_recreate option."
.
.
.
.
"to perform ir-drop-aware placement during the clock_opt command, use the following steps: 1. run the clock_opt command through the route-clock stage by using the clock_opt -to route_clock command."
.
.
.
.
.
.
.
.
sinks of the driven clock are not considered sinks of the driving clock.
.
.
.
.
.
.
global-route-based buffering benefits designs with high congestion in routing channels such as the channels between banks of macros.
.746 using custom router in the fusion compiler tool .
.
.
.
.
.
.
"figure 181 compression of a relative placement group with a cell that straddles multiple rows 4 3 2 1 0 0 1 3 4 2 cell u5 straddles two rows for information about adding cells that straddle multiple rows or columns to a relative placement group, see adding leaf cells."
"the constrained cells are shown in red, while the unconstrained cells are shown in green."
.
you can specify only one via ladder each time you use the set_via_ladder_candidate command.
.
.
.
.
.
.
.
.
257 specifying optimization targets at the preroute stage .
.
"however, the discharge path should not allow current to flow during normal chip operation."
"to specify the constrained filler cells, use the -constraint_fillers option."
.
.
.
.
the command derives the following information from the technology file • the cut layers that connect the specified metal layers • the cut names • the minimum required length for each metal layer note: you must open the block before running the generate_via_ladder_template command to ensure that the command has access to the technology data for the block.
.
.
"1. to refine pin locations and enable pin movement, use the following command: fc_shell> set_hierarchy_options -enable_pin_movement true -blocks {list of blocks} 2. to report the settings applied with the set_hierarchy_options command, use the report_hierarchy_options command."
"to analyze the current density on pg nets and identify the segments with potential electromigration issues, run the analyze_rail -electromigration command."
.
.
.
.
the underflow of 3 for the metal4 layer is not used in the calculation.
.
.
.
.
.
.
.
.
.
.
.
.
.
"for example, to remove the sink pin definition from the u2/a pin for the clk clock, use the following command: fc_shell> remove_clock_balance_points -clock [get_clocks clk] \ -balance_points [get_pins u2/a] defining insertion delay requirements to override the default phase delay of zero for sink pins (derived or user-specified), use the -delay option with the set_clock_balance_points command to specify the fusion compiler™ user guide v-2023.12-sp3 345 chapter 5: clock tree synthesis defining the clock trees feedback insertion delay requirements."
fix_isolated_via.
.
.
.
.
.
.
.986 allowing repeater groups over macros .
373 performing concurrent clock and data optimization during the clock_opt command .
.
.
.
.
.
.
.
.
you must specify a collection of clock gates to be reported.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 422 chapter 5: clock tree synthesis implementing multisource clock trees feedback figure 96 vias in the substrap topology driver and load pins clock mesh stripe on substrap on intermediate higher routing layer routing layers for the substrap topology, you ◦ must specify the layers in which to create the substrap by using the -sub_strap_layers option ◦ can specify the maximum rc delay allowed for the substrap by using the -sub_strap_max_delay option the default is 2 ps."
.
.
.
.
.
.
.
.
.
.
.
.
you can allow new ports to be added to a block by using use the set_freeze_ports command.
.
.
.
.
"optimizing pin access during legalization for advanced technology nodes, to improve the routability of areas with high pin densities by redistributing the cells, enable pin optimization during legalization by setting the place.legalize.optimize_pin_access_using_cell_spacing application option to true."
.
.
.
.
.
.
.
.
3. complete the dft insertion.
you can perform up to six rerouting phases by specifying ultra effort.
fusion compiler™ user guide v-2023.12-sp3 601 chapter 7: chip finishing and design for manufacturing finding and fixing antenna violations feedback setting the diode protection mode the diode protection mode specifies how much protection the diodes provide.
.
.
.
"by default, during clock-gate insertion, the compile_fusion command uses the clock gating default settings and also honors the setup, hold, and other constraints specified in the logic libraries."
.
.
.
.
.
"by default, the command reports the following information for each routing corridor: its name; the shapes associated with the routing corridor, including their names, minimum routing layer, maximum routing layer, and boundary; the connectivity of the routing corridor shapes; and the nets and supernets associated with the routing corridor."
.
"4. specify voltage ranges for specific corners by using the set_vopt_range command, as shown in the following example: fc_shell> set_vopt_range -corner c1 \ -low_voltage 0.81 -high_voltage 1.0 fc_shell> set_vopt_range -corner c2 \ -low_voltage 0.81 -high_voltage 1.0 5. specify a total negative slack (tns) and power target and tolerance for voltage optimization by using the set_vopt_target command."
.
.
.
you can use nearly 100 percent redundant via insertion only during initial routing; this method is not supported during eco routing.
.
"therefore, during placement, the tool must minimize the density of such wide cells to ensure that they can be placed and legalized without large displacements."
705 removing pg augmentation shapes .
.
.
.
.
.
.
.
.
.
238 controlling register merging .
"(ndmui-511) 0 restricting the target libraries used by default, the tool can select any library cell from the target library during optimization."
.
.
.
.
.
.
.
.
"• to honor the variant cell groups, which are not sharing timing view, use the set_app_options -name eco.placement.honor_cell_group_not_sharing_timing -value command."
.
.
this figure shows examples of mapping to registers with and without a synchronous reset pin.
.
.
"during filler cell insertion, the create_stdcell_fillers command uses the placement legalizer to ensure that the inserted filler cells honor advanced node placement rules and physical constraints such as placement blockages and keepout margins."
.
you can also specify the minimum and maximum routing layers for the shape by using the -min_layer_name and -max_layer_name options.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"this helps to estimate the latency and power for each subtree, and then tabulates and compares the results of different tap configurations to determine the best solution for power aware flexible h-tree synthesis."
.
.
.
"◦ the technology file defines double-patterning rules to check for drc violations on filler cells before removing them, use the -check_only true option."
.
.
.
.
.
.
.
.
.
.
.
"table 9 commands related to placement attractions to do this use this command define a placement attraction create_placement_attraction add cells to an existing placement attraction add_to_placement_attraction remove cells from an existing placement attraction remove_from_placement_attraction report placement attractions report_placement_attractions find existing placement attractions get_placement_attractions remove existing placement attractions remove_placement_attractions see also • defining move bounds specifying locations for unmapped cells you can specify fixed locations for unmapped leaf cells, so the tool does not move these cells during compile."
.
.
.
.
.
.
.
.
.
.
.
report_clock_gating report total clock-gating statistics of the design.
"• within a command-syntax section, indicates a default, such as include_enclosing = true | false [ ] denotes optional arguments in syntax, such as write_file [-format fmt] fusion compiler™ user guide v-2023.12-sp3 29 about this user guide customer support feedback convention description ... indicates that arguments can be repeated as many times as needed, such as pin1 pin2 ... pinn."
.
.
.
"how the tool uses these displacement thresholds depends on the setting you use for the -legalize_mode option as follows: ◦ free_site_only when you specify this setting, the tool legalizes the eco cells that have available free sites within the specified displacement threshold."
.
"to disable this capability, set the compile.seqmap.identify_shift_registers application option to false."
.
.
.
.
.
533 routing signal nets by using automatic routing .
"to review the required setting, use one of the following methods: • generate a tcl script that contains the settings by using the -output option • report the settings by using the -report_only option • report only the settings that are not set to their required values by using the -diff_only option fusion compiler™ user guide v-2023.12-sp3 211 feedback 3 physical synthesis the fusion compiler tool synthesizes the rtl descriptions into optimized gate-level designs, optimizes them to achieve the best quality of results (qor) in speed, area, and power, and allows early design exploration and prototyping."
.
.
.
.
.
.412 synthesizing the global clock trees .
this option is mutually exclusive with the -enclose_pins option.
.
.
.
figure 150 shows the view settings and hierarchy settings panels with the required settings for displaying fill shapes.
.
.
.
"to make the multibit register name more compact, specify that common hierarchical names should not be repeated by setting the multibit.naming.compact_hierarchical_name application option to true."
.
"if a compatible spare cell is not available, the tool does not size the cell."
.
.
"for the best performance during multithreading, you should limit the number of threads to the number of available cores, which is the number of cpus in the machine times the number of cores per cpu."
.
"for more information about preparing input files, see preparing design and input data for rail analysis."
.
.
.
the circuit in figure 62 has a register bank r1 whose transitive fanin consists fusion compiler™ user guide v-2023.12-sp3 317 chapter 4: clock gating fanin-based sequential clock gating feedback of register bank r0.
.
note: it is not necessary to disable the place.coarse.auto_density_control application option to override the max_density and congestion_driven_max_util values.
a single create_placement_blockage command can create just one type of placement blockage.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 315 chapter 4: clock gating clock gating and multibit registers feedback however, the set_routing_rule command does not allow annotation on the output nets of tool-inserted clock gates, because these nets do not exist until after the execution of the compile_fusion command."
.
.
.
.
.
667 reading blocks for signoff design rule checking .
.
.
.
.
.
.
"fc_shell> remove_redundant_shapes by default, this command reads the drc information stored in the design view of the block and then removes dangling and floating net shapes from all nets in the block based on this information."
.
.
.
.
"the following topics describe these methods: • running ic validator on specific hosts • running ic validator using a job scheduler • running ic validator using hybrid multicore processing for general information about the set_host_options command, see enabling multicore processing."
.
"to specify the location of the ic validator executable, use commands similar to those shown in the following example: setenv icv_home_dir /root_dir/icv set path = ($path $icv_home_dir/bin/linux.64) you must ensure that the version of the ic validator executable that you specify is compatible with the fusion compiler version that you are using."
"1008 27 feedback about this user guide the synopsys fusion compiler tool provides a complete netlist-to-gdsii or netlist-to- oasis® design solution, which combines proprietary design planning, physical synthesis, clock tree synthesis, and routing for logical and physical design implementation throughout the design flow."
.
.
.
.
.
"for example, to enable the ic validator tool to use 4 cores on the current host, use the following command: fc_shell> set_host_options -target icv -num_processes 4 to enable the ic validator tool to use 16 cores (8 cores each on machinea and machineb), use the following command: fc_shell> set_host_options -target icv \ -num_processes 2 -max_cores 4 {machinea machineb} fusion compiler™ user guide v-2023.12-sp3 662 chapter 8: ic validator in-design preparing to run ic validator in-design commands feedback running ic validator using a job scheduler to enable ic validator multicore processing using a job scheduler, use the set_host_options command to specify the following information: • the submit protocol ◦ to use lsf, use the -submit_protocol lsf option."
.
.
.
.
.
the following options are available: option description -test_point specifies the test point position with respect to the latch within the integrated clock gate.
.
.
.
"fc_shell> set_app_options \ -name compile.flow.optimize_ndr_critical_range -value y fusion compiler™ user guide v-2023.12-sp3 183 chapter 2: preparing the design specifying settings for preroute optimization feedback to set the maximum number of nets considered for automatic nondefault routing rules assignment, set the compile.flow.optimize_ndr_max_nets application option to an integer."
"for more information, see half row adjacency rule."
.
.
