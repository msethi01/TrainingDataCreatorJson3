text
.
"to consider the clock-gating cells of a sequential array during placement, set the place.coarse.seq_array_icg_aware application option to true."
od_horiztonal_distance maximum horizontal edge length this rule restricts the horizontal length of a sequence of abutted objects on a specific layer.
"importing the floorplan information a floorplan contains physical constraints such as the core area and shape, port locations, macro locations and orientations, and so on, which are required for performing physical synthesis and optimization."
.
"by default, the route_group command ignores existing global routes, reuses dangling wires and existing detail routes on the specified nets, and runs global routing, track assignment, and detail routing on the specified nets."
.
.
this helps to maintain the redundant via rate in your block.
"by default, the add_spare_cells command honors all placement blockage types."
.
.
.
.
specify the below options to enable multi-rail-scenario rail analysis.
.
.
.
.
.
.
.
.
.
.
.
the tool displays the design rule checking results in the error browser.
"when you run this command, you must use the -of_objects option to specify the nets of interest."
.
zroute also reports the nets changed during eco routing.
.
.
.
.
.
.
• signoff.create_metal_fill.space_to_clock_nets this application option defines the same-layer minimum spacing requirements between metal fill and a net shape of a user-defined clock net that is specified in the -nets option.
.
see also • redhawk and redhawk-sc fusion fusion compiler™ user guide v-2023.12-sp3 699 chapter 8: ic validator in-design improving instance voltage drop by augmenting the power grid feedback standard power grid augmentation standard power grid augmentation inserts as many pg augmentation shapes as possible to lower the instance voltage drop.
.
"if you want an additional report that excludes violations that are not of interest to you, specify the rules to exclude by setting the route.detail.report_ignore_drc application option."
.
.
.
.
.
.
.
.
.
.
.
.
"during optimization, the tool uses the library subset defined in step 1 to optimize sequential cells (both mapped and unmapped) and mapped combinational cells."
.
.
.
.
.
"• to limit the report to a maximum number of cells, use the -max_cells option."
.
"reducing congestion to reduce the congestion of your block, use the following settings: • consider the congestion of each layer separately and improve the accuracy of congestion reduction in coarse placement by setting the place.coarse.congestion_layer_aware application option to true."
fusion compiler™ user guide v-2023.12-sp3 705 chapter 8: ic validator in-design improving instance voltage drop by augmenting the power grid feedback 6. perform guided power grid augmentation by using the fix_pg_wire command with one or both of the following options: ◦ -number_pins this option specifies the number of worst ir-drop violators for which to perform pg augmentation.
.
.
.
"• -top_tap_cell and -bottom_tap_cell fusion compiler™ user guide v-2023.12-sp3 594 chapter 7: chip finishing and design for manufacturing performing boundary cell insertion feedback these options specify a single library cell that is used for the tap cells on the top and bottom boundary rows, respectively."
"defining the bus routing style to route a collection of nets or bundles as a single bus structure (trunk), create a constraint group that defines the bus routing style by using the create_bus_routing_style command."
via layers support the additional values mask_four through mask_fifteen.
seqgens are created during elaboration and are usually mapped to flip-flops during compile.
.
.
.
.
"hard group bound the tool must place the cells in the group bound within a floating region, whose actual coordinates are determined by the tool."
.
.
.
.
.
.
"fc_shell> add_buffer {top/u1001/z} {liba/bufhvt} \ -new_cell_names mynewhvt fc_shell> add_buffer {top/u1002/z} {liba/bufhvt} \ -new_cell_names mynewhvt fc_shell> legalize_placement fusion compiler™ user guide v-2023.12-sp3 524 chapter 6: routing and postroute optimization routing signal nets feedback fc_shell> connect_pg_net -automatic fc_shell> route_group -nets {vdd2} routing signal nets before you route the signal nets, all clock nets must be routed without violations."
.
.
.
you can limit the x by y grid pattern to a specific area by using the -boundary option with the -boxes option.
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 884 chapter 12: redhawk and redhawk-sc fusion specifying ideal voltage sources as taps feedback #required.
.
"just like other design rules, antenna rules are checked and corrected during detail routing."
.
.
"before using primetime delay calculation, use the check_consistency_settings command to verify that the fusion compiler and primetime settings are consistent, as described in checking for consistency in timing analysis and extraction settings in the fusion compiler timing analysis user guide."
.
144 querying placement blockages .
.
"to use this method to reduce electromigration in the block, 1. define clock cell spacing rules for the inverters, buffers, and integrated clock-gating cells in the clock network by using the set_clock_cell_spacing command, as described in defining clock cell spacing rules."
"fixing site name mismatches if the site names used in the def file do not match the site names defined in the technology file, use the -convert_sites option to specify the site name mapping."
.
447 generating via ladder rules for electromigration via ladders .
.
.
see also bus routing options.
"fc_shell> init_hier_optimization -flow pre_route fc_shell> compile_fusion -from final_opto -to final_opto fc_shell> commit_hier_optimization rebudgeting after compile_fusion after running the compile_fusion command with tho, the block interface timing changes as compared to when the blocks were implemented individually."
"to do so, you would use the following command: fc_shell> set_clock_balance_points -clock [get_clocks clk] \ -consider_for_balancing false -balance_points [get_pins u2/a] figure 74 user-defined ignore pin clk a b u2 to report the user-defined ignore pins, use the remove_clock_tre_exceptions comand-stop_pinscomandsremove_clock_tre_exceptions-stop_pinsreport_clock_balance_points command."
.
.
.
.
.
.
.
.
mx_min_fill_length derived from minarea9 specifies the minimum length of the metal fill shapes.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 557 chapter 6: routing and postroute optimization performing eco routing feedback to fix signal electromigration violations, use the fix_signal_em command, which performs the following tasks: • runs signal electromigration analysis for nets by calculating the current on every edge of a net and comparing it with the constraints set by the read_signal_em_constraints command."
.
285 introduction to clock gating .
this application option is not used for track-based metal fill insertion signoff.physical.
.
.
.
.
.
.
.
.
684 setting options for signoff drc fixing .
.
.
.
.
.
.
"setting the policy for early data checks to set or modify the policy for all the checks, or modify the policy settings for data checks, use the set_early_data_check_policy command."
.
.
.
"this option can only be used with the -respect_voltage_areas or -voltage_area_specific_lib_cells option, and the voltage area you specify must be a primary voltage area."
.
"the horizontal straps on layer m7 start at a distance of 20 units from the x-axis and repeat every 100 units, until they reach 1200 units from the x-axis."
.
.
.
.
.
.
"if you use the -enable_source option, you cannot use the -clear, -reset, or -exclude options."
.
.
.
.
.
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 164 chapter 2: preparing the design specifying legalization settings feedback to enable multithreaded advanced legalization, perform the following steps: 1. enable multithreaded advanced legalization algorithms by setting the place.legalize.enable_threaded_advanced_legalizer application option to true."
.
.
"to specify a more restrictive placement constraint for a smaller group of cells, create a move bound or group bound by using the create_bound command."
.
"for more information on this application option, see the man page."
.
.
.
.
.
.
531 track assignment .
.
.
.
.
623 defining a customized via mapping table .
.
.
.
"listing voltage grid boxes by index by default, the tool searches three rows up and down and three columns left and right to determine the neighboring grids of the current one."
.
.
.
.
.
.
"for more information about the congestion map, see generating a congestion map."
.
.
"• to read the gdsii or oasis data for specific reference cells, specify the stream files by setting the signoff.physical.merge_stream_files application option."
.
.
.
.
fc_shell> legalize_rp_groups -legalize_over_rp rp3 figure 186 shows the placement before and after running the command.
.
.
.
.
.
.
.
.
.
.
.
.
.
312 merging clock gates .
.
.360 enabling local skew optimization .
"fusion compiler™ user guide v-2023.12-sp3 364 chapter 5: clock tree synthesis specifying the clock tree synthesis settings feedback by default, the tool creates the skew group for the current mode."
.
.
.
.
.
"supported objects are hierarchical instances, power domains, and designs."
.
.
10. specify options and settings for tap assignment as described in specifying tap assignment options and settings.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 269 chapter 3: physical synthesis performing design analysis feedback the following example specifies the leakage-power scenario, dynamic-power scenario, clock scenario, and the clock to use for the corresponding summary in the qorsum report: fc_shell> set_qor_data_options \ -leakage_scenario s1 -dynamic_scenario s2 \ -clock_scenario s3 -clock_name sys_clk 2. collect the qor data for your report by using the write_qor_data command."
.
.
.
.
"when you use these settings, the tool performs dynamic-power optimization during the clock_opt command."
.
"to specify modes, corners, or scenarios in which to apply the setting, use the -modes, -corners, or -scenarios option."
.
.
.
.
.
.
"note: relative-placement-cells-only blockages are honored during placement, but not during legalization, optimization, or clock tree synthesis."
.
.
.
.
.
a library cell naming convention can help the tool identify cell families in the subsequent steps of the flow.
.
.
.
"you can control the following aspects of the filler cell checking: • the string used to identify the filler cells to specify a different string to identify the filler cells, use the -name option."
.
"for example, you might view the route_opt command results for three different runs at once."
.
.
.
.
.
v routing: overflow = 160 max = 2 (grcs = 2) grcs = 161 (0.04%) phase3.
.
.
"* to use the hybrid flow for custom routing, set the custom.route.hybrid_flow application option to on."
.
.
.
"all multiplexer cells in the target library can be used to construct the implementation of the mux_op cell except • enabled multiplexer cells • bused output multiplexer • multiplexers larger than 32 : 1 for fusion compiler to make the best use of the multiplexer cells available in your logic library, recompile the library or obtain a library compiled with version v3.4a or later from your asic vendor."
.
.
.
.
"to set up leakage optimization, 1. enable at least one scenario for leakage power by using the set_scenario_status -leakage_power true command."
.
.
.
.
.
.
.
.
"3. apply any block-specific constraints and settings required for synthesizing the top block and read in the test models for the subblocks as shown in the following example: fc_shell> read_test_model block1.ctl fc_shell> read_test_model block2.ctl fc_shell> create_test_protocol 4. insert dft logic and synthesize the top-level design by using the following commands: fc_shell> compile_fusion -to initial_opto fc_shell> insert_dft fc_shell> compile_fusion -from initial_place fusion compiler™ user guide v-2023.12-sp3 823 chapter 11: hierarchical implementation performing hierarchical synthesis using etms feedback performing hierarchical synthesis using etms during the hierarchical flow, block designs are represented as a macro with a frame view, and the implemented blocks are modeled as extracted timing models (etms) for the top- level implementation of the design."
.
.
.
"when auto is specified, the tool automatically decides which comparison logic to use based on switching activity information."
.
.
"each pin section specifies the template associated with a pin, where the pin name can include the asterisk wildcard character (*)."
.
.
.
.
.
"to check whether the filler cells inserted in the current block result in the lowest possible leakage power, use the -leakage_vt_check option with the create_stdcell_fillers command."
.
4. save the block to disk.
specify the column and row position within the relative placement group at which to add the cell by using the -column and -row options.
you must successfully commit the power intent before you continue with the design flow.
.
.
.
.
.
.
only a subset of these pins is used depending on the type of cell that is inferred.
.
328 self-gating flow .
.
.
.
.
"when you terminate a process or the shell, no data is saved."
"by default, these constraints apply to all corners associated with the current mode."
.
"by default, the search range distance is two times the layer pitch."
.
.
.
.
.
.
.
.
.
.
.
• the toggle rate of a register's clock signal is so low that clock gating provides no benefit.
.
you can use a routing guide to encourage river routing within the routing guide boundary.
.
.
the report_clock_gating -ungated command reports a new reason for registers that are not gated due to enable exclusion.
.
.
"it can be accessed either by clicking the focused view toggle button at the top of the report (see figure 1), or by clicking on the frozen columns on the left side of the detailed table."
.
.
note: the support for spacing constraints between standard cells and power or ground nets depends on how the net is represented in the block.
.
894 fixing missing vias .
.
"3 diode protection is limited; if more than one diode is connected, the sum of the maximum antenna ratios for all diodes is used."
.
.
.
"controlling the adjustment of i/o clock latencies by default, the tool adjusts the latencies of the i/o clocks, which are the clocks that constrain the boundary ports, when it performs concurrent clock and data optimization during the clock_opt command."
.
.
.
.
.
"the following example specifies the path to the primetime executable and the settings for distributed processing: fc_shell> set_host_options -name pteco_host_option \ -submit_command ""/lsf/bin/bsub -r \""rusage\[mem=$mem\]\"""" fc_shell> set_pt_options -pt_exec /snps_tools/pt/pt_shell \ -host_option pteco_host_option if there is a .synopsys_pt.setup file in the current working directory, the fusion compiler tool uses the information in this file."
"before reporting the final drc violations, zroute merges redundant violations."
.895 running rail analysis with multiple rail scenarios .
.
slash (/) and colon (:) characters are not allowed in library names.
.
.
.
.
.
.
.
.
fc_shell> check_error -verbose {des-001} 1 the result shows that the des-001 message id was issued during the link command step.
• the wire lengths between the μbumps and the c4 bump are equal.
.
.
255 useful skew .
.
the default is 0.
.
"to change the preference to diode insertion, set the route.detail.antenna_fixing_preference application option to use_diodes."
.
.
302 replacing clock gates .
.
.
.
.
.
.
.
"• to add a metal fill shape in the top-level fill cell, use the create_shape -shape_use area_fill command."
.
.
.
tool- inserted clock-gating cells do not have a wrapper hierarchy.
"table 20 levels of boundary optimization and the corresponding types of boundary optimization performed level of boundary optimization constant propagation unloaded propagation equal-opposite logic propagation phase inversion all enabled enabled enabled enabled auto enabled enabled disabled disabled none disabled disabled disabled disabled you can control the specific types of boundary optimization allowed for an object by using the -constant_propagation, -unloaded_propagation, -equal_opposite_propagation, and -phase_inversion options."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"table 15 settings for the opt.common.advanced_logic_restructuring_mode application option to do this use this setting perform no restructuring none (default) perform restructuring to improve the area qor area perform restructuring to improve the timing qor timing perform restructuring to improve the power qor power perform restructuring to improve the area and timing qor area_timing perform restructuring to improve the timing and power qor timing_power perform restructuring to improve the area and power qor area_power perform restructuring to improve the area, timing, and power qor area_timing_power fusion compiler™ user guide v-2023.12-sp3 184 chapter 2: preparing the design setting up for power-related features feedback when restructuring, the tool does not • restructure across logical hierarchy • consider cells with dont_touch, size_only, or fixed attributes • accept the results if it increases the wire length however, if your design does not have congestion or routing issues, you can specify that the tool accepts the restructuring results even if it increases the wire length by setting the opt.common.advanced_logic_restructuring_wirelength_costing application option to medium or none."
.
.
.
.
.
increasing the effort level to high can increase the redundant via rate by about 3 to 5 percent by shifting the vias to make room for additional vias.
"10. analyze the clock mesh by using the analyze_subcircuit command, as described in analyzing the clock mesh."
.
.
.
.
.
defining well supplies for gas station voltage areas provides flexibility for using gas stations for different design styles.
.
.
.
"• repair: when you apply this policy, the tool mitigates the violation using one or more repair strategies and records it."
.
.
"to remove loops, use the -remove_loop_shapes true option."
.
.
.
.
.
.
"fc_shell> set_app_options ccd.optimize_boundary_timing false reducing dynamic voltage drop when running the compile_fusion command, you can reduce dynamic voltage drop across a block by enabling dynamic power shaping optimization by setting the compile.flow.enable_dps application option to true."
you can limit the selection by using one of the following methods • limit it to specific clock by using the -clocks option.
"4. initial_drc during this stage, the tool removes existing buffer trees and performs high-fanout-net synthesis and electrical drc violation fixing."
.
.
.
.
.
.
.
.
.
"• specify different single-rail and dual-rail library cells for different voltage areas, use the -select_mv_buffers option and specify the list of library cells by using the {va1 single_rail_lib_cell1 dual_rail_lib_cell1 va2 single_rail_lib_cell2 dual_rail_lib_cell2 ...} format."
.
.
.
.
.691 summary report for automatic design rule fixing .
table 66 application options for specifying design and input data application option description rail.lib_files specifies the library files in .lib format.
.
.
.
.
.
.
error toleration and repair is mainly provided for managing data violations during the early design exploration phases.
.
.
"for example, {m1 5.0 m2 6.0} -shield_placement specifies the trunk shielding placement."
.
.
.
the tool keeps a separate count of levels and stages for all clock gates and for tool- inserted clock gates.
.
.
the terminals of a must-join pin are specified with the must_join_port library pin attribute.
.
.
reporting cross-probing information for optimized registers the compile_fusion command mergers registers and removes constant and unloaded registers during register optimization.
"fusion compiler™ user guide v-2023.12-sp3 976 chapter 13: eco flow placing and mapping eco cells to spare cells feedback when you use this option, the filler cells are removed if they do not have a fixed placement and they overlap with eco cells."
.
.
verification checkpointing allows the fusion compiler and formality tools to synchronize on an intermediate netlist and in turn results in higher completion rates and better qor.
.
.
.
.
"during tho, the tool optimizes the top-level and specific subblocks (design views) in the context of top-level timing."
.
.
.
.
.
.
.
.
.
"fc_shell> init_hier_optimization -flow post_route -detached_hier_route_eco fc_shell> route_opt fc_shell> hier_route_eco fc_shell> commit_hier_optimization note: when the hyper_route_opt command is used in this way, the tool ignores the setting and does not distribute the eco routing."
.
.
you must specify the supply net with which this tap is associated by using the -supply_net option.
.
you can configure different error conditions in different ways.
.
.
the default is 0.
.
.
.
.
.
.
.
.
.
.
.
"soft move bounds are honored during coarse placement, but not legalization."
.
.
"for example, fc_shell> set_app_options \ -name rail.lib_files \ -value {test1.lib test2.lib} rail.tech_file specifies the apache technology file for performing pg extraction and pg electromigration analysis."
.
"with power switch cell sizing, the tool supports different drive strength and voltage threshold to reduce ir (voltage) drop in the design."
.
.
.
.
.
.
.
.
"to remove all multicore configurations, use the -all option."
.
.
.
.
.
"if the derived clock trees do not meet your requirements, you can define clock trees as described in the following topics: • deriving the clock trees • defining clock tree exceptions • restricting optimization on the clock network • copying clock tree exceptions across modes fusion compiler™ user guide v-2023.12-sp3 339 chapter 5: clock tree synthesis defining the clock trees feedback • deriving clock tree exceptions from ideal clock latencies • handling endpoints with balancing conflicts deriving the clock trees the fusion compiler tool derives the clock trees by tracing through the transitive fanout from the clock roots to the clock endpoints."
"• to enable timing-driven mode, set the route.track.timing_driven application option."
.
.
.
.
7. model the delays of the mesh nets using set_annotated_delay and set_annotated_transition commands.
.
.
.
.
.
.
.
figure 132 fixing maximum stacking violation by reordering fill1 vt1 fill1 vt1 fill2 vt1 10um fill2 vt1 fill3 vt1 fill3 vt2 fill2 vt2 fill2 vt2 fusion compiler™ user guide v-2023.12-sp3 651 chapter 7: chip finishing and design for manufacturing inserting filler cells feedback maximum vertical edge length rule the maximum vertical edge length rule restricts the vertical length of a stack of certain filler cells and standard cells.
.
"• to insert boundary cells only around specific objects, use the compile_targeted_boundary_cells command with the -target_objects option."
"◦ (optional) by default, the analyze_rail command automatically generates a gsr file for running redhawk rail analysis."
-column specifies the number of columns into which to divide the whole region.
.
the tool merges the voltage area shapes based on their stacking order.
.
"by default, the command reads an unencrypted itf file."
.
.
.
.
.
.
.
825 running the hierarchical synthesis flow using etms .
"to specify a name prefix for the new cells and nets, use the -cell_prefix and -net_prefix options, respectively."
.
.
.
.
.
.
this example sets the dont_touch attribute on the clk clock network.
.
"fc_shell> signoff_check_drc -unselect_rules {list_of_dpt_rules} note: to determine the double-patterning rules for your technology, see the design rule manual (drm) provided by your vendor."
.
.
.
.
.
.
.
"when using etms at the top-level, you can perform synthesis, top-level placement, optimization, clock tree synthesis, routing, and postroute optimization using the commands supported at the block level."
.
.
.
.
.
"• if your technology specifies a maximum area for these floating shapes or you need more flexibility in placing the metal shapes, insert multiple metal shapes, called metal stubs, along the preferred-direction boundary edges, as described in inserting metal stubs parallel to preferred-direction edges."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"if you do not specify this constraint, the clock tree synthesis default is 0.5 ns."
.
.
.
.
"• to specify a name for the routing corridor, use the -name option."
"for example, assume that the technology file defines the via12 layer between the m1 and m2 metal layers and the via23 via layer between the m2 and m3 metal layers."
.
.
.
2.
.
.
.
.
this command reports both the user-defined sink pins and the user-defined ignore pins.
"you can set default values for the antenna properties, which apply to cells that do not have antenna properties defined in the reference libraries."
.
check if the current reference of cell is illegal for the reported issue.
(place-042) information: ending 'create_placement' (flw-8001) fc_shell> report_early_data_checks -check place.coarse.missing_scan_def check policy strategy fail count ------------------------------------------------------------- place.coarse.missing_scan_def error 1 ------------------------------------------------------------- the following example specifies that the tool should be lenient with regards to all data checks related to coarse placement.
.
.
"to report the information for specific path endpoints, specify the corresponding clock pins by using the -pins option."
note: the compile.clockgate.substring_list_for_dft_wrapper_dont_rename_icgs application option does not have any effect on the -gating_wrapper_cells_only querying option.
.
"in this case, you should use concurrent soft-rule-based redundant via insertion to improve the redundant via rate."
"the valid values are fusion compiler™ user guide v-2023.12-sp3 381 chapter 5: clock tree synthesis implementing clock trees and performing post-cts optimization feedback ◦ auto, the default, which enables all optimization types, including buffering ◦ size_only, which enables sizing only ◦ equal_or_smaller_sizing, which enables sizing only to cells that are the same size or smaller ◦ footprint_sizing, which enables sizing only to cells with the same footprint 4."
.
.
.
.
.
.
.
.
zroute considers routing blockages to be hard constraints.
.
.
.
.
.
.
.
.
"◦ to ignore child-level violations, set the signoff.check_drc.ignore_child_cell_errors application option to true."
.
.
.
.
.
.
timeout value is 100 and the number of cores to use is 2. example 52 > set_host_options -submit_protocol sge \ -submit_command { qsub -p normal } > analyze_rail -submit_to_other_machines -voltage_drop \ static -nets {vdd vss} the above example enables job submission to a machine on the sge farm machine.
.
"for most designs, the default postroute optimization setup produces optimal results."
.
.
.
each message generated by the check_clock_trees command has a detailed man page that describes how to fix the identified issue.
"fusion compiler™ user guide v-2023.12-sp3 55 chapter 1: working with the fusion compiler tool adding changes to a script with checkpoints feedback the following example defines a checkpoint action named gropto, which enables global- route based buffering: create_checkpoint_action gropto { set_app_options -name place_opt.initial_drc.global_route_based \ -value true } the next example defines a checkpoint action named placer_high_effort_cong, which runs high-effort congestion reduction: create_checkpoint_action placer_high_effort_cong { set placer_command [get_current_checkpoint -script] set cong_option ""-congestion_effort high"" eval $placer_command $cong_option } notice the use of the get_current_checkpoint -script command and option, which retrieves the command originally enwrapped by the checkpoint and sets its congestion effort to high (-congestion_effort high)."
.
.
"by considering the congestion of each layer separately, the tool can identify and fix areas with high pin densities that have insufficient resources on the lower layers for making pin connections."
"for example, in figure 78, the gen_reg/q pin is driven by both clka and clkb."
.
.
.
.
.
.
.
"generating hotspots to generate voltage drop hotspots for a power or ground net, use the generate_hot_spots command."
.
.
897 creating and specifying rail scenarios for rail analysis .
.
.
.
.
551 fixing drc violations caused by pin access issues .
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 466 chapter 6: routing and postroute optimization checking routability feedback • shielding checks these checks detect possible issues with shielding by checking for the following conditions: ◦ signal net shapes with a shape_use attribute of shield_route.
.
"to define the boundaries of these shapes, use the -region option with the create_voltage_area command (if you are creating a new voltage area) or the create_voltage_area_shape command (if you are adding shapes to an existing voltage area)."
.
.
use the following options to modify the default behavior: • -rerun_global_router use this option to rerun the global routing even if the block already has a congestion map.
.
.
.
using the fusion compiler™ user guide v-2023.12-sp3 811 chapter 10: physical datapath with relative placement analyzing relative placement groups feedback legalize_rp_groups command for incremental relative placement groups reduces the turnaround time.
.
.
"for example, fc_shell> create_routing_rule new_rule \ -spacings { m1 {0.09 0.15 0.2} m2 {0.09 0.15 0.2} m3 {0.09 0.15 0.2} } \ -spacing_weight_levels { m1 {hard medium low} m2 {hard medium low} m3 {hard medium low} } \ -spacing_length_thresholds { m1 {0.01 0 0} m2 {0.01 0 0} m3 {0.01 0 0} } specifying the routing effort for soft spacing violations by default, zroute does not fix soft spacing violations."
fusion compiler™ user guide v-2023.12-sp3 682 chapter 8: ic validator in-design performing signoff design rule checking feedback fusion compiler™ user guide v-2023.12-sp3 683 chapter 8: ic validator in-design performing signoff design rule checking feedback automatically fixing signoff drc violations zroute can use the signoff drc results generated by the signoff_check_drc command to automatically fix the detected design rule violations.
.
.
.
.
you can route the signal nets by using one of the following methods: • use the task-specific commands to perform the standalone routing tasks.
.
.
.
.
"when you set either of these options to true, extra effort is required to connect the shielding wires to the power and ground network and any shielding wires that are not connected to the power and ground network are deleted."
.
.
539 defining the shielding rules .
.
.
this can be ◦ error: the tool issues an error message if the check does not support error as a policy.
.
.
.
"to trace the calculated minimum path resistance with the mpr interactive tracing tool, 1. in the gui, choose task > rail and then select analysis tools from the task list to open the task assistant window (see figure 208)."
you can force the global router to perform the maximum number of phases based on the specified effort level by setting the route.global.force_full_effort application option to true.
.
"to modify the power intent after running the commit_upf command, you must remove the existing upf specification by using the reset_upf command and then reload the power intent."
.
.
"to report all of the fill cells in the hierarchy, use the -hierarchical option."
"zroute global routing considers routing corridors as a hard constraint, while track assignment and detail routing consider routing corridors as a soft constraint and might route nets slightly outside of the routing corridor to fix drc violations."
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 959 chapter 13: eco flow adding programmable spare cells feedback adding programmable spare cells the fusion compiler tool supports programmable spare cells, also known as gate array filler cells, if they are provided by your vendor."
.
473 defining routing guides .
.
.
"if it cannot find the frame view, the cell is ignored during design rule checking."
.
.
.
.
.
.
"to prevent the tool from deriving skew targets, use the following application option setting: fc_shell> set_app_options \ -name cts.common.enable_auto_skew_target_for_local_skew -value false specifying the primary corner for clock tree synthesis during initial clock tree synthesis, by default, the tool identifies the corner with the worst clock delays and inserts buffers to balance the clock delays in all modes of this corner."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 458 chapter 6: routing and postroute optimization inserting via ladders feedback to output detailed information about insertion failures, use the -user_debug true option."
.
"in these figures, the small filler cells are shown in red, while the large filler cells are shown in green."
.
"by default, the configuration applies to all fusion compiler commands that support multicore processing."
.
.
"to prevent connections to the standard-cell rails, set the -ignore_shielding_net_rails option to true."
.
.
"figure 210 waiting for available licenses during distributed redhawk fusion run invoke analyze_rail check the number of available licenses script 1 script 2 license 1 license 2 script 3 script 4 script 5 script 6 1 3 5 2 4 6 set rail.license_checkout_mode to wait the tool first submits two scripts to the farm machines, because there are only two licenses available."
"when you run this command, you must specify the technology node for which to perform the augmentation by using the -node option."
• there is no existing cut metal shape in the location.
.
enables or disables the error environment overlay of gdsii or oasis shapes from lower level cells that contribute to drc errors.
.
"for each net, the engine provides a virtual routing length before real routing."
.
.
.
.
you can specify the switching probability for one or more supply nets by using the set_supply_net_probability -static_probability command.
.
.
.
.
.
"figure 46 shows a latch-based clock-gating cell and the waveforms of the signals are shown with respect to the clock signal, clk."
.
.
fusion compiler™ user guide v-2023.12-sp3 694 chapter 8: ic validator in-design performing signoff design rule checking feedback ◦ specify the number of view levels in the “view level” field.
.
a synchronous reset or preset coding style on a latch always results in combinational logic on the data signal even if the library has latches with synchronous reset or preset pins.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 384 chapter 5: clock tree synthesis implementing clock trees and performing post-cts optimization feedback scaling ccd offsets to new scenarios for reporting timing to copy concurrent clock and data (ccd) offsets to the new scenarios for consistent timing or qor reports, use the copy_useful_skew command."
.
"then create a group, rp4, that contains all these groups."
.
"note: in the redhawk-sc rail analysis flow, you must specify both the -effective_resistance and -voltage_drop options for effective resistance calculation."
.
.
"the tool considers the hold scenario only for concurrent clock and data optimization, but not for other optimization steps."
.
.
.
.
.
.
.
.
.
.
any of the available power domains is acceptable because all diode cells are single-rail cells and all power domains in the same voltage area have the same primary supply.
.
.
.
.
.
.
"interclock delay balancingruningto perform interclock delay balancing, use the balance_inter_clock_delay comandcomandsbalance_inter_clock_delaybalance_clock_groups command."
.
.
.
.
.
.
.
.
.
.
"to try to fix the drc violations by flipping the cells instead of adding keepout margins, use the -flip option."
.
.
.
"• the routing guides abut the preferred-direction edges • the routing guides are offset from the nonpreferred-direction edges by the minimum spacing specified for the routing layer in the technology file to specify a different offset in microns, use the -spacing_nonpreferred option."
.
.
.
.
"by default, the create route tool • ignores routing blockages to force the tool to honor these blockages, change the setting in the mouse tool options panel."
"◦ to allow only flipping of the via arrays during redundant via insertion, use the -transform flip option."
.
.
.
the following example specifies the bus routing style and then performs bus routing.
.
.
.
.
"when you use this option, the tool creates the routing guide in the cell's reference block using the coordinate system of the cell's top-level block."
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 35 chapter 1: working with the fusion compiler tool place and route design flow overview feedback figure 2 fusion compiler place and route flow to run the fusion compiler place and route flow, 1. set up the library data, preparingtiming librarieslogic librarieslibraries and prepare the design data, as described in preparing the design."
"when you specify this object type, the command creates maximum pattern routing guides parallel to each nonpreferred-direction boundary edge."
.
.
"• to insert routing blockages along the preferred-direction edges of the current block, use the derive_perimeter_constraint_objects command with the -perimeter_objects route_blockage_preferred option."
.
.
"if you create a read-only abstract by using the create_abstract -read_only command, the tool does not make the design view of the block read-only and you can save any subsequent changes to the block by using the save_block or save_lib command, as shown in the following example: fc_shell> create_abstract -read_only fc_shell> change_link [get_cells u25] and2 fc_shell> save_block creating a frame view to perform top-level routing, including virtual routing, every abstract view must have a corresponding frame view."
.
"you can specify a value between 0 and 9 for each level; the default is 0, which disables staggering."
.
.
"• if you set both application options, zroute selects redundant vias from the weight groups specified in the route.common.redundant_via_include_weight_group_by_layer_name application, excluding the weight groups specified in the route.common.redundant_via_exclude_weight_group_by_layer_name application option."
.
.
"you can control the following aspects of the filler cell insertion: • the selection of filler cells based on lowest leakage current by default, the command does not consider leakage current when inserting filler cells."
.
.
.
.
"for each cut name, you must specify the minimum number of cuts, which must be an integer between 1 and 255. fusion compiler™ user guide v-2023.12-sp3 502 chapter 6: routing and postroute optimization routing constraints feedback the tool searches for the vias defined in the contactcode section of the technology file that meet the rules defined in the technology file for the specified cut name, such as the cutwidthtbl, cutheighttbl, and fattblfatcontactnumber rules."
"for example, the following command sets the relative placement group orientation to my."
.
.
.
2. run the compile_fusion -to initial_opto command.
.
.
.
.
.
signoff.check_drc_live.
.
.
"figure 118 global route congestion map by default, the congestion map displays only the hard congestion data."
.
.
"use the following commands to work with blocks: • create_block: creates a block • open_block: opens an existing block • current_block: sets or reports the current block • save_block: saves a block • close_blocks: closes a block see also • blocks • working with design libraries reading rtl files in systemverilog, verilog, or vhdl format use the analyze and elaborate commands followed by the set_top_module command."
.
.
.
.
"to remove all via ladders from the block, use the asterisk (*) wildcard character, as shown in the following example: fc_shell> remove_via_ladders * to remove via ladders only from specific nets, use the -nets option."
"if you specify a layer, the resulting area includes the area of every shape on the layer."
.
.
.
.
.
.
"to define the boundaries of these shapes, use the -boundary option with the create_bound command (if you are creating a new move bound) or the create_bound_shape command fusion compiler™ user guide v-2023.12-sp3 146 chapter 2: preparing the design specifying physical constraints for placement and legalization feedback (if you are adding shapes to an existing move bound)."
.
.
.
655 threshold-voltage-based filler cell insertion .
.
4. run the clock_opt command.
.
"the default is high, and by default the tool tries to reduce the voltage drop to less than eight percent of the supply voltage at the expense of the timing qor."
.
"in the following example, all geometries on the minimum resistance path are traced and written to the error cell named test.err."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"figure 82 previous, current, and next path stages by default, the command reports setup slacks at d and q pins of registers."
"this command supports all net types, except power ground nets, by default such as signal nets, clock nets."
.
.
.
.
.
"if the supply nets do not exist, the tool creates them."
"setting stricter minimum width and spacing rules to set stricter minimum width and spacing rules, define a nondefault routing rule and apply it to the affected nets."
"the tool can read rtl designs in systemverilog, verilog, or vhdl and gate-level netlists in verilog format."
.
.
.
.
.
you can also specify a list of relative placement groups to be legalized.
.
.
• the library cells to use by using the -lib_cells option.
.
• -default_ladders this option specifies the via ladder templates to use for all library pins not explicitly specified in the mapping.
• ignores nondefault routing rules if the width plus the spacing requirement of the routing rule is more than ten times the default width plus the default spacing.
.
"checking routability after placement is completed, you can use the check_routability command to check whether your block is ready for detail routing."
.
.
"to remove all voltage areas from a block, use the -all option."
"the redundant via result is measured by the redundant via conversion rate, which is defined as the percentage of single vias converted into redundant vias."
.
"you can control the legalization of the eco cells by using one of the following methods: • to not legalize the cells after eco placement, use the -no_legalize option."
4. perform optimization and other design changes.
you can use the area push tool to move unfixed objects away from a rectangular area on a layer while maintaining their physical connections.
.
.
.
.
a value of 1 enables pin tapering only on the pin layer; a larger value enables pin tapering on additional layers above the pin layer.
"to remove all the filler cells from a block, use the remove_cells command, as shown in the following example: fc_shell> remove_cells [get_cells xofiller*] if you used the standard filler cell insertion flow and want to remove only those filler cells with drc violations, use the remove_stdcell_fillers_with_violation command, as described in checking for filler cell drc violations."
.
.
.
"the output files that are saved to the directory are table 67 output data when running analyze_rail -script_only file name description redhawk redhawk-sc redhawk gsr file contains configuration settings for running redhawk fusion rail analysis yes no lef/def, spef, and sta files generated if you do not specify these input files before running the analyze_rail command yes yes redhawk fusion run script file (analyze_rail.tcl) includes the commands that are required for running rail analysis yes no redhawk-sc fusion run script file (analyze_rail.py) includes the python commands that are required for running rail analysis no yes fusion compiler™ user guide v-2023.12-sp3 880 chapter 12: redhawk and redhawk-sc fusion preparing design and input data for rail analysis feedback supporting redhawk-sc customized python script files redhawk-sc fusion provides application options and commands to read in user- customized python script files."
.
.
.
.
.
.
"• drc violators to report the maximum transition and capacitance constraint violators, use the -type drc_violators option."
.
.
.
.
.
.
.
.
.
this command sets the register_replication attribute on the specified registers and improves the timing by balancing fanout.
.
"for details, see using routing guides to control the routing density."
.
.
.
.
.
.
"◦ to specify a single constrained cell group, use the -constraint_fillers option."
.
250 identifying why multibit banking is not performed .
.
opens the dialog box to view and sets the live drc application options.
.
"• for information about the application options that affect detail routing, see the route.detail_options man page."
.
.
.
"if an error occurs when running a command, the fusion compiler tool raises the tcl_error condition, which immediately stops the script execution."
.
"fc_shell> create_taps -of_objects [get_cells -hier \ *power_pad_cell*] • importing a tap file if you are working with a block that does not yet have pins defined, or if the location or design of the pad cells is not finalized, you can define tap locations, layer numbers, and supply nets in an ascii file and then import it into the tool by using the create_taps -import command."
"◦ to allow only the specified orientation of the via array during redundant via insertion, use the -transform none option."
.
"◦ soft drc violations these are drc violations between a via ladder and a detail routing shape, which can be rerouted."
.
.
617 inserting diodes during detail routing .
.
.
"alternatively, you can select the existing driver of the load net as a template for the clock drivers by using the -template option."
.
.
.
.
.
.
"for example, to have the tool derive the outer keepout margin for a macro named my_macro by using a track-to-pin ratio of 0.6 with a minimum keepout distance of 0.1 and a maximum keepout distance of 0.2, use the following command: fc_shell> create_keepout_margin -tracks_per_macro_pin 0.6 \ -min_padding_per_macro 0.1 -max_padding_per_macro 0.2 my_macro defining an inner keepout margin you can define an inner keepout margin on a hierarchical cell, but not on a hard macro or a leaf cell."
.
specify ◦ the names of the unmapped eco cells by using the -cells option ◦ a name for the output file by using the -output option this output file is a tcl script with netlist editing commands.
.
.
"table 70 analysis maps supported in redhawk fusion flow map type description rail voltage drop map displays the voltage drop map, which is a color-coded display of voltage drop values overlaid on the physical supply nets."
.
zroute uses the default wire width for any layers not specified in the -shield_widths option and the default spacing for any layers not specified in the -shield_spacings option.
the tool inserts the tap cells to ensure that the end-cap cells inserted on the top and bottom boundary rows comply with the maximum diffusion-to-tap distance limit.
14. analyze the clock tree results as described in analyzing the clock tree results.
"figure 73 cascaded clock with two source clocks clk clk1 clk2 • nonclock input pins of sequential cells • three-state enable pins • output ports • incorrectly defined clock pins (for example, the clock pin does not have trigger edge information or does not have a timing arc to the output pin) • buffer or inverter input pins that are held constant by using the set_case_analysis command note: the tool does not synthesize a clock tree if its source is held constant by using the set_case_analysis command."
.
.
.
.
.
.
"• the creation of placement blockages to honor the minimum jog and minimum separation rules, as described in creating placement blockages during boundary cell insertion note: this feature is supported only by the compile_boundary_cells command; it is not supported by the compile_targeted_boundary_cells command."
the default is 3. you can set the width condition by using the -minimum_bitwidth option of the set_clock_gating_options command.
"aligning by the left edges by default, the fusion compiler tool aligns the leaf cells by aligning the left edges."
"figure 201 finding a substitute location for an invalid tap original {x,y} 100 100 100 100 snapped tap removing taps to remove taps that were previously created using the create_taps command, use the remove_taps command."
.
.
.
it allows you to group cells to minimize wire length and place the cells at the most appropriate locations.
212 using the compile_fusion command .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"the following example puts the top 2 percent of cells in the upper category and the next 6 percent of cells in the middle category: fc_shell> set_app_options \ -name place.coarse.ir_drop_default_target_high_percentage \ -value 2.0 fc_shell> set_app_options \ -name place.coarse.ir_drop_default_target_low_percentage \ -value 6.0 instead of using a percentage of the total number of cells to define the cell categories, you can use the cell voltage drop as a percentage of supply voltage by setting the place.coarse.ir_drop_default_target_high_population and place.coarse.ir_drop_default_target_low_population application options to false."
"track adherence options to specify whether the route and corresponding parallel shields, jumpers for parallel shields, and bus shields will snap to the wire tracks or the routing grid, use the custom.route.layer_grid_mode application option."
.
.
.
.
.
the level shifter generates a known logic value during shutdown of the domain.
.
.
.
.
.
.
.
.
.
.
.
.
.
-layer_widths specifies the layer-specific shield width.
.
.
423 performing automated tap insertion and h-tree synthesis .
.
read_layout_views {} specifies the reference cells for which the ic validator tool reads the layout view instead of the frame view.
.
.
.
.
.
"5. update the routing by using the route_eco command, as described in performing eco routing, or by manually rerouting the affected nets."
.
this is a required option.
.
.
.
.
"controlling routing through voltage areas by default, routing can pass through any voltage areas."
.
.
.
47 getting information about commands .
.
.
.
"• advanced library format (alf) an alf file can contain the following types of electromigration constraints: temperature, metal width, and contact area."
.
.
.
.
.
.
.
.
"when you use this option, the gdsii or oasis data replaces the cell library view for the cells defined in the specified stream files, except for cells in the cell libraries specified with the signoff.physical.merge_exclude_libraries application option."
.
.
.
.
.
.
.
.
.
you can explicitly set any open library to be the current library by using the current_lib command.
you can run at most two jobs in the background.
.
.
"if so, run the optimize_routability command to increase the spacing between cells where the drc violations occur."
.
.
.
.
.
.
.
.
.
.
.
30 statement on inclusivity and diversity .
"setting up for power-related features the following topics describe the tasks you need to perform for setting up a design for power-related features: • annotating the switching activity • enabling leakage power optimization for the compile_fusion command • enabling power optimization for the clock_opt command • improving yield by limiting the percentage of low-threshold-voltage (lvt) cells • updating activity for improved power optimization • enabling the power integrity features annotating the switching activity when performing low-power placement and dynamic-power optimization, you obtain better power savings if you annotate switching activity on the design."
.
.
.
.
"• to clear your full checkpoint history, use the reset_checkpoints command."
.
.
.
.
.
"to specify the target filler cells and their replacements, use the following syntax with the -random_replace option: { {target_cell1 {refill_cell1a refill_cell1b ...}} ... } to ignore filler cells that have a physical_status attribute of fixed or locked, use the -skip_fixed_cells option with the replace_fillers_by_rules command."
.
"use the following options to specify the mapping: • -master_pin_map or -master_pin_map_file these options specify the mappings for specific library pins using the following format: { {lib_cell/pin {via_ladder_list}} ...} fusion compiler™ user guide v-2023.12-sp3 455 chapter 6: routing and postroute optimization inserting via ladders feedback to specify the mapping on the command line, use the -master_pin_map option."
.
some logic libraries have mixed-drive-strength multibit registers where some bits have a higher drive strength than others.
.
3. perform secondary power and ground pin routing by using the route_group command.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"if a diode cannot be inserted or reused within the specified distance, the tool does not insert a diode for that violation."
.
.
.
.
.
"enabling leakage power optimization for the compile_fusion command by default, the tool performs leakage power optimization during compile."
"specifying logical design rule constraints minimum capacitance, maximum capacitance, and maximum transition are logical design rule constraints that your design must meet to function as intended."
.
.
"2. set up for redhawk fusion and perform static or dynamic voltage drop analysis by using the analyze_rail -voltage_drop command as shown in the following example: fc_shell> source redhawk_setup.tcl fc_shell> analyze_rail -voltage_drop static -nets {vdd vss} for more information, see performing voltage drop analysis."
.
"to create another type of placement blockage, use the -type option to specify the blockage type."
.
.
.
the following example uses the eco_opt command to fix only timing and drc violations using exhaustive path-based analysis: fc_shell> eco_opt -pba_mode exhaustive -types {timing drc} the following example uses the eco_opt command to improve the leakage power qor.
.
.
.
.
.
.
.
.
-row specifies the number of rows into which to divide the whole region.
.
.
.
.
"to tolerate errors and allow the script to continue executing, either • check for tcl_error error conditions with the tcl catch command on the commands that might generate errors."
.
.
"4. frame views specifying the layers for metal fill insertion by default, the signoff_create_metal_fill command inserts metal fill on all the metal routing layers and via fill on all the via layers."
.
.
figure 163a shows the two possible results when the custom.route.bus_split_even_bits application option is turned off.
.
.
.
.
• the object must be added to an empty location in the relative placement group.
.
.
.
.
.
.
.
.
.
table 23 lists the levels and stages for each of the clock gates.
.
.
.
.
.
.
.
.
.
-histogram (optional) includes a histogram that shows the average voltage drop value per net in the report.
.
.
they also do not require you to use or configure distributed processing.
sequential output inversion is also useful when mapping to a target library with sequential cells that have only one type of asynchronous inputs (either set or reset).
.
.
.
fusion compiler™ user guide v-2023.12-sp3 655 chapter 7: chip finishing and design for manufacturing inserting filler cells feedback ◦ you can use wildcards for the filler cell names.
.
.
.943 voltage hotspot analysis examples .
.
.
.
.
.
.
.
.
.
.
you must define a global antenna rule by using the define_antenna_rule command.
885 validating the taps and finding invalid taps .
892 viewing error data .
.
.
.
.
.
.
.
.
.
.
.809 relative placement in a design containing obstructions .
.
.
.
.
970 specifying settings for the freeze silicon eco flow .
.
.
.
.
"to read an alf file, use the -format alf option."
.
.
.
"checking for filler cell drc violations by default, the remove_stdcell_fillers_with_violation command checks for drc violations between all cell instances with xofiller in their name and top-level signal routing objects and removes the violating filler cells."
.
.
signoff.fix_drc.
"when the physical_variant_cells attribute exists in the logic libraries, the compiled library is variant ready."
specifying library cells as repeaters use the -lib_cell option to specify a library cell as a repeater.
"in figure 55, lat_cgtoreg is the estimated delay from the clock pin of the clock-gating cell to the clock pin of the gated register and lat_reg is the estimated clock-network latency to the clock pins of the registers without clock gating."
you can use this flow to fix timing and drc violations and improve area and power qor at the very late stages of the implementation flow.
.
.
.
.
"◦ select the objects tab and enable visibility for fill cell objects and area fill metal shapes (if you do not see area fill in the object list, expand the route object and shape use attribute)."
.
.
.
.
.
.
.
you must specify the rtl activity file with the -fsdb option and the path to the primepower executable with the -pwr_shell option.
"before running the signoff_create_metal_fill command, you must specify the runset by setting the signoff.create_metal_fill.runset application option."
.
.
.
"by default, wire spreading and wire widening are given equal priority."
.
.
.
.
"for example, you might set an application option to a specific value before a particular checkpoint."
.
.
you do not need to explicitly specify the internal power nets.
"after the tool places and legalizes the relative placement groups, you can remove these blockages and allow the tool to place other cells in them."
◦ select the layers tab and enable visibility for the desired layers.
.
.
.
.
troubleshooting table 73 lists the messages of group repeater placement and insertion for the problems encountered during defining the group repeaters.
.
.
.
769 track adherence options .
.
"• to move a voltage area shape to the top, use the -top option."
"fusion compiler™ user guide v-2023.12-sp3 204 chapter 2: preparing the design specifying the routing resources feedback enabling level-based clock nondefault routing rule during clock tree synthesis, you can assign continuous nondefault routing rule to nets based on different levels of the clock tree."
.
.
"for a horizontal tap wall with two corners, the spacing between the last two cells might be shortened to align with the right corner."
.
• size-only settings these settings identify clock tree cells for which the tool can perform only cell sizing.
"it should only be used for prototype routing or for an initial congestion evaluation, not for detail routing."
.
.
"before such a fusion compiler™ user guide v-2023.12-sp3 38 chapter 1: working with the fusion compiler tool fusion compiler concepts feedback design can physically implemented (placed and routed), its supply sets must be refined, or associated with actual supply nets."
.
.
.
.
.
.
.
.
.
.
.
"the check_clock_trees command checks for the following issues: • clock (master or generated) with no sinks • loops in the clock network • multiple clocks reach the same register because of overlapping clocks, but multiple- clocks-per-register propagation is not enabled • ignored clock tree exceptions • stop pin or float pin defined on an output pin • buffers with multiple timing arcs used in clock tree references • situations that cause an empty buffer list fusion compiler™ user guide v-2023.12-sp3 354 chapter 5: clock tree synthesis verifying the clock trees feedback • generated clock without a valid master clock source a generated clock does not have a valid master-clock source in the following situations: ◦ the master clock specified in create_generated_clock does not exist ◦ the master clock specified in create_generated_clock does not drive the source pin of the generated clock ◦ the source pin of the generated clock is driven by multiple clocks, and some of the master clocks are not specified with create_generated_clock."
.
.
323 clock gate efficiency reporting .
• set_routing_rule this command assigns nondefault routing rules to signal nets and to clock nets after clock tree synthesis.
(optional) perform additional timing eco changes to the design by using netlist editing commands.
.
.
.
.
.
.
the command places the size_only attribute on specified cells or instances to prevent them from being modified or replaced except cell sizing.
.
"• specific cells, use the -cells option."
"after this stage is completed, all the signal routes in the block are global routed."
.
.
"◦ to assign shielding rules to signal nets, use the set_routing_rule command."
the following example performs the steps necessary to compile each subblock in the design.
.
.
.
.
.
212 performing unified physical synthesis .
.796 aligning by the right edges .
.
.
the merged shape replaces the top shape of a set of abutting or overlapping shapes; the other shapes in the set are removed and are no longer associated with the voltage area.
.
"the command places the dont_touch attribute on cells, nets, references, and subdesigns in the current design to prevent these objects from being modified or replaced during optimization."
.
.
.
.
.
.
.
.
.
.139 defining a hard placement blockage .
.
657 controlling threshold-voltage-based filler cell insertion .
.
.
.
.
.
.
.
.
.
.
.
.
.
253 running concurrent clock and data optimization .
.
.
.
.
.
.
.
.
• you can also use the if_not_exists keyword with the -policy option to set a policy on the current design only if the design does not already have a policy set.
.
"analyzing the clock mesh to reduce skew variation, clock mesh structures require higher timing accuracy than traditional clock structures."
.
"if you do not specify a name, the command assigns a name."
.
"by default, this command • does not remove existing via ladders in the block to remove the existing via ladders before via ladder insertion, use the -clean true option."
.
.
.
the tool exits with an error when inconsistent information is provided.
.
.
.
.
.
.
.
.
.
.
.
"signoff eco flow after you perform place and route in the fusion compiler tool, if your design has timing or design rule violations, you can fix these violations in the primetime tool."
.
iterates through the drc violations for the current rule from live drc.
"by default, the signoff_fix_drc command uses advanced routing guidance (all)."
.
.
"when fixing drc violations, the signoff_fix_drc command has the following default behavior: • tries to fix all design rule violations detected in the previous signoff drc run except those design rules that have more than 1000 violations • performs drc fixing on data nets for the whole block to modify the regions for design rule fixing, use one or both of the following options: ◦ -coordinates this option restricts design rule fixing to the specified regions."
.
.
.
.
.
.
.
578 deriving mask colors .
"• how to perform antenna ratio calculation with diode protection (the diode ratio vector) to specify the diode ratio vector, use the -diode_ratio option with the define_antenna_layer_rule command, as described in specifying the diode ratio vector."
.
.
"if you include the library name, the tool does not recognize the diode cells."
specify the routing layers by using the layer names from the technology file.
.
"removing the filler cells can expose new violations; therefore, you must sometimes run this command multiple times to remove all violating filler cells."
.
.
.
.
.
.
the fix_mv_design command can identify and fix violations for buffer trees and diodes.
.
the run_block_script command accepts a tcl script and applies the commands in the script to the blocks you specify.
.
.
fusion compiler™ user guide v-2023.12-sp3 586 chapter 7: chip finishing and design for manufacturing inserting tap cells feedback • the insertion pattern use the -checkerboard option to insert a tap cell in every other location in the specified grid.
.
.
750 creating differential groups .
.
.
"otherwise, the tool issues an error message and terminates the model generation process."
.
• -cutlines specifies the location pairs that define the cutlines.
44 starting the cli .
.
.
.
"the following example excludes all registers in the subdesign adder, except the out1_reg bank."
all physical constraints extracted from the def file are automatically added to the layout view.
.
"if you also specify the -max_displacement_threshold option with -displacement_threshold option, the tool also creates a collection named epl_max_displacement_cells that consists of eco cells with a displacement larger than that specified by this option."
you can include a cell library in more then one libset.
.
◦ dynamic: performs dynamic voltage drop analysis.
you must specify the location of the circuit-level and transistor-level models by using the -driver_subckt_files and -spice_header_files options.
.
.
.
.
"to enable activity driven clock gate relocation, set the cts.compile.power_opt_mode application option to all or gate_relocation."
"• -coordinates and -excluded_coordinates to restrict the regions on which to insert metal fill, use these options, as described in specifying the regions for metal fill insertion."
these same layers can contain prerouted nets such as power and ground nets.
fusion compiler™ user guide v-2023.12-sp3 954 chapter 13: eco flow eco fusion power integrity flow feedback 3. perform optimization by using the eco_opt command.
• custom.route.bus_split_ignore_width • custom.route.bus_split_even_bits the custom.route.bus_split_ignore_width application option specifies the wire width threshold of any obstructing power grid or route that triggers the bus trunk to be split into more than one section.
.
.
.
.
.
"• targets all pins specified in the via ladder constraints, whether on signal nets or clock nets to restrict via ladder insertion to specific nets, use the -nets option."
.
"for example, a cell named a.b_c/d_e is automatically matched with the string a/b_c.d/e in the def file."
.
.
◦ layer.map this file contains the layer mapping file generated by the signoff_check_drc command.
"this includes acceptable results for ◦ congestion if congestion issues are not resolved before clock tree synthesis, the addition of clock trees can increase congestion."
"to see the current settings, use the report_app_options command."
.
"by default, when the hybrid flow is enabled, custom router determines how much space to leave between a route and an unconnected pin."
.
.
the average value is then scaled back in each active scenario using the scaling factor of the scenario corner.
.
.
.
.
.
950 incremental signoff eco flow .
.
.
.
the error cell type is effective voltage drop.
.
"in the example, the total wire length of nets pr1 and pr2 are within the specified 10-um tolerance."
.
.
.
"in many cases, the via ladder rule specifies the maximum number of stagger tracks."
.
.
758 managing constraint groups .
.
.
.
.
timing-preservation mode can slightly increase the redundant via rate while maintaining timing.
"fc_shell> commit_upf the commit_upf command performs global checks for upf consistency; resolves pg conflicts among the netlist, floorplan, and upf specification; and associates power strategies with existing multivoltage cells."
"to fill these empty spaces, use the -fill_remaining option."
.
3. timing update performed after the second rerouting phase.
811 analyzing relative placement groups .
.
.
.
.
you must use the -lib_cells option to specify the rules for filler cell insertion.
.
.
.
639 checking for filler cell drc violations .
the rule level refers to the spacing weight level of the soft nondefault spacing rules.
"the following topics describe the default via mapping table, how to define a customized via mapping table, how to insert redundant vias by using various methods, and how to report the redundant via rate."
.
.
"to change this distance, use the -standard_cell_search_range option to specify a different pitch multiplier, up to a maximum of 10. if you specify a value larger than 10, the command sets the value to 10. by default, the tool does not check whether via connections are fully inside the standard cell pins."
"to improve the manufacturing yield, use the optimize_routes command to perform standalone optimization of wire length and via count after performing detail routing and redundant via insertion."
.
.
.
.
.
.
.
.
"therefore, the m11 layer would have the parameters m12_spare_fill, m12_fill_staggering, and so on."
.
.
.
.
"to enable the insertion of these extra tap cells, use the -preserve_boundary_row_lib_cells option to specify the affected library cells."
.
.
"by default, the error data generated by the check_routability command is named check_routability.err; to specify a different name for the error data, use the -error_data option."
.
"when the tool inserts a level shifter, it sets a atributesize_onlysize_only atributesize_only attribute on the level shifter and a atributesdont_touchdont_touch atributedont_touch attribute on the port-to-level-shifter net."
.
.
.
.
"371 synthesizing, optimizing, and routing clock trees with the clock_opt command ."
.
.
create_repeater_gro ups eco-279 error: %s has multiple(%lu) inputs.
.
.
"• to remove the existing shielding and reshield the modified nets, set the route.common.reshield_modified_nets option to reshield."
"controlling the selection of self-gating objects to override the default behavior of selecting self-gating objects, use the set_self_gating_objects command with the following options: • -force object_list directs the tool to perform self-gating on the listed objects, even if the objects do not pass internal checks."
.
.
.
.
"multibit.banking.across_equivalent_icg to true enable timing-driven banking of power management cells the tool skips fixed cells and cells marked with dont_touch, legalize_only, and user-specified size_only attributes mv.cells.enable_multibit_pm_cells to true include cells with user-specified size_only settings during physical banking and debanking multibit.common.exclude_size_only_cells to false enable multibit register rewiring for thecompile_fusion command compile.flow.enable_multibit_rewiring to true fusion compiler™ user guide v-2023.12-sp3 246 chapter 3: physical synthesis performing multibit optimization feedback to do this set this application option consider the toggle rate when performing rtl-based multibit reordering at the logic_opto stage compile.flow.enable_toggle_aware_rtl_multibit_ reordering to true enable site aware debanking, clock useful skew (cus), driver sizing, and early debanking of bottleneck multibit registers multibit debanking features impact the debanking in the initial_opto (compile_fusion), the final_place, and the final_opto (compile_fusion/place_opt)stages."
.48 using variables .
.
.
"note: you can restrict the regions in which to perform timing-driven metal fill insertion, as described in specifying the regions for metal fill insertion fusion compiler™ user guide v-2023.12-sp3 725 chapter 8: ic validator in-design inserting metal fill with ic validator in-design feedback and performing metal fill insertion only in modified regions; however, you cannot specify the layers."
.
.
.
.
block abstraction model preserved.
"example 10 def routing track information tracks x 330 do 457 step 660 layer metal1 ; tracks y 280 do 540 step 560 layer metal1 ; placement bounds if regions defining bounds exist in the def file, the read_def command imports those placement bounds."
.
.
you can also create multiple placement blockages by specifying the boundary polygon as a geo_mask or a collection of physical objects.
.
.
"the following topics describe how to specify settings for performance, power, and area optimization at the preroute stage: • specifying parasitic estimation settings for the preroute optimization • specifying automatic via ladder insertion settings for preroute optimization • assigning nondefault routing rules to critical nets fusion compiler™ user guide v-2023.12-sp3 179 chapter 2: preparing the design specifying settings for preroute optimization feedback • enabling area recovery in regions of high utilization • enabling advanced logic restructuring specifying parasitic estimation settings for the preroute optimization the following topics describe how you can control parasitic estimation during the preroute stage of the design flow: • enabling global-route-layer-based (grlb) preroute optimization • enabling route-driven estimation (rde) for preroute optimization enabling global-route-layer-based (grlb) preroute optimization to improve correlation with the postroute stage of the design flow, you can enable global-route-layer-based rc estimation during the compile_fusion and clock_opt commands."
.
.
.
"to perform signoff design rule checking, run the signoff_check_drc command, as described in performing signoff design rule checking."
.
.
.
.
clock-gate multilevel expansion it is difficult to determine the optimum number of clock-gate levels manually.
"however, there is no guarantee that the cells are placed inside the bounds."
.
"to allow clock-gate removal (also known as ungating) if some clock gates are not collapsible when the tool attempts to meet the maximum clock level constraint, use the -ungate_if_not_collapsible option."
"when dealing with shutdown domains, there can be some situations in which certain cells in the shutdown portion need to continuously stay active, such as for implementing retention registers, isolation cells, retention control paths, and isolation enable paths."
163 optimizing pin access during legalization .
◦ repair: the tool issues an error message if the check does not support repair as a policy.
.
.
"to specify a different width in microns for nonpreferred- direction routing blockages, use the -width_nonpreferred option."
.
to analyze and report the slack for specific scenarios use the -scenarios option.
.
.
.
.
.
.
.
.
.
.
.
"however, the default behavior of this feature is suitable for most designs."
.
this routing corridor is associated with the nets shown in yellow.
"for example, to perform track-based metal fill insertion and use a prefix of my_prefix for the detailed density and density gradient reports, use the following command: fc_shell> signoff_create_metal_fill -track_fill true \ -report_density my_prefix for information about the generated result files, see signoff metal fill result files."
.
.
"for example, to show only the setup timing, netlist area, and cell counts, select the metrics as shown in figure 39. figure 39 metrics dialog box filtering runs to control which runs are displayed in the table, click the runs button and select or deselect the exploration runs accordingly from the visible runs (summary) column."
.
you must specify the following information: • the tap cell used in the tap wall (the -lib_cell option) you must specify the same tap cell as when you ran the create_tap_cells command.
.
"fusion compiler™ user guide v-2023.12-sp3 397 chapter 5: clock tree synthesis implementing multisource clock trees feedback figure 83 regular multisource clock tree clock root global clock tree clock mesh mesh drivers clock gates tap drivers and sinks global clock structure local subtrees figure 84 structural multisource clock tree clock root global clock tree clock mesh mesh drivers clock gates and sinks global clock structure local subtrees fusion compiler™ user guide v-2023.12-sp3 398 chapter 5: clock tree synthesis implementing multisource clock trees feedback implementing a regular multisource clock tree to implement a regular multisource clock tree, use the following steps: 1. specify your clock tree constraints and settings."
.
.
.
.
check the input and output pin name.
.
537 shielding nets .
"defining instance-specific via ladder constraints to define instance-specific via ladder constraints, use the set_via_ladder_constraints command."
.
.
.
.
.
"• to create the abstracts for lower-level blocks of the current block, use one of the following methods: ◦ create abstracts for specific lower-level blocks by using the -blocks option and specify the names of the blocks."
all the sinks reachable from the given clock are considered for redistribution.
.
.
.
.
.175 fixing multiple-port nets .
.
.
"to check or remove the option settings, use the report_missing_via_check_options or remove_missing_via_check_options command, respectively."
.
.
"figure 27 root, internal, and sink clock net types 1. you can use this option with the -clocks option to further restrict the assignment."
.
.
.
.
.
.
.
.
.
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 1004 chapter 13: eco flow swapping variant cell feedback table 73 group repeater placement and insertion troubleshooting (continued) command error code message troubleshooting tips place_group_repeat ers eco-268 error: the cells in collection (%s) are invalid since they are placed before.
.
.
.
.
"the target filler cells are shown in red, while the replacement filler cells are shown in green."
"by default, the route_auto command is not timing-driven or crosstalk-driven and does not fix soft drc violations, such as bridge rule violations."
.
"if you do not specify a position, the tool adds the blockage to position (0,0)."
.
.
.
"via definitions can come from the following sources: • the contactcode sections of the technology file associated with the design library the technology file can contain definitions for simple vias, simple via arrays, and custom vias."
.
.
"in addition, you can assign multiple nondefault routing rules to a net."
.
"rail instance switch cell displays current, effective voltage, and voltage difference maps for switch cells in the block when dynamic analysis is complete and switch cell model input files are available."
.
.
.
the generated macro models are saved in the current working directory or the one you specify in the configuration file.
.
.
.
◦ -tolerance specifies the maximum delta distance over the value specified for -repeater_distance.
.
.
.
.
you can disable the removal of floating net shapes by using the -remove_floating_shapes false option.
"figure 7 logic hierarchy of design fusion compiler™ user guide v-2023.12-sp3 79 chapter 2: preparing the design setting up libraries feedback for example, assume your design has a logic hierarchy as shown in figure 7 and you want to implement the following library restrictions during optimization and clock tree synthesis: • use only the cells from the library named lvt_lib for the sub1 block and its subblocks, suba and subb."
.
the clock gating engine prefixes dft_wrapper_ to the names of all dft wrapper clock gates fusion compiler™ user guide v-2023.12-sp3 334 chapter 4: clock gating special naming and querying for dft wrapper clock gates feedback clock gates irrespective of their origin.
"when verifying that a block is fillable, the check_legality command assumes that all standard cells that have a design_type attribute of filler can be used as filler cells."
performing design analysis use the reports generated by fusion compiler to analyze and debug your design.
.
.
.
"a design library is a collection of related blocks, together with technology data that applies to the block collection."
.
.
"fixing drc violations caused by pin access issues in advanced process nodes, the distance between pins decreases, which can result in drc violations caused by pin access issues."
.
"to define net-specific routing constraints to override the routing applications options, see defining routing constraints."
.
.
.
.
.
.
.
"to specify the coordinates, use the following format: {{x1 y1} {x2 y2} ... {xn yn}} note that there must be a space between each set of coordinates."
• removes maximum transition and maximum capacitance constraints if they are too tight.
"fusion compiler™ user guide v-2023.12-sp3 322 chapter 4: clock gating reporting clock-gate enable signals feedback reporting clock-gate enable signals a clock gate often has an enable signal that is a boolean expression comprising of one or more of the following reference (or invariant) points: • hierarchical ports • sequential output pins • black box output pins to report the clock gate enable signal as a boolean function, use the report_clock_gating_enable_condition command."
.
.
"by default, the density and connectivity rules are excluded."
.
"to remove specific placement blockages from a block, specify the placement blockage names."
.
.351 handling endpoints with balancing conflicts .
.
.
"when you use the check_hier_design command, you can specify • the references to check by using the -reference option."
"fc_shell> create_differential_group \ -for [get_nets -physical_context {prn prp}] \ -shield_placement default {differential_pair_0} inserting shields on the nets to add shielding on the selected nets to reduce crosstalk or parasitic effects, run the create_net_shielding command."
.
.
"to do so, use the -rebind option, which rebinds each reference library path specified by the search_path variable to libraries that are currently loaded in memory."
.
"the first level consists of one buffer, the second level consists of four inverters in a 2x2 grid, and the third level consists of 16 inverters in a 4x4 grid."
"to generate an output file containing set_clock_balance_points commands, instead applying it to the design, use the -output option."
.
"the language specifies how to create a power supply network for each design element, the behavior of supply nets with respect to each other, and how the logic functionality is extended to support dynamic power switching to design elements."
.
.
4. specify settings for local subtree synthesis by using the set_multisource_clock_subtree_options command.
.
• set the sh_continue_on_error variable to true in the script file.
.
.
.
.
.
.
.
"2. the route_clock stage, during which the tool detail routes the synthesized clock nets."
"the fusion compiler tool can also output the design at any time as a binary design database or as ascii files (verilog, def, and timing constraints)."
.
.
.
.
815 summary of relative placement commands .
.
.
.
.
"controlling routing along the perimeter of a block to control detail routing around the perimeter of a block, insert constraint objects, as described in controlling routing around the block boundary."
.
.
.
.
"however, it does not perform any dynamic-power optimization."
3. remove the adjusted timing information by using the set_route_opt_target_endpoints -reset command.
.
.
"to modify the regions for metal fill insertion, use one or both of the following options: • -coordinates this option restricts metal fill insertion to the specified regions."
.
.
.
.
"to increase the effort level to use more low-resistance metal layers for routing, set the option to high."
.
.
.
"fc_shell> set_app_options -list {cts.compile.enable_local_skew true} fc_shell> set_app_options -list {cts.optimize.enable_local_skew true} when you enable local skew optimization using the previous settings, by default, the tool derives skew targets that help improve the timing qor, and ignores the target skew you fusion compiler™ user guide v-2023.12-sp3 360 chapter 5: clock tree synthesis specifying the clock tree synthesis settings feedback specify with the set_clock_tree_options -target_skew command."
.
.
3. set up the ic validator environment as described in setting up the ic validator environment.
.
.
.
.
.
.
.
.
.
.
.
you can use the report to troubleshoot and resolve the lengths that do not meet the set tolerance.
.
.
.
.
.
.
.
.
.
.
5. applies the annotation files generated in the previous step.
.
.
.
.
the tool first performs rewiring to avoid unnecessary buffering.
you cannot run any fusion compiler commands unless the redhawk fusion or redhawk-sc fusion process is finished.
.
.
.
"based on the specified constraints and the setting of the route.detail.diode_insertion_mode application option, zroute either inserts new diodes or reuses existing spare diodes to fix the specified violations."
.
the tool verifies that the connections match the power intent.
"after you run the create_left_right_filler_cells command, perform standard filler cell insertion to fill the remaining gaps in the design."
.
.
.
.
.
.
.
.
"you can use the quick connect tool to quickly connect wires to pin shapes, port shapes, terminals, or other wires."
the default is 4.
.
.
.
.
.
.
"by default, all metal layers are selected in the congestion map, except those specified as ignored layers with the set_ignored_layers command."
.
.
.
.
.
.
"if the layer does not have tracks, the routes and shields will snap to the routing grid."
.
.
292 clock-gating enable condition .
"• restrict drc to shorts-checking only by default, the command removes all filler cells that cause a routing drc violation."
.
.
#required.
.
.
.
.
.
.
.
-max_fanout specifies the maximum number of cells gated by the same clock-gating cell.
these techniques do not require the use of additional licenses beyond the licenses required for the parent run.
.
.
.
.
.
"set these options to soft to specify a soft constraint, allow_pin_connection to allow the use of lower layers only for pin connections, or hard to specify a hard constraint."
.
.
.
.
.
.
.
"the integrated clock-gating cells in the library must have the following settings: • sequential cell: latch • control point: before • control signal: scan_enable • observation point: none if the library does not contain cells with these configurations for the corresponding operating conditions, the tool does not insert self-gating cells."
.
the string that you specify in this option is added to the command line used to invoke the ic validator tool.
.
.
use the option to delete existing constraint groups.
.
.
"to define the relative preference of the access preference areas, use strength values between 0 and 1. if access preference areas overlap, the stronger access preference area takes precedence over the weaker access preference area."
.
.
.
.
.
-mesh_window {x_pitch y_pitch} the mesh window is aligned with the lower-left corner of the tap insertion region.
.
902 24 contents feedback performing pg electromigration analysis .
.
.
.
.
.
.
.
.
.
.
.
any cell with a voltage drop that exceeds this threshold is selected for optimization.
the command checks whether the coordinate location touches any layout shape.
.
"fusion compiler™ user guide v-2023.12-sp3 174 chapter 2: preparing the design controlling the optimization of cells, nets, pins, and ports feedback to restrict sizing to pin-name equivalent cells, use the following command: fc_shell> set_app_options \ -name opt.common.preserve_pin_names -value always to restore the default behavior, use the following command: fc_shell> set_app_options \ -name opt.common.preserve_pin_names -value never preserving ports of existing hierarchies during optimization and clock tree synthesis, the tool can create new ports on existing hierarchical blocks."
.
"in the gui, the traced path is highlighted in yellow in the design layout (see figure 207)."
.
.
figure 222 variant type id definition fusion compiler™ user guide v-2023.12-sp3 994 chapter 13: eco flow swapping variant cell feedback you can detect the variant type id for target cell current location.
-object specifies the name of the object to report.
.
.
.
.
.
.
-anchor_corner specify the type of alignment used by the cells in the group.
271 changing the qor display style .
.
.
"fc_shell> route_detail -incremental true by default, incremental detail routing does not fix soft drc violations, such as bridge rule violations."
.
.
.
.
.
.
.
.
.
229 controlling sequential mapping .
"• blocked unconnected pins to enable this check, use the -check_no_net_pins true option."
"this report includes all violations detected by zroute, as well as information about the redundant via conversion rates."
"when violations are reported in the macros during full-chip signoff voltage drop analysis, it might be time-consuming to fix the violations at the block level and then rerun full-chip analysis to verify the fix."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"for example, to prevent rerouting of the net1 net, which uses the default routing rule, use the following command: fc_shell> set_attribute -objects [get_nets net1] \ -name physical_status -value locked routing application options the fusion compiler tool provides application options that affect the individual routing engines (global routing, track assignment, and detail routing), as well as application options that affect all three routing engines."
.
.
.783 creating relative placement groups .
.
.
.
.
.
.
.
"when you use these techniques, consider the following guidelines: • to reduce runtime and memory usage, run the update_timing command before running the commands in parallel; otherwise, each command that requires updated timing runs the update_timing command independently."
.
.
zroute uses these option settings whenever you perform routing functions.
.
"if you use the -treat_terminal_as_voltage_source true option, no opens are reported."
.
.
.
.
.
.
.
"◦ reports the via ladder insertion status for each target pin to limit the number of via ladders reported for each category to 40, set the route.auto_via_ladder.report_all_via_ladders application option to false."
.
.
.
.
"for more information, see the synopsys technology file and routing rules reference manual."
"for more information, see defining matching wire lengths."
.
"• to create a rectilinear routing corridor, use the -boundary option to specify the coordinates of the polygon using the following syntax: { {x1 y1} {x2 y2} ... }."
.
"if you omit this option, only the top-level group is written and subgroups are not."
valid values are ◦double_interleave: shields each wire individually.
.
.
.
"for more information about how to create and specify a rail scenario for rail analysis, see running rail analysis with multiple rail scenarios."
.
.
• minimum width settings this check verifies that the nondefault minimum width and shield width settings are no larger than the maximum width defined in the technology file.
"for example, to set the preferred routing direction to vertical for the m5 and m7 layers, use the following command: fc_shell> set_attribute -objects [get_layers {m5 m7}] \ -name routing_direction -value vertical note: settings made with the create_routing_guide -switch_preferred_direction command, which changes the preferred direction within the area that is covered by the routing guide, override the routing_direction attribute settings."
"with this mode, you can reduce runtime at the expense of qor."
you can also control the step size by setting the signoff.report_metal_density.density_window _step application option.
.
379 controlling hold time optimization effort .
.
.
this application option is required when you run the redhawk-sc rail analysis with a customized python script file.
.
.
2. perform the following steps for multivoltage designs: a. enable multivoltage support by setting the cts.multisource.enable_full_mv_support application option to true.
◦ routes must be assigned to the net of the supernet driver pin.
.
.
.
"to perform layer-based pin tapering, use the -taper_over_pin_layers or -taper_under_pin_layers option when you create a nondefault routing rule with the create_routing_rule command."
"the route_eco command sequentially performs global routing, track assignment, and detail routing to reconnect the routing."
.
"• to set the maximum track utilization for layers with a vertical preferred direction, use the -vertical_track_utilization option with the create_routing_guide command."
.
.
.
.
"example 34 wire matching constraints for all receivers to driver d fc_shell> create_wire_matching -for [get_nets -physical_context $net] \ -relative -tolerance 0.01 -driver [get_pins -physical_context d/o1] fc_shell> create_wire_matching -for [get_pins \ -physical_context {r1/a r2/a r3/a}] -tolerance 0.01 -relative in example 35, the commands create wire matching constraints for the example in figure 158. example 35 wire matching constraints for receivers connected to driver d' fc_shell> create_wire_matching -for [get_nets -physical_context $net] \ -tolerance 0.01 -relative -driver $driver_full_name fc_shell> create_wire_matching \ -for [get_pins -physical_context -of_objects $net] \ -exclude $driver_full_name -tolerance 0.01 -relative in example 36, the command creates a constraint group named abc for the nets and bundles that match the pattern pr*."
.
.
.
"valid arguments are xor, nand, or, and auto (the default)."
.
.
.
.
.
.
.
.
.
"to explicitly specify the behavior for performance and electromigration via ladders, set this application option to true or false."
.
.
.
.
.
.
.
.
fusion compiler concepts this topic introduces the following concepts used in the fusion compiler tool: • power intent concepts • upf flows • multiple-patterning concepts fusion compiler™ user guide v-2023.12-sp3 37 chapter 1: working with the fusion compiler tool fusion compiler concepts feedback power intent concepts the upf language establishes a set of commands to specify the low-power design intent for electronic systems.
• via_wire_all_pins the connections to any pins by using a via or a wire are restricted.
.
.
.
.
.
"for example, if the same value is reloaded in the register throughout multiple clock cycles (en equals 0), the register bank and its clock net consume power while values in the register bank do not change."
the fill shapes are inserted on-track following the design rules defined in the technology file.
.
.
.
.
.
"◦ to create an abstract with timing information for all the interface logic, use the full_interface setting."
.
"by default, the switching probability is applied to the current scenario and the corresponding mode and corner."
.
.
"mapping eco cells to specific spare cells to map an eco cell to a specific spare cell, use the map_freeze_silicon command."
.
.
"the tool uses tcl, which is used in many applications in the eda industry."
.
you can prevent rerouting or limit rerouting to minor changes by setting the physical_status attribute on the nets.
.
"by default, zroute uses low effort."
you can also type a string in the value field to filter the available values in the drop-down menu.
.
.
.
.
"create_pin_check_lib mytest.nlib -ref_libs ../lib/reflib.ndm -technology ../tf/reftech.tf fusion compiler™ user guide v-2023.12-sp3 82 chapter 2: preparing the design analyzing libraries feedback set_app_options -as_user_default -name pin_check.place.preplace_option_file -value check_libcell_pin_access -mode analyze_lib_cell check_libcell_pin_access -mode analyze_lib_pin check_libcell_pin_access -mode design_under_test if you have been using the earlier tcl based version, you can translate your old scripts into new fusion compiler commands by using the translate_pin_check_ui command."
.
.
.
the following example specifies a total negative slack target for voltage optimization and specifies that i/o paths should be excluded from the total negative slack costing: fc_shell> set_vopt_target -tns -1.0 -excludeio 6. perform voltage optimization by using the voltage_opt command.
.
"for information about the metal fill insertion options, see setting options for signoff metal fill insertion."
.
.
.
"• detailed information about the voltage areas fusion compiler™ user guide v-2023.12-sp3 126 chapter 2: preparing the design setting up multivoltage designs feedback to display detailed information about voltage areas, including the default voltage area, use the report_voltage_areas command."
.
-top value (optional) reports cell instances with the top n voltage drop values.
.
hierarchical cells or modules excludes the cells and all child cells from optimization.
.
.
.
.
.
.
.
.
.
.
"using the global router during initial clock tree synthesis by default, initial clock tree synthesis uses the virtual router to build the clock trees."
.
.
972 identifying and reverting nonoptimal eco changes .
.
.
.
clock tree synthesis uses the specified delay value for the path delay calculations used to build the clock tree.
.
.
.
.
zroute generates a drc violations summary at the end of each detail routing iteration.
.
.
"use the update_indesign_activity command to perform the analysis, which includes the following tasks: • invokes the primepower tool and reads the design data which includes the netlist, libraries, pvt settings, constraints, parasitics, essential name mapping data, upf, and so on."
.
(optional) specify an optimization effort by using the ccd.targeted_ccd_wns_optimization_effort application option.
.
.
.
.
"for advanced node designs, via density can be a concern."
.
.
.
.
.
• a mode for which to create the skew group by using the -mode option.
.
"2. logic_opt during this stage, the tool performs logic-based delay optimization."
.
"for each candidate cell, guided pg augmentation inserts pg augmentation shapes in the region from the cell to its tap with the minimum path resistance."
.
.
netlist changes caused by the command do not introduce new isolation or voltage violations.
.
.
.
the specified number of cores applies to each specified host.
.
.
.
m2 overflow = 0 max = 0 (grcs = 0) grcs = 0 (0.00%) ... density distribution: layer 0.0 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1.0 1.1 1.2 > 1.2 m1 86.6 10.5 0.37 1.46 0.02 0.44 0.18 0.14 0.07 0.03 0.10 0.00 0.00 0.02 m2 68.2 14.4 7.71 4.54 2.07 1.55 0.66 0.28 0.13 0.03 0.33 0.00 0.00 0.02 ... phase3.
the default distance is 100 microns.
317 setting sequential clock gating options .
.
.
.
.
.
"for example, to define a soft group bound for the inst_1 and inst_2 cell instances with a width of 100 and a height of 100, use the following command: fc_shell> create_bound -name b4 -dimensions {100 100} \ {inst_1 inst_2} • to define a hard group bound, use the following syntax: create_bound -name name -type hard -dimensions {width height} \ [bound_objects] for example, to define a hard group bound for the inst_1 and inst_2 cell instances with a width of 100 and a height of 100, use the following command: fc_shell> create_bound -name b5 -type hard -dimensions {100 100} \ {inst_1 inst_2} • to define a dimensionless group bound, use the following syntax: create_bound -name name [-effort effort_level] \ [bound_objects] the default effort is medium; you can also specify low, high, or ultra."
"fusion compiler™ user guide v-2023.12-sp3 561 chapter 6: routing and postroute optimization routing nets in the gui feedback if you need assistance while using these tools, click to open a help page in the man page viewer."
.
.
.
.
.
.
.
.
.
.
"alternatively, you can detail route the clock nets by using the clock_opt command, as shown in the following example: fc_shell> clock_opt -from route_clock -to route_clock inserting via ladders during clock tree synthesis, optimization, and clock routing a via ladder is a stacked via that starts from the pin layer and extends into an upper layer where the router connects to it."
.
.
.
.
.
.
.
.
.
.
"• to specify a latency target, use the -target_latency option with the set_clock_tree_options command."
"in addition, the tool uses the libset name, instead of using a list of the library names, when it generates reports, plots, and so on during analysis."
.
.
using this setting increases the runtime.
.
.
.
.
.
"each time you run the derive_perimeter_constraint_objects command, it creates a unique edit group."
"if the drc violations are located in some local areas, the detail router uses nonuniform partitions."
.
.
.
.
specifying locations for repeater groups use one of the following mutually exclusive options to control repeater group location: • -repeater_distance specifies the distance between repeater groups.
.
.
.
"to learn about working with macro models, see the following topics: • generating macro models • creating block contexts generating macro models to consider current and power distribution inside the memory blocks when analyzing hierarchical designs, use the exec_gds2rh command to generate redhawk macro models for memory blocks."
"to read designs containing many hdl source files and libraries, specify the -vcs option with the analyze command."
.
.
.
.
.
.
"-for name of the driver pin or port, or net group that must comply with the constraint."
.
.
.
.
.
.
.
.
"during timing-driven pg augmentation, the signoff_create_pg_augmentation command 1. performs timing analysis, including multicorner-multimode analysis, to minimize timing impact 2. identifies timing-critical nets based on the options you specify 3. removes existing pg augmentation shapes by default, the command removes the pg augmentation shapes from the entire block."
.
.
.
.
.
"by default, shielding wires are not snapped to the routing tracks."
zroute performs the following types of layer hopping: ◦ breaking the antenna with a higher-level metal segment zroute uses this technique to fix most antenna violations.
.
"note: when you use the -point option with the -of_objects option, the location is relative to the origin of the specified object."
.
.
.
postroute shielding should introduce few to no drc violations.
.
"fusion compiler™ user guide v-2023.12-sp3 902 chapter 12: redhawk and redhawk-sc fusion performing pg electromigration analysis feedback • to reload the rail results for displaying maps in the gui, use the open_rail_result command."
.
.
.
.
.
"to manually define library cell families, use the define_lib_cell_family command, and to report these user-defined cell families, use the report_lib_cell_families -all_userdef command."
.
"for example, to define a partial blockage that excludes registers, but allows a cell density of 50 percent for other cells, use the following commands: create_placement_blockage -boundary {{10 20} {100 200}} \ -type register -blocked_percentage 50 note: register blockages are honored during placement, but not during legalization, optimization, or clock tree synthesis."
◦ create abstracts for all lower-level blocks by using the -all_blocks option.
.
.
.
you can capture the qor information using different optimization strategies or at different stages of the design and compare the quality of results.
.
.
.
.
.
.
.
.
"for example, to use layers m2 through m7 when routing the n1 net, use the following command: fc_shell> set_routing_rule [get_nets n1] \ -min_routing_layer m2 -max_routing_layer m7 fusion compiler™ user guide v-2023.12-sp3 201 chapter 2: preparing the design specifying the routing resources feedback by default, net-specific minimum layer constraints are soft constraints, while net-specific maximum layer constraints are hard constraints."
.
.
.
.
"if these parasitic files have a different naming convention, you can specify the appropriate file suffix by using the -spef_input_file_suffix and -rc_include_file_suffix options."
.
.
.
.
read_layout_views {} specifies the reference cells for which the ic validator tool reads the layout view instead of the frame view.
.
.
.
.
.
"figure 23 equivalent cells with different pin locations fusion compiler™ user guide v-2023.12-sp3 165 chapter 2: preparing the design specifying legalization settings feedback the following figure shows functionally equivalent cells with different pin colors, which need to be aligned to a track of the same color."
.
.
.
.
.
.
.
"6. insert the mesh drivers by using the create_clock_drivers command, as described in inserting clock drivers."
"for example, assume you have a configuration file named vl_config that has the following contents: <emrule> <template name=""template_1_3231""> <layer name=""m1"" row_number=""3""/> <layer name=""m2"" row_number=""2""/> <layer name=""m3"" row_number=""3""/> fusion compiler™ user guide v-2023.12-sp3 450 chapter 6: routing and postroute optimization inserting via ladders feedback <layer name=""m4"" row_number=""1""/> </template> <pin name=""*/bcelld5a11*/z""> <template name=""template_1_3231""/> </pin> </emrule> to generate the script files to define the via ladder rules and constraints, use the following command: fc_shell> generate_via_ladder_template -config_file vl_config example 17 shows the template script file generated by this command."
.
.
.
"◦ to change the orientation for the rightmost filler cells, use the -right_end option."
.
.
.
.
note: def versions before version 5.7 did not support partial blockages.
.
.
.
.
.
.
.
.
.
.
.
"to select or modify fill shapes in the gui, 1. select “multiple levels active” ( ) in the view settings panel."
this option accepts a list of strings as values.
.
.
.
918 working with macro models .
.
.
.
.
.
.
.
.
.
.
.
"to check for and fix isolated vias, 1. set up the ic validator environment as described in setting up the ic validator environment."
.
.
"the following example first lists the attributes of tap objects that are added to the block in this command run, and then checks if the tap_1437 tap passes the validation checking."
.
.
.
.
.
"• to remove specific routing guides, specify the routing rules, either as a list or collection, such as that returned by the get_routing_guides command."
"figure 125 layout example for antenna recognition modes fusion compiler™ user guide v-2023.12-sp3 614 chapter 7: chip finishing and design for manufacturing finding and fixing antenna violations feedback table 40 antenna recognition modes and ratios considered segments antenna ratio single-layer mode m1 ratios • gate1: m1b / gate1 • gate2: m1c / gate2 • gate3: m1d / gate3 m2 ratios • gate1: m2b / gate1 • gate2: m2d / gate2 • gate3: m2e / gate3 m3 ratios • gate1, 2: (m3b + m3c) / (gate1 + gate2) • gate3: m3d / gate3 m4 ratios • gate1, 2, 3: (m4a + m4b) / (gate1 + gate2 + gate3) accumulated-ratio mode m1 ratios • gate1: m1b / gate1 • gate2: m1c / gate2 • gate3: m1d / gate3 m2 ratios • gate1: m1b / gate1 + m2b / gate1 • gate2: m1c / gate2 + m2d / gate2 • gate3: m1d / gate3 + m2e / gate3 m3 ratios • gate1: m1b / gate1 + m2b / gate1 + (m3b + m3c) / (gate1 + gate2) • gate2: m1c / gate2 + m2d / gate2 + (m3b + m3c) / (gate1 + gate2) • gate3: m1d / gate3 + m2e / gate3 + m3d / gate3 m4 ratios • gate1: m1b / gate1 + m2b / gate1 + (m3b + m3c) / (gate1 + gate2) + (m4a + m4b) / (gate1 + gate2 + gate3) • gate2: m1c / gate2 + m2d / gate2 + (m3b + m3c) / (gate1 + gate2) + (m4a + m4b) / (gate1 + gate2 + gate3) • gate3: m1d / gate3 + m2e / gate3 + m3d / gate3 + (m4a + m4b) / (gate1 + gate2 + gate3) fusion compiler™ user guide v-2023.12-sp3 615 chapter 7: chip finishing and design for manufacturing finding and fixing antenna violations feedback table 40 antenna recognition modes and ratios (continued) considered segments antenna ratio accumulated-area mode m1 ratios • gate1: m1b / gate1 • gate2: m1c / gate2 • gate3: m1d / gate3 m2 ratios • gate1: (m1b + m2b) / gate1 • gate2: (m1c + m2d) / gate2 • gate3: (m1d + m2e) / gate3 m3 ratios • gate1, 2: (m1b + m1c + m2b + m2c + m2d + m3b + m3c) / (gate1 + gate2) • gate3: (m1d + m2e + m3d) / gate3 m4 ratios • gate1, 2, 3: all metal areas / (gate1 + gate2 + gate3) specifying antenna properties in general, the antenna properties for standard cells and hard macros are defined in their frame views in the reference libraries."
.
.
◦ a list of library cells to use for synthesizing the global clock tree (h-tree) by using the -htree_lib_cells option the library cells you specify must be enabled for clock tree synthesis by using the set_lib_cell_purpose -include cts command.
"placement occurs within the boundaries of the fusion compiler™ user guide v-2023.12-sp3 863 chapter 11: hierarchical implementation transparent hierarchy optimization feedback respective blocks, but it is global at the same time, ignoring pin locations to get straight paths."
.
shapes with this attribute must be at least the standard minimum spacing distance from other metal shapes; the multiple-patterning minimum spacing rules do not apply to these shapes.
.
.
.
.
"(optional) configure the qor data, which is captured and displayed in the subsequent steps, by using the set_qor_data_options command."
.
.
.
.
the route_detail command and other routing commands in the tool usually add the necessary mask colors during routing.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"the command report_repeater_groups reports group information for specified groups or all groups, and reports repeater paths for all groups if -verbose is on."
.
.
.
.
"for example, to define a partial blockage that allows only the placement of buffers and inverters, with a cell density of 30 percent, use the following commands: create_placement_blockage -boundary {{10 20} {100 200}} \ -type allow_buffer_only -blocked_percentage 70 fusion compiler™ user guide v-2023.12-sp3 144 chapter 2: preparing the design specifying physical constraints for placement and legalization feedback note: buffer-only blockages are honored during placement, but not during legalization, optimization, or clock tree synthesis."
.
"fusion compiler™ user guide v-2023.12-sp3 189 chapter 2: preparing the design setting up for power-related features feedback if there are more than three threshold-voltage groups, you should group them into the three voltage group types as follows: fc_shell> set_threshold_voltage_group_type \ -type high_vt {hvt hvtx} fc_shell> set_threshold_voltage_group_type \ -type low_vt {lvt lvtx} fc_shell> set_threshold_voltage_group_type \ -type normal_vt {rvt rvtx} reporting leakage power to check your leakage power, use the report_power command."
.
"to check for available snps_indesign_rh_rail licenses continuously during the analyze_rail run, set the rail.license_checkout_mode application option to wait."
.
.
.
.
.
.
.
"when you define a routing guide, you must specify • its rectangular boundary to specify the boundary, use the -boundary option to specify the lower-left and upper- right corners of the rectangle using the following syntax: {{llx lly} {urx ury}} • information specific to the purpose of the routing guide the following table describes the user-defined routing guides."
.
.
"reporting cell spacing constraints to report the cell spacing rules, use the report_spacing_rules comandcomandsreport_spacing_rulesreport_placement_spacing_rules command."
.
.
.
.
.
.
.
.
this is the default.
"you can change the default behavior of concurrent clock and data optimization by • limiting the latency adjustment values • excluding boundary paths • excluding specific path groups • excluding specific scenarios • excluding specific sinks • controlling timing optimization effort • controlling hold time optimization effort • controlling the adjustment of i/o clock latencies • performing dynamic-voltage-drop-driven concurrent clock and data optimization during the route_opt command • specifying optimization targets at the preroute stage • specifying optimization targets at the postroute stage • enabling buffer removal at the postroute stage • reporting concurrent clock and data timing • scaling ccd offsets to new scenarios for reporting timing • skewing latch and discrete clock gates fusion compiler™ user guide v-2023.12-sp3 376 chapter 5: clock tree synthesis implementing clock trees and performing post-cts optimization feedback limiting the latency adjustment values you can limit the latency adjustment values for concurrent clock and data optimization performed during the place_opt, clock_opt, and route_opt commands as follows: • limit the amount that the clock latencies are advanced by using the ccd.max_prepone application option."
.
.
.
.
374 performing ir-drop-aware placement during the clock_opt command .
"when the tool inserts an isolation cell, it sets a atributesize_onlysize_only atributesize_only attribute on the level shifter and a atributesdont_touchdont_touch atributedont_touch attribute on the port-to-level-shifter net."
.171 preserving networks during optimization .
.
.
.
.
.
6.
.
"• threshold-voltage rules in the threshold-voltage-based flow, the tool selects the filler cells by using user-defined insertion rules, which are based the threshold-voltage types of the cells that border the gap."
.
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 638 chapter 7: chip finishing and design for manufacturing inserting filler cells feedback 7. insert nonmetal filler cells by using the create_stdcell_fillers command.
.
.
.
.
"to remove all cut metal shapes from a block, use the remove_cut_metals command."
.
.
"check the failed drivers by running the query_objects, get_ports, get_pins and get_cells commands."
.
.
.
.
.
combinational cell in rtl integrated clock gate replacement and gate rising-edge triggered latch-based clock gate or gate falling-edge triggered latch-based clock gate nand gate falling-edge triggered latch-based clock gate.
.
"the tool can obtain clock-gate latencies in the following ways: • integrated latency estimation by default, the tool estimates and updates clock-gate latencies throughout the flow."
"• the filler cells that can be used to replace the violating filler cells to specify the filler cells that can be used to replace the violating filler cells, use the -replacement_fillers option."
.
"to enable page mode, set the sh_enable_page_mode variable to true."
.
.
.
.
"by default, the stacking order is the order in which you define the shapes, with the last shape defined on top."
.
.
.
.
.
.
"for more information about these commands, see assigning nondefault routing rules to nets."
.
.
.
.
.
.
.
.
fc_shell> create_net_shielding \ -for [get_nets -physical_context pr*] \ -disabled_layers {m5 m6} -sharing true -layer_gaps {m2 3 m3 5} {shielding_4} defining the net priority use the net priority constraint to define the routing order for specific nets.
"be sure to consider both dfm and routing when you select the redundant vias; otherwise, if you select the redundant vias based only on dfm considerations, you could negatively impact the routability."
.
.
.
.
7.
.
• differences in power and ground objects.
.
.
.
.
.
"placing eco cells with minimal physical impact (mpi) to minimize the disturbance to the existing placement during eco placement, use the following options with the place_eco_cells command: • -legalize_mode minimum_physical_impact • -max_displacement_threshold • -remove_filler_references placing and mapping eco cells to spare cells for the freeze silicon eco flow, place and map the eco cells to spare cells by using the place_freeze_silicon command."
.
.
.
.
.
.
.
.
.
.
"if you specify the nets to be shielded by using the -nets option, the create_shields command shields these nets with the default spacing and widths."
.
.
.
.
"controlling mapping and optimization the following topics describe how you can customize and control the mapping and optimization that is performed during the initial_map, logic_opto, and initial_drc stages of the compile_fusion command: • ungrouping or preserving hierarchies during optimization • controlling boundary optimization • controlling datapath optimization • controlling mux optimization • controlling sequential mapping • controlling register replication • controlling register merging fusion compiler™ user guide v-2023.12-sp3 217 chapter 3: physical synthesis controlling mapping and optimization feedback • selectively removing or preserving constant and unloaded registers • reporting cross-probing information for optimized registers • controlling high-fanout-net synthesis ungrouping or preserving hierarchies during optimization ungrouping merges subdesigns of a given level of the hierarchy into the parent cell or design."
"to modify an existing voltage area, use the set_voltage_area command, as described in modifying voltage areas."
you can specify the number of columns and rows for the relative placement group by using the -columns and -rows options.
.
these same layers can contain prerouted nets such as power and ground nets.
.
.
2. set up the library analysis environment by using the create_environment command.
you specify the spread distance as a multiplier for the layer pitch.
.
.
.
"by default, this command works on all clocks in all active scenarios that are enabled for setup or hold analysis."
.
.
.
"fc_shell> reset_checkpoints the reset_checkpoints command clears the full contents of the checkpoint directory, including any reports you have written to it."
• the tap insertion region (the -bbox option) you specify the tap insertion region by specifying the lower-left and upper-right corners of its bounding box: -bbox {{llx lly} {urx ury}} the bounding box must span a portion of the object’s edge on the specified side along which to insert the tap wall.
.
314 setting routing rules for clock gates .
.
.
"2. update the placement by using the place_eco_cells command as shown in the following example: place_eco_cells -legalize_mode minimum_physical_impact \ -eco_changed_cells -legalize_only -displacement_threshold 10 for more information about the place_eco_cells command, see placing eco cells."
.
.
.
.
"4. route the nets by using the route_group command, as described in routing critical nets."
"fc_shell> route_global -floorplan true -virtual_flat all_routing timing-driven global routing by default, the route_global command is not timing-driven."
.
.
.
"to control sequential output inversion for • the entire block, use the compile.seqmap.enable_output_inversion application option."
.
.
"otherwise, it is relative to the origin of the current top-level block."
.
.
"• to disable tapering for all pins, set the -taper_distance option to 0 when you create the nondefault routing rule with the create_routing_rule command."
.
.
.
"if you use the -mapped option with the create_mv_cells command, the command inserts cells only from the user-provided logic library and issues an error message if a suitable cell is not available."
.
.
.
.
the fill shapes have a length of 5 microns and a width equal to the defaultwidth attribute defined for the layer in the technology file.
.
"◦ splits multibit register banks created at the rtl level if the register bank includes registers on critical timing paths during the logic_opto stage to disable this feature, set the compile.flow.enable_rtl_multibit_debanking application option to false."
.
fusion compiler™ user guide v-2023.12-sp3 369 chapter 5: clock tree synthesis implementing clock trees and performing post-cts optimization feedback timing driven sink transition target the tool supports the setup and hold timing on critical endpoints by achieving a sharper transition on the critical launch and capture clock pins.
.
.
70 2. preparing the design .
.
.
.
.
"• by default, when you enable diode insertion, zroute can fix an antenna violation either by adding a new diode or by using an existing spare diode."
.
.
.
.
.
.
262 reporting commands and examples .
.
.
.
.
.
"for nets, the mask constraint is defined in the mask_constraint attribute."
.
.
.
.
.
.
.
.
.346 11 contents feedback ensuring clock tree exceptions are valid .
"to disable concurrent clock and data optimization for the clock_opt command, set the clock_opt.flow.enable_ccd application option to false."
.
.
.
.
.
.
"by default, the library subset restriction applies to fusion compiler™ user guide v-2023.12-sp3 78 chapter 2: preparing the design setting up libraries feedback ◦ the top block and all its subblocks to set it for a specific subblock, use the -objects option."
"to consider the effects of the nondefault routing rules of the clock nets during placement, set the place.coarse.ndr_area_aware application option to true."
.
.
• all positions in the structure are not used.
see shielding options.
fixing buffers the -buffer option of the fix_mv_design command fixes isolation violations and illegal library cells in buffer trees throughout the design.
.
• reroutes overlapping wires.
.
"fusion compiler™ user guide v-2023.12-sp3 604 chapter 7: chip finishing and design for manufacturing finding and fixing antenna violations feedback table 37 antenna ratio calculation based on diode mode diode mode calculation 0, 1 not used 2, 3, 4 • if dp>v0 and v4<>0, antenna_ratio = min (((dp + v1) * v2 + v3), v4) • if dp>v0 and v4=0, antenna_ratio = (dp + v1) * v2 + v3 • if dp<=v0, antenna_ratio = layermaxratio 5 antenna_ratio = metal_area / (gate_area + equi_gate_area) • if max_diode_protection>v0 and v4<>0, equi_gate_area = min (((max_diode_protection + v1) * v2 + v3), v4) • if max_diode_protection>v0 and v4=0, equi_gate_area = (max_diode_protection + v1) * v2 + v3 • if max_diode_protection<=v0, equi_gate_area = 0 6 antenna_ratio = metal_area / (gate_area + equi_gate_area) • if total_diode_protection>v0 and v4<>0, equi_gate_area = min (((total_diode_protection + v1) * v2 + v3), v4) • if total_diode_protection>v0 and v4=0, equi_gate_area = (total_diode_protection + v1) * v2 + v3 • if total_diode_protection<=v0, equi_gate_area = 0 7 antenna_ratio = (metal_area - equi_metal_area) / gate_area • if max_diode_protection>v0 and v4<>0, equi_metal_area = min (((max_diode_protection + v1) * v2 + v3), v4) • if max_diode_protection>v0 and v4=0, equi_metal_area = (max_diode_protection + v1) * v2 + v3 • if max_diode_protection<=v0, equi_metal_area = 0 • if equi_metal_area>metal_area, equi_metal_area = metal_area 8 antenna_ratio = (metal_area - equi_metal_area) / gate_area • if total_diode_protection>v0 and v4<>0, equi_metal_area = min (((total_diode_protection + v1) * v2 + v3), v4) • if total_diode_protection>v0 and v4=0, equi_metal_area = (total_diode_protection + v1) * v2 + v3 • if total_diode_protection<=v0, equi_metal_area = 0 • if equi_metal_area > metal_area, equi_metal_area = metal_area fusion compiler™ user guide v-2023.12-sp3 605 chapter 7: chip finishing and design for manufacturing finding and fixing antenna violations feedback table 37 antenna ratio calculation based on diode mode (continued) diode mode calculation 9 antenna_ratio = scale * metal_area / gate_area • if max_diode_protection>v0, scale = max (1 / ((max_diode_protection + v1) * v2 + v3), v4) • if max_diode_protection<=v0, scale = 1.0 10 antenna_ratio = scale * metal_area / gate_area • if total_diode_protection>v0, scale = max (1 / ((total_diode_protection + v1) * v2 + v3), v4) • if total_diode_protection<= v0, scale = 1.0 11 antenna_ratio = scale * metal_area / gate_area • if max_diode_protection<v0, scale = s0 • if max_diode_protection<v1, scale = s1 • if max_diode_protection<v2, scale = s2 • if max_diode_protection<v3, scale = s3 • if max_diode_protection<v4, scale = s4 • if max_diode_protection>=v4, scale = s5 12 antenna_ratio = scale * metal_area / gate_area • if total_diode_protection<v0, scale = s0 • if total_diode_protection<v1, scale = s1 • if total_diode_protection<v2, scale = s2 • if total_diode_protection<v3, scale = s3 • if total_diode_protection<v4, scale = s4 • if total_diode_protection>=v4, scale = s5 13 n/a fusion compiler™ user guide v-2023.12-sp3 606 chapter 7: chip finishing and design for manufacturing finding and fixing antenna violations feedback table 37 antenna ratio calculation based on diode mode (continued) diode mode calculation 14 if connected to a diode, • (metal or via area) / (gate-area) <= (dp*v1 + v2) // formula1 and (metal or via area) / (v5*gate-area + v6* dp) <= v7// formula2 if not connected to a diode, • (metal or via area) / (gate-area) <= v3 // formula1 and (metal or via area) / (v8 * gate-area) <= v9 // formula2 15 n/a 16 • if dp>v0 and v4<>0, allowable max-antenna-ratio = min (((dp + v1) * v2 + v3), v4) • if dp>v0 and v4=0, allowable max-antenna-ratio = (dp + v1) * v2 + v3 • if dp<=v0, allowable max-antenna-ratio = layermaxratio • if (gate-area <= v5), antenna-ratio = antenna-area/(gate-area + v6*dp) else antenna-ratio = antenna-area/ (gate-area + v6*dp + v7) 17 antenna_ratio = metal_area / (gate_area + equi_gate_area) • if total_diode_protection>v0 and v4<>0, equi_gate_area = min (((total_diode_protection + v1) * v2 + v3), v4) • if total_diode_protection>v0 and v4=0, equi_gate_area = (total_diode_protection + v1) * v2 + v3 • if total_diode_protection<=v0, equi_gate_area = 0 18 if connected to a diode, • if dp>v0 and v4<>0, allowable max-antenna-ratio = min (((dp + v1) * v2 + v3), v4) • if dp>v0 and v4=0, allowable max-antenna-ratio = (dp + v1) * v2 + v3 • if dp<=v0, allowable max-antenna-ratio = layermaxratio • if (gate-area <= v5), antenna-ratio = antenna-area/(gate-area + v6*dp) else antenna-ratio = antenna-area/(gate-area + v6*dp + v7) if not connected to a diode, • if (gate-area < v8), allowable max-antenna-ratio = v9 else allowable-max-antenna-ratio = v10*(gate-area)v11 • antenna-ratio = (antenna-area)/(gate-area) fusion compiler™ user guide v-2023.12-sp3 607 chapter 7: chip finishing and design for manufacturing finding and fixing antenna violations feedback example for diode modes 2, 3, and 4 assume that the antenna area is calculated using surface area in single-layer mode (antenna mode 1), the diode ratio vector for the m1 layer is {0.7 0.0 200 2000}, the layermaxratio value for the m1 layer is 400, and the following diodes are connected to a single m1 net: diode a with a diode-protection value of 0.5, diode b with a diode-protection value of 1.0, and diode c with a diode-protection value of 1.5. in this example, the v4 value is not specified so a value of 0 is used."
.
.
.
.
"reporting and querying self-gating cells by default, the report_clock_gating command automatically detects the presence of self-gates in the design and displays the corresponding information at the bottom of the report, as shown in the following example report."
see aligning leaf cells within a column.
.
144 defining blockages that allow buffers only .
.
"• performs five iterations of detail routing after drc fixing to fix any drc violations introduced during drc fixing • saves the modified block in a design view named block_adr_# to change the default behavior, use the following options: • signoff.fix_drc.max_errors_per_rule this application option specifies the error threshold for ignoring a design rule."
.
rail.def_files (optional) specifies a list of def files.
.
.
.
.
.
.
.
physical_only legalize relative placement groups around both fixed standard cells and fixed physical-only cells.
"if you want to generate hotspots for other nets in another run, you need to remove the previously generated hotspot data from memory with the remove_hot_spots command before proceeding to another hotspot analysis run."
.
"if the bounding box does not span any edges of the specified side, the command issues an error message."
.
"however, you can specify a maximum fanout for the data paths in a block by using the opt.common.max_fanout application option."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"if you do not use it, the sink pin applies to all clocks."
"these commands define routing constraints for adding wires on one or more nets at the block level or adding differential pair routing, bus routing, shielding, and other routing features."
.
.
"you can prevent or discourage off-grid routing, as described in controlling off-grid routing."
.
"(optional) verify the upf consistency and identify any pg conflicts among the netlist, floorplan, and power intent."
.
247 specifying naming styles for multibit registers .
.
signoff.create_metal_fill.
.
table 48 application options for power grid augmentation application option default description signoff.
set_app_options -name rail.generate_file_type -value python #use user-defined test_def_files for def variable to match #with customized python.
.
.
.
.
.
.
.
signoff.check_drc.
.
.
.
(optional) control the naming style used for multibit banking as described in specifying naming styles for multibit registers.
"by default, zroute uses distance-based pin tapering; it uses the default routing rule within the tapering distance from the pin and uses the nondefault routing rule beyond the tapering distance."
.
"explicit ignore means, the endpoints are not considered for skew balancing with other endpoints of the clock, but the portion is considered for drc fixing in clock tree."
"for antenna violations that happen at metal-n, replace part of the metal-n with metal-(n-1 or lower) to reduce the ratio."
.
"as with other design rule violations, antenna violations are reported at the end of each detail routing iteration."
.
.
.
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 892 chapter 12: redhawk and redhawk-sc fusion missing via and unconnected pin checking feedback note: in the redhawk-sc fusion flow, you must specify the -check_missing_via option together with the -voltage_drop option."
"if you do not specify a driving cell (or drive strength), the tool assumes that the port has infinite drive strength."
.436 analyzing clock timing .
.
.
.
.
.
.
"for a list of netlist editing commands, see the common design objects topic in the fusion compiler data model user guide."
.
.
.
.
note that the availability of attribute values depends on the error type and the verification method used.
"to get information about such gated scan registers, run the report_async_gated_registers command after physical synthesis."
.
this setting affects concurrent clock and data optimization performed during the final_opt stage of the clock_opt command and the route_opt command.
"the horizontal stripes on layer m7 have a length of 120 units and they start at a distance of 20 units from the x-axis and repeat every 100 units, until they reach 1200 units from the x-axis."
.
.
"command filtering for specified cell types applies to the connect_supply_net, set_related_supply_net, create_power_domain, and set_isolation commands."
.
.
.
this sets the values for each of hybrid flow related application options automatically.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 627 chapter 7: chip finishing and design for manufacturing inserting redundant vias feedback to perform concurrent soft-rule-based redundant via insertion, 1."
"during concurrent clock and data optimization, • the tool uses ideal clock tree, and it updates clock latencies and balance points for all active scenarios."
"for postroute length matching, you should include two additional layers."
.
.
see also intra-shield placement.
the upstream clock logic of the required skew group endpoints is shared with the endpoints of the default group or other user skew groups.
.
.
.
.
• do not nest checkpoints within other checkpoints.
.
.
.
.
.
.
.
.
the congestion report and map help you to identify congested areas.
.
.
.
"the following example specifies that the tool should replicate the a_reg register and the logic in the path from this register to the u1 cell: fc_shell> set_register_replication -num_copies 2 a_reg \ -include_fanout_logic u1 to specify endpoint registers or primary output ports that must be driven by the original register after replication, as shown in figure 34, use the -driven_by_original_register option."
.
◦ -timing_preserve_setup_slack_threshold this option enables the tool to automatically determine the critical nets based on a setup slack threshold.
.
.
.
464 checking routability .
.
.
.
.972 placing eco cells .
.
.
.
"figure 105 using a routing corridor before routing after routing to define a routing corridor, use the create_routing_corridor command."
"• clock-gate optimization to disable this feature, set the compile.flow.optimize_icgs application option to false."
.
.
.
.
.
"for more information, see analyzing signal electromigration."
.
.
.
.
inverter removed in pairs only.
.
.
"the following topics describe how to specify routing layer constraints, preferred routing direction, and via ladders : • specifying the global layer constraints • specifying net-specific layer constraints • specifying clock-tree layer constraints • enabling level-based clock nondefault routing rule • setting the preferred routing direction for layers specifying the global layer constraints to specify the global layer constraints, use the set_ignored_layers command."
.
.
.
.
.
.
.
.
.
804 handling fixed cells during relative placement .
"by default, all the spare cells are placed based on the cell density distribution."
.
.
"to specify multiple via ladder candidates for a library pin, use the command multiple times, as shown in the following example: fc_shell> set_via_ladder_candidate [get_lib_pins lib1/and2/a1] \ -ladder_name ""vp4"" fusion compiler™ user guide v-2023.12-sp3 181 chapter 2: preparing the design specifying settings for preroute optimization feedback fc_shell> set_via_ladder_candidate [get_lib_pins lib1/and2/a1] \ -ladder_name ""vp2"" the order in which you specify multiple via ladders for the same library pin indicates the priority to use when selecting a via ladder to insert for that pin."
.
.
.
.
"each metal shape has a width of w, which is the default width for the layer, and a length of l, which is the length specified for the layer by the -short_metal_length option."
.
"as shown in figure 216, when the -index option is set to 5, the grid 5 is reported with small total current."
.
detailed table panels provide deeper insight into your data than can be found on the summary tables.
.
.
this command removes the clock latency values on the specified clocks.
.
"if the voltage levels of the two domains are substantially different, the interface cell must be able to perform both level shifting (when the domain is powered up) and isolation (when the domain is powered down)."
"because the tool accepts any standard cell as an end-cap cell, ensure that you specify suitable end-cap cells."
.
.
.
.
the checkpoint system streamlines this process and allows you to run experiments without modifying your golden flow scripts.
.
.
.
.
"• to define a soft group bound, use the following syntax: create_bound -name name [-type soft] [-effort effort_level] \ [-dimensions {width height} bound_objects] the default effort is ultra; you can also specify low, medium, or high."
.
.
.
.
333 special naming and querying for dft wrapper clock gates .
.
.
.
"◦ the ic validator tool does not write exclude layers if your foundry uses exclude layers, define the data types for the exclude layers by setting the mx_exclude_layer_datatype parameters in the ic validator parameter file."
.
"each line in the layer mapping file specifies a layer in the technology file and the corresponding layer in the runset file using the following syntax: tf_layer[:tf_purpose][:use_type][:mask_type] runset_layer[:runset_data_type] each line can contain the following items: • tf_layer – layer number in the technology file, a required item • tf_purpose – purpose number in the technology file • use_type – fusion compiler usage of the geometries in the design fusion compiler™ user guide v-2023.12-sp3 664 chapter 8: ic validator in-design performing signoff design rule checking feedback valid values are power, ground, signal, clock, boundary, hard_placement_blockage, soft_placement_blockage, routing_blockage, area_fill, and track."
.
the following example script sets specific modules to be ungrouped and specific cell instances to be preserved during optimization: # set modules a and b to be ungrouped set_ungroup [get_modules {a b}] true # set cells u_c and u_d to be preserved set_ungroup [get_cells {u_c u_d}] false # query the ungroup attribute get_attribute -name ungroup -objects [get_modules {a b}] get_attribute -name ungroup -objects [get_cells {u_c u_d}] compile_fusion controlling boundary optimization you can control boundary optimization across user-specified logical boundaries and match the interface boundary of a physical block with the rtl module interface.
.
.
.
924 writing analysis and checking reports .
.
.
fusion compiler™ user guide v-2023.12-sp3 786 chapter 10: physical datapath with relative placement adding objects to a group feedback you can use hierarchical relative placement to simplify the expression of relative placement constraints.
.
.
.
.
.
"the tool resolves such mismatches by supporting the following types of optimization for such nets: • physical-feedthrough buffering during physical-feedthrough buffering the tool performs the following: 1. inserts buffers in the logical hierarchy of its drivers or loads and applies the power domain of the nonnative voltage area on the buffer using power-domain-on-instance (pdoi) constraints 2. places the buffers within the nonnative voltage area to allow physical-feedthrough buffering, use the create_voltage_area_rule -allow_physical_feedthrough true command, as shown in the following example: fc_shell> create_voltage_area_rule \ -allow_physical_feedthrough true \ -name va1_rule -voltage_areas va1 • logical-feedthrough buffering during logical-feedthrough the tool performs the following: 1. adds buffers in the logical hierarchy corresponding to the nonnative voltage area 2. places the buffers within the nonnative voltage area to allow logical-feedthrough buffering, use the create_voltage_area_rule -allow_logical_feedthrough true command."
.
.
.
.
.
.
balance mode option you use the custom.route.balance_mode application option in interposer designs to reduce the skews caused by wire length and via cut count differences.
.
.
.
.
.
.
.
.
"if you specify a value of 0, the command analyzes all free sites, which can increase runtime • to ignore physical design constraints or advanced design rules during placement analysis, use the -no_pdc or -no_adv option."
"if you specify this option with the -coordinates_power option, the command does not perform pg augmentation in the overlapping regions."
.
.
.
.
.
.
.
673 configuring an icv heat map .
"• to remove specific routing corridors, specify the routing corridors, either as a list or collection, such as that returned by the get_routing_corridors command."
.
.
.
.
.
.
.
.
.
"2. define the via ladder constraints by using the set_via_ladder_rules command, as described in defining via ladder constraints."
"for information about resolving overlapping voltage areas, see resolving overlapping voltage areas."
.
.
"see also • deriving routing guides • querying routing guides • removing routing guides using routing guides to control the routing direction you can use a routing guide to control the routing direction within the routing guide boundary, either by requiring routes to be in the preferred direction within the routing guide boundary or by switching the preferred direction within the routing guide boundary."
.
.
this allows you to find power network errors in the design before rail analysis.
.
.
"to report or display the information in the error data file, use the error browser, as described in the fusion compiler graphical user interface user guide."
the fusion compiler compilation includes both top-down and bottom-up (hierarchical) compile strategies.
• apply the top-level clock tree synthesis settings and exceptions.
.
"the buffer in the first level is placed at the center of the core area, the four buffers in the next level are placed at the center of the four quadrants of the core area, and so on, resulting in an evenly placed clock drivers that can be routed to form an h-tree structure as shown in figure 88 figure 88 clock drivers placed in an h-tree structure after it inserts the clock drivers, the tool marks the clock drivers that it inserts as fixed and don’t touched."
.
742 running the signoff_fix_isolated_via command .
"• writes the report files to a directory named signoff_report_metal_density_run under the current working directory to change the name of the ic validator working directory, set the signoff.report_metal_density.run_dir application option."
"by default, the clock minimum layer constraint is a soft constraint and the clock maximum layer constraint is a hard constraint."
.
.
"however, to minimize qor disturbance, the tool limits the percentage-lvt-based optimization performed during the route_opt command."
.
.
.
.
.
.
"a chip design consists of one or more blocks, often stored in different design libraries."
.
"• the set_clock_gating_objects command to control clock gating for specified objects and override the default clock-gating behavior that is set during compile, specify the following options."
"during track assignment, zroute performs the following tasks: • assigns tracks in horizontal partitions."
.
.
.
.
.
3. analyze the mapping of eco cells to spare cells by using the check_freeze_silicon command.
"to create this type of routing guide, use the -river_routing option with the create_routing_guide command."
.
.
.
"with this option, you must specify • the origin of the placement area by using the -column and -row options • the height and width of the placement area by using the -height and -width options • the number of columns and rows the cells occupy by using the -num_columns and -num_rows options for example, to add a leaf cell that occupies two columns and two rows to a placement area with a height of 4 and a width of 5 and is at position (0,0), use fc_shell> add_to_rp_group rp2 -cells u41 -free_placement \ -column 0 -row 0 -height 4 -width 5 -num_columns 2 -num_rows 2 specifying options for relative placement groups to specify properties of relative placement groups, use the set_rp_group_options command as described in table 57. table 57 specifying relative placement group properties to do this use this option specify the anchor location."
.
.
.
"when you specify this option, the command creates a single rectangular metal shape parallel to each preferred-direction boundary edge."
198 manually enabling dynamic power shaping and voltage-drop-aware placement .
.
.
.
.
.
.
.
.
.
"to perform timing-driven metal fill insertion, use one or both of the following options with the signoff_create_metal_fill command: • -nets this option explicitly specifies the critical nets."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
example 11 def placement bound information regions 1 ; - c20_group ( 201970 40040 ) ( 237914 75984 ) + type fence ; end regions groups 1 ; - c20_group cell_abc1 cell_sm1 cell_sm2 fusion compiler™ user guide v-2023.12-sp3 109 chapter 2: preparing the design importing the floorplan information feedback + soft + region c20_group ; end groups routing blockages routing blockages are extracted similar to the way that placement blockages are extracted.
.
.
.
.
optionally you can specify an annotated transition on the clock port or the start point of your clock mesh.
.
you can assign a specific name to identify the run in the qorsum report by using the -run_names option.
.
.
"figure 10 redundant cell in library cell family fusion compiler™ user guide v-2023.12-sp3 86 chapter 2: preparing the design analyzing libraries feedback a cell is considered an outlier if its metrics has a very large deviation from the expected values, as shown in the following plot of cell area versus timing for a family of cells with the same function."
"for example, to honor nondefault routing rules during fill removal, use the following command: fc_shell> signoff_create_metal_fill -mode remove \ -remove_by_rule {ndr} see also • specifying the layers for metal fill insertion • specifying the regions for metal fill insertion fusion compiler™ user guide v-2023.12-sp3 740 chapter 8: ic validator in-design inserting metal fill with ic validator in-design feedback eco-aware removal of track based metal fill shapes to automatically remove track based metal fill shapes that are causing drc violations after eco, use the -remove_by_rule drc_auto option with the signoff_create_metal_fill command."
.
guide buffer removed.
.
.
.
"(by default, concurrent redundant via insertion is disabled.)"
.
.
.
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 581 chapter 7: chip finishing and design for manufacturing inserting tap cells feedback the fusion compiler tool provides two methods to insert a tap cell array: • insert the tap cell array based on the site rows and the maximum distance between tap cells to use this method, use the create_tap_cells command, as described in using the create_tap_cells command."
"for details see, detail routing."
.
.
451 via ladder rule files .
you specify the location of the layer mapping file by setting the signoff.physical.layer_map_file application option.
.
the following figure shows an example of how a d flip-flop is replaced with a scan register during test-ready compile.
.
.
you can specify one net at a time.
.
◦ ignore the current cell density and place the spare cells randomly by using the -random_distribution option.
"when you create a via with the create_via command, the via shapes inherit the mask constraints specified in the via definition."
5. perform optimization using the compile_fusion or clock_opt command.
.
.
.
the default value is 0 um.
.
.
.
.
"to disable this feature, use the set_clock_gate_transformations command."
.
they are hard constraints only if the route.common.net_min_layer_mode and route.common.net_max_layer_mode application options are set to hard.
.
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 465 chapter 6: routing and postroute optimization checking routability feedback • invalid real metal via cut blockages this check verifies that all real metal via cut blockages match a legal cut size, as defined by the cutwidthtbl, cutheighttbl, and minwidth attributes in the technology file."
fusion compiler™ user guide v-2023.12-sp3 780 feedback 10 physical datapath with relative placement the physical datapath with relative placement capability provides a way for you to create structures in which you specify the relative column and row positions of instances.
.
.
"during placement, the tool spreads these cells the most."
.
.
.
.
.
"in this case, the target library cell names do not contain a lexical_device_threshold_voltage attribute, as shown in the following table."
.
.
.
.
.
.
46 interrupting or terminating command processing .
.
this selects and deselects those runs from the visible flows (detailed) column.
.
.
.
.162 6 contents feedback specifying legalization settings .
391 marking clocks as propagated after clock tree synthesis .
.
"see also • running commands in the background • running commands in parallel running commands in the background to improve runtime, you can run checking and reporting commands in the background while you run other commands in the foreground."
"to change the runs that are displayed, 1. click the runs button to open the choose baseline and visible runs dialog box."
.
"3. add filler cells to the empty spaces in the site array, as described in inserting filler cells."
.
.
.
.
"to control the cell selection priority, use the -prefer_type_ordering option with the -type_utilization option."
.
.
.
.
.
.
"for example, assume the design has three clocks named clk1, clk2, and clk3."
a supply net that crosses from one level of the design hierarchy to the next passes through a supply port.
.
.
"• for horizontal tap walls, you can specify a gap distance between tap cells by using the -x_spacing option."
the cells belonging to the path are {%s}.
.
they are saved in the design library and are persistent across tool sessions.
.
.
.
.
.
2.
"when you use this option, the derive_metal_cut_routing_guides command creates the following routing guides: • metal cut allowed routing guides, which cover the area taken up by all the placeable site rows reduced by the vertical shrink factor, which is 50 percent of the smallest site row height • forbidden preferred grid extension routing guides, which cover the remaining area up to the block boundary to check the inserted routing guides, use the -check_only option with the derive_metal_cut_routing_guides command."
.
.
.
.
.
"to report the settings you specify for automated tap assignment, use the report_multisource_clock_tap_options command."
.
.
.
"in this case, the tool adds clock gates until either of the following conditions is met: • all common enable signals are identified and used for multilevel clock-gate expansion."
.
.
.
.
.
.
786 adding hard macro cells .
.
"figure 12 equivalent cells in library cell family fusion compiler™ user guide v-2023.12-sp3 88 chapter 2: preparing the design analyzing libraries feedback a gap is when there is a large difference between two successive drive strengths, as shown in the following plot of cell area versus timing for a family of cells with the same function."
.
.
.
.
.
.
.
.
"(optional) fixes density errors in some cases, the spacing requirements for timing-driven metal fill insertion might cause density errors."
the following script reads vhdl files using template libraries and creates a block called top.
.
.
.
.
.
"when you select this rule, you must specify • the maximum horizontal length to specify the maximum length, use the -max_constraint_length option."
.
.110 creating constraints for auto floorplanning .
.
"fusion compiler™ user guide v-2023.12-sp3 650 chapter 7: chip finishing and design for manufacturing inserting filler cells feedback for example, the following command identifies and fixes maximum stacking violations where the stacking height exceeds 10 um: fc_shell> replace_fillers_by_rules \ -replacement_rule small_filler_stacking -max_constraint_length 10 \ -small_fillers {fill1 fill2} -replacement_fillers {fill3 fill4} \ the following figures illustrate the replacement and reordering techniques used to fix maximum stacking violations."
check if the group id of cells are on the same path.
.
"example 21 detail routing report start dr iteration 0: uniform partition routed 1/27405 partitions, violations = 0 routed 137/27405 partitions, violations = 264 … dr finished with 7398 violations drc-summary: @@@@@@@ total violations = 7398 diff net spacing : 194 same net spacing : 4 diff net via-cut spacing : 2328 same net via-cut spacing : 1 less than minimum width : 5 less than minimum area : 36 short : 87 end of line enclosure : 4742 less than ndr width : 1 total wire length = 23928849 micron total number of contacts = 2932706 total number of wires = 2878293 total number of ptconns = 88536 total number of routed wires = 2878293 total routed wire length = 23920011 micron total number of routed contacts = 2932706 layer m1 : 962827 micron layer m2 : 4233755 micron fusion compiler™ user guide v-2023.12-sp3 536 chapter 6: routing and postroute optimization routing signal nets feedback … via via78sq_c : 1742 via via78sq_c(rot) : 9 … redundant via conversion report: -------------------------------- total optimized via conversion rate = 98.96% (2902130 / 2932706 vias) layer via1 = 97.81% (1091973/ 1116367 vias) weight 1 = 97.81% (1091973 vias) un-optimized = 2.19% (24394 vias) … total double via conversion rate = 98.96% (2902130 / 2932706 vias) layer via1 = 97.81% (1091973/ 1116367 vias) layer via2 = 99.97% (1071650/ 1071978 vias) … the optimized via conversion rate based on total routed via count = 98.96% (2902130 / 2932706 vias) layer via1 = 97.81% (1091973/ 1116367 vias) weight 1 = 97.81% (1091973 vias) un-optimized = 2.19% (24394 vias) … total number of nets = 255165 0 open nets, of which 0 are frozen total number of excluded ports = 0 ports of 0 unplaced cells connected to 0 nets 0 ports without pins of 0 cells connected to 0 nets 0 ports of 0 cover cells connected to 0 non-pg nets total number of drcs = 7398 total number of antenna violations = antenna checking not active information: routes in non-preferred voltage areas = 8170 (zrt-559) topology eco iteration 1 ended with 0 qualifying violations."
.
.
mx_fill2chipboundary_x mx_fill2chipboundary_y specifies the minimum spacing between fill shapes and the chip boundary.
.
"in such cases, review the power plan, cell layout, and the legalization settings to improve the pass rate."
.
.
"to reduce runtime by performing drc fixing only in areas near the signoff drc violations, set this application option to local."
.
.
"if you make manual changes to the design between stages, ensure the changes honor the expected state of the design."
.
.
3. check the details of the errors in the error browser (see figure 205).
.
.
.
.
.
.
.
.
.
.
.
.
"after the library cells are grouped into a subset, they are not available for general mapping during optimization, but for sequential cells and instantiated combinational cells only."
"if you do so, when the tool combines the single-bit registers named a/b/p/reg1 and a/b/q/reg2, the multibit register is named a/b/p/reg1_q/reg2."
.
.
.
.
.
.
.
not specifying a complete list of equivalent cells for preexisting gates can affect clock tree qor.
"• (optional) by default, the tool uses the redhawk/redhawk-sc power analysis feature to calculate the power consumption of the specified power and ground network."
.
.
.
"if a cell instance changes, the tool takes a conservative approach and considers changes on all layers."
.
"during datapath optimization, the tool performs the following tasks: • shares (or reverses the sharing) of datapath operators • uses the carry-save arithmetic technique • extracts the data path • performs high-level arithmetic optimization on the extracted data path • explores better solutions that might involve a different resource-sharing configuration • makes tradeoffs between resource sharing and datapath optimization topics in this section • datapath extraction transforms arithmetic operators, such as addition, subtraction, and multiplication, into datapath blocks."
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 103 chapter 2: preparing the design importing the floorplan information feedback if you have a floorplan for your block, read in the floorplan as a def file, as described in reading def files."
.
.
all constituent objects can share the shield; the m5 and m6 layers cannot be used for shielding.
.
.
.
you can specify one or more of the following rules: ◦ nondefault routing rules (ndr) this rule applies to both pattern-based and track-based metal fill.
545 16 contents feedback shielding example .
.
.
.
vx_iso_via_distance 3.0 microns specifies the maximum distance within which a neighboring via must exist.
.
"for more information, see preparing design and input data for rail analysis."
.
.
these setting prevents the tool from adjusting the latencies of the sinks that have a cts_fixed_balance_pin attribute set to true.
.
.
"you specify the technology file, physical libraries, and logic libraries by using the search_path and link_library variables, and then you use the create_lib or set_ref_libs command to assemble the cell libraries."
.
.
.
"performing postroute clock tree optimization when you detail route the clock nets of a block, its clock tree qor can degrade due to the differences between the clock global routes used during clock tree synthesis and the clock detail routes."
.
.
.
.
.
.
"• mixed to use sparse mode for some layers and dense mode for other layers, you must set the appropriate parameters in a parameter file, as described in using an ic validator parameter file."
"the command disassociates the constituent objects from the removed constraint groups, and reports the number of the groups that are removed."
.
completed.
"◦ select standard, “fill cell,” and block in the “expanding cell types” section."
"you can configure the following policies for the hierarchical checks to manage the design data violations: • error: when you apply this policy, the tool does not mitigate the violation, but issues an error message."
.
"you can manually generate a configuration file, as described in creating an autofix configuration file."
.
.
.
.
.
"to control diode insertion, set the following application options: • to specify a preference for fixing antenna violations by using diode insertion rather than layer hopping, set the route.detail.antenna_fixing_preference application option to use_diodes."
"b default, the tool considers all the sinks."
619 inserting diodes after detail routing .
.
.
you can change the focus to a different path group by selecting a different scenario or path group name in the drop-down menus at the top of the report.
.
.
"to identify case analysis settings in the block, use the report_case_analysis command."
.
.
.
.
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 771 chapter 9: routing using custom router using custom routing application options feedback application option description custom.route.single_loop_match_max_spacing specifies the maximum spacing in the loop.
.
the fanout of clock-gating cells in different hierarchies can be moved to a clock-gating cell in a common ancestor if there is no restriction preventing port punching.
"for vertical shapes, the metal shapes start at the bottom edge."
.
.
.
x opt-4000 design does not have a floorplan or a valid floorplan.
.
.
wire spreading has a timing-preservation mode that allows you to perform wire spreading without affecting the block timing.
.
.
.
.
.
.
"• to read both the pin information and the routing blockages from the frame view for macro cells and i/o pad cells, set the signoff.check_drc.ignore_blockages_in_cells application option to false."
"the obstruction in column four is greater than the threshold, so the tool shifts all the cells of the column horizontally."
.
.
.
.
.
.
.
.
206 handling design data using the early data check manager .
.
"the following topics describe how to enable the different types of power optimization the tool performs: • performing conventional leakage-power optimization • performing dynamic-power optimization • performing total-power optimization performing conventional leakage-power optimization to set up for conventional leakage-power optimization during the preroute optimization stage, perform the following: 1. ensure that at least one scenario is enabled for leakage-power optimization by using the set_scenario_status -leakage_power true command and the set_qor_strategy -metric leakage_power | total_power command for deciding the target of power flow."
.
.
.
.
.
.
a parameter to print options set up only for certain objects is also available.
.
145 defining placement bounds .
"the supported values for this option are: • balanced, which is the default mode that optimizes the design for the target metrics specified with the -metric option."
.
.
each fusion compiler session overwrites the command log file.
.
"• insert the tap cell array using a specified offset and pitch, and optionally insert additional tap cells near the boundary to use this method, use the create_cell_array command, as described in using the create_cell_array command."
.
.
.
.
.
.
.
.
626 concurrent soft-rule-based redundant via insertion .
.
143 defining blockages that exclude relative placement groups .
.
.
.
.
.
"you specify the left, bottom, right, and top margins using the following format: {lx by rx ty}."
"fusion compiler™ user guide v-2023.12-sp3 669 chapter 8: ic validator in-design performing signoff design rule checking feedback otherwise, it reads the frame view."
.
.
.
.
.
.
.
.
zroute can also insert diodes to fix antenna violations.
"to perform wire widening, use the widen_zrt_wires comandcomandswiden_zrt_wireswire wideningwiden_wires command."
"mapping of asynchronous reset or preset registers to enable the tool to map to registers with asynchronous reset or preset signals, you must • describe the registers correctly in the rtl • ensure the library contain the corresponding cells • ensure the hdlin.elaborate.ff_infer_async_set_reset application option is set to true (the default) fusion compiler™ user guide v-2023.12-sp3 234 chapter 3: physical synthesis controlling mapping and optimization feedback if the library does not contain this type of registers, the tool leaves the cells unmapped."
.
.
.
.
.
.
.
.
.
"• compare the delay, power, area, and other characteristics of equivalent cells in different libraries or different versions of the same library, which can help you identify the appropriate libraries to use for design implementation."
.
discharging can be accomplished by inserting a reverse-biased diode on the net close to the gate that is being protected.
"fusion compiler™ user guide v-2023.12-sp3 210 chapter 2: preparing the design applying mega-switch command settings feedback when you use this command, the tool applies application option settings that affect synthesis, optimization, placement, legalization, clock tree synthesis, routing, extraction, and timing analysis."
.
.
.
.
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 745 feedback 9 routing using custom router custom router is a shape-based router that supports gridded or gridless routing for custom digital, mixed signal, and analog routing needs."
merge_stream_files (none) specifies the stream (gdsii or oasis) files to merge into the current block for interactive design rule checking.
.
"however, doing so heavily restricts the scope of concurrent clock and data optimization."
zroute generates a drc violations summary at the end of each iteration.
.
.
.
.
383 scaling ccd offsets to new scenarios for reporting timing .
.
"• the code that is commented out identifies the original script body • the blue code identifies the checkpointed tcl commands in your golden flow • the green code identifies the gropto action, configured to run before the place_opt_to_initial_drc checkpoint • the purple code identifies the placer_high_effort_cong action, configured to run in place of the code block enwrapped by the incr_placement checkpoint fusion compiler™ user guide v-2023.12-sp3 59 chapter 1: working with the fusion compiler tool adding changes to a script with checkpoints feedback associating a checkpoint with multiple behaviors when you associate a checkpoint with multiple behaviors, the tool executes those behaviors in the following order: • any reports configured to run before the checkpoint • any actions configured to run before the checkpoint • the checkpointed code block, or any actions configured to replace it • any actions configured to run after the checkpoint • any reports configured to run after the checkpoint if multiple reports or multiple actions are configured to run at the same position (-before, -after, or -replace) in the same checkpoint, the tool executes them in the order in which they were associated with the checkpoint with the associate_checkpoint_* commands."
"to perform layout editing tasks while the tool is running in the background, run the analyze_rail -bg command."
.
.
.
.
.
-percentage specifies the percentage used to generate hotspot error cells.
"fusion compiler™ user guide v-2023.12-sp3 961 chapter 13: eco flow making eco changes using netlist editing commands feedback to make the eco changes to the working design, source the change file that the eco_netlist command generates, as shown in the following example: fc_shell> eco_netlist -by_verilog_file eco.v \ -compare_physical_only_cells -write_changes eco_changes.tcl fc_shell> source eco_changes.tcl making eco changes using netlist editing commands if the eco changes are minimal, you can update the design by using netlist editing commands given."
.
.
.
.
.
.
.
this helps avoid possible unplaceable buffers during buffer insertion.
this command reports equivalent cell groups that are defined in liberty source files of variant-ready logic libraries as well as those defined by using the create_cell_groups command in the library manager tool.
• use the -nets option to specify the power and ground supply nets to analyze.
.
.
.
.
.
"specifying switching probability for supply nets the leakage power of a block is scaled based on the switching probability of its supply nets, which represents the fraction of time a supply net is in the on state."
.
.
.
specify a unique name for the report and define the tcl commands to generate the report.
fusion compiler™ user guide v-2023.12-sp3 110 chapter 2: preparing the design importing the floorplan information feedback creating constraints for auto floorplanning use the commands and application options described in this topic to create constraints for auto floorplanning.
"• limit the mpw violations within a given slack limit, set the abstract.min_pulse_width_violation_slack_limit application option to the required slack."
.
.
"for example, fc_shell> set_app_options \ -name rail.apl_files -value \ {cell.current current \ cell.cdev cap} rail.switch_model_files specifies the redhawk switch cell model files for performing dynamic rail analysis."
"if you do not specify a layer in these options, off-grid routing is allowed on that layer, regardless of the setting in the technology file."
.
"you specify the left, bottom, right, and top margins using the following format: {lx by rx ty}."
.
.
.
• -mode global_route_cell_edge_based use this option to report overflow information for each global routing cell.
.
.
"• to stop after track assignment, use the -stop_after_track_assignment true option."
.
.
"the following example opens the my_liba library saved on disk: fc_shell> open_lib my_liba information: loading library file '/usr/lib/stdcells.ndm' (file-007) information: loading library file '/usr/lib/rams.ndm' (file-007) information: loading library file '/usr/lib/physicalonly.ndm' (file-007) {my_liba} • current_lib by default, the library most recently opened is the current library."
using net-specific redundant via insertion allows you to further improve the optimized via rate without causing large-scale routing and timing changes.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 83 chapter 2: preparing the design analyzing libraries feedback figure 8 library analysis flow for more information about the different types of library analysis flows, see the following topics: • introduction to redundancies, outliers, equivalences, and gaps in library cell families • identifying redundancies, outliers, equivalences, and gaps in library cell families • comparing libraries introduction to redundancies, outliers, equivalences, and gaps in library cell families when a family of cells with the same function is ordered in terms of increasing drive strength, specific cell property values should be monotonically increasing or decreasing."
.
.
.
.
.
"you can perform signoff design rule checking by • running the signoff_check_drc command • using the live drc feature in the fusion compiler gui after place and route, use the signoff_check_drc command to perform signoff design rule checking on the entire block."
.
.
.
"after you specify the naming convention, perform lexical classification by using the classify_lib_cell_attributes command, as shown in the following example: fc_shell> classify_lib_cell_attributes -libset mylibset to report the lexical classification results, use the report_lib_cell_classification_attributes command."
.
.
.
.
101 reading mixed gate-level netlists and rtl files .
"to create an error data file to view the errors in the error browser, use the -error_view option."
.
.
.
.
.
"in the average, rms, and peak columns, the first value is the calculated value and the value in parenthesis is the limit imposed by the electromigration constraints, where a hyphen indicates that there is no electromigration constraint."
"figure 58 before clock-gate level expansion fusion compiler™ user guide v-2023.12-sp3 312 chapter 4: clock gating merging clock gates feedback however, if clock gate a2 is always enabled, it has a toggle rate of 0 and a static probability of 1. adding another clock-gate level does not provide any benefit in this case."
• all path groups are considered for useful skew computation.
.
the following application options control whether dynamic and leakage power are scaled based on the supply switching activity: • the power.scale_dynamic_power_at_power_off option controls whether dynamic power is scaled.
.
.
"to create a context model, use the create_context_for_sub_block command."
◦ each net has only one driver and can have multiple loads.
"the concepts and tasks necessary for doing relative placement are described in these sections: • introduction to physical datapath with relative placement • relative placement flow • creating relative placement groups • adding objects to a group • specifying options for relative placement groups • changing the structures of relative placement groups • generating relative placement groups for clock sinks • performing placement and legalization of relative placement groups • analyzing relative placement groups • saving relative placement information • summary of relative placement commands introduction to physical datapath with relative placement relative placement is usually applied to datapaths and registers, but you can apply it to any cell in your design, controlling the exact relative placement topology of gate-level logic groups and defining the circuit layout."
isolation cells should be instantiated at the rtl level to prevent formal verification errors.
.
.
.
the vias listed in the -from option must be simple vias or via arrays.
"to add the buffers on the highest possible level of hierarchy, use the -on_top_hierarchy option."
"in this case, the configuration file has been copied to each design's run directory."
.200 removing global layer constraints .
.987 specifying horizontal and vertical spacing for repeater groups .
.
.
-create write only add_to_rp_group -cells commands to the script.
"to allow the tool to expand the number of clock-gate levels, set the compile.clockgate.enable_level_expansion application option to true (the default is false) and set the compile.clockgate.max_number_of_levels application option to a nonzero value (the default is 0)."
.
"synthesizing a subblock to synthesize a subblock and generate the block-level information required for top-level synthesis, perform the following steps: 1. read in a subblock design library generated after the rebuild step as described in partitioning and planning the full chip design."
.
(optional) control the effort of timing optimization performed during concurrent clock and data optimization as described in controlling timing optimization effort.
.
.
.
.
.
.
.
"for a list of power and multivoltage data checks, see the fusion compiler multivoltage user guide."
"to specify a different tapering distance for driver pins, use the -driver_taper_distance option when you create a nondefault routing rule with the create_routing_rule command."
.724 incremental metal fill insertion .
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 929 chapter 12: redhawk and redhawk-sc fusion writing analysis and checking reports feedback to specify which analysis or checking types to report, use the -type option."
.
"if you specify more than two background jobs, they are queued."
.
.
"to modify the connection constraints, set the following application options: • route.detail.via_ladder_upper_layer_via_connection_mode to allow vias to connect to the top level of a via ladder from below, set this application option to any."
"the sum of all the percentages specified in this option must be less than or equal to 100. when you use this option, the create_stdcell_fillers command might leave some empty spaces."
.
.
.
.
.
.
.
"to insert filler cells in your block, 1. ensure that the block is legalized by using the check_legality command."
.
.
.
table 8 lists the types of placement bounds supported by the fusion compiler tool.
.
"to specify a different layer-based tapering distance for driver pins, use the -driver_taper_over_pin_layers or -driver_taper_under_pin_layers option."
"you need to specify the following information: • the name of the constraint group if you do not specify a name, the command names the constraint group differential_pair_n or differential_group_n, where n is a unique integer."
.
you can specify up to ten fields.
.
.
.
818 partitioning and planning the full chip design .
.
.
"◦ when the end of a route is open, no other route of the same net is present in the vicinity of the pin or port."
"to specify nondefault routing rules, use the create_routing_rule and set_routing_rule commands."
.
.
.
specifying the diode ratio vector the diode ratio vector specifies the values used to calculate the maximum antenna ratio.
.
"by default, these constraints are soft constraints."
-percentage (optional) specifies a percentage value.
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 421 chapter 5: clock tree synthesis implementing multisource clock trees feedback figure 94 comb topology load pins driver pins clock mesh strap (shape_use = stripe) clock mesh strap (shape_use = user_route) comb route pin that is further than the comb distance comb routing is suitable when there are a large number of driver and load pins directly under the clock-mesh stripes.
this delay constrains the length and the number of loads connected to the substrap.
.
.
986 specifying cut space and cut distance for repeater groups .
"for example, in example 29, the via conversion rate for weight 5 and above for layer v03 is 10.75+64.50=75.25%."
.
.
.
.
define a blockage of a predefined category a category blockage is a special type of partial blockage that controls the placement of a predefined category of cells within the partial blockage.
.
.
.
.
.
.
.
.
.
.
"for more information about the ic validator tool, see the ic validator documentation, which is available on solvnet."
.
.
.
.
.
.
◦ block.results this file contains a summary of the signoff_check_drc run results.
.
.
.
.
.
.
.
.
.
.
.
.
"for more information, see end orientation rule."
fusion compiler™ user guide v-2023.12-sp3 118 chapter 2: preparing the design setting up multivoltage designs feedback creating floating logical supply nets a floating logical supply net is a power or ground net that is not connected to any logical pin or port in the block.
"7. run voltage drop analysis using redhawk fusion, as described in performing voltage drop analysis."
"for example, you can ◦ specify the path-based analysis (pba) mode by using the time.pba_optimization_mode application option ◦ enable concurrent clock and data optimization by using the route_opt.flow.enable_ccd application option ◦ enable power optimization by using the route_opt.flow.enable_power application option 2."
"for example, fc_shell> create_lib lib_b \ -ref_libs {../libs/lib_c ../stnd/stdhvt.ndm} ... {lib_b} • set_ref_libs -ref_libs for an existing design library, open the library and then use the set_ref_libs command to specify the reference libraries."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"to run voltage drop analysis with the generated block contexts, set the rail.pad_files and rail.block_context_model_file application options before running the analyze_rail command."
the fusion compiler tool supports both unencrypted and encrypted itf files.
signoff.check_drc_live.
.
.
.
intent_name (optional) name of the constraint.
.
.
"fusion compiler™ user guide v-2023.12-sp3 300 chapter 4: clock gating clock gating flows feedback figure 52 command output with no specific object options but passed as parameters when multiple objects are set using the same options, they appear in a single row, with the name column being divided into multiple lines if the -nosplit parameter is not used."
.
4. enable cell electromigration fixing by setting the cts.multisource.cell_em_aware application option to true.
.
.
.
.
figure 223 check and swap with legal reference for target cell.
mx_fill2fill_side_ spacing specifies the minimum spacing between fill shapes.
"in a top-down compile, all environment and constraint settings are fusion compiler™ user guide v-2023.12-sp3 212 chapter 3: physical synthesis performing unified physical synthesis feedback defined with respect to the top-level design."
151 reporting cell spacing constraints .
.
"fusion compiler™ user guide v-2023.12-sp3 797 chapter 10: physical datapath with relative placement specifying options for relative placement groups feedback figure 177 minimizing the column width of a relative placement group aligned by pins u4 u3 u2 u1 row 3 row 2 row 1 row 0 column 0 pin a u4 u3 u2 u1 row 3 row 2 row 1 row 0 column 0 when you specify an alignment pin for a group, the pin applies to all cells in the group."
.
it does not generate balance points for generated clocks.
.
.
• -reset removes all configurations previously set by the set_self_gating_objects command.
.
.
"to output a tcl script that re-creates the routing corridors, use the -output option."
.
"• blocked ports on frozen nets to enable this check, use the -check_frozen_net_blocked_ports true option."
.
setting the ccd.skew_opt_merge_dcg_cells_by_driver application option to true enhances the concurrent clock and data optimization to skew latches and gating element by the same offset.
.
.
.
.
"6. saves the fill data in the design view by default, ◦ the ic validator tool assigns a data type of 0 to the fill shapes to use different data type values, set the mx_fill_datatype and viax_fill_datatype parameters in the ic validator parameter file."
.
.
.
.741 performing real metal fill extraction .
.
.
.
.
.
.
"to examine the content of the generated error cells, open the error cells in the error browser."
66 removing multicore configurations .
.
.
.
.
"in addition to shielding nets on the same layer, you also have the option to shield one layer above and one layer below."
.
"◦ to specify the most critical clock name and clock scenario, use the -clock_name and -clock_scenario options."
.
.
.
8. the type of power optimization performed depends on scenario configuration.
.
.
.
"therefore, the tool does not proceed with the create_placement command because the scandef information is missing."
.612 specifying antenna properties .
the fusion compiler™ user guide v-2023.12-sp3 34 chapter 1: working with the fusion compiler tool place and route design flow overview feedback following figure shows an overview of the design flow from the fusion compiler tool to the formality tool: synthesis rtl/ netlist ref.
"to change this threshold, use the place.coarse.utilization_warning_threshold application option."
.
.
.
.
.
.
.
.
"2. run voltage drop and minimum path resistance analysis using redhawk fusion, as described in performing voltage drop analysis and performing minimum path resistance analysis."
.
.
.
.
.
.
4. run isolated via checking and fixing by using the signoff_fix_isolated_via command as described in running the signoff_fix_isolated_via command.
.
.
.
.
.
.
◦ on resistance value - specifies the ron value limit to be considered for cell sizing.
.
"to use via ladders, • via ladder rules must be defined in the technology data for the design for information about defining via ladder rules, see defining via ladder rules."
"before you run the create_clock_rp_groups command, the block must be placed."
.
.
table 59 shows the different settings you can specify for the -place_around_fixed_cells option.
"for example, assume a cell named nd2d1svt in the reference library matches a cell named nand2_svth_x1 in the target library."
.
.
.
.
.
.
note: the target and replacement tap cells must all have the same size.
.
.
you can perform minimum path resistance analysis before or during voltage drop analysis.
.
.
.
.
181 specifying via ladder candidates for library pins .
.
.
.
"by default, the add_spare_cells command honors all placement blockage types."
"to specify the number of objects to report, use the -count option."
.
.
"for example, suppose your checkpoint_history.rpt file contains the following data after your run a full checkpointed flow: checkpoints memory starttime ... remove_buffers 32290.86 2020-03-23_14:34:17 ... place_opt_to_initial_drc 36389.15 2020-03-23_17:21:56 ... incr_placement 37002.09 2020-03-23_19:13:02 ... place_opt_to_initial_opto 45655.59 2020-03-23_23:44:36 ... place_opt_to_final_opto 46322.34 2020-03-23_30:12:55 ... suppose you want to rerun your flow beginning with incremental placement."
.
setting this option to global increases accuracy but can greatly increase runtime.
.
.
"• local skew to report the qor summary and the worst local skew for each clock or skew group, use the -type local_skew option."
"), use the -separator option."
.
.
.
.
.
the length threshold values are in microns and must have a one-to-one correspondence with the spacing entries specified in the -spacings option.
.
.
fusion compiler™ user guide v-2023.12-sp3 136 chapter 2: preparing the design specifying physical constraints for placement and legalization feedback option description -clear specifies to remove all clock-gating inclusion or exclusion for the specified list of objects.
.
.
.
.
"the tool also creates metal blockages on the m2 layer, which have cutouts for the m2 pins, and via blockages on the v1 and v2 layers."
.
.
the locations of the ideal voltage sources and the ideal power supplies in the design are required to achieve accurate rail analysis results.
.
.
.
.
runset (required) (none) specifies the foundry runset to use for design rule checking.
.
.
"• to enable the action to run after one or more checkpoints, specify the checkpoint names with the -after option."
"when you save the hierarchical design with the save_block command, the editability settings are saved."
timing-driven metal fill insertion is supported fusion compiler™ user guide v-2023.12-sp3 724 chapter 8: ic validator in-design inserting metal fill with ic validator in-design feedback for both pattern-based and track-based metal fill insertion.
.
.
.
.
.
.
.
half row adjacency rule the half row adjacency rule searches for half-height filler cells and replaces them based on the types of their neighboring standard cells.
"for example, if you specify a setting of -density_aware_ratio 80, the tool places 80 percent of the spare cells based on the cell density distribution and 20 percent randomly across the design."
.
.
fill size and spacing parameters mx_fill_width defaultwidth9 specifies the width of the metal fill shapes.
.
.
.
.
.
.
.
"handling inaccurate constraints during clock tree synthesis in the early stages of the implementation of a design, the constraints can be inaccurate or too restrictive."
.
.
.
"the figure on the left shows the nets before routing, while the figure on the right shows the nets routed within the routing corridor."
"you can query the attributes shown in table 71, which are specific to the rail analysis results."
.
.
.
.
.
"• centers the via ladder cuts at the intersection of routing tracks between adjacent layers to shift the via ladder cuts on transition layers off the routing tracks for improved drc compliance, use the -shift_vias_on_transition_layers true option."
.
.
"when not specified, all power nets are used."
.
.
.
.
.
155 controlling congestion-driven restructuring during placement .
"to force the tool to ignore the spacing requirements during these tasks, change the settings in the mouse tool options panel."
.
.
.
.
.
a via ladder matches the via ladder constraints if the pattern of connected vias and wires for the via ladder structure satisfies any of the via ladder templates assigned to the connected pin.
.
"assume you load, commit, and save upf information as shown in the following example script: load_upf top_1.upf load_upf top_2.upf load_upf top_3.upf commit_upf save_upf top.upf fusion compiler™ user guide v-2023.12-sp3 116 chapter 2: preparing the design setting up multivoltage designs feedback the resulting top.upf file contains the following information: ## start - load_upf top_1.upf on wed oct 26 17:03:18 2016 … … ## end - load_upf ## start - load_upf top_2.upf on wed oct 26 17:03:49 2016 … … ## end - load_upf ## start - load_upf top_3.upf on wed oct 26 17:04:22 2016 … … ## end - load_upf preparing the power network to learn about preparing the power network for physical implementation, see • creating logical power and ground connections • creating floating logical supply nets creating logical power and ground connections after you read in the design, you must ensure that there are logical connections between the power and ground nets and the power, ground, and tie-off pins on the cells in your design."
"to enable your gropto action to run before the place_opt_to_initial_drc checkpoint, use the following command: associate_checkpoint_action -enable gropto \ -before place_opt_to_initial_drc fusion compiler™ user guide v-2023.12-sp3 58 chapter 1: working with the fusion compiler tool adding changes to a script with checkpoints feedback to enable your placer_high_effort_cong action to run instead of the code block enwrapped by the incr_placement checkpoint, use the following command: associate_checkpoint_action -enable placer_high_effort_cong \ -replace incr_placement the following is a portion of your checkpointed script showing what happens when the script runs."
"if you specify multirow-height cells with the -lib_cell option of the synthesize_multisource_global_clock_trees command, the tool might not be able to place them due to the temporary placement blockages it creates for the preroutes."
.
.
.
"the following topics describe how to use the set_host_options command to configure multicore processing: • configuring multithreading • configuring distributed processing • reporting multicore configurations • removing multicore configurations the following topic describes how to use distributed processing to run the same task on several blocks in a hierarchical design: • running tasks in parallel the following topic describes how to use parallel command execution for checking and reporting commands: • running commands in parallel on your local host configuring multithreading multithreading performs tasks in parallel by using multiple cores on the same machine, using a single process memory image."
.
.
.
.
"if you want to view the drc violations before postroute optimization, you can save the block after a specified number of iterations by setting the route.detail.save_after_iterations application option."
.
(optional) define the via mapping table as described in defining a customized via mapping table.
545 performing incremental shielding .
.
.
.
.
mx_min_density 10 mindensity 9 specifies the minimum percentage of metal allowed in the window.
.
◦ locations of pins or ports are assigned.
.
-horizontal_track_utilization -vertical_track_utilization fusion compiler™ user guide v-2023.12-sp3 474 chapter 6: routing and postroute optimization routing constraints feedback purpose option prioritize regions within the routing guide boundary for routing.
"• sink pins that cannot be balanced simultaneously if a block contains two clocks that drive common sinks, one of which is a clock pin that is the parent of another sink, due to a generated clock, it is impossible to simultaneously balance the parent and child clock pins with another common sink."
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 30 about this user guide statement on inclusivity and diversity feedback statement on inclusivity and diversity synopsys is committed to creating an inclusive environment where every employee, customer, and partner feels welcomed."
.
.
.
.
"fc_shell> report_dont_touch -all note: if a cell has a placement status of fixed, it is treated like a don’t touch cell during clock tree synthesis."
.
"to apply the definition to specific corners, use the -corners option."
.
.
.
.
"• you must insert the via ladders before you perform global routing the fusion compiler tool provides the following methods for inserting via ladders: ◦ automatic insertion during preroute optimization, as described in specifying automatic via ladder insertion settings for preroute optimization ◦ constraint-based insertion by using the insert_via_ladders command, as described in constraint-based via ladder insertion ◦ manual insertion by using the create_via_ladder command, as described in manual via ladder insertion see also • querying via ladders • removing via ladders • controlling via ladder connections defining via ladder rules a via ladder rule defines the number of rows and the number of cuts in each row for each layer in a via ladder."
.
.
"if you use this option, the global router ignores the routing corridors."
"figure 28 using a fanout limit for selecting root nets when calculating the transitive fanout of clock nets for the purpose of identifying root nets, the tool includes only the valid clock sinks; it does not include the ignore pins."
.
.
"the connections shown on the left side of figure 114 are valid; however, the connections on the right side of the figure cause drc violations."
.
.
.
.
4.
.
figure 45 shows a simple register bank implementation using a multiplexer and feedback loop.
.
.
.
.
.
.
"• to specify a name for the clock balance group, use the -name option."
.
.
.
.
122 modifying the stacking order .
.
.
.
.
"the object as driver or load can be port, macro pin, and placed cell."
.
.
.
.
.
.
.
.
"for example, fc_shell> report_constraint_groups {shield_1} {shield_2} fc_shell> remove_constraint_groups $a using custom routing application options the fusion compiler tool provides a set of application options to control custom routing results."
• tap drivers for regular multisource clock trees.
.
.
"ensure that the list of cells you specify as clock tree references meets the following criteria: • the list contains at least one buffer or one inverter • the list contains the library cells of the preexisting gates if they are not included in the list, the tool is unable to resize these preexisting gates during clock tree synthesis and optimization."
.
.
.
.
.
"this command reports both the completed jobs and the jobs currently running in the background, as shown in the following example: fc_shell> report_background_jobs job 'redirect -bg -file {background.log} source bg_script.tcl -max_cores 4 ' completed job(pid:13010) 'redirect -bg -file {background_1.log} source bg_script_1.tcl -max_cores 3 ' is running to omit the completed jobs, use the -reset option with the report_background_jobs command."
.
.
.
"the following example adds a blockage named gap1 to the rp1 relative placement group at position (0,2) that is one site row high and five site rows wide: fc_shell> add_to_rp_group rp1-blockage gap1 \ -column 0 -row 2 -width 5 -height 1 fusion compiler™ user guide v-2023.12-sp3 791 chapter 10: physical datapath with relative placement specifying options for relative placement groups feedback adding cells within a predefined relative placement area to add cells anywhere within a predefined area of a relative placement group, use the -free_placement option with the add_to_rp_group command."
.
.
.
.
.981 defining a group of repeaters .
.
.
.
.
"to separate these connections so that you can set constraints only for the secondary power and ground connections, set the route.common.separate_tie_off_from_secondary_pg application option to true."
"for example, if you specify -output density.rpt, the density report is named density.rpt and the gradient density report is named density.rpt.gradient."
"if a block has fewer unoptimized single vias, it is usually better for dfm."
.
.
"for example, to compile the subblocks of a design in parallel in a hierarchical flow, 1. write the script to run on the blocks in the design."
.
.
.
.
.
"for example, changing the orientation of cell u2, as shown in figure 177, reduces the width of column 0. however, if you specify an orientation when adding a cell to a relative placement group by using the -cells and -orientation options with the add_to_rp_group command, the tool honors the orientation you specify."
.
.
you would typically use this method when manually fixing drc violations related to the metal fill.
"for example, to limit the number of edges in the nonpreferred direction to two on m2 and to three on m4, with no limits on other layers, use the following command: fc_shell> create_routing_guide -boundary {{50 50} {200 200}} \ -max_patterns {{m2 non_pref_dir_edge 2} {m4 non_pref_dir_edge 3}} \ -layers {m2 m4} using routing guides to control the routing density by default, the maximum track utilization is 100 percent."
.
use the -routing_corridor option to specify the routing corridor that you want to update.
.
.
"if zroute cannot create a pattern-based must-join connection, it reports a “needs pattern must join pin connection” drc violation."
.
.
.
.
.
.
via via23sq_c count = 856311 ... phase3.
.
.
.
.
.
.
.
.
.
.
figure 185 relative placement in a design containing obstructions 0 4 0 0 4 4 4 3 4 1 4 2 0 1 4 0 col 0 row 0 row 2 row 4 row 3 row 1 col 1 col 2 col 4 col 3 0 3 0 2 1 4 1 3 1 0 1 1 1 2 2 4 2 3 2 0 2 2 2 1 3 4 3 3 3 1 3 2 3 0 obstruction obstruction legalizing relative placement groups in a placed design you can improve the placement of relative placement groups in a placed design by legalizing only the relative placement groups.
.
fusion compiler™ user guide v-2023.12-sp3 531 chapter 6: routing and postroute optimization routing signal nets feedback the main task of track assignment is to assign routing tracks for each global route.
.
.
.
.
.
"creating an autofix configuration file the autofix configuration file has the following format: ""mask_layer_name"" ""full_ic_validator_drc_rule_comment"" you can put comments in the configuration file by starting the line with the pound sign (#)."
.
.
you must open the parent library using the -ref_libs_for_edit option with the open_lib command.
.
"fusion compiler™ user guide v-2023.12-sp3 656 chapter 7: chip finishing and design for manufacturing inserting filler cells feedback • the handling of one-unit-tile gaps by default, the command does not consider the one-unit-tile rule."
"for either of these options, you can specify an integer between zero and seven."
.
.
240 reporting cross-probing information for optimized registers .
.
-target specifies to submit jobs for redhawk only.
.
.
.
2.
.
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 488 chapter 6: routing and postroute optimization routing constraints feedback by default, • the routing blockages are inserted only in the top-level block to insert routing blockages in all soft macros in a hierarchical block, use the -hierarchical option."
.
fc_shell> create_via_rule -name vl1 -cut_layer_names {via1 via2} \ -cut_names {cut1a cut2a} -cut_rows {2 2} -cuts_per_row {2 2} fc_shell> set_attribute [get_via_rules vl1] \ upper_metal_min_length_table {l1 l2} fc_shell> set_attribute [get_via_rules vl1] \ cut_x_min_spacing_table {x1 x2} fc_shell> set_attribute [get_via_rules vl1] \ cut_y_min_spacing_table {y1 y2} fc_shell> set_attribute [get_via_rules vl1] \ max_num_stagger_tracks_table {s1 s2} fc_shell> set_attribute [get_via_rules vl1] \ for_high_performance false fc_shell> set_attribute [get_via_rules vl1] \ for_electro_migration true • define the rule on the command line by creating an empty via rule with the create_via_rule command and then specifying the details by setting its attributes.
.
.
"to specify the diode ratio vector, use the -diode_ratio option with the define_antenna_layer_rule command."
◦ load is connected to a driver.
.
.
.
"when you specify the diode library cells, use only the cell names."
.
"by default, this command returns all the pins on all the clock networks of all scenarios."
"a relative placement group can be broken into pieces that straddle obstructions, yet maintain the relative placement structure."
.
.
.
"you can, however, define settings to allow or prevent clock gating optimization on specific objects."
"• maintains relative placement during placement, optimization, clock tree synthesis, and routing."
.
.
753 20 contents feedback defining the net priority .
.
.
"during routing, zroute reserves space for the redundant vias and fixes hard design rule violations."
.
.
.
.
.
.
437 6. routing and postroute optimization .
.
.
.
.
.
.
.
.
.
"• early_design, which is suitable for the early stages of the design flow, when the emphasis is on short turnaround time for prototyping purposes."
.
.
.
.
"• operating conditions and on-chip variation (ocv) related settings, see the “specifying operating conditions” topic in the fusion compiler timing analysis user guide."
.
you must run create_shields after signal routing to physically place the shielding wires.
.
od_tap_distance n/a randomly replace filler cells with custom filler cells.
.
.
.
.
it also supports non-stripe power ground nets by option control.
.
◦ level 2 refers to a clock gate driven by a clock gate of level 1.
.
.
.
.
"for more information about which asic technologies are supported by this command, contact synopsys support."
.
.
.
.
"here is a typical example to run the place_opt flow, where you source a pre_place_opt_settings.tcl file to add flow changes and a generate_reports.tcl file to run all your reporting at the end of the script: open_block ./design:init_design source ./scripts/pre_place_opt_settings.tcl remove_buffer_trees -all place_opt -from initial_place -to initial_drc create_placement -incremental -timing_driven -congestion place_opt -from initial_drc -to -initial_opto place_opt -from final_place -to final_opto source ./scripts/generate_reports.tcl in some cases, complex changes require modifying your golden flow script directly, which might be discouraged or difficult to do in many design environments."
.
.
"• for the first loop, the tool uses the ic validator data in the directory specified by the signoff.fix_drc.init_drc_error_db application option (or the signoff_drc_run_init directory if you do not use this option)."
.
.
.
-cell write only add_to_rp_group -rp_group commands to the script.
.
.
.
"for more information, see fixing signal electromigration violations."
.
"for information about the technology file, see the synopsys technology file and routing rules reference manual."
.
.
.
"for example, # insert 70 percent ulvt cells, 30 percent lvt cells fc_shell> create_stdcell_fillers -lib_cells $filler_cells \ -type_utilization { {*/dcap16*ulvt */dcap8*ulvt */dcap4*ulvt */dcap2*ulvt */dcap1*ulvt} 70 {*/dcap16*lvt */dcap8*lvt */dcap4*lvt */dcap2*lvt */dcap1*lvt} 30 } \ -fill_remaining by default, the tool randomly selects the filler cells from the specified library cells."
.
.
fc_shell> set_app_options \ -name route.common.post_incremental_detail_route_fix_soft_violations \ -value true note: incremental detail routing does not fix open nets.
.
.
.
.
.
.
.
.
.
"2. assign the nets and supernets to the routing corridor by using the add_to_routing_corridor command, as described in assigning nets to a routing corridor."
.
.
.
.
"for example, to define a soft blockage enclosed by a rectangle with corners at (120, 75) and (230, 200), use the following command: create_placement_blockage -boundary {120 75 230 200} \ -type soft a soft blockage prevents the initial placement from placing cells within the specified area, but allows legalization, optimization, and clock tree synthesis to do so."
.
.
.
.544 performing postroute shielding .
.
.
.
.
.
.
"◦ to specify the filler cells that can be used to break a continuous edge of constrained cells, use the -non_constraint_fillers option."
.
.
.
.
"to specify a corner of relative placement group to anchor it by, use the -anchor_corner option."
.
.
.
.
.
"• inserts the mim capacitors in the r0 orientation to change the orientation, use the -orientation option."
.875 specifying redhawk and redhawk-sc working directories .
.
"getting information about commands the following online information resources are available while you are using the fusion compiler tool: • command help, which is information about an fusion compiler command • man pages see also • viewing man pages displaying command help command help consists of either a brief description of afusion compiler command or a list of the options and arguments supported by an fusion compiler command."
.
3. use the report_early_data_checks command to obtain a report about all violations or specific data checks.
"the settings for the -anchor_corner option are as follows, and are shown in figure 172: • bottom_left the anchor point of the relative placement group is set to its bottom-left corner."
.
"simple vias and simple via arrays can be used for the following purposes: ◦ clock or signal routing using nondefault routing rules ◦ redundant via insertion ◦ power and ground routing with advanced via rules • custom vias a custom via is a multiple-cut, odd-shaped via that is created from an arbitrary collection of manhattan polygons."
.
.
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 616 chapter 7: chip finishing and design for manufacturing finding and fixing antenna violations feedback • route.detail.port_antenna_mode specifies how the ports (top-level pins) are treated for antenna considerations.
.
.
.
.
.
.
max_errors_per_rule 1000 specifies the maximum number of errors to report per rule.
.
.
.
.
"to ensure accurate information, use the save_block command to save the current state of the block before running the signoff_fix_drc command."
.
.
you can assign a net or supernet to only one routing corridor and that routing corridor must cover all pins connected to the associated nets.
.
.
.
.
.
"to query unmapped cells in a netlist, use the following command: fc_shell> get_cells -hierarchical -filter ""is_unmapped==true"" note the following limitations: • designware operators are not mitigated."
.
.
.
.
.
.
"• specific hierarchical or leaf cells, use the set_register_output_inversion command."
.
.
.
38 upf flows .
.
.
.
• medium zroute uses a medium number of rip-up and reroute passes to resolve soft spacing rule violations.
"to set the priority for a mapping, use the -weight option to assign an integer weight value between 1 and 10 to the mapping."
.
.
.
.
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 412 chapter 5: clock tree synthesis implementing multisource clock trees feedback 3. insert clock drivers by using the create_clock_drivers command.
.
.
.
.
.
.
.
.
.
• -cell cell creates the routing blockage in a different physical cell.
"enabling advanced pg net checks for advanced technology nodes, such as 12 nanometer, 7 nanometer, or smaller technology nodes, you can enable advanced physical drc checks between cells and prerouted pg nets by setting the place.legalize.enable_advanced_prerouted_net_check application option to true."
.
"to avoid drc violations, ensure that the enclosures for nondefault vias meet the minimum width rule."
.
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 429 chapter 5: clock tree synthesis implementing multisource clock trees feedback ◦ enable the reordering of clock-gating cells by using the -enable_icg_reordering true option.
.
.
.
.
.
.
"verifying routing corridors to successfully route a net within a routing corridor, the routing corridor must meet the following requirements: • it must be a contiguous region; all regions that comprise the routing corridor must be connected."
.
use the -voltage_drop option if you want to run missing via and unconnected pin checks together with voltage drop analysis.
.
note that using this option can cause drc violations.
"otherwise, the tool uses the enable on the feedback loop of the register."
.
.
.
"when you do so, by default, the tool performs the following multibit optimizations during different stages of the compile_fusion command: ◦ combines single registers or smaller register banks at the rtl level to create larger register banks during the initial_map stage to disable this feature, set the compile.flow.enable_rtl_multibit_banking application option to false."
.
.
.
"◦ unplaced, unshaped: never places or shapes objects when they are already placed."
.
"to remove specific taps, use the -filter option with the get_taps command."
• the total demand calculation results in a congestion value of 6+4-3=7.
.
.
.
.
.
.
.
custom router supports the following constraints: • net shielding and differential pairs • matched length • variable width and space • pin width matching and tapering custom router supports the following fusion compiler nondefault routing rules: • routing layers and vias • routing width and spacing • routing grids • inter- and intra-group spacing • taper halo • routing blockage fusion compiler™ user guide v-2023.12-sp3 747 chapter 9: routing using custom router before using custom router feedback • routing corridors • shielding figure 153 shows the basic custom router flow.
.
the inserted tap cells are snapped to the site rows and placed in the default orientation for the site row.
.
.
227 library requirements .
you can set this variable in your .cshrc file.
"8. build the local subtrees by using the synthesize_multisource_clock_subtrees command, as described in building the local clock subtree structures."
.
.
.
"to specify macro placement, pin placement, and voltage area shaping constraints, use the following commands: • macro placement constraints set_macro_constraints, create_macro_array, create_keepout_margin • pin placement constraints set_block_pin_constraints, set_individual_pin_constraints • voltage area shaping constraints set_shaping_options application options use these application options to set up auto floorplanning."
.
the fusion compiler tool does not perform any checking on the specified string.
.
check for invalid cells.
.
◦ specify the spacing between coaxial shielding segments by using the following options: ▪ -coaxial_above_user_spacing this option specifies the spacing in microns between shielding segments for coaxial shielding above the shielded net segment layer (-coaxial_above true).
"• -object_list: specifies a list of nets, pins, or ports that must be buffered."
.
.
.
.
.
"for more information, see maximum vertical edge length rule."
"◦ to filter based on the available values of the selected column, select the enum comparison type, which populates the value field with a drop-down menu that contains the available values, and then enable one or more of the displayed values."
.
.
"in this mode, the antenna ratio is calculated as antenna_ratio = connected metal area of the layer / total gate area ◦ accumulated-ratio mode in accumulated-ratio mode, the tool considers the metal segments on the current layer and the lower-layer segments connected to the input pins."
.
"the script in example 47 defines relative placement group rp2, and specified pin a as the group alignment pin."
default: 0 -exclude (optional) excludes the specified pins or ports from the length matching constraint.
.
.
.
.
using incomplete upf information the early data check manager allows you to check designs for power and multivoltage issues early in the design cycle.
"the tool reports a group only if the percentage of sites the group can be placed, relative to the total number of sites analyzed, is less than the specified threshold."
.
the fusion compiler tool does not perform any checking on the specified string.
.
.
.
.
.
.
.
.
.
"the implicit ignore on an intermediate pin can be inferred by any of the following reasons: • all the register pins in the fanout are explicit ignore • disabled path on a mux input is caused by the set_case_analysis command • disabled timing arc on a downstream pin is set by the set_disable_timing, set_false_path commands, disable timing due to conditional arcs."
.
.
.
.
"-exclude_cell / -exclude_instance excludes the area covered by all instances of the specified cell, or by a list of cell instances from the missing via check."
.
.
.
.
.
you can use a routing guide to control the routing density within the routing guide boundary.
.
.
.
.
.
.
.
.
.
.
"the following application options are automatically saved during the create_abstract command and verified by the check_hier_design command: • time.case_analysis_propagate_through_icg • time.case_analysis_sequential_propagation • time.clock_gating_propagate_enable • time.clock_gating_user_setting_only fusion compiler™ user guide v-2023.12-sp3 843 chapter 11: hierarchical implementation checking designs with abstracts for top-level-closure issues feedback • time.clock_marking • time.clock_reconvergence_pessimism • time.create_clock_no_input_delay • time.crpr_remove_clock_to_data_crp • time.delay_calc_waveform_analysis_mode • time.delay_calculation_style • time.disable_case_analysis_ti_hi_lo • time.disable_clock_gating_checks • time.disable_cond_default_arcs • time.disable_internal_inout_net_arcs • time.disable_recovery_removal_checks • time.edge_specific_source_latency • time.enable_auto_mux_clock_exclusivity • time.enable_ccs_rcv_cap • time.enable_clock_propagation_through_preset_clear • time.enable_clock_propagation_through_three_state_enable_pins • time.enable_clock_to_data_analysis • time.enable_non_sequential_checks • time.enable_preset_clear_arcs • time.enable_si_timing_windows • time.gclock_source_network_num_master_registers • time.special_path_group_precedence • time.use_lib_cell_generated_clock_name • time.use_special_default_path_groups for more information about the issues the check_hier_design command identifies and how to fix them, see the man page for the corresponding message id."
.
.
"fusion compiler™ user guide v-2023.12-sp3 111 chapter 2: preparing the design importing the floorplan information feedback by default, the following objects are preserved: ◦ existing placement of fixed macros ◦ existing placement of pins and pads ◦ existing shaping of voltage areas • compile.auto_floorplan.place_pins (default: unplaced) compile.auto_floorplan.place_ios (default: unplaced) compile.auto_floorplan.place_hard_macros (default: unplaced) compile.auto_floorplan.shape_voltage_areas (default: unshaped) ◦ all: always places and shapes objects even if they are fixed."
.
.
"during detail routing, zroute concurrently addresses routing design rules and antenna rules and optimizes via count and wire length."
.
.
.
.
.
"to report these user-defined cell families, use the report_lib_cell_families -all_userdef command."
.
figure 116 shows an example of coaxial shielding.
.
.
.
.
4. perform clock tree synthesis and optimization.
fc_shell> get_attribute [get_cells cella] static_power 2.014179968645724e-05 fusion compiler™ user guide v-2023.12-sp3 947 feedback 13 eco flow an engineering change order (eco) is an incremental change made to a complete or nearly complete design.
the default is 8.
"note: if your block uses double-patterning technology, using this option increases runtime if the block is not precolored."
.
it then incorporates the eco changes by using the fusion compiler eco place and route capabilities.
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 814 chapter 10: physical datapath with relative placement saving relative placement information feedback saving relative placement information the relative placement information is automatically saved in the design library database when you save the design by using the save_lib command.
you use the name to assign the nondefault routing rule to nets or clocks.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"considering legalization effects during placement to minimize many cells from being displaced during legalization, the tool should be aware of legalization limits and restrictions during coarse placement."
.
.
.
.
.
.
it remains even after route_auto.
use the -skip_fixed_cells option to prevent the insertion of tap cells in locations occupied by fixed cells.
.
.
.
.
"place_group_repeat ers eco-227 warning: failed to place %d repeaters for %d drivers in collection (%s), and failed cells are in collection (%s)."
.
.
.
.
.
.
.
.
"• to specify the tap insertion region, use the -bbox option to specify the lower-left and upper-right corners of its bounding box: -bbox {{llx lly} {urx ury}} when you use this option, the command inserts a tap wall along the longest edge on the specified side of the placeable area encompassed by the bounding box."
.
"unplace_group_repeat ers eco-272 error: the mixed input cells are not supported, which includes the cells added by add_group_repeaters and the cells placed by place_group_repeaters."
.
◦ false: never creates the core and boundary; uses only existing information.
.
.
.
"for information about using an ic validator parameter file, see using an ic validator parameter file."
.
.
"• uses the minimum layer spacing plus one half the layer pitch as the minimum jog length to modify the minimum jog spacing, use the -min_jog_spacing_by_layer_name option."
"in the following example, the bus trunk consists of four bits and the custom.route.bus_split_ignore_width application option is set."
.
"• to specify a displacement threshold for legalization, use the -displacement_threshold option."
.
.
"open_block ./design.nlib:init_design source ./scripts/pre_place_opt_settings.tcl fusion compiler™ user guide v-2023.12-sp3 53 chapter 1: working with the fusion compiler tool adding changes to a script with checkpoints feedback eval_checkpoint remove_buffers { remove_buffer_trees -all } eval_checkpoint place_opt_to_initial_drc { place_opt -from initial_place -to initial_drc } eval_checkpoint incr_placement { create_placement -incremental -timing_driven -congestion } eval_checkpoint place_opt_to_initial_opto { place_opt -from initial_drc -to initial_opto } eval_checkpoint place_opt_to_final_opto { place_opt -from final_place -to final_opto } by default, the checkpoints run the tcl code they enwrap."
.
.
812 analyzing the placeability of a relative placement group .
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 603 chapter 7: chip finishing and design for manufacturing finding and fixing antenna violations feedback table 36 shows the format of the diode ratio vector for the various diode modes.
.
.
.
.
.
.
.
.
.
.
.
mx_fill2routeguide_x mx_fill2routeeguide_y specifies the minimum spacing between fill shapes and routing guides.
.
.
.
.
.
.
.
2.
.
.
"◦ to specify multiple constrained cell groups and their replacement cells, use the following syntax with the -refill_table option: { {{refill_cell1 {constrained_cells1}} ... } you can use this syntax to fix violations for threshold-voltage-based filler cells."
this topic describes how to create a design library and how to prepare and save your design.
3.
"• cut layer routing blockages are not created to create via blockages, specify the via layers in the -layers option."
.
.
.
.
.
"if the generated coaxial shielding wires violate minimum area or minimum length rules, zroute automatically patches the wires to satisfy these design rules."
.
.
"• for multivoltage designs, the conflicts are resolved when you commit the power intent, as described in loading and applying upf information."
the fusion compiler tool does not perform any checking on the specified string.
.
.
.
.
.
.
.
.
"performing tho during compile_fusion final_place stage during the final_place stage of compile_fusion, placement can be performed transparently across the top and blocks."
.
fc_shell> route_group -all_clock_nets \ -reuse_existing_global_route true zroute reserves space for the redundant vias during global routing and inserts the redundant vias during detail routing.
.
.940 reporting hotspots .
"at the end of track assignment, zroute reports a summary of the wire length and via count."
"during postroute redundant via insertion, zroute inserts the redundant vias in the reserved locations."
"# read netlist files read_verilog netlist/bot.v # analyze design files analyze -format sverilog -hdl_library mid rtl/mid.sv analyze -format sverilog rtl/top.svd # elaborate top design module elaborate -parameters ""n=8,m=3"" top # set the top level module to resolve references set_top_module top_n8_m3 embedding tcl commands in rtl code to embed tcl command in rtl code, use the fc_tcl_script_begin and fc_tcl_script_end directives."
.
.
.
.
.
.
.
"however, you can specify additional primetime settings by using the -pre_link_script and -post_link_script options of the set_pt_options command."
.
.
.
.
the check_hier_design command can check the consistency between the top-level constraints and the constraints of every lower-level instance linked to an abstract.
.
"when you create straps in both direction, specify a list of two values starting with the type for the horizontal direction."
.
.
this is a required option for both of these commands.
this allows you to determine the size of the hotspot area.
.
"to perform postroute optimization, use the route_opt command."
.
the unit for the slack threshold setting is the library time unit.
.
.
.
.
.
other power supplies can be defined for a power domain as well.
.
"for details about this file, see via ladder association file."
.
.
"this name is the concatenation of the and2, d4, ws, and ulvt strings, which represent cell characteristics that are associated to a lexical attribute as shown in the following table: table 3 lexical attributes for the naming convention of an example library column lexical attribute allowed pattern values for example cell 1 lexical_cell_prefix_name [a-za-z0-9]* and2 2 lexical_drive1_name d[0-9]* d4 3 lexical_well_substrate_bias_arch itecure ws ws 4 lexical_device_threshold_voltage ulvt | svt | lvt | mvt ulvt fusion compiler™ user guide v-2023.12-sp3 94 chapter 2: preparing the design analyzing libraries feedback you can specify the naming convention for this library by using the set_lib_cell_naming_convention command, as shown in the following example: fc_shell> set_lib_cell_naming_convention -library $lib \ -column 1 -pattern {[a-za-z0-9]*} -attribute ""lexical_cell_prefix_name"" fc_shell> set_lib_cell_naming_convention -library $lib \ -column 2 -pattern {d[0-9]*} -attribute ""lexical_drive1_name"" fc_shell> set_lib_cell_naming_convention -library $lib \ -column 3 -pattern {ws} -attribute ""lexical_well_substrate_bias_architecure"" fc_shell> set_lib_cell_naming_convention -library $lib \ -column 4 -pattern {ulvt|svt|lvt|mvt} -attribute ""lexical_device_threshold_voltage"" note: for a list of all the predefined lexical attributes, see the man page for the set_lib_cell_naming_convention command."
.
"specifying optimization targets at the preroute stage when performing concurrent clock and data optimization using the place_opt or clock_opt command, you can give a higher priority to the wns optimization of • certain path groups by specifying them by using the ccd.targeted_ccd_path_groups application option, as shown in the following example: fc_shell> set_app_options -name ccd.targeted_ccd_path_groups \ -value {pg1 pg2} fusion compiler™ user guide v-2023.12-sp3 380 chapter 5: clock tree synthesis implementing clock trees and performing post-cts optimization feedback if a path group you specify with this application option is also specified as a path group to skip with the ccd.skip_path_groups application option, the path group is skipped during concurrent clock and data optimization."
.
.
"excluding specific scenarios to exclude a specific scenarios from concurrent clock and data optimization, use the ccd.ignore_scenarios application option and specify the name of the scenarios you want to ignore."
.
.
.
"5. invokes the ic validator tool to perform metal fill insertion by default, the minimum spacing between the metal fill and the net shapes of the critical nets is two times the minimum spacing specified in the technology file."
"in addition, the floorplan must contain the physical locations of the test and scan ports."
the guard bands guarantee that the cells in different voltage areas are separated so that power planning does not introduce shorts.
pin_cost_aware place.coarse.
.
.
.
.
.
.
.
.
"after it completes routing, it removes these temporary placement blockages, as shown in the following example output."
.
.
.
.
.
.
.
use the following commands to perform the setup.
.
.
.
you can generate several types of reports with the report_threshold_voltage_groups command.
.
.
.
.
.
.
.
.
.
.
.
805 controlling movement when legalizing relative placement groups .
.
"in a comb topology, each driver and load pin is directly routed to the nearest stripe."
.
.
.
isolated_via_max_range (required) n/a specifies the distance in microns within which a neighboring via must exist on each via layer.
.
.
.
.
.
.
.
.
.
.
.
.
.
"controlling via ladder connections if a pin has a via ladder, by default, zroute connects to the topmost layer of a via ladder and not directly to the existing pin geometry."
.
.
.
.
.
"the default is %s_%d, where %s denotes the name of the existing reference and %d denotes the smallest integer value that forms a unique design name."
.
.
you can also synthesize other clocks in the design that are not synthesized.
.
.
.
"• -lib_cell_output specifies the output pin of the library cell to connect, if it has multiple outputs."
"when a half-height filler cell abuts an inbound cell, the abutting side of the half-height filler cell must have inbound-cell interaction polygons (icip)."
2. set the routing constraints for secondary power and ground pin routing.
.
"fc_shell> preplace_group_repeaters \ -repeater_group_locations { { 1,m2, {720 363.5}, south, ascending} \ {2, m2, {920 363.5},west, ascending} {3, m2, {1230 328.5}, \ south, ascending} {4, m2, {1430 328.5}, west, descending}} performing on route placement of repeaters to perform on route placement of interconnect repeaters, use the place_group_repeaters command."
.
.
.
.
.
.
2. configure for multithreading as described in configuring multithreading.
you can also specify keepout areas within which tap cells should not be inserted by using the -keepouts option.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 830 chapter 11: hierarchical implementation overview of abstract views feedback • u1 as an etm in the pd_top design • top-level power intent create_power_domain pd_top -include_scope create_supply_net vdd_ao ... load_upf block.upf -scope u1 ... connect_supply_net vdd_ao -port u1/vdd_ao • block-level power intent: block.upf create_power_domain pd_blk -include_scope create_power_switch sw1 -domain pd_blk \ -input_supply_port {in vdd_ao} \ -output_supply_port {out vdd_sw} ... ... add_port_state sw1/out -state {on 1.08} -state {off off} ... create_pst pst -supplies {vdd_sw ...} overview of abstract views in an abstract view, the gate-level netlist for the block is modeled by a partial gate- level netlist that contains only the required interface logic of the block."
.
.
.
.
"• if a pin has an antenna violation, the diode cells are inserted at the same level of logic hierarchy as the violating pin."
.
"in addition, keepout margins can be defined as hard or soft."
.
specify the -level_shifter option to allow the fix_mv_design command to modify the input or output supplies of level-shifter cells.
"to limit spacing to one side of the net, use the -single_side_spacing option with the create_routing_rule command."
.
-width specifies the global shield width.
"reporting and checking the status of the background process when the redhawk or redhawk-sc fusion process is finished, the tool issues the following message: info: running redhawk_binary in background with log file: log_file the log_file file is saved in the pwd directory."
.
.
this improves clock insertion delay to meet the maximum level constraint.
.
.
.
.
.
.
set the power scenario as the current scenario before starting analysis with the update_indesign_activity command.
389 routing clock trees .
.
.
.
.
table 41 lists the design rules supported by this command and the keywords used to specify these rules.
.
.
.
.
.
.
"when you use this option, the command uses the cells specified in the -lib_cells option but not the -type_utilization option to fill the empty spaces."
.
.
.
"you can use the spread wires tool to move selected, unfixed wires evenly between two points on a layer while maintaining their physical connections."
identifying issues and fixing them before you perform top-level closure can help reduce turnaround time.
.
disclosure to nationals of other countries contrary to united states law is prohibited.
.
.
.
33 formal verification .
.
.
.
.
.
use the options to investigate the problem areas by fusion compiler™ user guide v-2023.12-sp3 904 chapter 12: redhawk and redhawk-sc fusion performing pg electromigration analysis feedback selecting layers or nets to display.
.
.
.
the compile_fusion command allows the mapping of sequential elements in the design to sequential library cells whose output phase is inverted.
.
.
.
"by default, the create_shields command • performs shielding on all nets that have predefined shielding rules, except those marked as frozen to explicitly specify the nets on which to perform shielding, use the -nets option."
.
.
.
.
.
.
the sequential mapper checks the connections to the pins and the information present in the library cell descriptions when it maps to a logic library register.
.
.
.
.
.
.
.
"to open an error data file in the error browser, choose file > open ... from the error browser dialog box, and then select the error data file to open in the open error data dialog box (see figure 202)."
.
.
.
.
.
◦ the layers to use for routing the fingers and subfingers by using the -fishbone_layers option.
.
• generate an eco cell to spare cell mapping file by using the -write_map_file command.
.
"for this pattern, the tap distance specified with the -distance option should be approximately four times the maximum diffusion-to-tap value specified in the technology design rules."
.
.
.
.
.
.
.
"when you change a block from its abstract view to its design view, remove the existing constraints and apply full-chip timing constraints."
.
.
"if some of the cells are difficult to insert due to legalization rules or library cell size, specify them before cells that are easier to insert to fusion compiler™ user guide v-2023.12-sp3 640 chapter 7: chip finishing and design for manufacturing inserting filler cells feedback ensure that they are selected."
.
.
.
"however, they are not candidates for clock-gate level expansion."
"defining clock cell spacing rules to define clock cell spacing rules, use the set_clock_cell_spacing command."
.
.
.
.
.
.
.
.
.
.
"note: if the hierarchical antenna properties are not defined for all layers for a macro, zroute treats the data as incomplete, skips antenna analysis, and issues a zrt-311 warning message."
.
the scope is the level of logic hierarchy designated as the root of the domain.
.
.
.
.
"the tool names a newly-inserted clock gate as follows, based on the status of the set of clock gates whose enable functions are modified by the new clock gate: • if at least one of the clock gates is a tool-inserted clock gate, the base name is clock_gate_ml."
.
.
"note: in redhawk-sc rail analysis flow, you must specify both the -voltage_drop and -min_path_resistance options for minimum path resistance calculation."
9. attribute setting from the layer section of the technology file fusion compiler™ user guide v-2023.12-sp3 720 chapter 8: ic validator in-design inserting metal fill with ic validator in-design feedback table 50 ic validator metal fill insertion parameters (continued) parameter default description mx_fill2fill_end_ spacing specifies the minimum end-to-end spacing between fill shapes.
.
.
.
.
"module dp (a, b, c, d, e); input [15:0] a, b; input [31:0] c, d; output [31:0] z; assign z = (a * b) + c + d; endmodule figure 30 conventional carry-propagate adder versus carry-save adder fusion compiler™ user guide v-2023.12-sp3 223 chapter 3: physical synthesis controlling mapping and optimization feedback the tool supports extraction of the following components: • arithmetic operators that can be merged into one carry-save arithmetic tree • operators extracted as part of a datapath: *, +, -, >, <, <=, >=, ==, !=, and muxes • variable shift operators (<<, >>, <<<, >>> for verilog and sll, srl, sla, sra, rol, ror for vhdl) • operations with bit truncation the datapath flow can extract these components only if they are directly connected to each other, that is, no nonarithmetic logic between components."
.
use this command to do this report_area report area information of the current design.
"• if the block contains existing detail routes for the clock nets, the route_group command performs incremental detail routing."
.
.
.
.
.
.
.
.
.
"in the congestion report, the overflow value is the total number of wires in the block that do not have a corresponding track available."
"fusion compiler™ user guide v-2023.12-sp3 645 chapter 7: chip finishing and design for manufacturing inserting filler cells feedback figure 128 half-height filler cell replacement with half row adjacency rule regular height inbound height inbound height fill2_p fill4_n regular height inbound height inbound height fill2_pr fill4_nr inbound-cell interaction polygons to select this rule, use the -replacement_rule half_row_adjacency option with the replace_fillers_by_rules command."
"to reduce the effort level, set the option to low."
.
.
.
.
.
.
.
.
"the tool reports a cell only if the percentage of sites the cell fusion compiler™ user guide v-2023.12-sp3 167 chapter 2: preparing the design specifying legalization settings feedback can be placed, relative to the total number of sites analyzed, is less than the specified threshold."
3. set up the ic validator environment as described in setting up the ic validator environment.
"querying placement blockages to return a collection of placement blockages in the current block that match certain criteria, use the get_placement_blockages comandcomandsget_placement_blockagesget_placement_blockages command."
.
.
.
.
.
.
.
.
.
inst1 [0.0 2.0] current 0.11 inst2 [1.0 2.5] current 0.22 inst3 [2.0 3.0] current 0.33 see also • generating hotspots • removing hotspots • voltage hotspot analysis examples removing hotspots the tool saves the generated hotspot data in memory.
◦ level n refers to a clock gate driven by a clock gate of level n-1.
.
"• to flip a row or column, use the -flip_row or -flip_column option respectively."
create_pg_augmentation.po wer_net_name (required) (none) specifies the name of the power net.
"if a specified pin or port has an existing connection, the tool removes the existing connection and then creates the specified connection."
.
• adds buffers on both global routed and detail routed nets.
.
"◦ parameters set in the ic validator parameter file: ▪ mx_fill_width, mx_min_fill_length, and mx_max_fill_length to change the size of the fill shapes, set these parameters, as described in using an ic validator parameter file."
"fusion compiler™ user guide v-2023.12-sp3 696 chapter 8: ic validator in-design performing signoff design rule checking feedback setting options for interactive design rule checking before you run interactive design rule checking, configure the run by setting the application options shown in table 47. to set the application options, use the set_app_options command."
.
"if a congestion map is not stored with the design, the command generates a congestion map by running global routing in congestion-map-only mode."
.
ithe tool provides a flexible working environment with both a shell command-line interface and a gui.
.
"fusion compiler™ user guide v-2023.12-sp3 443 chapter 6: routing and postroute optimization defining vias feedback reading via definitions from a lef file to read via definitions specified by via rule generate statements in a lef file, use the read_tech_lef command."
.
.
.
figure 148 shows an example of power grid augmentation and how it lowers the power grid resistance.
.
zroute redundant via insertion has a timing-preservation mode that allows you to perform redundant via insertion without affecting the block timing by preventing insertion of redundant vias on critical nets.
"for a power cell with a low threshold voltage, the timing is faster but the power consumption and leakage current is high."
"to modify the default behavior, ◦ set one or more of the following application options before running the signoff_create_metal_fill command: ▪ signoff.create_metal_fill.apply_nondefault_rules to enable the use of nondefault spacing rules in addition to the spacing rules defined in the technology file, set this application option to true."
.
.
.
.
.
.
.
.
.
.
.
.
.
"note the following: • if you define a checkpoint with the same name as an existing checkpoint, the tool automatically adds a unique suffix to the name of the newly-defined checkpoint when it encounters the checkpoint in a run."
.
.
"note: by default, design views are not included in the cell libraries."
.
.
"• to specify the types of filler cells that can be removed during legalization, use the -remove_filler_references option."
.
"enabling advanced logic restructuring to improve the area, timing, and power qor, you can enable advanced logic restructuring."
.
.
"the command might not work correctly if you run the open_rail_result -back_annotate command to open the rail result that is generated without the -bg option, or vice versa."
"to perform timing-driven power grid augmentation, 1. ensure that the block is fully routed with very few or no drc violations."
.
.
valid values are: valid value description auto (default) automatically determines the optimal corner type for the bit or pin alignment to reduce routing congestion.
.
.
.
.
.
.
.
.
"• gap prevention by default, the command assumes that the smallest cell size is one unit site."
.
.
.
.
.
"• change the voltage area region to add shapes to a voltage area, use the create_voltage_area_shape command."
"• transition histogram fusion compiler™ user guide v-2023.12-sp3 433 chapter 5: clock tree synthesis analyzing the clock tree results feedback to report the transition time of each sink in a histogram format, use the -histogram_type transition option."
5. newly critical nets are always ripped up and rerouted.
.
"merging voltage area shapes to merge the voltage area shapes into a minimum set of disjoint shapes, use the -merge_regions option with the create_voltage_area, create_voltage_area_shape, or set_voltage_area command."
.
.
.
.
.
.
• set the rp_orientation attribute on leaf cells by using the set_attribute command.
252 viewing multibit components in the gui .
.
.
.
.
.
.
.
.
222 8 contents feedback datapath implementation .
.
the fusion compiler tool supports the following types of clock tree exceptions: • user-defined sink pins these exceptions define sink pins in addition to those derived by the tool for a clock tree.
.
"fusion compiler™ user guide v-2023.12-sp3 321 chapter 4: clock gating reporting clock-gating results feedback figure 65 example of a multibit composition report to report the details on ungated registers, use the -ungated option for report_clock_gating."
"to create a rectangular placement blockage, use the -boundary option to specify the lower-left and upper-right coordinates of the rectangle."
.464 removing via ladders .
the nets are then constrained to minimum and maximum layers for preroute rc estimation.
each path location corresponds to the run result that you want to compare.
"• to specify the mode in which to legalize, use the -legalize_mode option with one of the following settings: ◦ free_site_only when you specify this setting, the default, the tool legalizes the eco cells on free sites without moving preexisting cells."
.
.
.
.
"for example, to assign labels named y and z to the right side of the cellb library cell, use the following commands: fc_shell> set_placement_spacing_label -name y \ -lib_cells {cellb} -side right fc_shell> set_placement_spacing_label -name z \ -lib_cells {cellb} -side right 2. define the spacing requirements between the labels by using the set_spacing_label_rule comandcomandset_spacing_label_rule set_placement_spacing_rule command."
.
.
the top shape retains it placement area and guard band; the effective placement area and guard bands of lower shapes does not include the overlapping region.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 862 chapter 11: hierarchical implementation transparent hierarchy optimization feedback setting up transparent hierarchy optimization to perform tho, you need to have design views."
"to preserve specific preexisting clock buffers or inverters, apply a don’t touch or size-only exception on them."
"to specify the minimum and maximum routing layers, use the -min_routing_layer and fusion compiler™ user guide v-2023.12-sp3 202 chapter 2: preparing the design specifying the routing resources feedback -max_routing_layer options."
.
.
.
"to preserve clock paths only, specify the -clock_only option."
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 560 chapter 6: routing and postroute optimization routing nets in the gui feedback if you route on grid and know that there no obstacles, you can reduce runtime by skipping the spacing checks during automatic welding and automatic alignment."
"by default, the tool uses the global setting specified by the -connect_within_metal option."
.
.
.
.
"fc_shell> open_drc_error_data zroute.err to determine the error data types included in the error data file, use the get_drc_error_types command."
.
.
.
.
.
.
.
.
traversal (and clock tree removal) continues past the block abstraction model.
"by default, the file is named auto_gen_via_ladder_template.tcl."
.
"note that because this calculation considers the underflow, it produces a more optimistic congestion result in regions that contain both overflow and underflow."
"redhawk fusion and redhawk-sc share the same set of analysis and checking commands for rail analysis, and the same gui for examining the analysis results, except for some limitations."
figure 62 and figure 63 illustrate the general concept of fanin-based sequential clock gating.
.
.
.
.
.
.
.
.
.
.
.
"fc_shell> create_taps -supply_net vdd -layer 3 \ -point {100.0 200.0} -nocheck tap attributes during validation checking, the tool marks each inserted tap object with the is_valid_location attribute to indicate its validity."
"to insert a tap wall on more than one side, run the command multiple times."
.
.
.
.
.
.
.
.
(sqm-4102) fusion compiler™ user guide v-2023.12-sp3 242 chapter 3: physical synthesis performing multibit optimization feedback the following example output shows the cross probing information that is reported by the report_transformed_registers command: legend: c0r - constant 0 register removed c1r - constant 1 register removed ul - unloaded removed inv - inverted rep - replicated mrg - merged register mb - mutibit mbd - mutibit debanked register transformation filename: line number ------------------------------------------------------------------------- ------- mega_shift_reg c0r {{a/b/test1.v:112}} carry_flag_reg ul {{a/b/test2.v:117}} mega_shift_reg[10] mrg (mega_shift_reg[31]) {{a/b/test3.v:121 }} controlling high-fanout-net synthesis the tool performs high-fanout-net synthesis during the initial_drc stage of the compile-fusion command.
.
fusion compiler™ user guide v-2023.12-sp3 347 chapter 5: clock tree synthesis defining the clock trees feedback consider the clock network in the following figure.
.
.
.
.
881 specifying ideal voltage sources as taps .
.
this figure shows an example of sequential output inversion during mapping.
"defining blockages that allow relative placement cells only to define partial blockages that allow relative placement cells only, specify the boundary, type (-type allow_rp_only option), blockage percentage (-blocked_percentage option), and optionally the name for the placement blockage."
4. place interconnect repeaters on route with cutline for input repeater groups.
.
"• to lower a voltage area shape one position, use the -lower option."
you can annotate the switching activity in the following ways: • read a switching activity file (saif) by using the read_saif command.
.
"in addition to specifying the region in which the routing occurs, you can also specify the minimum and maximum routing layers for each of the rectangles that comprise the routing corridor."
.
.
.
"by default, the command preserves both clock paths and clock as data paths and propagates the dont_touch attribute throughout the hierarchy of the network."
.
"the tool supports up to four gate oxide thicknesses: gate class 0, gate class 1, gate class 2, and gate class 3. if a cell pin does not have gate class data, it is treated as gate class 0. the fusion compiler tool supports 18 diode protection modes, most of which support only a single gate oxide thickness."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"you must specify one cell name per buffer when adding buffers, and two cell names per inverter pair when adding inverter pairs."
custom.route.diffpair_twist_jumper_offset specifies the distance between the first twist and the connected pins.
.
.
.
.
4. newly critical nets are ripped up and rerouted only if it does not increase congestion.
166 enabling variant-aware legalization .
the valid values are pos_edge_flip_flop and neg_edge_flip_flop -objects specifies the objects to which the clock gate applies.
.
.
.
"when a script finishes the job, the tool reuses its license immediately to submit other scripts."
"this type of violation, which is called an odd cycle, is shown in figure 5. fusion compiler™ user guide v-2023.12-sp3 41 chapter 1: working with the fusion compiler tool fusion compiler concepts feedback figure 5 odd-cycle violation if the spacing between any pair in the loop is greater than the multiple-patterning minimum spacing, no violation occurs and the layout can be decomposed."
.
.
.
.
"removing placement blockages to remove placement blockages from a block, use the remove_placement_blockage comandcomandsremove_placement_blockageremove_placement_blockages command."
.
.
.
fusion compiler™ user guide v-2023.12-sp3 43 chapter 1: working with the fusion compiler tool working with the 3dic compiler user interfaces feedback table 1 mask constraint values (continued) attribute value description mask_one this constraint means that the shape has the mask1 color.
note that the the tool also checks clock-gating style and multivoltage constraints.
.
.
.
.
.
.
.
.
.
.
.
"for detailed information about using the create route tool, click on the mouse tool options panel after you activate the create route tool."
.
the following command creates a tap with the -nocheck option enabled.
.
.
"use this feature to perform length-limit routing on the nets with a single driver and multiple receivers, and run point-to- point routing between the drivers, steiners, and receivers."
.
.
.
.
.
.
.
.
figure 227 shows the calculation for variant siteid fusion compiler™ user guide v-2023.12-sp3 998 chapter 13: eco flow swapping variant cell feedback figure 227 calculation for variant siteid running and placing group repeaters use the add_group_repeaters and place_group_repeaters commands to display the summary report for variant cell swapping in command cell collections.
.
101 reading verilog gate-level netlist files .
.
.
.
.
.
.
"removing clock balance groups to remove clock balance groups, use the remove_clock_balance_groups command."
"to remove the user-defined preferred routing direction for one or more routing layers, use the remove_attributes command."
.
.
.
.
.
you can include a cell library in more then one libset.
.
.
.
"design linking can be performed only after the entire design is in memory, so linking is not performed by the elaborate command."
.
.
.
.
you can define the nondefault vias by using either the -cuts option or the -vias option.
.
.
place_group_repeat ers eco-243 error: the cells in collection (%s) are invalid since they have no driver or load.
.
.
.
.
.
.
.
"• for information about the application options that affect track assignment, see the route.track_options man page."
.
using the layout view can expose problems that are masked by the frame view abstraction.
.
"note: after successfully running the commit_upf command, the tool issues an error message if you try to use additional upf commands, except for the set_related_supply_net, connect_supply_net, set_design_attributes, set_port_attributes, find_objects, and set_scope commands."
.
.
the specified settings are restored when the block is reopened.
.
.
.
.
"the tool gets the information required for incremental change detection from the error data file named block_sdrc.err, where block is either the current block name or the name specified by the -pre_eco_design option."
"for example, to synthesize and optimize the clock trees and detail route the clock nets only, limit the execution to the build_clock and route_clock stages by use the following command: fc_shell> clock_opt -to route_clock because the tool performs global routing during the final_opto stage, you should specify all router related settings, such as routing rules, route guides, application option settings required for the technology node, and so on, before you run the clock_opt command."
.
.
.
.
.
the -min_filler_distance option is ignored when you use the place.legalize.enable_advanced_legalizer application option.
.
.
fusion compiler™ user guide v-2023.12-sp3 741 chapter 8: ic validator in-design automatically fixing isolated vias feedback automatically fixing isolated vias an isolated via is a via that does not have neighboring vias close enough to meet the requirements of the technology.
.313 setting clock gating transformations .
.
.
.
"the valid values are static, dynamic (default), dynamic_vcd, and dynamic_vectorless."
.
.
.
.
"you can use the -max_displacement_threshold option to identify eco cells with a very large displacement, for which you want to reject the eco changes."
.
.
.
.
.
.
.
.
use these voltage-related cell attributes to identify root causes of voltage violations.
.
fix_detail_route_drc global controls whether the signoff_fix_drc command fixes routing drc violations for the entire block (global) or only in the areas near the signoff drc violations (local).
.
"for information about specifying the default metal width for a layer, see the “default width rule” topic in the synopsys technology file and routing rules reference manual."
.
.
.
.
.
.
.
.
"custom.route.distance_to_net_pin (hybrid flow only) when using the skip_connect_pin_type option, skips the connection if the distance between the pin and the route is <= distance_to_net_pin."
.
.
.
.
signoff.check_drc_live.
.
.
.
.
"however, you might want to exclude paths that are connected to boundary registers, which are registers in the transitive fanout of input ports and transitive fanin of output ports."
• allows integrating blocks.
.
.
.
.
.
.
the first value is the x-direction step size.
.
.
.
.
.
.
.
"by default, the width of a global routing cell is the same as the height of a standard cell and is aligned with the standard cell rows."
.
.
.
.
"in this example, the action modifies the -congestion_effort option of the command that is enwrapped by the checkpoint associated with this action."
.
.
.
.
.
.
.
.
.
this option specifies the minimum number of unit tiles between the boundary and an affected corner tap cell.
.
.
"a standard cell pin is considered accessible if the pin contains a via that extends to a neighboring layer, there is a path on the pin layer that is at least as long as the search range distance, or there is a shorter path on the pin layer that ends at a via to a neighboring layer."
.
"you can start or exit a session in either the shell or the gui, and you can open or close the gui during a session."
.
see figure 44 figure 44 focused view drop-down menu filtering the detailed data detailed views offer filters to focus on specific data.
.
.
.
.
148 querying placement bounds .
.
.
.
"report_area example fc_shell> report_area -designware -hierarchy -physical **************************************** report : area design : test ... **************************************** information: base cell (com): cell xnor2ell, w=3300, h=6270 (npin=3) information: base cell (seq): cell lpsdfe2, w=10560, h=6270 (npin=5) number of cells: 8 number of combinational cells: 4 number of sequential cells: 4 number of macros/black boxes: 0 number of buf/inv 0 number of references 2 combinational area: 49.66 buf/inv area: 0.00 noncombinational area: 231.74 macro/black box area: 0.00 total cell area: 281.40 ____________________________________________________________________ hierarchical area distribution ------------------------------ global cell area local cell area --------------------------------------------- hierarchical cell absolute percent combi- noncombi- black- total total national national boxes design -------------------------------------------------------------------- test 281.40 100.0 37.24 231.74 0.00 test mult_10 12.41 4.4 12.41 0.00 0.00 dw_mult_uns_j1_h3_d1 -------------------------------------------------------------------- total 49.66 231.74 0.00 area of detected synthetic parts ---------------------------------- perc.of module implem."
.
.
.
.
.
.
.
.
"to report information about the hierarchies that are automatically ungrouped or preserved, use the report_ungroup command."
"to stop these commands or processes, you must terminate fc_shell at the system level."
.
"if you do not specify these options, it uses the active power scenario with the highest total power for both the leakage and dynamic scenario for the power qor summary."
"the fusion compiler tool can perform voltage optimization, which tries to achieve better performance, power, and area (ppa) at a lower voltage level."
.
"you use this command to specify the following requirements: • the library cells to use for the boundary cells, as described in specifying the library cells for boundary cell insertion • the rules used to place the boundary cells, as described in specifying boundary cell placement rules • the naming convention used for the inserted cells, as described in specifying the naming convention for boundary cells • the creation of routing guides to honor the metal cut allowed and forbidden preferred grid extension rules, as described in creating routing guides during boundary cell insertion fusion compiler™ user guide v-2023.12-sp3 593 chapter 7: chip finishing and design for manufacturing performing boundary cell insertion feedback note: this feature is supported only by the compile_boundary_cells command; it is not supported by the compile_targeted_boundary_cells command."
the following figure shows that a fix in the block can effectively improve the performance of the top design.
.
.
.
.
.
◦ allow different layers for the single loop.
-max_cores controls the number of cores each distributed worker job can use.
.
.
.
.
.
.
.
.
.
.
.
"◦ specify the tradeoff between power and setup timing during dynamic power shaping by setting the ccd.dps.optimize_setup_tradeoff_level application option to low, medium (default), or high."
579 7. chip finishing and design for manufacturing .
.
.
.
"for a hold check, it uses minimum delays for the launch clock path and data path and maximum delays for the capture clock path."
"fusion compiler™ user guide v-2023.12-sp3 924 chapter 12: redhawk and redhawk-sc fusion writing analysis and checking reports feedback • dynamic analysis with custom macro models • dynamic analysis with package models • analysis with rtl-level vcd files to perform redhawk signoff analysis, 1. modify your gsr file or redhawk run script to include the related configuration settings."
.
.
.
.
"controlling the routing density to control the routing density for specific layers, use a utilization routing guide."
.
(optional) .
.
.
"when a value is enabled, a check mark is displayed before the value."
"for example, consider the following upf power switch constraint: create_power_switch my_switch \ -output_supply_port {vout vdds} \ -input_supply_port {vin vdd} \ -control_port {ms_sel ctrl1} \ -control_port {ms_ctrl ctrl2} \ -on_state {on vin {ms_ctrl && !ms_sel}} fusion compiler™ user guide v-2023.12-sp3 188 chapter 2: preparing the design setting up for power-related features feedback the tool derives the static probability of the supply net named vdds, which is connected to the output of the power switch, based on the probability of the power switch being on."
.581 using the create_tap_cells command .
.
.
you can create multiple rail scenarios and associate them with the same scenario in the current design.
.
.
.
.
.
.
.
.
.
.
.
.
.
you can define multiple clock balance groups.
.
.
.
.
table 65 compares the analyze_rail options that are supported in either or both of redhawk fusion and redhawk-sc fusion.
479 deriving routing guides .
.
.
.
"however, this might result in the remove_stdcell_fillers_with_violation command removing many decoupling capacitors."
.
"7. identify redundancies in library cell families by using the find_library_redundancies command, as shown in the following example: fc_shell> find_library_redundancies -analysis mylibset_run1 the name of the analysis you specify with the -analysis option must correspond to the name of an analysis you previously performed by using the run_library_analysis command."
"to report voltage area rules, use the report_voltage_area_rules command."
.
.
"when you use this command, you must use the -options option to specify the location of each antenna violation to fix by specifying the port and cell instance, the reference cell for the diode, the number of diodes to insert, the highest allowed routing layer used for connecting the diode, and the maximum distance from the specified pin that the diode can be inserted."
.
.
.
.
.
.
.
.
these adders use significantly less area than carry-propagate adders because they do not use full adders for the carry.
.
inserting isolation cells isolation cells are used to selectively shut off the input side of the voltage interface of a power domain; they do not shift the voltage.
"when global routing is complete, the global router reports a summary of the wire length and via count."
.
"if the tool inserts a delay register as a result of this feature, the register name begins with the prefix reg_seqcg_ followed by standard clock-gate naming conventions (in other words, the most common base name among the gated registers)."
.
.
.
.
.
.
.
.
.
use the option to delete existing constraint groups.
• signoff.create_metal_fill.space_to_nets_on_adjacent_layer this application option defines the adjacent-layer minimum spacing requirements between metal fill and a net shape of a timing-critical net.
the following example synthesizes and detail routes a global clock tree for the clock net named clka.
controls zoom or pan when iterating through the drc violations.
.
.
.
.
.
.
"for example, the following command creates single-side spacing rules on the m2, m3, and m4 metal layers metal2, metal3, and metal4: fc_shell> create_routing_rule new_spacing_rule3 \ -spacings {m2 1.300 m3 1.400 m4 1.500 } \ -single_side_spacing \ -widths {m1 0.230 m2 0.280 m3 0.280 m4 0.280 m5 0.280 m6 0.440} fusion compiler™ user guide v-2023.12-sp3 498 chapter 6: routing and postroute optimization routing constraints feedback configuring nondefault spacing checks you can configure the checking of nondefault spacing rules by enabling or disabling checks between signal nets and other objects."
"the same set of low-power design specification commands is to be used throughout the design, analysis, verification, and implementation flow."
.
.
.
.
.
.
.
.
.
.
"to target clock nets, set this application option to true."
.
.
.
.
.
.
"• maximum open area, which specifies the maximum size of a square area that contains no polygons and does not interact with any polygons this rule is checked if it is defined."
.
.
.
.
"specifying an element separator for noncontiguous bits of a bused register when combining noncontiguous bits of a bused register, the tool uses the , character as the element separator."
.
.
.
.
.
.
.
.
• -vertical_repeater_spacing specifies the vertical spacing between repeaters by site row height.
.
.
.
.
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 313 chapter 4: clock gating setting clock gating transformations feedback setting clock gating transformations by default, clock gating optimization occurs automatically when you synthesize fhs design."
"controlling routing around the block boundary to control routing around the block boundary, use the derive_perimeter_constraint_objects command to place rectangular metal shapes, fusion compiler™ user guide v-2023.12-sp3 481 chapter 6: routing and postroute optimization routing constraints feedback routing guides, and routing blockages along the boundary edges, as described in the following topics: • inserting metal shapes in the preferred direction • inserting routing guides along the nonpreferred-direction edges • inserting routing blockages along the boundary edges • removing perimeter constraint objects if you change the block boundary after creating the constraint objects, you must regenerate the objects."
.
• legalizes the affected cells you must use one of the following methods to complete the routes for the cells moved by the optimization: • run eco routing by using the route_eco command.
.
"running ic validator on specific hosts to enable ic validator multicore processing on one or more specific hosts, use the set_host_options command to specify the following information: • the host names if you do not specify a host name or submit protocol, the ic validator tool runs on the host on which the fusion compiler tool is currently running."
.
.
.
.
345 defining insertion delay requirements .
.
"in addition, the tool updates the estimated clock latencies after steps such as placement and multibit banking, while user-specified latencies are static values."
"if the tool failed to associate any multivoltage cells, the command reports the causes for these failures."
.
.
.
fc_shell> open_rail_result fc_shell> report_rail_result -type minimum_path_resistance \ -supply_nets { vdd } minres.rpt fc_shell> sh cat minres.rpt feed0_14/vbp 518.668 inv61/vdd 158.268 arcr0_1/vbp 145.582 feed0_5/vdd 156.228 inv11/vbp 518.669 the output minres.rpt report includes the entire resistance information.
"fusion compiler™ user guide v-2023.12-sp3 997 chapter 13: eco flow swapping variant cell feedback figure 226 variant mapping and flipped mapping id for variant siteid, you can get the cycle and offset from site rows first, then use the cell placed location to do the calculation."
.
"this command checks the boundary cell placement for the following issues: • missing boundary or corner cells this check verifies that there are boundary and corner cells around the entire boundary, with no gaps."
.
.
.
"to specify the disallowed spacing range, use the -tap_distance_range option."
.
"in the focused view, you can see the results for all runs and all flow stages for a specific row of data from a detailed table."
.
.
.
the max overflow value is the highest number of overutilized wires in a single global routing cell.
.
.
.
.
.
"◦ to ignore detail routing shapes when checking for drc violations, use the -ignore_routing_shape_drcs true option."
.
the filler cells considered to replace violating cells are called unconstrained cells.
.
.
"for more information, see random filler cell replacement."
.
.
.
.
.
.
.
.
.
180 specifying automatic via ladder insertion settings for preroute optimization .
.
.
.
"however, doing so can slightly degrade the timing qor."
be sure to save the changes in the library before you close it.
.
"the buffers are staggered by a distance of 2, starting from the left, and the pattern is repeated after every three buffers."
.
.
"note: lvt cells have a smaller cell delay, but higher leakage power dissipation."
.
.781 benefits of relative placement .
"fc_shell> create_clock_drivers -loads [get_nets clk] \ -configuration [list \ [list -level 1 -boxes {1 1} -lib_cells buf32x ] \ [list -level 2 -boxes {2 2} -lib_cells inv16x ] \ [list -level 3 -boxes {4 4} -lib_cells inv8x ]] for this example, because there is no bounding box specified at any level, the drivers at each level are evenly distributed in the core area."
.
.
"defining a partial placement blockage to define a partial blockage, specify the boundary, type (-type partial option), blockage percentage (-blocked_percentage option), and optionally the name for the placement blockage."
.
signoff.create_metal_fill.
.
.
.
horizontal_edges_distance maximum stacking for small filler cells this rule restricts the horizontal length of a sequence of abutted objects on a specific layer.
"to report the user-defined skew and latency targets, use the report_clock_tree_options command."
"(place-084) when you enable this feature, the tool prints a warning message if the utilization of a region is more that 90 percent."
.29 customer support .
.
the checkpoint directory also contains any checkpoint reports you have written to it.
.
.
you can also generate these files by using the generate_via_rules_for_performance command.
"to enable the hybrid routing flow, set the custom.route.skip_connect_pin_type application option to one or more of the following values, depending on your routing requirements."
.
.
.
.
.
.
"when you use this option, you must use the -track_fill_runset_include_file option to specify the parameter file used for the initial track-based metal fill insertion."
.
.
"every clock gate is subject to optimization, whether it is a preexisting or tool-inserted clock gate."
863 performing tho during compile_fusion final_opto stage .
"the tool returns the output as a tcl dictionary: fc_shell> get_checkpoint_data -name place_opt_to_initial_drc memory 173.85 start_time 2.34 end_time 2.34 before_runtime 2.34 before_report_runtime 0.00 after_report_runtime 0.00 self_runtime fusion compiler™ user guide v-2023.12-sp3 60 chapter 1: working with the fusion compiler tool adding changes to a script with checkpoints feedback 0.00 before_reports {} after_reports {app_options timing} before_actions {gropto} after_actions {} replace_actions {} • to return a list of all the checkpoint behaviors defined in your configuration, specify the -list_reports or -list_actions option: fc_shell> get_checkpoint_data -list_reports timing app_options fc_shell> get_checkpoint_data -list_actions gropto placer_high_effort_congestion • to return the contents and associations of a checkpoint report or action, specify the report or action with the -report or -action option: fc_shell> get_checkpoint_data -report app_options contents { set name [get_current_checkpoint -name] set pos [get_current_checkpoint -position] report_app_options -non_default \ > ./checkpoint/$name.$pos.app_options.rpt } before_patterns {*} after_patterns {} see also • viewing your checkpoint history viewing your checkpoint history to view your checkpoint history, navigate to the checkpoint directory."
.
.
.
799 controlling the tiling within relative placement groups .
380 specifying optimization targets at the postroute stage .
.
.
"defining an outer keepout margin you can define an outer keepout margin on a hard macro, a hierarchical cell, or a leaf cell."
.
.
.
these assigned masks are often referred to as colors and this type of library is referred to as a precolored library.
"in the following example, three fanout ranges are created: 1 to 5 with a latency value of 0.5, 6-15 with a latency value of 0.8, and 16 to infinity with a latency value of 0.6. set_clock_gate_latency -stage 1 \ -fanout_latency {{1-5 0.5} {6-15 0.8} {16-inf 0.6}} to specify a clock latency value for clock-gated registers, use the -stage option with a value of 0. because you are specifying the latency value for the clock-gated registers, the value for the -fanout_latency option should be 1-inf (1 to infinity) and the latency is the absolute clock latency value for the registers, as shown in the following example: set_clock_gate_latency -clock clk -stage 0\ -fanout_latency {1-inf 1.0} if the -clock option is not specified, the setting applies to all clocks in the design."
.
◦ estimated timing is acceptable (about 0 ns of slack).
.
.
.
.
.
"if your block is very congested, use the ultra effort level."
.
.
.
.
"for details about how the fusion compiler tool counts clock-gate levels, see clock-gate levels and stages."
.
.
.
"specify a list that contains one or more of the following values: clock, pg, and none."
.
"• limit it to specific scenario, scenarios of modes, or scenarios of corners by using the -scenarios, -modes, or -corners option."
.
.
.
"by default, the tool derives the logic-level threshold based on the delay values required for the paths."
.
"however, if a specified group does not exist in the current mode, but does exist in another mode, it is removed from that mode."
.
.
.
.
.
.
.
.
.
.
.
eco routing after optimization is performed on all subblocks that are open for editing.
the following example shows the usage of -check_prerequisites option using the add_group_repeaters command: fc_shell> add_group_repeaters -bundles bundle_wo_load \ -lib_cell ref_lib1/libcell1 -lib_cell_input a -lib_cell_output x \ -repeater_distance 10 -check_prerequisite error: the net net_wo_load does not have loads.
.
.
• constants and unloaded ports continue to propagate across hierarchies.
.
.
"to require that the pin is accessible in the preferred direction for its layer, use the -obey_direction_preference true option."
"##create block context in top block ## open_block top create_context_for_sub_block \ -block_instance top/cell_inst_1 block.ploc \ -nets {vdd_top vss_top} close_block ##run ir analysis with block context information in block-level design ## open_block block set_app_options -name rail.pad_files -value block.ploc analyze_rail -nets {vdd_block vss_block} \ -voltage_drop static -extra_gsr_option_file extra.gsr ... performing signoff analysis redhawk fusion or redhawk-sc fusion does not support redhawk signoff analysis capabilities, such as signal electromigration or inrush current analysis."
.
.
.
.
.
"synthesizing the global clock trees before you insert clock drivers, ensure that all clock tree synthesis settings, including clock routing rules, are specified."
.
.
.
.
.
232 mapping of scan cells .
.
figure 194 viewing the ems database in the message browser you can also output the information in the ems database in ascii format by using the report_ems_database command.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 257 chapter 3: physical synthesis performing test insertion and scan synthesis feedback • certain endpoints by specifying a file containing the endpoints by using the ccd.targeted_ccd_end_points_file application option, as shown in the following example: fc_shell> set_app_options \ -name ccd.targeted_ccd_end_points_file \ -value endpoint_targets.tcl if you specify both path groups and endpoints, the tool optimizes only the specified endpoints that are in the specified path groups."
786 creating hierarchical relative placement groups .
.
.
specify the routing layers by using the layer names from the technology file.
the setup condition is checked only if the register satisfies the enable condition.
"• -clear object_list removes all inclusion, exclusion, and forced criteria on the listed objects."
.
.
.
"the redhawk script file includes the following commands: perform extraction -power -ground perform analysis -static mesh vias -report_missing -exclude_stack_via -threshold 0.0001 \ -o apache.missingvias1 example 49 fc_shell> set_missing_via_check_options -exclude_stack_via \ -threshold -1 fc_shell> analyze_rail -voltage_drop -check_missing_via \ -nets {vdd vss} the above example sets the threshold value to -1 to disable the voltage checking, and runs the missing via check."
.
.
.
.
"if you want more detail than what is provided in the frame view, use the gdsii or oasis view for specific cells by specifying the files containing the cells in the signoff.physical.merge_stream_files application option."
.
.
"reserving space for top-level routing to reserve space for top-level routing, create a corridor routing blockage, as described in reserving space for top-level routing."
.
"removing routing guides to remove routing guides from the current block, use the remove_routing_guides command."
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 426 chapter 5: clock tree synthesis implementing multisource clock trees feedback 3. insert the tap drivers and build the h-tree by using the synthesize_regular_multisource_clock_trees command, which consists of the following two stages: ◦ tap_synthesis, during which the tool inserts the tap drivers ◦ htree_synthesis, during which the tool builds the h-tree that drives the tap drivers by default, the tool performs both stages."
.
"valid arguments are none (skip registers gated by tool-inserted clock gates), insert (the default; insert self-gates on gated registers), and collapse (collapse tool-inserted clock gates if they are in the same hierarchy)."
.
.
.
.
"by default, it updates the supply nets for all cell added by using the following eco commands: • size_cell in freeze-silicon mode • add_buffer • add_eco_repeater • split_fanout • add_buffer_on_route to update the supply nets for specific cells, use the eco_update_supply_net -cells command."
.
.
.
.
.
figure 98 segments and subtrees of a clock tree fusion compiler™ user guide v-2023.12-sp3 435 chapter 5: clock tree synthesis analyzing the clock tree results feedback creating collections of clock network pins you can create a collection of the pins on a clock network by using the get_clock_tree_pins command.
.
.
.
"when you use this option, the tool creates the routing guide in the cell's reference block using the coordinate system of the cell's top-level block."
.
.
.
.
"to remove via ladder constraints, use the remove_via_ladder_constraints command."
.
e. perform detail routing.
.
◦ the threshold voltage layers must be defined in the technology file.
figure 199 illustrates the data flow when using redhawk fusion or redhawk-sc fusion to perform rail analysis in the fusion compiler environment.
.
.
.
.
.
"◦ specify that these libraries cannot be used for any other objects, other than the specified objects, by using the -only_here option."
.
"you can run the write_qor_data command multiple times, at each stage of the design flow at which you want to capture qor data."
.
.
.
note: the settings specified by the set_boundary_cell_rules command are saved in the design library.
• the report_fanin_sequential_clock_gating_objects command this command lists the settings explicitly set with the set_fanin_sequential_clock_gating_objects command.
"to specify the time window to read from the vcd file, use the optional start_time and end_time arguments with the -switching_activity option."
.
.
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 464 chapter 6: routing and postroute optimization checking routability feedback • blocked top-level or macro cell ports a top-level or macro cell port is considered blocked if none of its physical pins is accessible.
.
"to specify a name for the created tap, use the -name option."
.
"by default, it reports the power for all clock trees in all modes and corners of all active scenarios."
.
.
##create block context in top block ## open_block top create_context_for_sub_block \ -block_instance top/cell_inst_1 block.ploc \ -nets {vdd_top vss_top} \ -electric_model_file block.context close_block ##run ir analysis with block context information in block-level design ## open_block block set_app_options -name rail.pad_files -value block.ploc set_app_options -name rail.block_context_model_file \ -value block.context analyze_rail -nets {vdd_block vss_block} \ -voltage_drop static -extra_gsr_option_file extra.gsr ... the following example creates only a physical model for the top/cell_inst_1 block.
.
.
"fc_shell> set_app_options \ -name route.common.eco_route_concurrent_redundant_via_mode \ -value reserve_space to control the effort used to reserve space for the redundant vias during eco routing, set the route.common.eco_route_concurrent_redundant_via_effort_level application option."
.
.
.
.
.
.
.
.
.
"the figure shows the routing guides created on both the m2 and m3 layers, the metal blockages created on the m3 layer, and the via blockage created on the v2 and v3 layers."
.
.
.
.
.
.
.
.
.
you can specify one or more rectangular or rectilinear regions.
.
.
.
.
.
"to create a skew group for a specific endpoint, use the following command before running the synthesize_clock_tree or the build_clock stage of the clock_opt command: fc_shell> create_clock_skew_group -objects <endpoints> note: • if there is a balancing requirement between the fast endpoints, you must put them in the same skew group."
.
366 improving latency-driven clock-gate splitting .
.
.
.
.
.
.
.
.
"to remove existing global route information from the signal nets in the block, use the -global_route and -net_types signal options with the remove_routes command, as shown in the following example: fc_shell> remove_routes -global_route -net_types signal 2. performs an initial routing phase (phase 0), in which the tool routes the unconnected nets and calculates the overflow for each global routing cell fusion compiler™ user guide v-2023.12-sp3 529 chapter 6: routing and postroute optimization routing signal nets feedback 3. performs two rerouting phases, in which the tool tries to reduce congestion by ripping up and rerouting nets around global routing cells with overflows 4. updates the design timing based on the first three global routing phases 5. identifies newly critical nets based on the timing update 6. performs three rerouting phases, in which the tool rips up and reroutes the newly critical nets to increase the number of rerouting phases after the timing update, set the global routing effort level to high or ultra by using the -effort_level option with the route_global command."
.
.
you can also set the attributes on the objects by using the set_attribute command.
.
.
.
.
.
.
"for best performance, do not run more than one thread per available core."
the custom router generates the steiner nodes in the background when the create_length_limit command is fusion compiler™ user guide v-2023.12-sp3 755 chapter 9: routing using custom router defining routing constraints feedback executed.
enabling improved buffering for multivoltage nets multivoltage nets are nets that logically or physically cross over more than one voltage area.
.
.
.
.
.
• width condition the width condition is the minimum number of bits for gating registers or groups of registers with equivalent enable signals.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
fc_shell> set_app_options \ -name route.common.connect_within_pins_by_layer_name \ -value {{m1 via_wire_standard_cell_pins}} figure 115 restricted via-to-pin and wire-to-pin connections drc violations no drc violations controlling pin tapering pin tapering is the method used to connect wires with nondefault routing rules to pins.
.
"in addition, achieving very high redundant via rates might require you to modify the floorplan utilization to allow enough space for the redundant vias."
.
.
.
.
.
.
"if you set this application option to true, live drc keeps the drc violations that are fully inside the trim region."
.
183 enabling area recovery in regions of high utilization .
.
.
.
.
.744 9. routing using custom router .
.
.
8.
.
.
.
.
192 updating activity for improved power optimization .
.
.
"in addition, no changes are made to open nets or nets with drc violations."
.
.
"◦ remove filler cells with drc violations with the remove_stdcell_fillers_with_violation command, and the tool performs drc checking only for the post-eco cells."
"for details about the icons in the drc toolbar, see drc toolbar."
the rest of the spare cells are placed randomly throughout the design.
.
"for example, to run rail analysis on a local host, use the following command: fc_shell> set_host_options -submit_command {local} to run analysis on a grid system, use the following command: fc_shell> set_host_options -submit_protocol sge \ -submit_command {qsub -v -b y -cwd -p bnormal -l mfree=16g} 5. run rail analysis with the analyze_rail command."
.
.
.
.
.
.
.
.
"therefore, it is better to limit ungrouping, rather than disabling it, using the following methods: controlling the automatic ungrouping of specific types of hierarchies to control the automatic ungrouping of specific types of hierarchies, use the set_autoungroup_options command."
.
.
.
tool-estimated clock-gate latency values are stored as offsets from the user- specified values.
.
.
"by default, the command ◦ treats power and ground terminals as unconnected voltage sources to treat power and ground terminals as connected, use the -treat_terminal_as_voltage_source true option."
.
.
.
"set these application options to low, medium (the default), or high."
.
.
perform minimum path resistance analysis to quickly detect power and ground network weaknesses in the design.
.
.
.
.
.
.
.
.
.
.
.
.
.
you must use either the -buffer or -diode option with the fix_mv_design command.
"for more information, see inserting shields on the nets create_net_priority determines the order in which the nets are routed."
setting up for variant-aware legalization some libraries provide sets of functionally equivalent cells that can be legalized in different locations.
.
.
"for information about defining exclusive move bounds, see defining move bounds."
.
.
.
.
.
.
check if a cell or load has multiple inputs.
.
.
.
.
you can get this information from the switch model files.
.
"• for information about must-join pins, see routing must-join pins."
.
use the -supply_net option to explicitly associate a tap to the supply (either power or ground) net connected to the object from which the tap was defined.
.
.
.
.
.
.
.
"for example, the nve number for the following run is 2374: to cycle through different display styles of the data, right-click anywhere in the table."
.
.
.
.
.
.47 using application options .
custom.route.shield_connect_route connects shields to ground.
.
"when you use this command, specify the sinks you want to group, by using the -objects option."
.
"fusion compiler™ user guide v-2023.12-sp3 833 chapter 11: hierarchical implementation creating abstract views feedback • to create a read-only abstract, use the -read_only option."
"after you insert metal fill, you can • display the added metal fill in the layout view in the gui, as described in viewing metal fill in the gui • modify the metal fill, as described in modifying metal fill • perform extraction for timing analysis using the real metal fill, as described in performing real metal fill extraction setting options for signoff metal fill insertion before you run the signoff_create_metal_fill command, configure the run by setting the application options shown in table 49. to set the application options, use the set_app_options command."
"18 diode protection is limited; if more than one diode is connected, the sum of the diode-protection values for all diodes is used to compute the maximum antenna ratio."
fusion compiler™ user guide v-2023.12-sp3 279 chapter 3: physical synthesis performing design analysis feedback figure 43 path group details the flows are shown side by side as columns under each metric.
.
.
.
"when you do so, the files must not contain any verilog 2001 styles."
.
.
.
.
.
.
.
.
"during routing, zroute inserts the redundant vias and fixes hard design rule violations."
you must specify the via ladders to remove.
.
.
.
.
.
"considering the dynamic power qor during placement to consider the dynamic power qor during placement, perform the following steps: 1. annotate switching activity on the design, as described in annotating the switching activity."
"after you set up percentage-lvt-based optimization, when you run the compile_fusion, clock_opt, or route_opt command, the tool uses the specified lvt cell percentage constraint for the data path cells in the block."
cutlines must be perpendicular to the routes and the repeater groups are centered around the cutlines.
"when you use the set_power_clock_scaling command, the tool scales only the switching activity applied with the read_saif command."
.
.
.
.
.
◦ -coordinates_power this option restricts pg augmentation for the power net to the specified regions.
.
.
.
1648 nets have non-default rule clock_spacing ... phase3.
.
.
.
.
"for a detailed description about the redhawk or redhawk-sc analysis flows and commands, see the redhawk user manual or redhawk-sc user manual."
6. saves the results to disk the signoff_fix_isolated_via command generates the following results files: ◦ a summary report this report specifies the number of isolated vias for each via layer before and after fixing.
.
.
.
.
.
"• specify different library cells for different voltage areas, use the -voltage_area_specific_lib_cells option and specify the list of library cells using the {va1 lib_cell1 va2 lib_cell2 ...} format."
.
.
.
.
"after creating the voltage areas, run the check_mv_design command to verify that the design does not have any multivoltage violations."
.
.
.
.
.
.
.
.
.
.
"• to set the cost of violating soft constraints for a single net-specific layer constraint, use the -min_layer_mode_soft_cost and -max_layer_mode_soft_cost options when you define the constraint with the set_routing_rule command."
electromigration can lead to shorts or opens due to metal ion displacement caused by the flow of electrons.
.
.
.
.
"4. create the clock mesh by using the create_clock_straps command, as described in creating clock straps."
"for information about performing incremental metal fill insertion, see incremental metal fill insertion."
.
.
.
.
.
.
.
• the tool removes all remaining clock gates that do not meet the maximum number of levels.
.
.
.
576 reporting the wire length .
.
.
.
.
.
.
.
.
fill_shielded_clock false controls whether the ic validator tool inserts metal fill for shielded clock nets when performing timing-driven metal fill insertion.
table 25 how different clock gate types are renamed clock gate type name new name tool-inserted clock_gate_reg dft_wrapper_clock_gate_reg pre-existing icg_0 dft_wrapper_icg_0 use the -gating_wrapper_cells_only option with the get_clock_gates command to return all clock gates (except self-gates) that drive wrapper cells only.
.
.
.
"if you specify a value for all clock gates, you must know how many clock-gate levels already exist in the rtl design."
.
.
◦ -excluded_coordinates_power this option prevents pg augmentation for the power net in the specified regions.
.
.
.
"• to remove the straps of a specific clock net, use the -clear option."
"in the previous example, the tool gives the vp4 via ladder priority over the vp2 via ladder."
.
"• runs the generated script files see also • defining via ladder rules • specifying automatic via ladder insertion settings for preroute optimization fusion compiler™ user guide v-2023.12-sp3 452 chapter 6: routing and postroute optimization inserting via ladders feedback via ladder rule files the command generates two via ladder rule files: • an xml file that provides information about the via ladder rules the xml file has the following syntax: <emrule> <!-- template definition --> <template name=""rule_name"" for_electro_migration=""true"" for_high_performance=""true""> <layer name=""layer_name"" row_number=""cuts_per_row"" ... more layers </template> … more templates </emrule> each template section specifies the template for a via ladder rule."
.
"when you run this command to create a new design library, you must specify the library name."
read_design_views {} specifies the reference cells for which the ic validator tool reads the design view instead of the frame view.
.
.
.
"to enable tcd metal fill insertion, set the signoff.create_metal_fill.tcd_fill application option to true before running the signoff_create_metal_fill command."
.
"when the analysis is completed, the tool writes the minimum path resistance values and the voltage drop results into the same rail result."
.
.
"2. specify the dft configurations such as dft signals, chain counts, test modes, and so on."
.
.
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 925 chapter 12: redhawk and redhawk-sc fusion writing analysis and checking reports feedback to specify the data or error types to report, use the -type option."
.
"◦ to change the orientation for both the leftmost and rightmost filler cells, use both options."
there are no restrictions on signal routes connected to any pins by using wires.
.
.
669 signoff design rule checking .
.
.
.
.
.
.
.
711 pattern-based metal fill insertion .
.
.
.
.
.
.
.
"to remove the net type settings and prevent routing of all nets in the routing blockage, use the -net_types unset setting."
.
fusion compiler™ user guide v-2023.12-sp3 430 chapter 5: clock tree synthesis implementing multisource clock trees feedback fc_shell> set_app_options \ -name cts.multisource.subtree_routing_mode -value fishbone 8.
.
.
.
.
.
x x opt-2001 could not initialize scenario settings.
(optional) exclude specific cells from library analysis by using the set_use_for_library_analysis command.
.
.
"• set_auto_floorplan_constraints the command sets constraints, such as utilization of the floorplan to be created during compile."
"use the following options to change the default behavior: • to perform incremental global routing, use the -reuse_existing_global_route true option."
.
.
.
.
.
.
.
.
.
the following topics describe the steps in this flow • performing auto grouping flow • performing manual grouping flow • cell input mode fusion compiler™ user guide v-2023.12-sp3 989 chapter 13: eco flow querying group repeater feedback performing auto grouping flow auto repeater group creation allows you to derive virtual connections for register paths.
"to create a rectilinear placement blockage, use the -boundary option to specify the coordinates of the polygon."
.
.
it sets the is_electromigration attribute of the created via ladder to true.
they cannot be gated using traditional clock gating.
.
.
.
"to enable this feature, set the clock_opt.flow.enable_multibit_debanking application option to true before you run the final_opt stage of the clock_opt command."
.
filler cell insertion is often used to add decoupling capacitors to improve the stability of the power supply.
.
.
the tool then displays maps for the specified block instances based on the extracted block-level rail analysis data.
.
.
.
.
.
• the offset from the insertion region boundary use the -x_offset option to shift the pattern startpoint to the right by the specified distance in microns.
use the set_top_module command after reading the netlist to specify the top-level module and link the design to create the block.
"to change the range separator, use the multibit.naming.range_separator_style application option."
.
.
.
.
.
.
"downstream tools and verification tools use a combination of the golden upf file and the supplemental upf file, instead of a single upf’ or upf’’ file."
.
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 896 chapter 12: redhawk and redhawk-sc fusion running rail analysis with multiple rail scenarios feedback • you can create rail scenarios and associate them with a design scenario in the current design.
.
.
.
.
.
.
.
.
.
"to start fc_shell, ►enter the fc_shell command in a linux shell."
.
.
.
.
"for each selected net, zroute determines whether to reroute all the shapes in the net or just a portion of them."
.
.
.
this mode allows you to set the -first_distance or -last_distance option to control the distance at driver side or load side.
"fusion compiler™ user guide v-2023.12-sp3 120 chapter 2: preparing the design setting up multivoltage designs feedback to ensure that no shorts occur at the boundaries of the voltage areas, you can define guard bands for the voltage areas, which act as hard keepout margins surrounding the voltage areas."
.
.
.
.
.
.
• none (default): does not twist the wires.
.
.
.
.
.
.
via via12sq_c count = 1050582 phase3.
"when you enable this feature, the tool performs power analysis and uses useful skew techniques to reduce dynamic voltage drop."
.
each of the receivers has either a matched length constraint or an independent length constraint from the driver.
.
.
.
.
.
.
.
.
.
.
.
(optional) ignore specific sinks during concurrent clock and data optimization as described in excluding specific sinks.
"run_dir signoff_check_drc_live_run specifies the run directory, which contains the files generated by the interactive signoff design rule checking."
.
"specifying clock gating constraints by default, the tool identifies preexisting clock-gating cells during the execution of the analyze and elaborate commands."
.
.
.
.
.
each of the endpoints that connect to the clk net has an individual matching constraint.
"when you use this option, the tool uses the following naming convention: prefix__library_cell_name_r#_c#_number • the tap insertion region (the -bbox option) you specify the tap insertion region by specifying the lower-left and upper-right corners of its bounding box: -bbox {{llx lly} {urx ury}} • the mesh window (the -mesh_window option) you specify the size of the mesh window by specifying an integer value for the pitch in the x- and y-directions."
.
.
figure 67 is an example of a self-gating cell that is shared across two registers (4 bits).
.
.
.
.
.
"◦ physical constraints that can have accumulated values are recomputed; that is, core area can be recomputed based on the existing value and the site row definitions in the latest def file."
.
.
.
.
.
"for the selected vias, the tool always allows both the rotated and unrotated orientations for the via."
.
.
.
.
.
"instead of power recovery, you can enable area recovery on the clock cells and registers during the final_opt stage clock_opt command by using the following application option setting: fc_shell> set_app_options \ -name clock_opt.flow.enable_clock_power_recovery \ -value area performing ir-drop-aware placement during the clock_opt command during placement, the tool can use the voltage (ir) drop values of cells to identify areas of high power density and spread the cells with high voltage drop values, which reduces the power density of such areas."
.
.
• whether double-patterning rules are checked the command checks for double-patterning violations only when the following criteria are met: ◦ the route.common.color_based_dpt_flow application option is true.
.
"to enable multi cell checks at the last run of route_opt command or after the route_auto command, set the following application options to true."
standard filler cell insertion the standard filler cell insertion flow uses the create_stdcell_fillers command to insert filler cells in the block and the remove_stdcell_fillers_with_violation command to perform design rule checking on the filler cells and remove filler cells with violations.
commands use the following two commands to set and report auto floorplanning constraints.
662 running ic validator using a job scheduler .
"you can specify the spare cells to place by using one of the following two methods: ◦ to place specific spare cells, use the -cells option."
"(optional) saves the updated block to disk ◦ by default, the signoff_fix_isolated_via command does not save the updated block to disk."
"for example, fc_shell> read_drc_error_file -file calibre_error_file by default, the command generates an error data file named cell_name.err, where cell_name is derived from the calibre error report."
.
.
.
merge_stream_files application option.
.
.
"by default, this command • generates via ladder rules for all layers up to the m5 layer to specify a different maximum layer, use the -max_layer attribute."
.
.89 comparing libraries .
.
.
"fusion compiler™ user guide v-2023.12-sp3 374 chapter 5: clock tree synthesis implementing clock trees and performing post-cts optimization feedback if you do not enable concurrent clock and data optimization, you can enable clock power recovery by using the following application option setting: fc_shell> set_app_options \ -name clock_opt.flow.enable_clock_power_recovery \ -value power before you perform power recovery using this technique, you must 1. enable scenarios for dynamic, leakage, or total power optimization by using the -dynamic_power and -leakage_power options of the set_scenario_status command 2."
.
.
.
"if the tool is unable to find a routed segment or finds more than one routed segment within the specified distance from the unconnected terminal, it issues an error message."
.
.
.
.
.
these settings are only used for the power qor summary.
.
.
• a name by using the -name option.
"by default, redhawk or redhawk-sc loads the analysis results back to the rail database when analysis is completed."
"performing postroute optimization the fusion compiler tool can perform two types of postroute optimization: • logic optimization this optimization improves the timing, area, and power qor and fixes logical drc violations and performs legalization and eco routing."
"◦ to place a tap cell in the lower-left corner, use the -checkerboard even option."
.
.
858 linking to etms at the top level .
.
.
.
.
.
"the argument is an integer greater than or equal to 1. to restrict the clock-level control to specific clock sources, use the the -clocks option of the set_clock_gating_tree_options command, which takes a list of clocks as an argument."
.
.
"to specify the maximum allowed distance from the gas station to the added buffer, use the -max_distance_route_to_gas_station option."
"• electrical model, which is an effective resistance- and capacitance-based model."
"during local skew optimization, the tool works on improving local skew of all violating setup and hold timing paths."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"if you do not use it, all user-defined ignore pins apply to all clocks."
"to read an encrypted itf file, use the -encrypted option."
"to query virtual connections, use the get_virtual_connections command."
.
.
• the size of the blockage by using the -height and -width options.
.
.
.
.
.
generate reports after compile to analyze the results and debug your design.
.
"• to move a voltage area shape directly below another shape, use the -below option."
.
.
.
.
provide the value for-max_irdrop option which specifies the allowed maximum effective voltage drop on supply nets for standard cells driven by switches.
.
"during the compile process, the tool inserts clock gates on the registers qualified for clock-gating."
"when you enable this feature, you can further control the accessibility checks performed for standard cell pins by using the place.legalize.advanced_layer_access_check and place.legalize.advanced_libpin_access_check application options."
.
.
.
be careful to apply the correct constraints across all the modes and their associated corners.
.
"by default, the signoff_fix_drc command runs the signoff_check_drc command to generate the initial signoff drc results."
.
"if none of the specified message ids was issued, the check_error command returns 0. fusion compiler™ user guide v-2023.12-sp3 284 feedback 4 clock gating rtl clock gating is a power optimization feature provided by the fusion compiler tool."
.
.
.
.
.
you should not see any violations if you set the appropriate clock cell spacing constraints.
.
.
"zroute tries to route the nets within the routing guide to meet this constraint; however, if the number of edges in the nonpreferred direction exceeds the specified threshold, zroute reports a violation."
.
.
"▪ to reduce the global peak current, where the optimization goal is to reduce the total peak current, set this application option to global_peak."
.
"• to specify the logic hierarchy in which to insert the diodes for top-level ports, set the route.detail.use_lower_hierarchy_for_port_diodes application option."
.
"fusion compiler™ user guide v-2023.12-sp3 859 chapter 11: hierarchical implementation performing top-level closure with etms feedback performing top-level closure with etms before you can use the etms at the top level, you must perform the following tasks: • apply the top-level-only timing constraints and settings."
fusion compiler™ user guide v-2023.12-sp3 316 chapter 4: clock gating fanin-based sequential clock gating feedback figure 61 placement-aware clock gating clock gate cells are shown in red gated clock nets are shown in blue placement-aware clock gating disabled placement-aware clock gating enabled fanin-based sequential clock gating sequential clock gating is the process of extracting and propagating enable conditions from upstream or downstream sequential elements in the data path for the purpose of enabling clock gate insertion for additional registers.
.
the rest of the spare cells are placed randomly throughout the design.
"if no switch model input file is available, the tool treats these switch cells as black boxes and no rail map is displayed."
.
.
rail instance effective voltage drop map shows effective voltage values of a given instance in the block when voltage drop analysis is complete.
.
.
"example 39 wire matching constraints with exclusions fc_shell> create_wire_matching -for $nets -tolerance 0.05 \ -exclude [get_pins -physical_context u1/a] -force clk_match2 in example 40, the script creates a net-based wire matching constraint for the scenario shown in figure 162. the cell instance has an o1 terminal that servers as an inverter pin, driving signals on net1 and net1p to the pins."
.
.
"if you do not specify the -from option, the tool begins from the initial_place stage."
"if you use the -all option, the clock balance groups are removed from all modes."
.
.
.
.
.
.
the tool starts inserting the tap cells at the left edge of the row and uses the specified tap distance to determine the location of the subsequent tap cells.
"• after the initial run, performs design rule checking only on those portions of the design affected by design rule fixing fusion compiler™ user guide v-2023.12-sp3 689 chapter 8: ic validator in-design performing signoff design rule checking feedback to perform signoff design rule checking on the entire block for the last repair loop, set the signoff.fix_drc.last_run_full_chip application option to true."
"to disable this capability for the block you are synthesizing, set the compile.seqmap.remove_unloaded_registers application option to false, changing it from its default of true."
.
.
"the object as driver or load can be port, macro pin, and placed cell."
.
.
.
• use the -no_rule option to remove all routing rules from the nets and allow the tool to automatically assign a routing rule to them.
.
.
.
.
.
both dirs: overflow = 293 max = 2 grcs = 300 (0.04%) phase3.
"when you perform area-based drc, the check_routes command checks only for drc violations and voltage area violations."
.
"modifying routed nets you can modify routed nets in the gui by using the following tools: • area push tool to activate the area push tool, click the button on the edit toolbar or choose edit > area push."
.
.
.
.
it also specifies that the setting for the rp1 lower-level group overrides the top- level setting when legalizing the cells in the rp1 group.
.
figure 157 receivers with matched wire length from driver d fusion compiler™ user guide v-2023.12-sp3 758 chapter 9: routing using custom router defining routing constraints feedback figure 158 receivers with matched wire length from driver d' figure 159 net-based wire length matching syntax: fc_shell> create_wire_matching -for objects -tolerance float [-match_type type] [-exclude objects] [-relative] [-driver pin or port] [-force] [intent_name] command or options description create_wire_matching creates a length-matching constraint.
the new clock gates are then considered for further level expansion.
"fusion compiler™ user guide v-2023.12-sp3 346 chapter 5: clock tree synthesis defining the clock trees feedback for the clk clock tree shown in figure 74, assume that you want to ignore all branches of the clock tree beyond the u2 cell."
.
.
"you can also modify routing corridors in the gui by using the create route corridor tool, the move/resize tool, or the delete tool, or by editing the attributes in the properties dialog box."
.
the default is false.
.
.
"for example, to find the routing blockages for the n1 net, use the following command: fc_shell> get_routing_blockages -of_objects [get_nets n1] to find the routing blockages in a specific location, use the get_objects_by_location -classes routing_blockage command."
.
.
.361 preserving preexisting clock trees .
"however, if you modify the latency values on the clock gates after the compilation, you must manually apply the latency values on the existing clock-gating cells using the apply_clock_gate_latency command."
"◦ to specify a single constrained cell group, use the -constraint_fillers option."
.
.
.
"◦ the reference and target libraries can have the same naming convention, except less lexical attributes in one library."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"to remove the tcd structures in addition to the metal and via fill, set the signoff.create_metal_fill.tcd_fill application option to true before running the signoff_create_metal_fill command."
"if the power or ground net is defined as a complete blockage, the legalizer and the check_legality command ignore spacing rule violations between standard cells and the power or ground net."
.
.
you can set the on resistance (ron) value to be considered by the tool for swapping using the set_power_switch_resistance command.
.
.
.
.
"handling multiple levels of physical hierarchy for designs with multiple levels of physical hierarchy, before you create an abstract for a block with an abstract instantiated in it, • bind the lower-level blocks that you want represented by abstracts to the specific abstracts for example, assume you have a design with multiple levels of physical hierarchy as shown in the following figure."
"adding blockages to add a blockage within relative placement groups, use the -blockage option with the add_to_rp_group command."
.
.
"by default, all the spare cells are placed based on the cell density distribution."
.
.
.
.
fc_shell> set_dont_touch_network -clock_only [get_pins pin_name] the -clock_only option sets the don't touch setting only on the clock network.
2. set the following application option to enable the redhawk signoff features: fc_shell> set_app_options \ -name rail.allow_redhawk_license_checkout -value true setting the rail.allow_redhawk_license_checkout application option to true allows the redhawk tool to retrieve the related redhawk licenses for performing signoff features inside the fusion compiler tool.
.
"◦ creates multibit register banks considering placement during the initial_opto stage to disable this feature, set the compile.flow.enable_physical_multibit_banking application option to false."
.
.445 14 contents feedback inserting via ladders .
.
.
.
74 setting up reference libraries .
.
.
.
.
"free and open-source licensing notices if applicable, free and open-source software (foss) licensing notices are available in the product installation."
.
.
.
.
.
.
-pin_name specify a tiling type.
.
.
.
.
the spacing between the power and ground rails can accommodate three bits only.
all clocks are balanced with the same insertion delay which usually is the longest insertion delay among the clocks.
.
.
.
.
you can then open the error cell in an error browser and check the minimum resistance path from the pin of the cell to the nearest tap and trace each go-through geometries.
284 4. clock gating .
.
.
.
.
you can add additional commands to the script as needed to perform other operations.
.
.
"• fixes hard drc violations on the entire block by rerouting any wires, whether modified or not ◦ to fix drc violations only in the neighborhood of the open nets, set the -open_net_driven option to true."
7. perform optimization by using the compile_fusion command.
.
.
.
.
.
.
.
"for net shapes that do not have a color assignment, use the derive_mask_constraint command to derive the color mask for the specified wires and vias from the nearest underlying tracks."
.
.
.
.
.
.
"by default, the specified delay value is used for both longest-path and shortest-path calculations for both rising-edge and falling-edge paths."
.
"◦ to use the univa grid engine (uge) job scheduler, which was previously known as sge (sun grid engine) or grd (global resource directory), use the -submit_protocol grid option."
.
"these structures are made up of marker and fill layers, both of which are added to the block during tcd metal fill insertion."
829 specifying block-level power intent .
.
.
"obstructions such as placement blockages, fixed cells, and macros can prevent the insertion of the tap cells and result in an incomplete or missing tap wall."
"by default, the command returns an error if the assigned name already exists."
.
.
there are no restrictions on signal routes connected to macro cell and pad cell pins by using a via or to any pins by using wires.
.
.
.
"the horizontal guard band width applies to all vertical edges of the voltage area, while the vertical guard band width applies to all horizontal edges of the voltage area."
"• to specify the type of straps to create, use the -type option and specify user_route, stripe, or detect."
.
the minimum distance (backoff) between stripes of different spines is 5 units.
.
.
.
.
.
.
using via ladders during optimization improves the performance and electromigration robustness of a design.
.
• the lower category consists of the rest of the cells.
.
performing pg electromigration analysis note: pg electromigration analysis is supported in both redhawk fusion and redhawk-sc fusion analysis flows.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 255 chapter 3: physical synthesis running concurrent clock and data optimization feedback controlling concurrent clock and data optimization by default, the tool performs concurrent clock and data optimization during the compile_fusion command."
.
"you can specify either a relative path, in which case the directory is created under the current working directory, or an absolute path."
.
.
.
"for best results, you should also do the following: • enable the hold scenario even during compile to reduce hold violations that are caused by clock latency insertions during concurrent clock and data optimization."
.
.
.
.
"to display eco shapes in gui, you must first enable the redhawk signoff license key by setting the rail.allow_redhawk_license_checkout application option to true."
.
.
.
.
.
"using upf commands, you can specify the supply network, switches, isolation, retention, and other aspects relevant to power management of a chip design."
.
.
.
.
note: you can insert interior tap walls only for designs with a single site definition.
.
494 using nondefault routing rules .
"• missing vias: if two overlapping metal shapes do not contain a via within their overlapping area, it is considered a potential missing via error."
.
.
.
.
"to retain the objects of a skew group under the same tap, create a corresponding multisource sink group."
.
.
.
.
"when you use this option, the tool uses the following naming convention: prefix__library_cell_name_r#_c#_number • the side along which to insert the tap wall (the -side option) you can specify only a single side, top, bottom, right, or left."
the get_repeater_paths_info command returns cells on repeater paths that include input cells.
.
.
.
.
an example is shown in figure 64. figure 64 example of a report_clock_gating report the report provides a summary of the clock-gating statistics.
.
"if that location is blocked, the command uses the closest available location, which is measured as the manhattan distance to the lower-left corner of the mesh window."
"for details about the format of the layer mapping file, see defining the layer mapping for ic validator in-design commands."
.
this prerequisite check detects the design errors at the beginning of the command flow.
a cell that can perform both functions is called an enable level shifter.
.
.
.405 implementing a structural multisource clock tree using integrated subtree synthesis .
.
.73 working with design libraries .
.
.
.
"by default, this command reports only the fill cells in the top-level design."
.
"• via_all_pins the connections to any pins (standard cell, macro cell, or pad cell) by using a via are restricted."
.
.
.
"if you select cells that are placed far apart in the initial placement for the same relative placement group, performing incremental relative placement might degrade the qor."
.
.
a multiple- patterning violation occurs if your layout contains a region with an odd number of neighboring shapes where the distance between each pair of shapes is smaller than the multiple-patterning minimum spacing.
.
"• view the density of violations in a heat map, as described in viewing the violations in an icv heat map."
.
.
"when you define a bound, you must use the -name option to specify its name."
.
"to enable this feature, set the cts.compile.global_route_aware_buffering application option to true."
.
.
.
.
space_to_clock_nets two times the minimum spacing specified in the technology file specifies the minimum spacing between metal fill and a clock net on the same layer.
space_to_nets two times the minimum spacing specified in the technology file specifies the minimum spacing between metal fill and a timing-critical net on the same layer.
.
.
.
.
.
"you can change the default behavior as follows: • to change the default constraint strength for all net-specific layer constraints, set the route.common.net_min_layer_mode and route.common.net_max_layer_mode application options."
.
note: you can search for a substitute location only for the invalid taps that are specified by the -point and -layer options.
.
"however, if the tool inserts a clock gate for a register named out_reg_1, the inserted clock gate is named clock_gate_out_reg_1_0 to avoid conflicts with the names of clock gates related to the out_reg register."
.
"to define a minimum via spacing rule, use the -via_spacings option with the create_routing_rule command using the following syntax: create_routing_rule rule_name -via_spacings { {layer1 layer2 spacing} ... } fusion compiler™ user guide v-2023.12-sp3 501 chapter 6: routing and postroute optimization routing constraints feedback specify the routing layers by using the layer names from the technology file."
.
.
.
create_pg_augmentation.
fill_over_net_on_adjacent_la yer false controls whether the ic validator tool inserts metal fill within the minimum spacing in the vertical extension of the net on the adjacent layers when performing timing-driven metal fill insertion.
.
.
.
.
"2. runs two repair loops to fix the drc violations in each repair loop, the signoff_fix_drc command performs the following tasks; a. tries to fix the drc violations detected in the previous ic validator signoff drc run, as described in fixing drc violations b. runs ic validator signoff design rule checking on the modified block, as described in checking for drc violations to change the number of repair loops, use the -max_number_repair_loop option; you can specify an integer between 1 and 10. if no signoff drc violations remain after a loop, the tool does not perform additional repair loops."
.
.
"to customize or standardize the density values in the heat map, set the bin range, which is indicated by a red oval in the figure."
"for information about using the error browser, see using the error browser."
.
.
"when you select this rule, you must specify • the target filler cells to specify the target filler cells, use the -target_fillers option."
.
.
.
"for example, suppose you define a timing report before an area report."
368 specifying settings for clock latency adjustments .
"you need to specify the following information: • the name of the constraint group if you do not specify a name, the command assigns a name."
.
.
.
.
.
.
.
"391 inserting via ladders during clock tree synthesis, optimization, and clock routing ."
.
.
"you can specify the minimum width by specifying a multiplier that is applied to the default width for each layer, by specifying the minimum width in microns for each layer, or both."
.
.
.
note: the block-level power intent specification is required only for hierarchical synthesis using etms.
.
.
.
.
.
"for n-type half-height filler cells, the inbound-cell interaction polygons (icip) are at the top corners."
"to report the routing corridor for a specific net or supernet, use the get_routing_corridors command."
.
.
4. removes the unused dummy fill shapes 5.
"fc_shell> define_libcell_subset \ -libcell_list ""sdflop1 sdflop2"" -family_name special_flops fc_shell> set_libcell_subset \ -object_list ""hier1/leaf1"" -family_name special_flops reporting library subset restrictions to report library subsets specified for sequential cells and instantiated combinational cells, use the report_libcell_subset command."
"however, you can associate these checkpoints with flow changes or reports that you want to run before, after, or in place of the code the checkpoints enwrap, as described in configuring checkpoints."
fc_shell> set_application_option \ -name est_delay.ml_delay_gre_mode -value enable d. perform global-route-based optimization with the machine learning data by using the clock_opt -from final_opto command.
835 handling multiple levels of physical hierarchy .
(optional) control the latency adjustment of boundary registers for concurrent clock and data optimization as described in excluding boundary paths.
.
"but if you want to see more details about these metrics across all runs and all flow stages/labels loaded into the qorsum report, there is an alternate view that shows this."
.
"for more information, see maximum horizontal edge length rule."
.
.
822 22 contents feedback synthesizing the top-level .
.
.
"the following is an example script for running the eco fusion power integrity flow: set_app_options -name rail.database -value rail_database_baseline analyze_rail -voltage_drop dynamic_vcd -all_nets \ -switching_activity {vcd ./top.vcd top} set_pt_options -pt_exec /snps_tools/pt/pt_shell eco_opt -type power_integrity manually instantiating spare cells you can manually instantiate spare cells in a block by using one of the following methods: • instantiating them in the verilog netlist • adding them by using netlist editing commands such as create_cell, connect_pins, and so on when manually instantiating spare cells, you should • evenly distribute the spare cells through the logical hierarchy to better handle eco changes anywhere in the block • tie their inputs to power or ground, as appropriate, to prevent the spare cells from creating noise and consuming power fusion compiler™ user guide v-2023.12-sp3 956 chapter 13: eco flow manually instantiating spare cells feedback if a cell meets the following criteria, the tool automatically identifies it as a spare cell: • it is not a physical-only cell • all inputs except for the clock pin are unconnected or tied to a logic constant the clock pin of the spare cell, if any, can be connected to the clock network."
7. this optimization is supported only when concurrent clock and data optimization is not enabled.
.
"• define the global routing application options for information about the track assignment application options, see the route.track_options man page."
.
.
.
.
.
.
.
.
"for each global routing cell, the routing capacity is calculated according to the blockages, pins, and routing tracks inside the cell."
.
.
.
.
.
.
.
"if the relative placement is not what you want, modify the relative placement group or the constraints and settings, and rerun placement and optimization."
.
.
.
.
.
"to perform postroute logic optimization, 1. update the clock latency by using the compute_clock_latency command."
.
"this command uses the ic validator tool to remove metal fill from the current block, as described in removing metal fill with the ic validator tool."
"• partial a partial blockage limits the cell density in the specified area during coarse placement, but has no effect during optimization and legalization."
"to remove the settings you specified, use the remove_multisource_clock_subtree_options command."
.
.
table 17 shows the options used to restrict the layer constraints.
.
984 performing on route placement of repeaters .
378 controlling timing optimization effort .
.
.
.
.
.
this is useful in batch scripts.
.
.
it sets the pin attribute of the created via ladder.
"when zroute performs distance-based pin tapering, it • determines the tapering distance, which is about 10 times the mean number of tracks for all routing layers."
.
.
.
.
.
"during ccd, when a pin's cts balance point offsets are derived in only a subset of the active scenarios, use this command to copy the offsets to the in-active scenarios and active scenarios that do not have the ccd offsets."
"compacting hierarchical names when combining single-bit registers with hierarchical names, the tool uses the full hierarchical names of the single-bit registers for the concatenated multibit register name."
.
.
"to change the comb distance, use the route.common.comb_distance application option."
.
.
"• to specify the boundary of a rectangle shape, use the following format to specify its lower-left and upper-right corners: {{llx lly} {urx ury}} • to specify the boundary of a rectilinear shape, use the following format to specify the coordinates of its vertices: {{x1 y1} {x2 y2} {x3 y3} {x4 y4} ...} move bounds can be hard, soft, or exclusive."
.
check the pin shape of object and route shapes.
.
.
"when gating logic is added, the formality tool requires additional information to verify the design and the fusion compiler tool generates an appropriate .svf file that disables the gating logic in the functional mode."
.
.
.
the straps are on layers m7 and m8 with a width of 2.4 units and of type stripe.
.
.
"note that the tool does not place isolation logic on the following ports: • bidirectional ports • ports defined as clock sources or power pins • ports connected to nets that are marked with the dont_touch attribute fusion compiler™ user guide v-2023.12-sp3 175 chapter 2: preparing the design controlling the optimization of cells, nets, pins, and ports feedback example the following commands insert isolation logic to • input port in3 with a buffer • output port out1 with a buffer • output port out3 with the libcell_buff library cell • output port out4 with a pair of inverters fc_shell> set_isolate_ports {in3 out1} fc_shell> set_isolate_ports -driver libcell_buff out3 -force fc_shell> set_isolate_ports -type inverter out4 the following figures show the design without and with the isolation logic inserted by the set_isolate_ports commands, including buffers and an inverter pair: q d q d q d without port isolation q d q d q d after running the port isolation commands in1 clk out3 rst in3 in2 out4 out2 out1 out1 out2 out3 out4 in1 clk rst in2 in3 libcell_buff fixing multiple-port nets multiple-port nets include • feedthrough nets, where an input port feeds into an output port • nets connected to multiple output ports, logically equivalent outputs fusion compiler™ user guide v-2023.12-sp3 176 chapter 2: preparing the design controlling the optimization of cells, nets, pins, and ports feedback feedthrough net logically equivalent outputs multiple-port nets, which are represented with the assign statement in the gate-level netlist, might cause design rule violations further in the design flow."
.
.
.
.
.
"if you also specify the -max_displacement_threshold option, the tool does not legalize the cells that exceed this maximum displacement threshold specified with this option and the tool creates a collection named epl_max_displacement_cells that consists of eco cells with a displacement larger than that specified by this option."
.
"to remove all placement bounds from a block, use the -all option."
.
.
.
.
.
.
.
.
"if you have not previously defined a customized mapping table for the block, you can see the default mapping table by using the add_redundant_vias -list_only true command."
"by default, the tool displays information for all instances in the block."
.
.
.
.
.
.
.
.
.
◦ use the -stage pre_placement to perform both timing and preplacement related checks.
fusion compiler™ user guide v-2023.12-sp3 286 chapter 4: clock gating introduction to clock gating feedback these feedback loops can unnecessarily use power.
.
.
.
.
"to remove specific placement bounds from a block, specify the placement bound names."
.
.
.
.
"setting up the executables to run redhawk fusion or redhawk-sc fusion features, enable the features and specify the location of the redhawk or redhawk-sc executable by setting the rail.product and rail.redhawk_path application options."
.
.
.
"to ensure that clock tree synthesis uses only the specified set of cells and that these cells are not used by any optimization step other than clock tree synthesis, run the following commands: fc_shell> set cts_cells list_of_cells fc_shell> set_lib_cell_purpose -exclude cts [get_lib_cells] fc_shell> set_lib_cell_purpose -include none [get_lib_cells $cts_cells] fc_shell> set_lib_cell_purpose -include cts [get_lib_cells $cts_cells] deriving clock tree references for preexisting gates to ensure that the tool resize preexisting gates in the clock network during clock tree synthesis and optimization, you must specify equivalent cells as clock references."
14 {v01 v11 v21 v31 v41 v51 v61 v71 v81 v91} {v02 v12 v22 v32 v42 v52 v62 v72 v82 v92} {v03 v13 v23 v33 v43 v53 v63 v73 v83 v93} {v04 v14 v24 v34 v44 v54 v64 v74 v84 v94} you specify one 10-value vector for each of the four gate classes.
.
"for more information, see the design libraries topic in the fusion compiler data model user guide."
.
.
.
.
.
.
.
clock tree traversal continues until it finds an exception pin or a default sink pin.
.
.
.
"the antenna ratio calculation formulas for diodes are shown in table 37; these formulas use the values in the diode ratio vector specified in the -diode_ratio option of the define_antenna_layer_rule command, as described in specifying the diode ratio vector."
.
.
.
.
.
.
"see also • inserting via ladders controlling pin connections by default, zroute connects a signal route to a pin by using wires or vias anywhere on the pin."
.
.
.
"example 27 default via mapping table fc_shell> add_redundant_vias -list_only ... redundant via optimization will attempt to replace the following vias: via12sq_c -> via12sq_c_2x1 via12sq_c_2x1(r) via12sq_c_1x2 via12sq_ c_1x2(r) via12sq_c(r) -> via12sq_c_2x1 via12sq_c_2x1(r) via12sq_c_1x2 via12sq_ c_1x2(r) ... via89(r) -> via89_c_1x2(r) via89_1x2(r) via89_1x2 via89_c_1x2 via89_c_2x1(r) via89_2x1(r) via89_2x1 via89_c_2x1 via9rdl -> via9rdl_2x1 via9rdl_1x2 fusion compiler™ user guide v-2023.12-sp3 624 chapter 7: chip finishing and design for manufacturing inserting redundant vias feedback defining a customized via mapping table to define a customized via mapping, use the add_via_mapping command."
.
.
"• signal, clock, or pg nets that have a shielding nondefault rule but no associated shield shapes, which might be caused by inappropriate shape_use attributes."
202 specifying clock-tree layer constraints .
.
.
.
"for example, to defines a partial blockage that allows relative placement cells only, with a maximum allowed cell density of 80 percent (a blocked percentage of 20), and enclosed by the rectangle with corners at (10, 20) and (100,200), use the following command: create_placement_blockage -name rp_only -type allow_rp_only \ -boundary {10 20 100 200} -blocked_percentage 20 these blockages allows the tool to place relative placement groups, which are usually large structures, without disturbing the placement of other cells."
.
.
.
"you must specify one net name per buffer when adding buffers, and two net names per inverter pair when adding inverter pairs."
.
"• to insert routing blockages along all edges of the current block, use the derive_perimeter_constraint_objects command with the -perimeter_objects {route_blockage_preferred route_blockage_nonpreferred} option."
.
"by default, the tool models the full-chip context for the specified block."
.
"9. after completing the design planning operations, rebuild the subblock and top-level design by opening the elaborated rtl ndm, loading floorplan, feedthroughs and budgets."
.
reporting available sites for placing eco cells you can report sites available for placing eco cells by using the report_cell_feasible_space command.
.
.
.
"in this case, the tool defines ff_gen/clk as an ignore pin for clkb to resolve the balancing conflict."
.
.
.
.
"eco-aware removal of pg augmentation shapes to automatically remove pg augmentation shapes that are causing drc violations after eco, use the -mode remove_by_drc_auto option with the signoff_create_pg_augmentation command."
.
.
"to switch the preferred routing direction only for specific layers, use the -layers option to specify the affected layers."
.
.
.
"by default, the tool routes all nets in the block."
.
.
.
.
note that the target filler cells specified in the -replace_abutment option are also considered illegal cells.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 451 chapter 6: routing and postroute optimization inserting via ladders feedback the command uses information from the technology file to generate the via ladder rules.
.
.
.
.
.
example 53 > set_host_options -submit_protocol lsf \ -submit_command {bsub} > analyze_rail -submit_to_other_machines \ -multiple_script_files {{result1 rh1.tcl} {result2 rh2.tcl}} > open_rail_result result1 fusion compiler™ user guide v-2023.12-sp3 917 chapter 12: redhawk and redhawk-sc fusion voltage driven power switch cell sizing feedback > close_rail_result > open_rail_result result2 the above example submits two redhawk jobs with two redhawk scripts to the lsf farm machines and specifies the directories for saving the analysis results as result1 and result2.
nets in the timing paths that have a slack value within the range are considered for nondefault routing rule assignment.
.
.
.
"this command reports the cell spacing labels defined in the current session, the library cells (and their sides) to which they apply, and the rules defined for them."
.
.
.
.
.
.
.
the layer direction set with this attribute applies only to the current block.
.
.
script examples fusion compiler™ user guide v-2023.12-sp3 938 chapter 12: redhawk and redhawk-sc fusion voltage hotspot analysis feedback the following script displays eco shapes in the gui by using the set_rail_command_option command.
.
.
"for example, to build only the clk clock tree, use the following command: fc_shell> synthesize_clock_trees -clocks [get_clocks clk] after clock tree synthesis, the tool sets the clocks in all modes of all active scenarios as propagated."
.
.
"note: as the redundant via rate increases, it becomes more difficult to converge on the routing design rules and you might see a reduction in signal integrity; therefore, you should use near 100 percent redundant via insertion only for those blocks that truly require such a high redundant via rate."
.
.
• -layers layers use this option to restrict the reporting to specific layers.
.
"before you check for missing vias and unconnected pins, make sure you have the required input files as described in preparing design and input data for rail analysis."
.
.
.
.
defining routing constraints the fusion compiler tool provides a set of application options to control custom routing results.
.
.
"for example, to display only the first four runs in a table, select the runs as shown in figure 40. figure 40 choose baseline and visible runs dialog box fusion compiler™ user guide v-2023.12-sp3 276 chapter 3: physical synthesis performing design analysis feedback example analysis the following example demonstrates how you might sort and filter your data to narrow down the runs you would like to explore further."
.
.
"to use a different name for the working directory, use the rail.database application option."
.
.
.
.
.
.
766 intra-shield placement .
.
"valid values are unset, true, and false."
.
.
"top-down compile provides a push-button approach and handles interblock dependencies automatically, but it requires that all designs must reside in memory at the same time."
"for example, in figure 77, ff_gen/clk and ff0_1-10/clk are sinks of clkb, ff1_1-10/clk and ff0_1-10/clk are sinks of clka, and ff_gen/clk is the parent of fusion compiler™ user guide v-2023.12-sp3 353 chapter 5: clock tree synthesis verifying the clock trees feedback ff1_1-10/clk."
.
.
"adding leaf cells to add leaf cells, including physical only cells, to a relative placement group, use the -cells option with the add_to_rp_group command."
the following figure shows a regular multisource clock where the global clock structure does not have a clock mesh.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 522 chapter 6: routing and postroute optimization routing secondary power and ground pins feedback see also • identifying secondary pg pins setting the routing constraints you can set routing constraints for secondary power and ground pin routing in the same way as for regular signal routing.
.
.
.
.
.
897 performing voltage drop analysis .
.
.
.
"to force zroute to create shielding wires only in the preferred direction, set the -preferred_direction_only option to true."
.
.
signoff.create_metal_fill.
.
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 95 chapter 2: preparing the design analyzing libraries feedback to report the tool-identified library cell families, use the report_lib_cell_families -all_initial command."
256 reducing dynamic voltage drop .
.
.
"• to pass variables from a child process to the parent process, you must write the contents of the variables to a file during the child process, and then read that file in the parent process."
.
the default is false.
"defining blockages that allow buffers only to define a partial blockage that allows buffers only, specify the boundary, type (-type allow_buffer_only option), blockage percentage (-blocked_percentage option), and optionally the name for the placement blockage."
"5. create the clock mesh by using the create_clock_straps command, as described in creating clock straps."
.
.
.
"to prevent signal routing on the m1 layer within the rectangle with its lower-left corner at (0, 0) and its upper-right corner at (100, 100), use the following command: fc_shell> create_routing_blockage \ -boundary { {0.0 0.0} {100.0 100.0} } \ -net_types signal -layers m1 to prevent vias on the v1 layer within the rectangle with its lower-left corner at (0, 0) and its upper-right corner at (100, 100), use the following command: fc_shell> create_routing_blockage \ -boundary { {0.0 0.0} {100.0 100.0} } \ -net_types signal -layers v1 -zero_spacing to prevent pg routing on the m2 layer within the rectangle with its lower-left corner at (0, 0) and its upper-right corner at (100, 100), use the following command: fc_shell> create_routing_blockage \ -boundary { {0.0 0.0} {100.0 100.0} } \ -net_types {power ground} -layers m2 fusion compiler™ user guide v-2023.12-sp3 472 chapter 6: routing and postroute optimization routing constraints feedback reserving space for top-level routing to reserve space for top-level routing, create a corridor routing blockage by using the -reserve_for_top_level_routing option when you create the routing blockage."
.
clears or highlights all drc violations detected by live drc.
these violations are never allowed.
.
.
.599 verifying the boundary cell placement .
.
.
• allow the tool to decide the number of rows and columns based on the distribution of the cells by using the -auto_shape option.
.
.
.
.
.
.
.
.
-max_patterns control the routing density within the routing guide boundary.
.
.
.
.
"example 38 wire matching constraints for the clk net fc_shell> create_wire_matching -for [get_pins -physical_context \ -of_objects [get_nets -physical_context {clk}]] \ -tolerance 0.01 -match_type length_per_layer -relative \ -force clk_match in example 39, the command creates a wire matching constraint named clk_match2 for all the nets in the block, except the pins whose names match the keyword u1/a."
.
.
2. enable clock driver insertion for multiple levels of physical hierarchy by setting the cts.multisource.enable_mlph_flow application option to true.
.
.
.
.
.
"by default, the tool supports self-gating only on registers that are not gated."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"when you use this command, fc_shell returns immediately to execute the next command."
.
.
.
"the set_top_module command sets the specified module to be fusion compiler™ user guide v-2023.12-sp3 99 chapter 2: preparing the design reading the design feedback the top-level design, links the entire design, and creates a single block to be used for the remainder of the synthesis flow."
.
.
"if your user-defined or project-specific setup file does not contain this variable, the fusion compiler tool automatically creates the fc_command.log file."
.
.
.
.
.
.
.
.
.
385 skewing latch and discrete clock gates .
.
• place.legalize.enable_multi_cell_track_capacity_check: analyzes the track capacity of the cell's pins and abutting neighbor cells.
.
.
.
.
.
.
.
.
"in addition to removing dangling and floating net shapes, this command can also remove loops in the specified nets."
.
"specifying the boundary cell insertion requirements to specify the boundary cell insertion requirements, use the set_boundary_cell_rules command."
.
.
.
.
.
.
.
.
.
.
"the save_upf command separates the upf commands based on the input upf file, and adds a comment indicating the input upf file and the time it was loaded."
.
.
.
.
"to enable timing driven sink transition target, set the cts.compile.timing_driven_sink_transition application option to true before the compile_fusion stage."
.
.
.
◦ estimated congestion is acceptable.
.
.
.
.
.
.
.
.
.
"however, you can preserve the route shapes of the clock nets by setting the shape_use attribute of the clock nets to user_route."
.
.
.
.
563 analyzing the routing results .
.
.
"for information about defining guard bands, see defining guard bands."
.
.
.
.
.
.
.
• check_design -checks hier_pre_compile run this command before top-level synthesis to check whether the subblocks and top- level design are ready for the hierarchical flow.
.
"◦ to perform track assignment, use the route_track command."
.
.
.
"to turn on the early mode in detail routing, use the set_qor_strategy command with the -mode option set as early."
.
.
fc_shell> set_dont_touch_network [get_clocks clk] -clock_only this example removes the dont_touch attribute from the clk clock network.
.
.
.
.
.
.
.
.
7. route the clock nets by using the clock_opt -from route_clock command.
"during clock tree synthesis and optimization, the tool propagates the nondefault routing rules to the newly created clock nets."
.
.
.
"figure 38 qorsum report for more information about exploring the comparison data, see the following topics: • setting your baseline run • changing the qor display style • sorting and filtering the data • exploring the detailed comparison data setting your baseline run by default, the first row of data is your baseline run against which all other runs are compared."
.
"2. update the design with the eco changes by using one of the following methods: ◦ using the eco_netlist command, as described in making eco changes using the eco_netlist command ◦ using netlist editing tcl commands, as described in making eco changes using netlist editing commands."
.
you cannot manually modify pin access routing guides.
.
.
.
.
.
.
"• top signifies the top-level design, which instantiates mid."
• the cells considered for the check and the filler cells that can be used to replace the violating filler cells the filler cells considered for the check are called constrained cells.
"to use a multiple of the site row height for creating grid rows, specify the -site_row option with an integer."
.
.
.
.
.
.
.
"run_dir signoff_create_pg_ augmentation_run specifies the run directory, which contains the files generated by the signoff_create_pg_augmentation command."
.
.
"however, it does not perform any leakage-power optimization."
.
.
.
.
.
.
.
.
.
.
.
.
.
870 redhawk fusion and redhawk-sc fusion data flow .
.
avoid cross-boundary timing exceptions that refer to objects inside the blocks.
.
you can control the sinks being considered for relative placement groups as follows: • specify the minimum and maximum of sinks that should be driven by a single driver to be considered by using the -min_sinks and -max_sinks options.
.
.
.
.
.
.
.
"to specify the maximum distance, fusion compiler™ user guide v-2023.12-sp3 775 chapter 9: routing using custom router using a ddr routing flow feedback use the custom.route.distance_to_net_pin application option."
• route.detail.default_port_external_gate_size specifies the gate size used for ports (top-level pins) during antenna analysis if the gate size is not specified in the e view of the cell.
.
.
"• -checks: reports the current policy, supported policies, strategies, and help text for each check."
-observation_output specifies the observation output pin.
.
.
"if you use both options, the ic validator tool uses the product of the settings as the number of cores."
.
"for example, fc_shell> set_app_options \ -name shell.synthesis.logic_level_report_summary_format \ -value ""group num_paths max_level min_level avg_level"" ... 3."
"• define the global routing application options for information about the global routing application options, see the route.global_options man page."
.
.
.
.
.
"breaking the compile_fusion command in to stages allows you to perform different tasks between the stages, such as changing constraints or settings, generating reports for analysis, performing other implementation tasks such as design planning or dft insertion, and so on."
.
.
"when you do so, you can selectively ignore the boundary paths of some ports during boundary path exclusion by using the ccd.ignore_ports_for_boundary_identification application option."
.
specify a unique name for the checkpoint and wrap the checkpoint around a block of code.
"for examples of the maximum antenna ratio calculations, see • example for diode modes 2, 3, and 4 • example for diode modes 5 and 6 • example for diode modes 7 and 8 • example for diode mode 14 with multiple gate oxide thicknesses table 36 diode ratio vector formats diode modes format 2-10, 17 {v0 v1 v2 v3 [v4]} the v4 value represents the upper limit of the diode protection and is optional."
.
.
.
.
.
"however, the set_lib_cell_purpose command excludes synthetic modules by default."
.
.
.
.
.
.
"if you • enable all four types, the tool sets the boundary_optimization read-only attribute to true • disable at least one type, the tool sets the boundary_optimization read-only attribute to false to report boundary optimization settings, use the report_boundary_optimization command."
"reporting the clock tree settings to report the settings that are used by clock tree synthesis, use the report_clock_settings command."
.
546 querying shield shapes .
676 highlighting violations from the error browser onto an icv heat map .
runset n/a specifies the foundry runset to use for pattern-based metal fill insertion.
.
.
.
.
"you can use this command to insert boundary cells around specific macros, voltage areas, voltage area shapes, placement blockages, routing blockages, and the core area."
.
.
.
.
.
.
.
.
"• manual in manual mode, the command makes the connections that you specify."
.
do not perform functional eco changes to the design.
.
traversal (and clock tree removal) stops at the three-state buffer.
"◦ (optional) to specify an existing redhawk script file that was generated in an earlier analyze_rail run, use the -redhawk_script_file option."
.
.
s is the spacing specified by the -spacing_nonpreferred option.
.
.
specify the below options to enable mcmm-based optimization.
.
.
.
"to remove skew groups, use the remove_clock_skew_groups command."
.
.
.
.
.
191 performing conventional leakage-power optimization .
"to specify a different file name, use the -template_file option."
.
.
you can use a string other than dr as the prefix by setting the route.detail.save_cell_prefix application option.
.
"for advanced technology designs that use cells and macros with different gate oxide thicknesses, you must use one of the diode protection modes that support multiple gate oxide thicknesses: 14, 16, and 18. to specify the diode protection mode, use the -diode_mode option with the define_antenna_rule command."
.
"however, if the relative placement group is pin aligned, you cannot override the alignment with the -override_alignment option."
.
137 defining an outer keepout margin .
.
.
.
.
.
.
.
.
.
"when not specified, all layers are reported."
.
.
.
.
.
.
.
.
.
applying mega-switch command settings you can use mega-switch commands to apply setting for different stages of the tool flow that are applicable for specific situations with the use of a single command.
.
.
.
.
.
"if the design has a finfet grid, follow these guidelines when selecting the tap cell to ensure proper insertion of the tap wall: ◦ for horizontal tap walls, ensure that the cell’s width in the specified orientation is an integer multiple of the x-pitch of the finfet grid ◦ for vertical tap walls, ensure that the cell’s height in the specified orientation is an integer multiple of the y-pitch of the finfet grid by default, the tool uses the following naming convention for inserted tap cells: exttapwall__library_cell_name_r#_c#_number to identify the tap cells inserted in a specific run, use the -prefix option to specify a prefix string."
(optional) control the effort of hold timing optimization performed during concurrent clock and data optimization as described in controlling hold time optimization effort.
.
.
.
.
.
.
.
.
.
.479 removing routing guides .
.
.
.
.
839 linking to subblocks with multiple labels .
.
"in certain cases, the tool might infer a register that has one type of asynchronous control, but your library has the opposite type of pin."
.
.
.
.
.
"to view the placement of the cell, run the compile_fusion command."
"• the nets, bundles, and topology edges to which the constraint group applies use the -for option."
the error data is saved in the design library when you save the block.
.
.
.
.
.
.
.
.
.
.
.
"to remove objects from a relative placement group, use the remove_from_rp_group command."
.
2. specify the antenna properties of the pins and ports.
place_group_repeat ers eco-251 info: place group repeaters successfully.
.
.
they are not saved and used during subsequent concurrent clock and data optimization.
.
.
"however, it does not incorporate the eco changes."
.
.
.
.
running high-effort area mode during compile might increase runtime because the tool performs multiple passes of placement and optimization to obtain optimal area results.
.
.
.
"using nondefault routing rules zroute supports the use of nondefault routing rules, both for routing and for shielding."
(optional) trims the metal fill for each layer to try to meet the maximum density threshold defined by the signoff.create_metal_fill.max_density_threshold application option the metal fill is trimmed only for those layers specified in the application option.
.
.
.
set_app_options -name rail.generate_file_variables \ -value {def test_def_files } create_rail_scenario -name func.ss_125c -scenario func.ss_125c set_rail_scenario -name func.ss_125c -voltage_drop dynamic create_rail_scenario -name func.ff_125c_ -scenario func.ff_125c set_rail_scenario -name func.ff_125c \ -generate_file {ploc def spef twf lef} \ -custom_script_file ./customized.py set_host_options -submit_command {local} analyze_rail -rail_scenario {func.ss_125c func.ff_125c} the following example uses a customized python script for single-scenario rail analysis on a grid system.
note: the shielding width and shield spacing defined in the nondefault routing rule are not used by the create route tool.
.
.
.
.
"if you create a relative placement group in a design that has multiple instantiations in a top-level design, the changes you make to the relative placement group in one instance is reflected in all its instances."
.
2. specify that the tool honors the net weights by using the -honor_user_net_weight option with the place_eco_cells command.
.
.
• -all_clock_outputs set this option to true to apply the mapping to all clock output pins.
.
this iterative process uses enhanced placement and synthesis technologies to generate fusion compiler™ user guide v-2023.12-sp3 36 chapter 1: working with the fusion compiler tool fusion compiler concepts feedback legalized placement for leaf cells and an optimized design.
"fc_shell> create_via_rule -name vl1 fc_shell> set_attribute [get_via_rules vl1] \ cut_layer_name_table_size 2 fc_shell> set_attribute [get_via_rules vl1] \ cut_layer_name_table {via1 via2} fc_shell> set_attribute [get_via_rules vl1] \ cut_name_table {cut1a cut2a} fc_shell> set_attribute [get_via_rules vl1] \ num_cuts_per_row_table {2 2} fc_shell> set_attribute [get_via_rules vl1] num_cut_rows_table {2 2} fc_shell> set_attribute [get_via_rules vl1] \ upper_metal_min_length_table {l1 l2} fc_shell> set_attribute [get_via_rules vl1] \ cut_x_min_spacing_table {x1 x2} fc_shell> set_attribute [get_via_rules vl1] \ cut_y_min_spacing_table {y1 y2} fc_shell> set_attribute [get_via_rules vl1] \ max_num_stagger_tracks_table {s1 s2} fc_shell> set_attribute [get_via_rules vl1] \ for_high_performance false fc_shell> set_attribute [get_via_rules vl1] \ for_electro_migration true fusion compiler™ user guide v-2023.12-sp3 448 chapter 6: routing and postroute optimization inserting via ladders feedback the tool treats the via rules the same, regardless of the method used to create them."
.
.
.
the commands for generating subgroups within hierarchical groups are not written.
.
.
.
.
.
.
.
.
.
.
.
"if postroute redundant via insertion results in a redundant via rate of at least 80 percent, you can try to improve fusion compiler™ user guide v-2023.12-sp3 622 chapter 7: chip finishing and design for manufacturing inserting redundant vias feedback the redundant via rate by using concurrent soft-rule-based redundant via insertion."
(optional) specify a naming convention for library cells and perform lexical classification by using lexical attributes.
.
66 reporting multicore configurations .
.
"in general, double patterning is performed only on the bottom (lowest) metal layers, which are referred to as multiple-patterning layers."
"you can specify either a relative path, in which case the directory is created under the current working directory, or an absolute path."
.
"before you set up clock-gating constraints, load your design and libraries in memory and then use the following commands to set up the constraints: • the set_clock_gate_style command to select the type of integrated clock-gating cell, specify the following options: option description -test_point specifies the test control position with respect the to integrated clock-gating cell."
.
.
.
.
.
.
.
.
"in this mode, you can overlay the clock tree information to the layout view, or view the clock tree structure in the schematic view."
.
.
.
.
.
.
.
.
.
345 defining ignore pins .
.
.
.
• re-create an abstract for the block by using the create_abstract command.
.
.
.
.
.
.
"fc_shell> get_drc_error_types -error_data zroute.err by default, the get_drc_errors command creates a collection that contains all drc violations contained in the specified error data file."
.
.
.
.
you select the layer and control whether the tool complies with nondefault routing rules.
.
(optional) exclude specific cells from library analysis by using the set_use_for_library_analysis command.
"a supply set is an abstract collection of supply nets, consisting of two supply functions, power and ground."
.
"the fusion compiler tool uses zroute to perform global routing, track assignment, detail routing, topological optimization, and engineering change order (eco) routing."
track capacity estimates the sufficiency of routing tracks in the area to access all the specified pins.
.
.
.172 disabling design rule checking (drc) .
.
.
.
.
.
.
.
.
.
"the following topics describe how to assign nondefault routing rules to nets: • assigning nondefault routing rules to clock nets • assigning nondefault routing rules to signal nets • reporting nondefault routing rule assignments assigning nondefault routing rules to clock nets to assign a clock routing rule to a clock net, use the -rule option with the set_clock_routing_rules command."
.
.
the analyze_rail command generates the following files to invoke the redhawk tool for running rail analysis: • the redhawk run script (analyze_rail.tcl) • the redhawk gsr configuration file (*.gsr) the analyze_rail command generates the following file to invoke the redhawk-sc tool for running rail analysis: • the redhawk-sc python script (analyze_rail.py) the redhawk or redhawk-sc tool generates the following files in the in- design.redhawk/design_name.result (or in-design.redhawk_sc/design_name.result in redhawk-sc flow) directory when rail analysis is complete: • the redhawk analysis log (analyze_rail.log.
.
.
.
.
.
"controlling the addition of new cells to modules, hierarchical cells, and voltage areas to control the addition of new cells to • modules or hierarchical cells, use the set_allow_new_cells command • voltage areas, use the -allow_new_cells option with the create_voltage_area_rule command you can use these settings to prevent new cells from being added to the top-level hierarchies and voltage areas of abutted designs."
.
.
.
.
.
.
.
.
.
.
"anchoring relative placement groups by default, the fusion compiler tool can place a relative placement group anywhere within the core area."
383 reporting concurrent clock and data timing .
.
.
.
specify the via ladder candidates starting with the highest priority.
.
.
.
.
.
.
.
.
156 reducing congestion .
.
.
.
.
.
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 393 chapter 5: clock tree synthesis implementing clock trees and performing post-cts optimization feedback marking clock trees as synthesized to prevent the fusion compiler tool from modifying them, you can mark existing clock trees in your design as synthesized clock tree by using the mark_clock_trees command as shown in table 27. table 27 using the mark_clock_trees command to do this use this option mark only the clock trees of specific clocks by default, the command marks all clocks defined by the create_clock and create_generated_clock commands in all modes of all active scenarios -clocks clock_list mark the clock tree as synthesized this is the default behavior -synthesized remove the synthesized attribute settings from the clock trees -clear apply the dont_touch attribute setting on the clock trees -dont_touch remove the dont_touch attribute settings from the clock trees -clear -dont_touch propagate the nondefault clock routing rules specified by the set_clock_routing_rules command -routing_rules propagate the clock cell spacing rules specified by the set_clock_cell_spacing command -clock_cell_spacing mark the clock sinks as fixed -fix_sinks freeze the routing of the clock nets -freeze_routing the tool traverses the clock trees and marks the clock trees as specified."
.
.
.
.
.
"for finer-grain control, use the -report_list option to explicitly specify each report you want to generate."
.
.
.
.
.
"note: if the windowsize attribute is not specified in the technology file and the signoff.report_metal_density.gradient_wi ndow_size application option is not set, the tool uses a default of 50 microns."
"to setup for total-power optimization, 1. setup for leakage-power optimization by performing the following steps: a. ensure that at least one scenario is enabled for leakage-power optimization by using the set_scenario_status -leakage_power true command."
.
"• does not perform shielding on wires that are less than four pitches long to specify the minimum wire length in microns on which to perform shielding for each layer, set the route.common.min_shield_length_by_layer_name application option."
.
.
.
.
.
.
check the command for virtual connection.
.
.
(cts-659) ... converting metal shapes in horizontal layer m9 and vertical layer m8 into placement blockages.
.
.
294 setting clock-gating options .
.
.
.
.
.
.
.
a full_interface abstract might be required for multiply-instantiated blocks (mibs) when the constraints for mib instances are different at the top-level.
.
.
.
the tool connects the drivers and the loads only to clock straps with the shape_use attribute setting of stripe.
.
.
.
.
"if you need to reuse a command from the output for a command-line interface, you can copy and paste the portion by selecting it, moving the pointer to the fc_shell command line, and clicking with the middle mouse button."
.
.
.
.
.
.
.
.
.
.
.
.
.
don’t touch cell preserved.
• the design view of the blocks is editable.
the tool also provides the following commands to further help with power switch resistance: • get_power_switch_resistance - this command fetches the ron value of a power switch cell.
.
.
.
.
this command reports the reasons for the inclusion of netlist objects.
.
"the uicg_c1 and uicg_c2 clock gates do not allow any transformations, therefore no optimizations are performed for these clock gates."
.
.
.
.
"for details, see using routing guides to control the routing direction."
.
.
.
.
"to insert metal fill, 1. set up the ic validator environment as described in setting up the ic validator environment."
.
.
.
.
.
.
.
"• to allow zroute to reroute the nets as needed, set the attribute to unrestricted."
"these changes can be time consuming to implement, especially if you are implementing them at multiple stages in the design flow, across multiple blocks, or for several different flow experiments."
.
.
"for example, if the utilization of a block is 40 percent, you can choose values between 1 and 0.4, as shown in the following example: fc_shell> set_app_options -name place.coarse.max_density -value 0.6 fc_shell> set_app_options \ -name place.coarse.congestion_driven_max_util -value 0.8 if you do not specify a value for the maximum density or maximum utilization, the tool automatically derives a value for the maximum density and maximum utilization based on the stage of the design flow, considering the place.coarse.auto_density_control application option is not set to false."
you can use the set_self_gating_options command to allow self-gating on these registers.
.
.
.
.
.
.
fc_shell> read_name_map block.nmf 3.
.
setting up reference libraries you can specify a reference library list for a design library when you create the design library by using the -ref_libs option of the create_lib command.
"this table summarizes how the tool handles fixed, placed, and unplaced objects for each setting of these four application options during auto floorplanning."
.
you can now display and query the eco shapes that are created by the redhawk mesh add command in the gui.
.
.
"removing nondefault routing rules to remove nondefault routing rules from the current block, use the remove_routing_rules command."
.
.
.
.
.
.
.
example 28 shows an example of using the add_via_mapping command to define a customized via mapping table.
.
options that apply only to pattern-based metal fill insertion signoff.create_metal_fill.
"setting size-only settings to set a size-only setting on a cell, use the set_size_only command."
.
.
"removing placement bounds to remove placement bounds from a block, use the remove_placement_blockage comandcomandsremove_placement_blockageremove_bounds command."
"10. this parameter applies to timing-driven metal fill insertion, whether pattern-based or track-based."
.
.
this improves the power qor without affecting the timing qor.
.
"a conductive defect causes a short fault, and a nonconductive defect causes an open fault."
.
"by default, it global routes the nets."
the fusion compiler tool does not perform any checking on the specified string.
.
.
fusion compiler™ user guide v-2023.12-sp3 207 chapter 2: preparing the design applying mega-switch command settings feedback fc_shell> set_early_data_check_policy -policy strict \ -check place.coarse.missing_scan_def fc_shell> create_placement information: policy for early data check 'place.coarse.missing_scan_def' is 'error'.
.
"to specify a different name for the error data file, use the -error_view option."
.
.
.
.
.
"to disable constant propagation and unloaded propagation globally, set the compile.flow.constant_and_unloaded_propagation_with_no_boundary_opt application option to false."
it sets the via_rule_name attribute of the created via ladder.
.
"reading def files to read the floorplan information from a def file, use the read_def command."
.
.
the higher effort levels result in a better redundant via conversion rate at the expense of runtime.
"setting application option to set application option before using the add group repeaters and place_group_repeaters commands, use the set_app_option -name eco.placement.variant_cell_swapping -value true command."
"this command generates a report, which includes the following information in the form of two tables, as shown in the figure: • total wire length per layer with separate global and detailed routing lengths • total wire length by both horizontal and vertical direction fusion compiler™ user guide v-2023.12-sp3 576 chapter 6: routing and postroute optimization analyzing the routing results feedback in the generated report, • virtual value means the estimated routing wire length for each net."
"7. insert the mesh drivers by using the create_clock_drivers command, as described in inserting clock drivers."
.
fusion compiler™ user guide v-2023.12-sp3 292 chapter 4: clock gating setting up clock gating feedback clock-gating enable condition the enable condition of a register or clock gate is a combinational function of nets in the design.
.
159 considering the dynamic power qor during placement .
.
-objects objects to which the clock gate applies.
.
.
.
.
.
.
gas stations are areas with a constant power supply.
"by default, the report files are named report_metal_density.txt and gradient_density_report.txt."
.
.
.
.
.
.
.
.
.
.
"however, if you use the -adjacent_cell_distance option, the tool recursively reverts the sized cells that are adjacent to sized cells within the specified distance in the same row."
.
example 29 shows an example of the redundant via report.
.
you should use this option only when the majority of pins on the nets being routed are accessible with nondefault vias.
"the following example allows nonrelative placement cells within the unused areas of the rp1 relative placement group: fc_shell> set_rp_group_options rp1 \ -allow_non_rp_cells the following example allows nonrelative placement cells within the blockages and unused areas of the rp2 relative placement group: fc_shell> set_rp_group_options rp2 \ -allow_non_rp_cells_on_blockages controlling the optimization of relative placement cells when a relative placement cell is modified or moved, the relative placement structure can be disturbed."
.
.
.
.
.
.
.
.708 performing metal fill insertion .
.
.
"if the top-level uses editable design views, the repair work still continues."
377 excluding boundary paths .
.
.
.
.
"when you perform signal electromigration analysis, the tool computes three current values: • average • root mean square • peak the default report generated by the report_signal_em command lists the number of nets with electromigration violations and the types of constraints violated (mean, absolute fusion compiler™ user guide v-2023.12-sp3 556 chapter 6: routing and postroute optimization analyzing and fixing signal electromigration violations feedback average, rms, or peak)."
you can override the group alignment pin for specific cells in the group by specifying the -pin_name option when you use the add_to_rp_group command to add the cells to the group.
.
.
.
.
.
"5. create the clock mesh by using the create_clock_straps command, as described in creating clock straps."
.
.
.
you can modify the default filters by • removing the filter by clicking the x symbol before the filter name • changing the filter value • enable and disable the filter by clicking anywhere on the filter but the x symbol or value field you can also apply custom filters to the detailed data.
a tap wall that is inside a boundary is called an interior tap wall.
.
.
"for details about these options, see the man page."
.
.
.
this behavior provides the optimization engine with the most flexibility to select cells and improve the cost functions.
.
it also adds new options to record pin pair for the -check_connection option.
.
.
"the order of precedence for child cell data is 1. gdsii or oasis data specified with the signoff.physical.merge_stream_files application option 2. layout views specified with the signoff.check_drc.read_layout_views application option if the ic validator tool cannot find a layout view and the cell is specified in the signoff.check_drc.read_design_views application option, it reads the design view."
573 performing layout-versus-schematic checking .
.
.
5. analyze the relative placement results as described in analyzing relative placement groups.
eco fusion power integrity flow the fusion compiler eco fusion power integrity flow allows you to use the redhawk fusion rail analysis feature to identify power integrity issues and the primetime physically aware eco capabilities to fix them.
.
.
.
.
.
.
avoid_net_types {clock pg} specifies the types of nets to avoid when fixing isolated vias.
.
.
"example 19 global routing report start global route ... ... design statistics: design bounding box (0.00,0.00,3180.00,1154.00) number of routing layers = 10 layer m1, dir hor, min width = 0.05, min space = 0.05 pitch = 0.15 layer m2, dir ver, min width = 0.06, min space = 0.06 pitch = 0.15 ... net statistics: total number of nets = 255165 number of nets to route = 248716 number of single or zero port nets = 1721 4728 nets are fully connected, of which 4728 are detail routed and 0 are global routed."
4. run postroute optimization using the hyper_route_opt command.
.
.
"then, when you run the compile_fusion command, fusion compiler™ user guide v-2023.12-sp3 247 chapter 3: physical synthesis performing multibit optimization feedback during the initial_map stage, the tool maps the single-bit cells of the bus created by the create_multibit command into a multibit register bank."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"• when you use the -cuts option, the tool determines the suitable via definitions from the technology file based on the specification in the -cuts option and the rules defined in the technology file."
.491 15 contents feedback assigning nets to a routing corridor .
"if only positive-edge or negative-edge clock-gating cells are available, the tool inserts inverters on both sides of the clock-gating cell."
.
.
useful skew this figure shows how concurrent clock and data optimization allows for clock skew to remove negative slack and potential area and leakage recovery.
.
"assume you have defined three checkpoints in your script named remove_buffers, place_opt_to_initial_opto, and place_opt_to_final_opto using the eval_checkpoint command, and two checkpoint reports named timing and app_options using the create_checkpoint_report command."
"example 2 def port locations with changed names and multiple layers pins 2 ; - sys_addr\[23\].extra2 + net sys_addr[23] + direction input +use signal + layer metal4 ( 0 0 ) ( 820 5820 ) + fixed ( 1587825 2744180 ) n ; - sys_addr[23] + net sys_addr[23] + direction input + use signal + layer metal3 ( 0 0 ) ( 820 5820 ) + fixed ( 1587825 2744180 ) n ; end pins example 3 def port orientation information pins 1; - out + net out + direction input + use signal + layer m4 ( -120 0 ) ( 120 240 ) fusion compiler™ user guide v-2023.12-sp3 107 chapter 2: preparing the design importing the floorplan information feedback + fixed ( 4557120 1726080 ) s ; end pins cell locations for each cell with a location and the fixed attribute specified in the def file, the tool sets the location on the corresponding cell in the block."
.
this topic describes how to create user-defined routing guides.
.
.
.
.
.
"when using an existing script file for rail analysis, the tool honors the settings in this script file and ignores all other currently enabled options."
.
.
.
.
.
.
wire widening is not performed on nets with slack less than the specified values or the nets specified in the -timing_preserve_nets option.
.
.
"the fusion compiler tool uses on-chip variation (ocv) mode to perform timing analysis, which models the effects of variation in operating conditions across the chip."
"you must specify the mapping between library cell pins and via ladder templates, as well as the pins to which to apply the mapping."
"note that in this example, the block design of instance slice_5 has to be opened, not the top-level design."
.
.
.
.
.
.
.
"to enable this mode, set the compile.flow.high_effort_timing application option to 1. running high-effort timing mode during compile can increase runtime because the tool performs multiple passes of placement and optimization to obtain optimal timing results."
.
.
.
.
.
.
.
using routing guides to encourage river routing river routing is a special routing topology that tries to minimize the space taken by the router by compressing the routes to follow a particular contour.
.
.
.
"for more information, see the ""reviewing the design"" topic in the custom compiler custom router user guide."
.
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 942 chapter 12: redhawk and redhawk-sc fusion voltage hotspot analysis feedback assume the design has three instances with current as follows: as shown in the following report, the accumulated current on point 2.0 is from inst2 and inst3, and does not include the current from inst1."
.
"in this mode, track- based metal fill insertion does not skip tracks between signal shapes and fill shapes."
.
figure 225 shows the 2-variants and n-variants sub flows in siteid_based mode fusion compiler™ user guide v-2023.12-sp3 996 chapter 13: eco flow swapping variant cell feedback figure 225 2-variants and n-variants sub flows in siteid_based mode each variant reference has both legal mapping id and flipped mapping id.
.
.
"for unused gate classes (gate class 2 and gate class 3 in this example), specify very large ratios to disable the checks."
.
.
142 define a blockage of a predefined category .
.
"if the drc name includes a space, you must enclose the name in double quotation marks."
.
.
.
.
.
.
.
.
.
the figure also shows the timing and area numbers for both implementations.
.
"fusion compiler™ user guide v-2023.12-sp3 391 chapter 5: clock tree synthesis implementing clock trees and performing post-cts optimization feedback marking clocks as propagated after clock tree synthesis if you run the synthesize_clock_trees or clock_opt command, after clock tree synthesis, the tool removes the ideal setting from all the synthesized clocks of all active scenarios and sets all the corresponding register clock pins as propagated."
.
.
.
this second voltage drop analysis run measures the voltage drop after power grid augmentation.
"a power domain is typically implemented as a contiguous voltage area in the physical chip layout, although this is not a requirement of the language."
.
.
you can specify one or more regions for both options.
.
x x opt-4010 pad connected to port does not have placement information.
m1 overflow = 0 max = 0 (grcs = 0) grcs = 0 (0.00%) phase3.
.
"by default, it reads the fill data only if its timestamp is newer than the timestamp of the design view."
.
"by default, there are no spacing constraints between standard cells during legalization."
.
.
"as a result, the tool might insert multiple levels of clock gates during this operation."
◦none (default): does not twist the wires.
you can specify a name for the error data file by using the -error_data option.
.
.
.
.
564 generating a congestion report .
.
.
"note: the check_lvs command supports only default routing blockages that apply to all net types and have a blockage group id of 0. if the blockage applies only to specific net types or has a nonzero blockage group id, the command ignores the blockage."
.
"preventing routing in specific region to prevent routing in a specific region, define a routing blockage, as described in defining routing blockages."
.
.
"you can edit the mapping file, if necessary, and map the eco cells by using the map_freeze_silicon command."
.
.
.
it sets the is_pattern_must_join attribute of the created via ladder to true.
.
using the design view can expose problems that are masked by the frame view abstraction.
.
.
.
.
"to fix these errors automatically during timing-driven metal fill insertion, set the signoff.create_metal_fill.fix_density_errors application option to true (the default is false)."
"◦ allow_move_other_cells when you specify this setting, you cannot specify the -displacement_threshold and -max_displacement_threshold options."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
it also reports the clock latency offset values specified with the -offset_latencies option of the create_clock_balance_group command and the actual latency offset values.
.
.
.
.
"figure 124 shows a valid placement, as well as errors caused by missing cells."
.
"when you use this option, the command runs the route_eco and check_routes commands after completing the optimization."
.
.
.
.
.
.
.
.
.
.
.
.
"when you use the -auto_eco true option, • you cannot use the -mode, -all_runset_layers, and -report_density options • the tool does not insert dense fill on the double-patterning layers regardless of the setting of the -fill_all_tracks option • the tool does not fix density errors regardless of the setting of the signoff.create_metal_fill.fix_density_errors application option see also • pattern-based metal fill insertion • track-based metal fill insertion • timing-driven metal fill insertion foundry fill and track fill combined for different flows of foundry to support designs that require combined foundry fill and track fill in the fusion compiler tool, you can use the -mode add option with the signoff_create_metal_fill command."
.
.
.
.
.
.
.
.
performing total-power optimization total power optimization considers the combined leakage- and dynamic-power cost during optimization.
.
.
.
check the pin shape of object and route shapes.
"for information about enabling timing-driven global routing, see timing-driven global routing."
.
.
.
.
.
.
.
.
.
.
table 43 application options for signoff design rule checking application option default description signoff.check_drc.runset (required) n/a specifies the foundry runset to use for design rule checking.
these assignments apply to all soft spacing rules.
.
"the eco2 cell is of type buf4, at location (150, 70), also connecting to a routing shape on the m3 layer."
.
a value of 0 results in no keepout margin for that side.
.
.
fusion compiler™ user guide v-2023.12-sp3 919 chapter 12: redhawk and redhawk-sc fusion working with macro models feedback working with macro models memory and macro cells are used in designs with advanced process technologies to reduce memory usage and improve the rail analysis performance.
.
.
"• remove the abstract by using the remove_abstract command, if you no longer need the abstract."
.
you can use the create_clock_drivers to add multiple levels of clock drivers by using the -configuration option and specifying the configuration of drivers at each level.
.
"10. analyze the clock mesh by using the analyze_subcircuit command, as described in analyzing the clock mesh."
.
987 avoiding overlapping repeaters with existing tap cells .
.
.
.
.
.
"at a minimum, you must define the power and ground nets on which to perform pg augmentation."
.
.
set_app_options -name rail.generate_file_variables \ -value {def test_def_files } create_rail_scenario -name func.ss_125c -scenario func.ss_125c set_rail_scenario -name func.ss_125c -voltage_drop dynamic create_rail_scenario -name func.ff_125c_ -scenario func.ff_125c set_rail_scenario -name func.ff_125c \ -generate_file {ploc def spef twf lef} \ -custom_script_file ./customized.py set_host_options -submit_protocol sge \ -submit_command {qsub -v -notify -b y \ -cwd -j y -p bnormal -l mfree=16g} # enable ir-driven placement before running clock_opt -from final_opto set_app_options -name opt.common.power_integrity -value true clock_opt -from final_opto the following example uses a customized python script for concurrent clock and data optimization on a multicorner and multimode design on a grid system.
.
• uses one uniform partition for the first iteration and adjusts the partitioning for subsequent iterations zroute uses the single uniform partition for the first iteration to generate all drc violations for the chip at the same time.
.
.
you must also use the -layers option to specify the affected layers.
.
"if part of a strap is over a keepout, by default, the tool splits the strap and creates the portions that are outsides the keepouts."
.
.
"fusion compiler™ user guide v-2023.12-sp3 588 chapter 7: chip finishing and design for manufacturing inserting tap cells feedback by default, a horizontal tap wall starts at the left edge of the specified bounding box and abuts the top or bottom boundary edge; a vertical tap wall starts at the bottom edge of the specified bounding box and abuts the left or right boundary edge."
"by default, zroute connects must-join pins using a random structure, as shown in the following figure: figure 109 default must-join pin connection to achieve better electromagnetic results, zroute can use the via ladder insertion capabilities to connect the must-join pins with a simplified structure, which is referred to as a pattern-based must-join connection."
.
"if this attribute is not defined for a layer, the ic validator tool uses a default of 10 percent."
exclude_command_class {{density true} {connectivity true}} specifies the types of rules to exclude from drc checking by live drc.
.
.
.
.
• route.detail.default_gate_size specifies the gate size used for standard cell input pins during antenna analysis if the gate size is not specified in the e view of the cell.
.
"◦ directly from multiple points of the clock mesh, as shown in figure 84. because the subtrees are built preserving the user-defined structure and optimized by merging and splitting the clock cells, such a structure is called a structural multisource clock tree."
369 timing driven sink transition target .
"currently, the only supported pattern is non_pref_dir_edge, which represents the edges in the nonpreferred direction."
"5. remove the routing corridors, as described in removing routing corridors."
"the upf language provides a way to specify the power requirements of a design, but without specifying explicitly how those requirements are implemented."
"to learn about using custom router in the fusion compiler environment, see the following topics: • using custom router in the fusion compiler tool • before using custom router • defining routing constraints • managing constraint groups • using custom routing application options • routing with the custom router • shielding the nets • checking the routing results fusion compiler™ user guide v-2023.12-sp3 746 chapter 9: routing using custom router using custom router in the fusion compiler tool feedback • using a hybrid routing flow • using a ddr routing flow these topics describe how to use custom router to create custom routes in the fusion compiler environment."
"for details, see viewing error data."
.
.
.
.
.
.
.
the x- coordinate and y-coordinate values are specified in microns.
.
.
.
.
.
.
.
.
"see figure 144 and figure 145. fusion compiler™ user guide v-2023.12-sp3 680 chapter 8: ic validator in-design performing signoff design rule checking feedback figure 144 set style figure 145 select style fusion compiler™ user guide v-2023.12-sp3 681 chapter 8: ic validator in-design performing signoff design rule checking feedback highlighting violations from the error browser onto an icv heat map to highlight violations from the error browser: 1. in the gui, choose view > error browser."
.
"during pattern-based metal fill insertion, the signoff_create_metal_fill command performs the following tasks: 1. loads the block into the ic validator tool, as described in reading blocks for signoff metal fill insertion 2. removes existing metal and via fill by default, the command removes the metal and via fill from the entire block."
.
.
.
.
.
you must ensure that the mask constraints are properly set before starting place and route.
this example sets the lower-left corner of the out1_reg cell to (20 10) and sets the fixed physical placement status to prevent the tool from moving the cell during compile.
.
.
"you can view the data • as a percentage delta against the baseline • as an absolute delta against the baseline (shown in italic) for example, as a percentage delta, the nve number shows 2.7% fewer failing endpoints than the baseline: as an absolute delta, the nve number shows 65 fewer failing endpoints than the baseline: see also • sorting and filtering the data • exploring the detailed comparison data fusion compiler™ user guide v-2023.12-sp3 273 chapter 3: physical synthesis performing design analysis feedback sorting and filtering the data you can sort and filter the run data to reveal patterns in the results and determine the parameters you want to explore further."
.
.
.
.
.
"in reality, clocks are not ideal and there is a nonzero delay through the clock network."
601 calculating the maximum antenna ratio .
.
.
"• real metal blockages that overlap library cell pins to enable this check, use the -check_real_metal_blockage_overlap_pin true option."
.
"therefore, when you load and commit the upf file, the constraints are applied to the physical-only cells."
use this command to control the signals to enable clock gating during clock-gate insertion.
"this option is valid only for the following data types: • effective_voltage_drop • instance_minimum_path_resistance • minimum_path_resistance • pg_pin_power • voltage_drop_or_rise table 69 supported data and error types for report_rail_result type description effective_voltage_drop the effective voltage values, in volts."
.
.
.
.
.
you can synthesize these local subtrees by using the synthesize_multisource_clock_subtrees command.
.
13. analyze the clock tree results as described in analyzing the clock tree results.
.
"you can use supply sets to define power intent at the rtl level, so you can synthesize a design even before you know the names of the actual supply nets."
.
fusion compiler™ user guide v-2023.12-sp3 742 chapter 8: ic validator in-design automatically fixing isolated vias feedback table 51 application options for signoff isolated via fixing application option default description signoff.
the new buffer cells or inverter pairs are placed close to the specified pins or ports if their cells are placed.
"• to stop after global routing, set the -stop_after_global_route option to true."
.
place_group_repeat ers unplace_group_repeat ers eco-233 error: the cells in collection (%s) are invalid since they have no target input pin name (%s) and output pin name (%s).
.
.
.
.
.
.
.
.
.
.
"to enable the pin access check utility, you can use the check_libcell_pin_access command."
fusion compiler™ user guide v-2023.12-sp3 941 chapter 12: redhawk and redhawk-sc fusion voltage hotspot analysis feedback • compare slew and load capacitance among all cells in the region to determine if high peak current is caused by sharp slew or large load capacitance.
.
.
.
unmapped cells are marked with the is_unmapped attribute.
.
.
.
.
.
• read a lef file for the block by using the read_lef command.
.
.
"• to create virtual connections for eco cells and use them during eco placement, instead of the actual connections, 1. create virtual connections by using the create_virtual_connection command 2. use these virtual connections during eco placement by using the -use_virtual_connection option with the place_eco_cells command."
check if you are trying to delete a cell belonging to a repeater group.
.
"see also • defining vias reporting the wire length to report the total wire length at any stage of the routing flow, use the consolidated report_wirelength command."
fusion compiler™ user guide v-2023.12-sp3 963 chapter 13: eco flow adding buffers on routed nets feedback • -lib_cell: specifies the library cell to be used as buffer.
"for this pattern, the tap distance specified with the -distance option should be approximately twice the maximum diffusion-to-tap value specified in the technology design rules."
"controlling the placement of multivoltage cells a net that connects a multivoltage cell, such as a level-shifter cell or an isolation cell, to at least one cell in another voltage area is referred to as a multivoltage net."
.
.
"if you use the set_clock_balance_points command to specify a clock tree exception on a pin for which the is_clock_is_used_as_clock attribute is false, the tool accepts the exception, but ignores it during clock tree synthesis."
.
.
.
.
.
.
"adding buffers on routed nets to add buffers or pairs of inverters on a fully routed net, use the add_buffer_on_route command as described in the following topics: • specifying the net names, buffers types, and their locations • controlling how buffers are added • specifying settings for multivoltage designs • specifying settings for the freeze silicon eco flow specifying the net names, buffers types, and their locations when you use the add_buffer_on_route command, you must specify the following: • the net on which to add buffers • the type of buffers to add and where to add them on the net by using one of the following methods: ◦ adding buffers in a specified configuration ◦ adding buffers at specified locations ◦ adding buffers at a specified interval ◦ adding buffers at an interval that is a ratio of the net length ◦ adding buffers on a bus in a specified pattern fusion compiler™ user guide v-2023.12-sp3 964 chapter 13: eco flow adding buffers on routed nets feedback adding buffers in a specified configuration to add buffers in an exact configuration, specify the configuration of cells and their locations by using the -user_specified_buffers option."
this guide describes the fusion compiler implementation and integration flow.
.
.
"however, a group that contains an included group can be further included in another group in the same design or can be instantiated in a group of a different design."
.
"to do so, the tool can derive nondefault routing rules with larger spacing requirements and assign them to the clock nets in regions without routing congestion."
"the contents of groups rp1, rp2, and rp3 are treated as leaf cells when they are included in group rp4."
.
.
"2. in the “hierarchy settings” panel, set “view level” to a minimum of 2 and select “fill cell” in “expanding cell types.” performing real metal fill extraction to enable metal fil extractionrealreal metal fill extraction, 1. associate non-emulation tluplus files with the timing corners by using the set_parasitic_parameters command, as described in the fusion compiler timing analysis user guide."
the designware datapath generator uses the smart generation technology to perform the following tasks: • implement datapath blocks using context-driven optimizations • revisit high-level optimization decisions for a given timing context • consider logic library characteristics use these commands and application option for datapath implementation: • set_datapath_architecture_options this command controls the strategies used to generate the datapath cells for arithmetic and shift operators.
.
"however, you can disable splitting and specify that the tool not create a strap if it is over a keepout by using the -allow_splitting false option."
"if the path to the check pin is the shortest path, top-level clock tree synthesis cannot insert buffers on the shortest path and therefore leaves a large skew at the top level."
.
.
.
.
.
.
"routing with the custom router before performing custom routing on your block, you need to define routing constraints by using the commands described in defining routing constraints, and setting the appropriate application options."
.
.
261 enabling high-effort area mode .
specify the routing layers by using the layer names from the technology file.
.
186 scaling the switching activity .
user settings always take precedence over the tool derived values.
c. run the check_mv_design command and fix all multivoltage issues.
.
.958 adding programmable spare cells .
189 7 contents feedback reporting leakage power .
.
"to enable or disable a value, highlight the value by clicking it or navigating to it by using the up and down arrows, and then press enter, which toggles the value status."
.
.
.
.
"for example, to set the application option to average do the following: fc_shell> set_app_options -name power.leakage_mode -value average to report threshold voltage usage, use the report_threshold_voltage_groups command."
.
"if you do not use it, the insertion delay requirement applies to all clocks."
.
.
.
.
"3. initial_place during this stage, the tool merges the clock-gating logic and performs coarse placement."
.
"in particular, • if the tool cannot trace back to the master-clock source, it cannot balance the sink pins of the generated clock with the sink pins of its source."
.581 inserting tap cells .
.
the maximum edge threshold for these routing guides is zero.
.
.
.
.
mx_fill2route_side_ spacing specifies the minimum spacing between metal fill and net shapes.
.
"the report_clock_timing command can generate the following types of reports: • single-clock local skew to generate a single-clock local skew report, use the -type skew option."
.
"when you perform metal fill insertion, the tool writes the following files to the output directory: • block.layout_errors, which contains details about the detected errors • block.results, which contains a summary of the run results • signoff_create_metal_fill.log, which contains a summary of the run environment • icv_config_out, which contains the paths to the top-level block and the cell libraries • layer.map, which contains the generated layer mapping file • metal_fill_params.rh, which contains the metal fill parameters and options that you specified • metal_fill_compress_params.rh, which contains the storage commands and indicates whether the compression mode was flat (none) or hierarchical (auto) • ./run_details directory, which contains all the data generated by the ic validator tool for the metal fill insertion run querying metal fill metal fill shapes are stored in fill cells, which use the following naming convention: fill_inst_#."
.
"by default, repeaters are placed based on even distance on route for one repeater path."
.
.
.
.
.
.
.
.
.
◦ the layers and routing rules specified by the clock tree synthesis settings to route the h-tree you can specify the layers and routing rules for the h-tree by using the -htree_layers and -htree_routing_rule options.
.
.
.
.
.
.
"figure 167 relative placement column and row positions 0 5 0 4 0 2 1 5 1 4 1 3 3 5 3 4 3 3 4 5 2 5 3 2 2 3 4 2 0 0 1 0 3 0 4 0 2 0 5 5 5 4 5 2 5 0 2 4 5 3 0 1 1 1 3 1 2 1 5 1 col 0 row 0 row 2 row 4 row 5 row 3 row 1 col 1 col 2 col 4 col 5 col 3 1 2 2 2 4 4 4 3 for the relative placement group in figure 167, • the column count begins from column 0 (the leftmost column)."
"creating clock straps you can create clock straps, which are straight metal shapes in a single routing layer, by using the create_clock_straps command."
.
.
fc_shell> set_app_options -name clock_opt.flow.optimize_ndr \ -value true performing concurrent clock and data optimization during the clock_opt command applying useful skew techniques during datapath optimization to improve the timing qor by taking advantage of the positive slack and adjusting the clock arrival times of registers is referred to as concurrent clock and data (ccd) optimization.
.
.
.
9. specify settings for local subtree synthesis by using the set_multisource_clock_subtree_options command.
.
.
.
.
.
.
"## open design ## open_block link_block ## specify taps ## create_taps ## specify redhawk fusion input files or variables ## set_app_options -name rail.enable_redhawk -value 1 set_app_options -name rail.redhawk_path -value set_app_options -name rail.disable_timestamps -value true set_app_options -name rail.display_eco_shapes -value true ## analyze ## analyze_rail -voltage_drop ... -nets {vdd vss} -script_only ## modify the script.tcl containing mesh add command ## analyze_rail -redhawk_script_file ## check gui ## open_rail_result voltage hotspot analysis when rail analysis is complete, there might be hundreds to thousands of voltage drop violations reported in the analysis report, which might make it difficult to identify the root causes for the violations."
"when you select this rule, you must specify • the maximum stacking height to specify the maximum stacking height, use the -max_constraint_length option."
.
.
.
5. specify settings for voltage-drop-aware placement as described in setting up for voltage-drop-aware placement.
.
.
.
.
.
.
.
.
"2. verify the path with the get_attribute, report_repeater_group, and get_repeater_path_info commands."
.
.
"figure 106 ignoring nondefault spacing rule violations to define the length thresholds within which to ignore the nondefault spacing violations, use the -spacing_length_thresholds option when you create the nondefault routing rule with the create_routing_rule command."
create_repeater_gro ups eco-278 error: get 0 transparent cells from all supernets.
.
.
.
"if your block is not very congested, you can use the low effort level."
"if this does not correspond to the functional mode of the block, use the set_case_analysis command to hold all nonclock inputs of the cell at a constant value, which forces the cell into the required functional mode for clock tree synthesis."
.
.
.
.
"• the metal shapes are inserted on all routing layers to insert the metal shapes only on specific routing layers, use the -layers option."
"for information about the result files generated by the signoff_create_metal_fill command, see signoff metal fill result files."
.
.
.
.
.
.
.
.
the tool gates flip-flops by extracting common enable signals shared by the flip-flops either in the same hierarchy or across hierarchies.
.
.
.
.
note: a change on a metal layer triggers metal fill removal and insertion on the adjacent via layers to ensure that no floating or hanging vias remain when the metal shapes are removed from the eco area.
.
.
the syntax to set this option is set_app_options -name route.detail.report_ignore_drc -value list_of_drcs the values used in the list_of_drcs argument are the drc names used in the summary report.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 213 chapter 3: physical synthesis performing unified physical synthesis feedback when you run the compile_fusion command, by default, the tool runs all stages."
.
.
.
"fc_shell> sh cat minres.rpt feed0_14/vbp 518.668 inv61/vdd 158.268 arcr0_1/vbp 145.582 feed0_5/vdd 156.228 inv11/vbp 518.669 fusion compiler™ user guide v-2023.12-sp3 909 chapter 12: redhawk and redhawk-sc fusion performing minimum path resistance analysis feedback to write out a detailed minimum resistance path report for a cell instance, run the report_rail_minimum_path command and specify the net and the cell to report."
.
.
.
.
.
.
.
.
.
fill_view_data read_if_uptodate controls whether the ic validator tool reads the fill data.
.
.
.
"for dynamic analysis, the map displays peak voltage drop values, average voltage drop values, or peak voltage rise values."
"clock gating does the following: • reduces clock network power dissipation • relaxes datapath timing • reduces congestion by eliminating feedback multiplexer loops for designs that have large register banks, clock gating can save power and area by reducing the number of gates in the design."
.
.
.
.
.
.
.
"for information about the options for command-based signoff design rule checking, see setting options for signoff design rule checking."
.
.
"the difference in reported values is typically less than three percent, but can be up to five percent."
"after track assignment finishes, all nets are routed but not very carefully."
"2. run voltage drop analysis using redhawk fusion, as described in performing voltage drop analysis."
.
"• to verify the routing, use the check_routes command."
.
.
◦ select “fill cell” in the “expanding cell types” section.
.
any unspecified layers use the default spacing.
.
.
.
427 building the local clock subtree structures .
these constant values can either be directly at the input or result from the optimization of fanin logic that eventually leads to a constant input of the register.
.
this script file contains set_via_ladder_candidate commands for the library cell pins.
.
.
.
.
.838 changing the block from abstract to design view .
.
.
"specifying settings for the freeze silicon eco flow when you set the design.eco_freeze_silicon_mode application option to true and run the add_buffer_on_route command in the freeze silicon mode, the tool checks if a spare cell is available within a distance of five times the unit site height before adding a buffer."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"however, changing the default can cause many metal fill shapes to be connected to each other, which can increase the overall capacitance for the nearby signal nets."
.
.
"when routing the h-trees, the tool uses the highest routing layers available, based on the routing rules specified for the clock nets."
.
.
.
"when you use the create_clock_straps command, • to specify the clock net for which to create the structure, use the -net option."
"• ignores any objects in the def file that do not exist in the block, except for pg objects to allow new non-pg objects to be created from the def file, use the -add_def_only_objects option to specify the types of objects to create."
.
.
.
"• global-scoped application options apply to all blocks, but only within the current session."
.
.
.
.
.
.
it supports an asterisk wildcard character (*) as the name of a check.
.
"to disable register merging, specifies a false value for the specified object list."
.
.
.
.
.
.
.
"by default, redhawk fusion analyzes only the current design scenario when analyzing a multicorner-multimode design."
.
.
.
.
.
"to determine the power strategies for a power domain, use the get_power_strategies command."
"when you select this rule, you must specify • the disallowed spacing range the spacing distance is specified as the number of sites."
.
.
.
.
.743 checking for isolated vias .
.
.
.
"by default, the signoff_check_drc command performs the following tasks: 1. loads the block into the ic validator tool, as described in reading blocks for signoff design rule checking 2. performs signoff design rule checking, as described in signoff design rule checking 3. generates an error data file and ic validator results files, as described in signoff drc results files you can use the results files to view the violations in the error browser, as described in using the error browser, or to perform automatic design rule fixing, as described in automatically fixing signoff drc violations."
.
.
.
.
"if you insert these tap drivers before you run the compile_fusion command, the tool can assign sinks to these drivers such that it improves the overall timing qor of the block."
.
.
.
creating new relative placement groups in a placed design you can create a new relative placement group of cells in a placed design and relative placementincremental relative placementplace the relative placement groups incrementally by using the place_opt -from final_place command.
.
.
"fusion compiler™ user guide v-2023.12-sp3 600 chapter 7: chip finishing and design for manufacturing finding and fixing antenna violations feedback to prevent antenna problems, the tool verifies that for each input pin the metal antenna area divided by the gate area is less than the maximum antenna ratio given by the foundry: (antenna-area)/(gate-area) < (max-antenna-ratio) this check is based on the global and layer-specific antenna rules defined for the block and the antenna properties of the cells in the block."
the lsf bsub command must be in your linux path.
"• a script file that defines the via ladder constraints, which is called the association script file this script file contains set_via_ladder_candidate commands for the pins specified in the configuration file, as well as set_attribute commands to set the is_em_via_ladder_required attribute for the pins to true."
.
.
.
.
.
.
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 487 chapter 6: routing and postroute optimization routing constraints feedback figure 104 routing guide perimeter constraint objects s s s w w w see also • using routing guides to limit edges in the nonpreferred direction inserting routing blockages along the boundary edges you can insert routing blockages along the preferred-direction edges, the nonpreferred- direction edges, or all edges."
the tool creates one tap per instance on the metal1 layer at a location of {30.4 16.3} relative to the origin of the cell instance.
.
.
.
5.
this effort control for the power flow.
.
.
399 13 contents feedback implementing a regular multisource clock tree using integrated tap assignment .
.
.
.
.
.
"note: zroute automatically detects the nets modified within the fusion compiler tool; however, nets modified externally and input by reading a def file are not supported by incremental shielding."
.
it is specified by a cut layer and the height and width of the rectangular shapes on its cut and metal layers.
.
.
"• a nondefault routing rule with a spacing requirement of more than two times the default spacing, the spacing requirement is increased by one default spacing the name of this new nondefault rule is the original name with an _ext_spacing postfix."
.
"modules, designs, library cells prevents optimization of all instances that reference them."
.
.
.
.
.
.
.
.
x x opt-4001 design does not have a valid die area.
.
.
.
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 1000 chapter 13: eco flow swapping variant cell feedback table 73 group repeater placement and insertion troubleshooting (continued) command error code message troubleshooting tips place_group_repeat ers eco-232 error: cutline {{%s} {%s}} is invalid.
.
.
.
"if you do not specify a leaf cell orientation, the tool automatically assigns a legal orientation for the leaf cells."
"at a minimum, you must define the boundary of the routing corridor."
.
.
.
.
"creating abstracts for minimum pulse width analysis in the top-level timing abstracts, the fusion compiler tool enables you to check minimum pulse width (mpw) violations."
.
.
.
.
.
table 69 lists the supported data and error types.
349 setting don’t touch settings .
.
.
.
.
.
.
.
.
.
.
"based on the ir drop target and the set ron value of the power cell, the tool tries to replace power cells to meet the targeted voltage drop."
.
.
.
"for detailed information about custom router, see the custom compiler custom router user guide."
.
.
.
.
"◦ does not check for shorts between net shapes in the top-level design and net- shapes in child cells to enable this checking, use the -check_child_cells true option."
.
.
.
.
.
.
.
.
.
.
"creating abstracts with power information to create an abstract that contains power information of the corresponding block, use the following steps at the block level: 1. activate the scenarios for which you want to perform power analysis by using the -active true option of the set_scenario_status command and enable them for power analysis by using the following options: ◦ -dynamic_power true for dynamic power analysis ◦ -leakage_power true for leakage power analysis power information is stored only for active scenarios that are enabled for dynamic or leakage power."
.
.
.
.
.
.
.
the unit for the slack threshold setting is the library time unit.
the startpoint is the port named clk1 and the endpoints are the inputs of a group of mesh drivers.
.
.
.
.
.
.
.
.
.
figure 24 equivalent cells with pins of different colors the following topics describe the tasks you need to perform to set up the reference libraries and design for variant-aware legalization: • defining equivalent cell groups • enabling variant-aware legalization defining equivalent cell groups the library compiler tool supports creating variant-ready libraries from the liberty source files.
.
"because the design uses only two gate oxide thicknesses, only the vectors for gate class 0 and gate class 1 are used."
"these custom clock trees consist of • a global clock structure, which includes ◦ the clock root ◦ a global clock tree, which is usually an h-tree structure ◦ clock mesh drivers ◦ a clock mesh • local subtrees that can be driven ◦ by a predefined set of drivers, called tap drivers, that are connected to the clock mesh, as shown in figure 83. because the subtrees are built using regular clock tree synthesis commands such as the synthesize_clock_trees or clock_opt command, such a structure is called a regular multisource clock tree."
.
"before you quit the current session, be sure to save the block to keep the generated error data in the block."
.
.
.
.
set the type of the script file to python.
170 restricting optimization to cell sizing only .
.
.
827 example script of hierarchical synthesis using etms .
.
"however, some rules are honored only by the compile_boundary_cells command."
supports gate classes.
.
.
.
.
"for example, to define a nondefault routing rule named new_spacing_rule that uses the default routing rule as the reference rule and defines the nondefault spacing as two times the default spacing, use the following command: fc_shell> create_routing_rule new_spacing_rule \ -multiplier_spacing 2.0 • to specify the minimum spacing values for each layer, use the following syntax: create_routing_rule rule_name -spacings { layer1 {spacing11 spacing12 ... spacing1n} layer2 {spacing21 spacing22 ... spacing2n} ... layern {spacingn1 spacingn2 ...spacingnn} } -spacing_weight_levels { layer1 {weight11 weight12 ... weight1n} fusion compiler™ user guide v-2023.12-sp3 497 chapter 6: routing and postroute optimization routing constraints feedback layer2 {weight21 weight22 ... weight2n} ... layern {weightn1 weightn2 ... weightnn} } specify the routing layers by using the layer names from the technology file."
.
.
.
.
.
.
.
"removing via ladders to remove via ladders and their associated shapes, use the remove_via_ladders command."
531 detail routing .
.
.
"the following example inserts programmable spare cells named fill1x and fill2x: fc_shell> create_stdcell_fillers \ -lib_cells {fill_lib/fill1x fill_lib/fill2x} during the eco flow, the tool swaps an eco cell with a programmable spare cell based on the psc_type_id attribute setting, cell width, and voltage area."
.
.
set right cutline for this group using the set_repeater_gr oup command.
.
.
.
.
.
.
.
.
.
"7. writes the result files to the run directory in addition to the standard output files generated by signoff metal fill insertion, when you perform track-based metal fill insertion, you can output detailed density and density gradient reports by using the -report_density option."
.
.
.
.
764 bus routing options .
.
.
"if a spare cell is not available, the tool does not add the buffer."
.
.
"• for successive loops, the tool uses the ic validator drc data from the previous loop, which is stored in the directory specified by the signoff.fix_drc.run_dir application option (or the signoff_fix_drc_run directory if you do not use this option)."
"to do so, you must 1. specify the ff3/d pin as an explicit ignore pin as follows: fc_shell> set_clock_balance_points -clock [get_clocks clk] \ -consider_for_balancing false -balance_points [get_pins ff3/d] fusion compiler™ user guide v-2023.12-sp3 348 chapter 5: clock tree synthesis defining the clock trees feedback 2. force clock tree synthesis to consider the ff3/d pin as a pin on the clock network by using the set_sense -clock_leaf command as follows: fc_shell> set_sense -clock_leaf [get_pins ff3/d] the set_sense -clock_leaf command sets ◦ the is_clock_used_as_clock attribute to true for all the pins of the clock branches that fanin to the pin specified as the clock leaf ◦ the is_clock_used_as_clock attribute to false for all the pins in the fanout from the pin specified as the clock leaf, and the tool does not propagate the clock beyond this pin to check the value of the is_clock_used_as_clock pin attribute, use the get_attribute command, as shown in the following example: fc_shell> get_attribute [get_pins ff3/d] is_clock_used_as_clock restricting optimization on the clock network you can restrict the optimization on portions of the clock network by specifying • don’t touch settings these settings identify parts of the clock tree on which clock tree synthesis and optimization is not performed."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"◦ to allow only rotation of the via arrays during redundant via insertion, use the -transform rotate option."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"to view the icv heat map, 1. enable the icv heat map by setting the signoff.check_drc.enable_icv_explorer_mode application option to true."
.
.
.
.
"clock tree optimization improves both clock skew and clock insertion delay by performing buffer sizing, buffer relocation, gate sizing, gate relocation, level adjustment, reconfiguration, delay insertion, dummy load insertion, and balancing of interclock delays."
.
.
.
.
.
.
you can also change the reference library list at any time by using the set_ref_libs command.
808 performing placement and legalization of relative placement groups .
.
.
.
.
.
.
.
.
.
.
.
.
b. ensure that at least one scenario is enabled for dynamic-power optimization by using the set_scenario_status -dynamic_power true command.
.
.
.
.
.
.
halo specifies the distance in microns by which to expand the region in which live drc performs checking.
... net: clk; rule: htree_ndr; min layer: m8; max layer: m9 ... information: using routing h/v layer pair 'm9'/'m8' for net 'clk'.
.
.
the replace_clock_gates command identifies combinational elements in the clock network acting as clock gates and replaces them.
.
"by default, the tool creates a routing corridor named corridor_objid in the current block that honors the existing minimum and maximum routing layer constraints (for information about specifying routing layer constraints, see specifying the routing resources)."
.
"underflow is not considered; if a layer has underflow, it contributes zero overflow to the total overflow calculation."
.
.
example 1 def port location information pins 2 ; -out1 + net out1 + direction output + use signal + layer m3 (0 0) (4200 200) + placed (80875 0) n; -sel0 + net sel0 + direction input + use signal + layer m4 (0 0)(200 200) + placed (135920 42475) n; end pins ports with changed names and multiple layers are supported.
.
.
694 drc toolbar .
.
.
example: fc_shell> set_app_options \ -name rail.generate_file_type -value python rail.generate_file_variab les this application option is supported in redhawk-sc only.
.
.
"to enable additional optimizations, set the application options shown in table 33 before running the route_opt command: table 33 application options to enable route_opt optimizations optimization application option settings concurrent clock and data optimization6 and timing-driven clock logical drc fixing route_opt.flow.enable_ccd = true clock logical drc fixing7 route_opt.flow.enable_cto = true clock tree area recovery route_opt.flow.enable_clock_power_recovery = area clock tree power recovery route_opt.flow.enable_clock_power_recovery = power power optimization8 route_opt.flow.enable_power = true path-based optimization with machine learning route_opt.flow.enable_ml_opto = true time.pba_optimization_mode = path ir-driven optimization with machine learning for irdopt, set the following application options:set_app_options -name route_opt.flow.enable_irdrivenopt -value true set_app_options -name opt.common.ir_drop_threshold -value 10for irdccd, set: set_app_options-name opt.common.power_integrity-value true to turn on the machine learning flow, set the following application option: set_app_options -name ccd.ccd_opt_voltage_drop_enable_ml_predictor -value true note: the route_opt command honors only the route_opt application options; it does not honor the settings of the opt application options, except the opt.common.allow_physical_feedthrough application option."
.
.
.
.
.
"(hopt-001) after global placement, tho calls the place_pins command to create the new pin placement."
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 731 chapter 8: ic validator in-design inserting metal fill with ic validator in-design feedback you can use the all_runset_layers option with the signoff_create_metal_fill command.
.
.
.
.
425 specifying tap assignment options and settings .
.
"• pg net shapes, which might be a pg strap or rail, but have a shape_use attribute of detail_route."
.
.
.
.
207 applying mega-switch command settings .
.
.
they are hard constraints only if the route.common.net_min_layer_mode and route.common.net_max_layer_mode application options are set to hard.
.
the clock gates matching any of the substrings provided in the application option are not renamed.
.
.
"when you do so, the tool considers flipping the orientations of cells to reduce the displacements during legalization."
.
.
.
.
.
.
.
.
.
"for example, suppose a block has the gating logic shown in figure 71. figure 71 non-unate gated clock to force the xor gate (u0) into functional mode for timing analysis, use the following command: fc_shell> set_case_analysis 0 u0/b identifying the clock roots the fusion compiler tool uses the clock sources defined by the create_clock command, which can be either input ports or internal hierarchical pins, as the clock roots."
.
.
.
.
.377 excluding specific path groups .
.
3.
shielding example example 22 provides an example of shielding clock nets using preroute shielding and shielding critical nets using postroute shielding.
"by default, during linking, the top-level block links to lower-level blocks with the same label."
.
"fusion compiler™ user guide v-2023.12-sp3 233 chapter 3: physical synthesis controlling mapping and optimization feedback during compile, the tool performs the following mapping based on the registers in your library: • the library containing registers with synchronous reset (or preset) pins the tool connects the reset (or preset) net to the reset (or preset) pin of a register with a dedicated reset pin."
"when you do so, you can use parasitic files generated by a different extraction tool."
"# open the block and apply the signal electromigration constraints open_block block1_routed read_signal_em_constraints em.itf # load switching information read_saif block1.saif # perform signal electromigration analysis report_signal_em -violated -verbose > block1.signal_em.rpt # fix signal electromigration violations fix_signal_em fusion compiler™ user guide v-2023.12-sp3 554 chapter 6: routing and postroute optimization analyzing and fixing signal electromigration violations feedback loading the signal electromigration constraints the fusion compiler tool supports the following formats for specifying electromigration constraints: • interconnect technology file (itf) an itf file can contain the following types of electromigration constraints: delta temperature, duration and duty ratio, via size, via direction, metal length, and via-to-via spacing relaxation."
.
.
.
.
"when you enable this feature, during the route_opt command, the tool uses the redhawk fusion feature to identify dynamic-voltage-drop hotspots and cells rows where the cells from the hotspots can be relocated."
"this command lets you specify the clock network latency for the clock-gating cells as a function of the clock domain, clock-gating stage, and the fanout of the clock-gating cell."
.
.
.
.
.
• low zroute uses a small number of rip-up and reroute passes to resolve soft spacing rule violations.
.
.
213 performing prechecks .
.
.
.
.
.
.
.
"fc_shell> set_rp_group_options top-rp \ -place_around_fixed_cells physical_only fc_shell> set_rp_group_options rp1 \ -place_around_fixed_cells none fc_shell> set_app_options -name set_rp_group_options -value true allowing nonrelative placement cells by default, nonrelative placement cells are • not allowed within relative placement groups during coarse placement • allowed within relative placement groups during optimization and legalization to reduce congestion and improve qor, you can allow the tool to place nonrelative placement cells within the unused areas of a specific relative placement group by using the -allow_non_rp_cells option with the set_rp_group_options command."
"for more information, see maximum stacking for small filler cells rule."
.
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 782 chapter 10: physical datapath with relative placement relative placement flow feedback • handles flat and hierarchical designs.
.
"• the net priority to specify the priority, use the -priority option."
.
use the -lib_cells option to specify the nonmetal filler library cells to insert.
the tool supports both interactive and batch push operations.
.
.
.
.
"when the -virtual_flat option is set to off, which is the default, zroute ignores the physical hierarchy and routes the block as flat."
.
"◦ if a cell instance and its reference have different attributes, the attribute on the cell instance takes precedence."
"otherwise, first identify any timing settings, such as disabled timing arcs and case analysis settings, that affect the clock tree traversal."
example 45 shows the commands used to build the compressed structure.
.
.
.
.
.
.
.
"• the orientation of the inserted tap cell instances to specify the orientation of the inserted tap cells, use the -orient option to specify one of the following orientation values: r0, r90, r180, r270, mx, my, mxr90, or myr90."
.
.
.
.
"16 diode protection is limited; if more than one diode is connected, the sum of the diode-protection values for all diodes is used to compute the maximum antenna ratio."
fc_shell> set_app_options \ -name custom.route.single_loop_match_offset_layer -value true 7. insert buffer cells on the routed ddr net.
.
.
.
.
.
"during optimization, the compile_fusion command performs the following types of automatic grouping: • area-based automatic ungrouping before initial mapping, the command estimates the area for unmapped hierarchies and removes small subdesigns."
the -script option is typically used to define actions that replace the contents of a command.
.
.
figure 146shows the view settings and hierarchy settings panels used to control the layout window display for design rule checking.
.
"by default, the widen_wires command widens all wires in the block to 1.5 times their original width."
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 784 chapter 10: physical datapath with relative placement adding objects to a group feedback adding objects to a group after you create a relative placement group by using the create_rp_group command, you can add the following types of objects to it by using the add_to_rp_group command: • leaf cells, as described in adding leaf cells • leaf cells, as described in adding hard macro cells • relative placement groups, as described in adding relative placement groups • blockages, as described in adding blockages when you add an object to a relative placement group, • the relative placement group to which you are adding the object must exist."
"fusion compiler™ user guide v-2023.12-sp3 139 chapter 2: preparing the design specifying physical constraints for placement and legalization feedback • hard macro a hard macro blockage prevents the placement of hard macros within the specified area during coarse placement, optimization, and legalization."
.
you can perform only one of these stages by using the -to or -from option.
fusion compiler™ user guide v-2023.12-sp3 923 chapter 12: redhawk and redhawk-sc fusion performing signoff analysis feedback examples the following example creates a block context for the top/cell_inst_1 block.
.
"the local subtrees of a structural multisource clock tree are optimized by clock cell merging, splitting, sizing, and relocation, while preserving the levels of the user-defined clock tree structure."
.
.
.
.
• displaying the pg electromigration map • checking pg electromigration violations displaying the pg electromigration map a pg electromigration map is a visual display of the color-coded electromigration values overlaid on the physical supply nets.
.
.
.
"for more information, see clock-gating setup condition."
.
.
"the valid values for this attribute are data, preset, clear, load, scan_in, and scan_enable."
.
.
"for example, to prevent off-grid routing for wires on the m2 and m3 metal layers and for vias on the v2 via layer, regardless of the settings in the technology file, use the following commands: fc_shell> set_app_options \ -name route.common.wire_on_grid_by_layer_name \ -value {{m2 true} {m3 true}} fc_shell> set_app_options \ -name route.common.via_on_grid_by_layer_name \ -value {{v2 true}} fusion compiler™ user guide v-2023.12-sp3 510 chapter 6: routing and postroute optimization routing constraints feedback discouraging off-grid routing for vias to discourage off-grid routing for vias, you can increase the cost of routing the via enclosure metal shapes off the wire track grid."
.
.
.
.
.
.
.
524 routing signal nets .
.
.
.
note: the ic validator results for the initial signoff drc run are stored in the signoff_drc_run_init directory.
.
"to prevent placing clock drivers under these preroutes, which can cause pin accessibility issues, the create_clock_drivers command creates temporary placement blockages for the preroutes on the same layers it uses for routing."
.
.
.
.
.
.
.
.
.
"• lenient: when you apply this policy, depending on the policy supported by the check, the tool applies the policies in this order – repair, tolerate, error."
.
.
.
.
"to also create pin cutouts in the nonpreferred direction, use the -nonpreferred_direction option."
.
here are commonly used options of the get_instance_result command: option description -net (optional) specifies the net to report.
.
"for example, fc_shell> set_app_options \ -name shell.synthesis.logic_level_report_group_format \ -value ""slack ll ll_buf_inv clockcycles startclk endclk"" ... 4. report logic levels by using the report_logic_levels command."
.
.
"to create the compressed structure shown in this example, first create three relative placement groups, rp1, rp2, and rp3, that contains a row of leaf cells."
"• to read the design view for specific reference cells, specify the cells by setting the signoff.create_metal_fill.read_design_views application option."
"• to require fixing of antenna violations by using diode insertion, disable layer hopping by setting the route.detail.hop_layers_to_fix_antenna application option to false."
.
this is a required option for both commands.
.
fc_shell> set_app_options -name shell.common.check_error_list \ -value {des-001 cmd-005} shell.common.check_error_list {des-001 cmd-005} 2. use the link command as an example for the previous command step.
.
.
"see figure 155. example 32 minimum wire length constraint for pr* nets fc_shell> create_length_limit abc -for [get_nets -physical_context pr*] \ -min_value 10 {abc} figure 155 minimum wire length constraint for pr* nets in example 33, the command creates a constraint group named gcr_length_limit_a2 for the a2/a pin."
.
"to prevent the tool from synthesizing a specific clock, specify it by using the cts.common.skip_cts_clocks application option."
.
"to define shielding rules, use the -shield_spacings and -shield_widths options of the create_routing_rule command."
.
.
.
.
.
"setting options for signoff drc fixing before you run the signoff_fix_drc command, configure the run by setting the application options shown in table 44. to set the application options, use the set_app_options command."
.
.
.
.
signoff.
place_group_repeat ers eco-236 warning: there is no target load for path driver (%s).
.
.
.
.
.
.
.
.
selects the region in which to perform design rule checking.
.
.
"to run commands in the background, use the redirect command with the -bg option."
figure 206 displaying error cells in the error browser fusion compiler™ user guide v-2023.12-sp3 910 chapter 12: redhawk and redhawk-sc fusion performing minimum path resistance analysis feedback figure 207 traced segment is highlighted in the design layout see also • displaying maps in the gui • writing analysis and checking reports • querying attributes tracing minimum path resistance using the mouse tool use the minimum path resistance (mpr) mouse tool to interactively trace the path with the least resistance from the specified power or ground net to the boundary nodes in the design.
.
.
.
.
.
.
check if the input group id exists by running the report_repeater_g roups command.
the tool uses the power information of all active power scenarios to capture and report the detailed power information in the qorsum report.
"to reduce the turnaround time for design rule checking, use multicore processing, which includes multithreading, distributing processing, and parallel command execution."
.
"if there are no existing clock ports, the tool creates new ports, if it is allowed."
.
.
.
.
.
.
.
.
.
.
"for example, to specify that the cells from the subblocks named add1 and mult1 be placed in the same vicinity, use the following command: fc_shell> set add1_cells [get_flat_cells add1/*] fc_shell> set mult1_cells [get_flat_cells mult1/*] fc_shell> create_placement_attraction -name add1_mult1 \ ""$add1_cells $mult1_cells"" you can use the -region option to specify • a region in which to place the cells to do so, specify the lower-left and upper-right coordinates of the region, as shown in the following example: fc_shell> set u1_cells [get_flat_cells u1/*] fc_shell> create_placement_attraction -name u1 \ -region {{0 0} {2000 1500}} $u1_cells • a straight line along which to place the cells, such as an edge of a macro cell to do so, specify the coordinates of the two ends of the line, as shown in the following example: fc_shell> set u2_cells [get_flat_cells u2/*] fc_shell> create_placement_attraction -name u2 \ -region {{1000 200} {1000 800}} $u2_cells fusion compiler™ user guide v-2023.12-sp3 149 chapter 2: preparing the design specifying physical constraints for placement and legalization feedback • a location around which to place the cells, such as a port location to do so, specify the coordinates of the location, as shown in the following example: fc_shell> set u3_cells [get_flat_cells u3/*] fc_shell> create_placement_attraction -name u3 \ -region {{0 700}} $u3_cells the following table shows additional commands available for changing, reporting, and removing placement attractions."
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 476 chapter 6: routing and postroute optimization routing constraints feedback if you do not specify a pattern threshold for a layer, the routing pattern has no limit for that layer."
.
6.
.
.
334 5. clock tree synthesis .
.
"when you use this option, the command uses the following naming convention: xofiller!prefix!filler_library_cell_name!number threshold-voltage-based filler cell insertion in the threshold-voltage-based flow, the tool selects the filler cells by using user-defined insertion rules, which are based the threshold-voltage types of the cells that border the gap."
.
.
.
"follow this example to use the hyper_route_opt or route_opt command on a single host: fc_shell> init_hier_optimization -flow post_route fc_shell> route_opt or hyper_route_opt fc_shell> commit_hier_optimization when using the route_opt command, it is possible to perform the eco routing operations, which have to occur after each route_opt command in parallel, reducing overall runtime."
.
"when the tool inserts a pg via for a missing via error object, it sets the status of the error object to fixed in the error browser (see figure 203)."
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 368 chapter 5: clock tree synthesis specifying the clock tree synthesis settings feedback to enable this feature, use the following application option setting: fc_shell> set_app_options \ -name cts.optimize.enable_congestion_aware_ndr_promotion -value true when the tool derives a new nondefault routing rule for a clock net, the new spacing requirement is dependent on the spacing requirement of the existing routing rule of that net."
.
.
.
setting clock-gating options use the set_clock_gating_options command to define the netlist structure of the inserted clock-gating cells.
.
.
the argument is an integer greater than or equal to 1.
.
.
"if zroute determines before then that all violations have been fixed or that it cannot fix the remaining violations, it stops."
.
.
.
.
.
.
"however, changes in the clock tree due to concurrent clock and data optimization performed on other sinks can change the latencies of the sinks that have a cts_fixed_balance_pin attribute set to true."
.
"you can restrict the removal to • specific nets by using the -nets option • specific layers by using the -layers option • fixed or unfixed route types by using the -route_types option when removing dangling net shapes, the tool does not change topologies or connections and does not touch terminals."
.
.
• the filler cells that can be used to replace the violating filler cells these filler cells are called unconstrained cells; they are not considered when measuring the stack height.
.
.
.
.
.
"the following example specifies that after replication, the r0 register must drive the r1, r2, and r3 registers: fc_shell> set_register_replication -num_copies 3 r0 \ -driven_by_original_register {r1 r2 r3} figure 34 using the -driven_by_original_register option r0 r1 r2 r3 out1 out2 out3 r0 r1 r2 r3 out1 out2 out2 r0_rep1 r0_rep2 controlling register merging by default, the tool performs register merging during optimization."
.
"to close the final setup, hold, or logical drc violations with minimal disturbance to the block, use size-only mode when you run the route_opt command."
.
you must check the design after running the fix_mv_design command.
.
.
.
"by default, if you try to add a via mapping that already exists in the table, the command fails."
.
.
.
.
.909 tracing minimum path resistance using the mouse tool .
.
.
.
.
.
.
.
.
.
.
"contacting customer support to contact customer support, go to https://solvnetplus.synopsys.com."
.
"when you define a voltage area, at a minimum, you must specify the power domains associated with the voltage area."
"use the following methods to read designs: • reading rtl files in systemverilog, verilog, or vhdl format • reading designs using the -autoread option • reading designs using the vcs command-line options • reading verilog gate-level netlist files • reading mixed gate-level netlists and rtl files fusion compiler™ user guide v-2023.12-sp3 98 chapter 2: preparing the design reading the design feedback by default, when the tool reads the rtl or gate-level netlist files, it creates a block in the current design library and increments its open count."
.
.
.
.
.
this application option is only effective when boundary optimization is enabled.
.
.
.
.
.
"to specify a keepout width in microns, use the -keepout_width option."
.
.
.
.
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 214 chapter 3: physical synthesis performing unified physical synthesis feedback performing prechecks fusion compiler can perform compile prechecks to prevent compile failures and allow the compile_fusion command to quickly exit with error messages when incomplete (or inconsistent) setup or constraint issues are encountered.
.
"fusion compiler™ user guide v-2023.12-sp3 693 chapter 8: ic validator in-design performing signoff design rule checking feedback to exclude all density or connectivity rules from design rule checking, set thesignoff.check_drc_live.exclude_command_class application option."
.
"to add new shapes, use the create_routing_corridor_shape command."
.
.
.
.
.
.
.
"this name is the concatenation of the and2, d4, ws, and ulvt string, which represent cell characteristics that are associated to a lexical attribute, as shown in the following table: table 2 lexical attributes for the naming convention of an example library column lexical attribute allowed pattern values for example cell 1 lexical_cell_prefix_name [a-za-z0-9]* and2 fusion compiler™ user guide v-2023.12-sp3 90 chapter 2: preparing the design analyzing libraries feedback column lexical attribute allowed pattern values for example cell 2 lexical_drive1_name d[0-9]* d4 3 lexical_well_substrate_bias_arch itecure ws ws 4 lexical_device_threshold_voltage ulvt | svt | lvt | mvt ulvt you can specify the naming convention for this library by using the set_lib_cell_naming_convention command, as shown in the following example: fc_shell> set_lib_cell_naming_convention -library $lib \ -column 1 -pattern {[a-za-z0-9]*} -attribute ""lexical_cell_prefix_name"" fc_shell> set_lib_cell_naming_convention -library $lib \ -column 2 -pattern {d[0-9]*} -attribute ""lexical_drive1_name"" fc_shell> set_lib_cell_naming_convention -library $lib \ -column 3 -pattern {ws} -attribute ""lexical_well_substrate_bias_architecure"" fc_shell> set_lib_cell_naming_convention -library $lib \ -column 4 -pattern {ulvt|svt|lvt|mvt} -attribute ""lexical_device_threshold_voltage"" note: for a list of all the predefined lexical attributes, see the man page for the set_lib_cell_naming_convention command."
".84 identifying redundancies, outliers, equivalences, and gaps in library cell families ."
.
"by default, this command checks for • blocked standard cell ports a standard cell port is considered blocked if none of its physical pins is accessible."
"◦ to use exhaustive path-based search algorithms for each endpoint, set this application option to exhaustive."
.
.
.
.
.
.
.
"to avoid congestion issues and achieve the best balance of drc convergence and timing closure, you should apply shielding rules only to high-frequency or critical clock nets and apply double-spacing rules to the lower-frequency clock nets."
.
.
.45 exiting the fusion compiler tool .
.
clock gating occurs by default during the compile_fusion command using specified clock-gating settings.
.
a value of 1 enables pin tapering only on the pin layer; a larger value enables pin tapering on additional layers below the pin layer.
.
.
.
.
.
.
one way to avoid the problem is to set spacing requirements between clock cells to prevent local clumping of the clock cells along a standard cell power rail between the perpendicular straps.
.
.
.
.
.
.
.
.
.
you can use the error data file to report or display the drc violations in the error browser.
the clock gates are not relocated or moved if: • relocating an integrated clock gate (icg) has a minor power benefit or degrades power while degrading wire length.
.
.
.
813 querying relative placement groups .
.
.
"to remove via ladder rules, use the remove_via_ladder_rules command."
note: an ic validator license is required to run the signoff_check_drc and signoff_fix_drc commands.
"• complete global routing and track assignment the detail router uses the general pathways suggested by global routing and track assignment to route the nets, and then it divides the block into partitions and looks for drc violations in each partition."
.
.
.
.
.
.
.
.
.
fc_shell> analyze_rail -nets {vdd vss} \ -min_path_resistance -voltage_drop static the following example performs only minimum path resistance analysis.
.
.
.
.
.
.
.
"you must specify the following information for each label: ◦ the label name (the -name option) ◦ the library cells to which to apply the label (the -lib_cells option) ◦ the sides of the library cells to which to apply the label (the -side option, which can take a value of right, left, or both) the label definitions are additive; you can specify the same label to be used on the right side of some cells and the left side of other cells."
.
.
.
.
.
.
.
.
.
358 restricting the target libraries used .
.
.
.
.
"in addition, when you use the -coordinates option, the signoff_create_metal_fill command always uses the flat metal fill mode."
"to report the constant registers removed during compile, use the report_constant_registers command."
60 viewing your checkpoint history .
.
.
874 setting up the executables .
.
.
.
"to specify the regions for pg augmentation, use one or more of the following options: ◦ -coordinates_ground this option restricts pg augmentation for the ground net to the specified regions."
.
.
.
"to enable path-based optimization, use the time.pba_optimization_mode application option."
.
.
"to analyze only the shapes on a layer, select the layer from the list."
"• for diode mode 7, the equivalent metal area is computed using the maximum diode protection, which is 1.5, so the maximum antenna ratio for the net is (metal_area - ((1.5 + 0) * (150 + 800))) / gate_area = (metal_area - 1025) / gate_area • for diode mode 8, the equivalent metal area is computed using the total diode protection, which is 0.5+1.0+1.5=3.0, so the maximum antenna ratio for the net is (metal_area - ((3.0 + 0) * 150 + 800)) / gate_area = (metal_area - 1250) / gate_area example for diode mode 14 with multiple gate oxide thicknesses assume that the antenna area is calculated using surface area in single-layer mode (antenna mode 1), the design contains cells with two different gate oxide thicknesses, the diode ratio vector for the first oxide thickness (gate class 0) for the m1 layer is {1 0 1e9 1e9 0 1 2 285 1 285}, the diode ratio vector for the second oxide thickness (gate class 1) for the m1 layer is {1 0 1e9 1e9 1 0 2 165 1 28}, and the layermaxratio value for the m1 layer is 285. for diode mode 14, the diode ratio vector contains 10 values for each gate class."
.
.347 restricting optimization on the clock network .
.
.
.
.
fc_shell> add_buffer_on_route {n2 n5} -lib_cell buf1 \ -first_distance 100 -repeater_distance 150 fusion compiler™ user guide v-2023.12-sp3 966 chapter 13: eco flow adding buffers on routed nets feedback the following example adds the buf2 library cell on the net n1 at an interval of 100 microns.
"to remove clock latency information previously set on clock-gating cells with the set_clock_gate_latency or apply_clock_gate_latency commands, use the reset_clock_gate_latency command."
.
.
.
.
"figure 75 specifying exceptions on pins beyond the clock network clk a b u2 d ff3 y n5 by default, the tool sets • the is_clock_is_used_as_clock attribute of the u2/a, u2/y, and ff3/d pins to false and considers the network beyond the u2/a pin as part of the data network • the u2/a pin as an ignore pin and excludes the network beyond this from clock tree synthesis during clock tree synthesis, the tool adds a guide buffer and isolates the u2/a pin from the rest of the clock network."
.
"• the routing blockages do not have pin cutouts to generate pin cutouts, use the -pin_cutout option."
.
see specifying the orientation of relative placement groups.
.
"to enable this feature, set the place.legalize.enable_multi_cell_pnet_checks application option to true."
.
.
you can generate reports before and after you compile your design.
"fusion compiler™ user guide v-2023.12-sp3 449 chapter 6: routing and postroute optimization inserting via ladders feedback the configuration file has the following syntax: <emrule> <!-- template definition --> <template name=""rule_name""> <layer name=""layer_name"" row_number=""cuts_per_row"" [max_stagger_tracks=""count""] [upper_cut_x_min_spacing=""x_spacing""] [upper_cut_y_min_spacing=""y_spacing""] /> ... more layers </template> … more templates <!-- pin to template association --> <pin name=""pin_name""> <template name=""rule_name""/> </pin> ... more associations </emrule> each template section specifies the template for a via ladder rule."
.
you must specify either the cell collections or group ids of the group repeaters.
.
.
938 voltage hotspot analysis .
.
.
apply the command unplace_group_repeaters to unplace them.
.
.
.
.
687 automatically fixing double-patterning odd-cycle violations .
.
"example 22 shielding flow example # define shielding rule create_routing_rule shield_rule \ -shield_widths {m1 0.1 m2 0.1 m3 0.1 m4 0.1 m5 0.1 m6 0.3} \ -shield_spacings {m1 0.1 m2 0.1 m3 0.1 m4 0.1 m5 0.1 m6 0.3} # assign shielding rule to clock nets set_clock_routing_rules -clocks clk \ -rules shield_rule # perform clock tree synthesis synthesize_clock_trees # route the clock nets, reusing the global routing result route_group -all_clock_nets -reuse_existing_global_route true # perform preroute shielding for the clock nets create_shields -nets $clock_nets -with_ground vss fusion compiler™ user guide v-2023.12-sp3 545 chapter 6: routing and postroute optimization shielding nets feedback # assign shielding rule to critical nets set_routing_rule -rule shield_rule $critical_nets # route signal nets using shielding soft rules route_auto # perform postroute shielding for critical nets create_shields -nets $critical_nets -with_ground vss performing incremental shielding by default, zroute does not perform incremental shielding on nets that are modified after they were shielded."
.
"to use nondefault routing rules on the clock nets, you must first define the routing rules and assign them to the clock nets as described in using nondefault routing rules."
using hierarchical relative placement provides these benefits: • allows you to organize your relative placement in a manner that is easier to maintain and understand.
.
-disabled_layers specifies the layers that cannot be used for shielding.
.
252 mapping combinational multibit cells .
.
352 verifying the clock trees .
.
.
"• to specify the width of the straps, use the -width option."
.
.
fusion compiler™ user guide v-2023.12-sp3 542 chapter 6: routing and postroute optimization shielding nets feedback ▪ -coaxial_below_user_spacing this option specifies the spacing in microns between shielding segments for coaxial shielding below the shielded net segment layer (-coaxial_below true).
.
.
.
.
"if the custom router is unable to resolve all routing drc violation when making pin connections, use the zroute to make the pin connections by using the -use_zroute_for_pin_connections options."
.
.
.
.
.
.
.
.
.
.
.
• -location specifies the location of the center of each repeater group.
"fusion compiler™ user guide v-2023.12-sp3 363 chapter 5: clock tree synthesis specifying the clock tree synthesis settings feedback • y-direction, set the -y_spacing option to a nonzero value this value is usually less than half a row height."
.
.
.
.
"to examine information of one specific instance, deselect all the instances and then select the instance to display from the list."
.
.261 enabling the embedded area optimization flow .
4. perform postroute redundant via insertion.
.
.
"to enable this check, use the -report_no_access_edge true option."
"• if a top-level port has an antenna violation, by default, the diode cells are inserted at the top level."
.
.
.
.
.
.
.
.
.
.
fix_isolated_via.
"to change the file names, use the -output option with the signoff_report_metal_density command."
.
.
.
.
.
"to modify the layers for metal fill insertion, use one of the following options: • -select_layers metal_fill_layers this option restricts metal fill insertion to the specified set of metal and via layers."
"if the block shows congested areas, zoom into the congested area to see the congestion value on the global routing cell."
.
.
.
.
.
.
.
.
"for example, assume that you use the following command to define guard bands for the voltage area shapes shown on the right side of figure 14: fc_shell> create_voltage_area -power_domains {pd1} \ -region { {{0 0} {10 10}} {{10 0} {30 10}} {{15 5} {35 15}} } \ -guard_band { {1 1} {3 3} {3 1} } {pd1} in this case, the effective guard band is the same as the guard band shown in figure 16, which is the guard band defined for the merged shape."
"before inserting metal and via fill, the block should be close to meeting timing and have only a very few or no drc violations."
62 using the command log file .
.
▪ the height of the standard cells must be an integer multiple of the filler cell heights.
.
.
.
"to enable this application option, set the place.legalize.enable_multi_cell_access_check application option to true."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
• ignores clock cell spacing rules if the horizontal spacing requirement is more than three times the site height and the vertical spacing requirement is more than twenty times the site height.
.
.
.
.
.
.
.
.
the command invokes the redhawk gds2rh utility under the hood and extracts power grids and current sources from the memory blocks with varying levels of abstraction―from fully detailed models for accurate block-level analysis to abstract models for full-chip dynamic analysis.
.
.
.
these obstructions can prevent the insertion of the tap cells and result in an incomplete or missing tap wall.
.
.
"when not specified, the tool generates the static timing window information using the data in the design library."
.
.
.
.
.
.
.
set design_name top analyze -autoread -top ${design_name} ${rtl_file_list} elaborate ${design_name} elaborate -hdl_library top_hdl_lib top set_top_module ${design_name} fusion compiler™ user guide v-2023.12-sp3 100 chapter 2: preparing the design reading the design feedback reading designs using the vcs command-line options the analyze command with the vcs command-line options provides compatibility with vcs simulation scripts and makes reading large designs easier.
"for example, if you have run the generate_hot_spots command on the vdd net, you must first remove the hotspot data for the vdd net before generating hotspots for other nets."
.
.
.
.
.
.
.
.
.
"during postroute optimization, the tool can perform redhawk dynamic voltage drop analysis to identify cells involved in voltage drop violations, and then use optimization techniques on those cells to improve the dynamic voltage drop."
.
.
.
.
.
.
this is a required option of the define_antenna_layer_rule command.
"note: when you exit the tool from the command line, the tool exits without saving the open blocks."
.
.
"• the metal shapes are inserted only in the top-level block to insert metal shapes in all soft macros in a hierarchical block, use the -hierarchical option."
.
.
.
.
.
use manual grouping in case the auto grouping command result does not meet the requirement.
"the net priority is set to 15. fc_shell> create_net_priority abc \ -for [get_nets -physical_context pr*] \ -priority 15 {abc} defining minimum wire lengths to define different minimum wire lengths for each object in a group of nets or pin-to- pin connections, use the create_length_limit command."
.
4. removes floating via fill from the specified via layers and from the via layers associated with the specified metal layers floating via fill is via fill that does not have both an upper and lower metal enclosure.
fusion compiler™ user guide v-2023.12-sp3 511 chapter 6: routing and postroute optimization routing constraints feedback the following figure shows the simplified structure: figure 110 single-level pattern-based must-join pin connection the single-level structure shown in figure 110 is the default structure used for a pattern- based must-join connection.
.
.
.
.
you must use the -type option to specify the type of report to generate.
.
.
.
.
"the unconstrained eco flow consists of the following steps: 1. update the design with the eco changes by using one of the following methods: ◦ using the eco_netlist command, as described in making eco changes using the eco_netlist command ◦ using netlist editing tcl commands, as described in making eco changes using netlist editing commands."
.
the tool does not save the block between routing steps.
"to perform via ladder insertion during preroute optimization, 1. ensure that the via ladder rules are defined as described in defining via ladder rules."
.
904 checking pg electromigration violations .
.
.
.
.
.
.
"to remove shapes from an existing move bound, use the remove_bound_shapes command."
.
"when using distributed processing, each parallel task is called a process."
.
.
162 minimizing large displacements during legalization .
.
.
.
.
.
250 improving the banking ratio .
.596 specifying the naming convention for boundary cells .
.
.
some types of routing guides are user-defined; others are derived from the block data.
.
.
.
.
.
.
.
.
.
.
• read a gdsii file for the block by using the read_gds command • read an oasis file for the block by using the read_oasis command.
.
"• to check user routes, set the -check_from_user_shapes option to true."
.
.
.
"if you do not have a floorplan for your block, you can perform design planning and generate a floorplan as described in the fusion compiler design planning user guide."
.
2. specify settings for automated tap assignment by using the set_multisource_clock_tap_options command.
.
.
.
"by default, the tool does not overwrite existing output data."
.
.
this type of library is referred to as a correct-by-construction library; most multiple-patterning libraries are correct-by-construction libraries.
.
632 reducing critical areas .
.
"to remove the buffers and inverters from specific clock trees, use the -clocks option to specify the clock trees."
.
.
.
.
.
.
"figure 9 monotonic distribution in library cell family fusion compiler™ user guide v-2023.12-sp3 85 chapter 2: preparing the design analyzing libraries feedback a cell is considered redundant if all its metrics, such as area, delay, power, and so on, are equal or worse than another cell, as shown in the following plot of cell area versus timing for a family of cells with the same function."
.
voltage drop analysis is supported in both redhawk fusion and redhawk-sc fusion analysis flows.
889 finding substitute locations for invalid taps .
.
.
.
.
.
"specifying clock-tree layer constraints to specify clock-tree layer constraints, use the set_clock_routing_rules command."
.
.
.
.
311 controlling tool-inserted clock-gate levels .
.
.
.
.
.
.
the pac performs various checks listed as follows: • placement of cells • number of accessible tracks for each library cell’s pins • legalization check after placement • design rule check after routing • all the earlier listed checks with pg routes you can use the create_pin_check_lib command to create or open a new library based on the input technology and reference libraries.
.
.
.
the tool also uses the stacking order to resolve overlapping shapes from different voltage areas.
"note that these cells can be moved, unless they have a placement status of fixed."
.
merge_stream_files (none) specifies the stream (gdsii or oasis) files to merge into the current block for metal fill insertion.
"if so, additional lexical classification is not required."
.
.
.
.
"to specify the orientation, use nr to indicate that the via is not rotated or r to indicate that the via is rotated."
advanced_guidance_for_rules all controls whether signoff drc fixing uses advanced routing guidance.
.
.
358 deriving clock tree references for preexisting gates .
"that is, simply inserting checkpoints in your script does not change your flow."
309 clock-gate multilevel expansion .
.
"for information about the mask constraints, see mask constraints."
"when specified, the tool reads all time values from the vcd file, but uses only the specified time window for rail analysis."
.
.
.
.
.
.
.
.
.
.
"when building the h-tree, the tool tries to minimize the skew between the endpoints, which is essential for multisource clock tree synthesis."
.
.54 defining checkpoint behaviors .
.
"• the code that is commented out identifies the original script body • the blue code identifies the checkpointed tcl commands in your golden flow • the green code identifies the app_options report, configured to run before each checkpoint • the purple code identifies the timing report, configured to run after the place_opt_to_final_opto checkpoint fusion compiler™ user guide v-2023.12-sp3 57 chapter 1: working with the fusion compiler tool adding changes to a script with checkpoints feedback associating checkpoints with checkpoint actions to associate a checkpoint action with one or more checkpoints, use the associate_checkpoint_action command in your checkpoint.config.tcl file."
.
.
.
the existing cells are untouched to minimize the impact to their placement.
.
8. connect the inserted filler cells to the pg network by using the connect_pg_net -automatic command.
.
.
.
.
unplace_group_repeat ers eco-273 error: there are no placed cells to be unplaced.
.
◦ specify the type of connection for the input pins of the spare cells by using the -input_pin_connect_type option.
.
.
"to specify that relative placement groups can overlap with each other, use the -legalize_over_rp option."
"the checkpoints are named remove_buffers, place_opt_to_initial_drc, incr_placement, place_opt_to_initial_opto, and place_opt_to_final_opto."
.
.
.
.
"3. design views specified with the signoff.check_drc.read_design_views application option if the ic validator tool cannot find a design view, it reads the frame view instead."
.
.
.
.
.
data tlu+ files upf files def/tcl (optional) sdc files (optional) svf files design (ndm) verilog upf files formality place and route design flow overview figure 2 shows the basic place and route design flow using the fusion compiler tool.
"for example, if this checkpoint report is executed after a checkpoint named checkpoint_a, the generated reports are saved to the checkpoint directory, and the name of the qor report is checkpoint_a.after.qor.rpt."
.
"you can also view the following types of summary pages for application options: • category summaries to view a man page that summarizes all of the application options for a specific category, enter the man command followed by category_options."
"to force the command to complete filler cell insertion even when errors occur, use the -continue_on_error option."
.
.
then define a group (rp4) that contains these groups.
.
.
.
552 analyzing and fixing signal electromigration violations .
.
.
.
.
.
"by default, the tool excludes physical-only cells during library analysis."
.
.
.
"setting self-gating options to specify self-gating settings, use the set_self_gating_options command with the following options: • -min_bitwidth bitwidth controls the minimum size for self-gating banks."
.
"for example, fc_shell> exec cat tap_file vdd 3 500.000 500.000 vss 5 500.000 500.000 fc_shell> create_taps -import tap_file • creating taps with packages a simple package rlc (resistance-inductance-capacitance) model provides a fixed set of electrical characteristics assigned to all power and ground pads."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
the process of defining flow changes and reports and associating them with individual checkpoints is described in the following topics: • defining checkpoint behaviors • associating checkpoints and checkpoint behaviors defining checkpoint behaviors you can define two types of checkpoint behaviors: reports and actions.
"the following files are written to the run directory: • the error data file by default, the error data generated by the signoff_check_drc command is saved in a file named signoff_check_drc.err, which is stored in the design library."
.
.
.
.
"the following command sets a size-only setting on a cell: fc_shell> set_size_only [get_cells cell_name] true to report all the size-only settings set on the current block, use the report_size_only command."
.
.
promote these clock latency constraints from block-level to the top-level by using the promote_clock_data -latency_offset -auto_clock connected command.
.
.
.
.
.
preroute shielding is typically used to shield critical clock nets.
.
.
"if you define a routing rule that uses both a distance-based tapering option and a layer-based tapering option, the tool uses the layer-based tapering settings and ignores the distance-based tapering settings."
.
.
.
.
the command inserts the cells in the specified order.
"note: if both the pattern_must_join attribute and a via ladder candidate apply to a pin, the via ladder has a higher priority than the pattern-based must-join connection when both methods have the same estimated delay."
.
.
.
.
.
.
.
.
.
"for example, to list all variables defined in the current session, use the following command: fc_shell> printvar * to print the value of the search_path variable, use the following command: fc_shell> printvar search_path see also • defining the search path viewing man pages to display the man page for a fusion compiler command or application option, enter the man command followed by the command or application option name."
.
.
.
.
"the machine learning concept uses the following terminology: • labels, which are the outputs you are trying to predict • features, which are the inputs that affect the outputs • model, which is the relationship between the features (inputs) and the labels (outputs) • training, which is the process of learning the relationship between the features (inputs) and the labels (outputs), based on the data collected to perform global-route-based optimization using machine learning (ml) data derived from the postroute stage, 1. collect machine learning features and labels, and train the model by performing the following steps in a specific iteration, iteration n: a. perform clock tree synthesis and clock routing by completing the build_clock and route_clock stages of the clock_opt command."
.
.
.
.
.
.
.
.
.
.
.
.
.
"see also • global routing • defining minimum wire spacing rules • generating a congestion map generating a congestion map to display the global route congestion map, choose view > map > global route congestion in the gui."
.
.
.
"• when you set this application option to medium, the tool rips up and reroutes the newly critical nets only if doing so does not increase congestion."
.
.
.
.
.
.
126 querying voltage areas .
"for more information, see performing voltage drop analysis."
"to specify a different file name, use the -association_file option."
.
.
.
.
.
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 294 chapter 4: clock gating setting up clock gating feedback option description -observation_output specifies that the library clock-gating cell must have an observation output pin.
.
these cells are typically used when most or all of the standard cells in the library contain no substrate or well taps.
261 enabling high-effort timing mode .
"• the handling of fixed cells by default, tap cells are inserted at the computed tap locations, regardless of whether a fixed cell occupies that location."
.
.
.
.
.
.
.
doing so reduces the voltage drop of the original grid without increasing the voltage drop of the target grid.
.
using the -hierarchical option with the -checks option reports the checks of the subblocks.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 486 chapter 6: routing and postroute optimization routing constraints feedback by default, • the routing guides are inserted only in the top-level block to insert routing guides in all soft macros in a hierarchical block, use the -hierarchical option."
.
.
"by default, this command removes all clock cell spacing rules."
.
.
.
.
.
.
.
create_net_shielding defines the shielding style for a group of nets or bundles.
.
this improves the total power and wire length for the design.
.
.
"• to display a brief description of a fusion compiler command, enter the help command followed by the command name."
.
.
.
.
.
.
.
• self-gating is restricted from adding another clock-gate level if the maximum number of levels is already reached.
.
.
"this chapter includes the following topics: • running rail analysis using redhawk-sc fusion • an overview for redhawk fusion and redhawk-sc fusion • setting up the executables • specifying redhawk and redhawk-sc working directories • preparing design and input data for rail analysis • specifying ideal voltage sources as taps • missing via and unconnected pin checking • running rail analysis with multiple rail scenarios • performing voltage drop analysis • performing pg electromigration analysis fusion compiler™ user guide v-2023.12-sp3 867 chapter 12: redhawk and redhawk-sc fusion running rail analysis using redhawk-sc fusion feedback • performing minimum path resistance analysis • performing effective resistance analysis • performing distributed redhawk fusion rail analysis • voltage driven power switch cell sizing • working with macro models • performing signoff analysis • writing analysis and checking reports • displaying maps in the gui • displaying eco shapes in the gui • voltage hotspot analysis • querying attributes running rail analysis using redhawk-sc fusion similar to the redhawk fusion capability, redhawk-sc fusion supports gate-level rail analysis and checking capabilities in the fusion compiler environment."
"when you run a command, the fusion compiler tool echoes the command output (including processing messages and any warnings or error messages) in fc_shell and, if the gui is open, in the console log view."
.
.
.
you should see a reduction in the total number of global routing cells with overflow and in the total overflow numbers.
.
.
.
.
.
548 performing postroute logic optimization .
.
"to enable timing-preservation mode for redundant via insertion, define the timing preservation constraints by using the following options of the add_redundant_vias command: • -timing_preserve_setup_slack_threshold • -timing_preserve_hold_slack_threshold • -timing_preserve_nets you should timing-preservation mode only at the end of the flow, after using the normal redundant via insertion flows, which converge both the redundant via rate and the timing qor."
.
.
.
.
69 running commands in parallel .
.
.
.
.
this command reports only the routing rules assigned by the set_clock_routing_rules command.
.363 creating skew groups .
.
.
.
.
.
.
this command takes the data captured by one or more runs of the write_qor_data command and creates a web-based report for viewing and comparing those results.
.
.
.
.
.
.
h routing: overflow = 133 max = 1 (grcs = 129) grcs = 139 (0.03%) phase3.
"within a template section, the via ladder structure is specified by specifying the number of cuts per row for each metal layer involved in the via ladder."
.
"by default, the command returns an error if the assigned name already exists."
"the name of the baseline run is highlighted in gold to mark it as the “golden,” or baseline, result."
"the create_qor_snapshot command measures and reports the quality of the design in terms of timing, design rules, area, power, congestion, and so on."
"for more information, see supporting redhawk-sc customized python script files."
.
.
.
.
.
.
.
you can add commands and tcl procedures to the setup files in your home and project directories.
"when using a via connection, the via’s metal enclosure must be contained within the pin shape."
.
.
.
.
.
.
.
.
• check the connectivity information and look for pin blockages in the design.
.
.
977 placing and mapping eco cells to spare cells .
"if the block is congested, you can rerun the fusion compiler™ user guide v-2023.12-sp3 338 chapter 5: clock tree synthesis defining the clock trees feedback create_placement command with the -congestion and -congestion_effort high options, but the runtime can be long."
v routing: overflow = 1560 max = 3 (grcs = 20) grcs = 1649 (0.06%) phase3.
"to write rail results for the cells or geometries in the hotspot area only, use the get_instance_result and get_geometry_result commands."
"if it cannot find the frame view, the cell is ignored during design rule checking."
3.
the standard cells are classified as one of the following types: • inbound the top or bottom boundary of an inbound standard cell is at the half-height location of the cell rows.
"the test solution for fusion compiler consists of two stages: • scan synthesis flow • minimizing glitches on asynchronous set and reset lines of scan registers fusion compiler™ user guide v-2023.12-sp3 258 chapter 3: physical synthesis performing test insertion and scan synthesis feedback benefits of two-stage test insertion include • better timing, area, power, and congestion qor for logic and dft synthesis at the same time • better integration of power intent and dft logic • improved congestion optimization that considers the placement for compressor and decompressor (codec) test logic • eliminating the incremental compile step to synthesize and place the dft logic scan synthesis flow specifying synthesis constraints specific to dft insertion for certain registers must be mapped to non-scan versions and the core wrapper reuse threshold."
"for example, fc_shell> set_app_options \ -name rail.macro_models \ -value {gds_cell1 mm_dir1 \ gds_cell2 mm_dir2} rail.lef_files (optional) specifies a list of lef files."
"• when you set this application option to low, the tool does not perform the timing update and the number of rerouting phases is reduced for medium, high-, and ultra- effort global routing."
"fc_shell> set_attribute \ [get_shapes -of_object $all_nets] shape_use ""detail_route"" fc_shell> set_attribute \ [get_vias -of_object $all_nets] shape_use ""detail_route"" fc_shell> route_detail -incremental true fc_shell> remove_redundant_shapes -nets $all_nets 13. check the routing results by using one of the following methods: ◦ check for drc violations."
.
the specified rule must be a rule that you previously defined with the create_routing_rule command.
809 legalizing relative placement groups in a placed design .
.
.
.
.
any unspecified layers use the default spacing.
.
.
.
.
.
the following example changes the blk1 block from its abstract view to its design view and applies full-chip timing constraints.
.
.
"by default, all constraint types are reported."
.
.
.
.
"when you use this option, the tool uses the following naming convention: tapfiller!prefix!library_cell_name!number using the create_cell_array command ad_tap_cel_aray comandcomandsad_tap_cel_arayto add a tap cell array with specific placement, use the create_cell_array command."
.
.
.
.
.
.
.
"◦ if the option -cutlines_of_net_groups is specified, the command groups the nets based on the existing group ids of the nets and inserts repeaters based on the cutlines for the various net groups."
.
.
.
.
2.
"• for metal fill on layers adjacent to the net shape, the default minimum spacing is the minimum spacing value specified for the layer in the technology file."
.
127 removing voltage areas .
.
.
"if multibit flip-flops are found in the design, multibit composition is automatically reported."
.
.
.
555 fixing signal electromigration violations .
.
"fusion compiler™ user guide v-2023.12-sp3 549 chapter 6: routing and postroute optimization performing postroute optimization feedback 2. performs the enabled optimizations by default, the route_opt command optimizes for setup, hold, area, and logical drc violations for the data paths in the block."
.
.
.
.
.
14. analyze the clock tree results as described in analyzing the clock tree results.
.
"by default, the insertion delay for the user-specified sink pins is 0. for information about overriding the default insertion delay, see defining insertion delay requirements."
.
.
.
.
.
.
.
.
.
.
.
.
.
490 routing nets within a specific region .
.
-on_clock_network true | false disable (set to true) or enable (set to false) drc on clock networks.
"the initial tap configurations are generated based on floorplan shape, size, sink distribution, placement, routing constraints, and or each tap configuration."
.
.
.
.
"topics in this section include • performing unified physical synthesis • controlling mapping and optimization • performing multibit optimization • running concurrent clock and data optimization • performing test insertion and scan synthesis • specifying settings for performance, power, and area improvement • performing design analysis performing unified physical synthesis the fusion compiler tool performs unified physical synthesis."
.
.
.
.
.
you must specify the following information: • the tap cell used in the tap wall (the -lib_cell option) the specified tap cell must be a single-height cell that matches the row height and site width.
.
.
.
.
.
the default is balanced.
.
.
.
.
"to load the rail context generated in another analysis run, first close the current rail result using the close_rail_result command, and then open the desired rail result (see displaying maps in the gui)."
"to enable the tool to successfully link a block even if it has certain types of design mismatch, set a mismatch configuration for the block."
.
.
running clock tree synthesis on a block that does not have a legal placement might result in long runtimes and reduced qor.
note: the create route tool does not honor routing guides defined by the create_routing_guide command.
.
.
.
custom.route.match_box specifies the area within which the custom router performs length matching.
.
.
.
.
.
.
.
.
.
.
"when you enable this feature, during placement, the tool tries to improve pin accessibility by using a technology-specific model to predict the routing resources required to access each pin."
.
.636 18 contents feedback standard filler cell insertion .
.
.
3. perform legality checking using the check_legality command.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
you must specify the name of the configuration file by using the -config_file option.
.
.
.
.
.
"when you run the analyze_subcircuit command, the tool performs the following steps: 1. performs rc extraction and generates parasitic files."
.
.
.813 reporting relative placement constraint violations .
.
"to specify nondefault routing rules that are applied automatically on nets connected to the output pins of tool-inserted clock gates, use the set_clock_gate_routing_rule command."
.
732 viewing metal fill in the gui .
546 reporting shielding statistics .
"• the default during clock-gating optimization, the tool uses the following setup defaults: setup default maximum fanout infinite minimum bit-width three clock-gating cell latch-based cells for both positive-edge and negative-edge triggered flip-flops."
the yellow regions indicate where fill cannot be inserted and the gray regions indicate the inserted fill.
.
.
.
.
"the script in example 46 creates a relative placement group rp1, adds cells to it, and specifies that the cells are aligned by pin a. example 46 definition for relative placement group aligned by pins create_rp_group -name rp1 -columns 1 -rows 4 set_rp_group_options -alignment pin -pin_name a add_to_rp_group rp1 -cells u1 -column 0 -row 0 add_to_rp_group rp1 -cells u2 -column 0 -row 1 add_to_rp_group rp1 -cells u3 -column 0 -row 2 add_to_rp_group rp1 -cells u4 -column 0 -row 3 when aligning by pins, the tool tries different orientations for the cells and selects the orientation for each cell that gives the minimum column width."
.
.
.
519 routing application options .
.
.
"for more information about these files, see the ic validator documentation."
.
.
.
.
.
.
.
.
"to report the floating pins, use the -report_floating_pins true option."
.
.
.
.
.
.
.
.
.
.
.
.
"• defining simple vias • defining custom vias defining simple vias to define a simple via or via array, use the following create_via_def syntax: create_via_def -cut_layer layer -cut_size {width height} -upper_enclosure {width height} -lower_enclosure {width height} [-min_rows number_of_rows] [-min_columns number_of_columns] [-min_cut_spacing distance] [-cut_pattern cut_pattern] [-is_default] [-force] via_def_name you do not need to specify the enclosure layers; the tool determines them from the technology file by getting the metal layers adjacent to the specified via layer."
this command also supports slanting wires and counts the real length of an angle wire in total and counts the projection length of the x-axis and y-axis.
.
"at the top-level design, the check_hier_design command compares these timer application option settings with those of the block-level design."
.
.
.
.
.
error data and ascii reports are also available to check for locations where limits are violated.
.
"when placement is complete and the pg mesh is available, use redhawk fusion or redhawk-sc fusion to perform voltage drop analysis on the power and ground network to calculate power consumption and to check for voltage drop violations."
.
.
.
.
3. use the compile_fusion command to compile the design.
.
"the -verbose option causes the report to show detailed electromigration analysis information, which usually produces a very large report when used by itself."
.
.
.
.
.388 running interclock delay balancing .
consider the following example: set_app_options -name compile.clockgate.substring_list_for_dft_wrapper_dont_rename_icgs -value {clk_gate_ctl clk_gate_snps} this prevents the renaming of any pre-existing clock gates that have the clk_gate_ctl or clk_gate_snps pattern in their name but can still be queried using the get_clock_gates -gating_wrapper_cells_only command.
.
.
"when you create multiple taps by a single invocation of the create_taps command, all of the created taps are named by using the tap_name_nnn naming convention, where nnn is a unique integer identifier and tap_name is the string argument to the -name option."
208 applying required settings for high performance cores .
.
.
.
.
.
"translate_pin_check_ui -from old_script.tcl -to new_script.tcl analyzing libraries the fusion compiler tool provides the following library analysis capabilities, which can help achieve the performance, power, and area goals of your design: • identify redundant, outlier, and equivalent cells in library cell families, which you can exclude from optimization during the subsequent steps in the implementation flow."
.
valid values are: valid value description double_interleave shields each wire individually.
.
.
.
.
.
.
.
.
single-loop matching is typically used in ddr routing flows.
.
.
.
661 enabling ic validator multicore processing .
-access_preference encourage river routing within the routing guide boundary.
"if a net must physically route over a nonnative voltage area, then it is a physical feedthrough net of that voltage area, as shown in the following figure."
• the sum of overflow calculation results in a congestion value of 6+4=10.
global routing during design planning during design planning you can perform exploration-mode global routing by using the -floorplan true option with the route_global command.
.
"you can invoke global routing, track assignment, and detail routing by using task-specific commands or by using an automatic routing command."
.
"when you use the vcs command-line options, the tool automatically resolves references for instantiated designs by searching the referenced designs in the specified libraries and then loading these referenced designs."
.
.
.
.
.
.
.
.
.
.
.
.
.
"in the following example, the define_libcell_subset command groups the sdflop1 and sdflop2 library cells into a subset called special_flops, and then the set_libcell_subset command restricts the mapping of the leaf1 leaf cell to the special_flops library subset."
.
.
.
.
• the offset from the left edge of the row use the -offset option to shift the pattern startpoint to the right by the specified distance in microns.
.
.
.
.
.
"the following command creates the my_liba library using a relative path: fc_shell> create_lib ../my_lib_dir/my_liba {my_liba} • open_lib this command opens the specified library, makes that library the current library, and opens all its associated reference libraries."
.
.
"creating etms and etm cell libraries to create etms and etm cell libraries in the fusion compiler tool, see the creating etms and etm cell libraries in the fusion compiler tool topic."
• a latch-based precontrol cell for both positive-edge and negative-edge triggered flip- flops is used as a clock-gating cell.
.
.
.
.
.
.875 preparing design and input data for rail analysis .
.
"the tool does not write the generated errors to the working directory, meaning the error data is deleted if you exit the tool without saving the block."
cells are selected starting with the worst violator.
.
.
"1) 89.00% (total shield ratio/number of shielded nets) 2) 87.92% (total shield length/total shielded net length) performing shielding checks during routing, zroute can detect possible issues with shielding by checking for the following conditions: • signal net shapes with a shape_use attribute of shield_route."
.
.
"fc_shell> set_app_options \ -name route.detail.force_max_number_iterations -value true • is not timing-driven to enable timing-driven detail routing, set the route.detail.timing_driven application option to true."
"for example, assume that the metal2 layer is heavily congested with a demand of 13 routing tracks and a supply of only 7 tracks for an overflow of 6. the metal4 is fusion compiler™ user guide v-2023.12-sp3 567 chapter 6: routing and postroute optimization analyzing the routing results feedback moderately congested with an overflow of 4, and the metal6 layer is not congested and contains an underflow of 3. other layers are not used in the congestion calculation in this example."
"by default, the stacking order is the order in which you define the shapes, with the last shape defined on top."
.
.
.
.
"if there are lexically unclassified cells, specifies addition naming conventions and rerun lexical classification."
.
.
"◦ to change the step size, set the signoff.report_metal_density.density_window_step application option or the mx_window_step_size parameter in the ic validator parameter file specified by the signoff.report_metal_density.user_defined_options application option."
.
.
.
.
.
"if this is the case, splitting the output might be an effective approach to reduce high voltage drops."
set this option only if you must connect shields to ground.
.
.
.
.
table 59 settings for the -place_around_fixed_cells option to do this use this setting legalize relative placement groups around fixed standard cells and avoid fixed physical-only cells.
.
"in addition to redundant cells, the find_library_redundancies command also identifies outlier and equivalent cells in library families."
.
.
"controlling off-grid routing by default, off-grid routing is allowed for wires or vias unless the onwiretrack or ongrid attribute is set to 1 for the layer in the technology file."
.
.
.
.
.
.
.
.
"• the distribution of optimized vias by weight for each layer to determine the via conversion rate for conversions above a certain weight, you must add the reported conversion rates for those weights."
.
"however, you can control the type of optimization by using the -type option."
.
.
.
.
.
.
.
.
.
clock gating eliminates the feedback net and multiplexer shown in figure 45 by inserting a gate in the clock net of the register.
you can use this upf file in the subsequent steps of the design flow.
the minimum number of cuts required is the larger of the ncuts value in the -cuts option and the value defined in the fattblfatcontactmincuts attribute.
.
"when you remove the minimum routing layer setting, it also removes the ignored layers for rc estimation and congestion analysis that are below the minimum routing layer."
.
.
.
.
.
.
.
.
.
.
.
.
"to specify the maximum number of cores to use for the background jobs, use the -max_cores option with the redirect command."
the group id of cells on one path should be different.
.
.
"fusion compiler™ user guide v-2023.12-sp3 401 chapter 5: clock tree synthesis implementing multisource clock trees feedback for more information about the clock_opt command, see synthesizing, optimizing, and routing clock trees with the clock_opt command."
.
.
.
.
.
.
"if the cell connection is not placed as expected, repeat a reset repeater group for desired cell connection."
open_lib $block_libfilename open_block $block_refname.design commit_upf set_editability -from_level 1 -value false compile_fusion -from initial_map -to initial_map create_abstract -read_only create_frame save_block $block_refname -as $block_refname/initial_map compile_fusion -from logic_opto -to logic_opto create_abstract -read_only create_frame save_block $block_refname -as $block_refname/logical_opt compile_fusion -from initial_place -to initial_place create_abstract -read_only create_frame save_block $block_refname -as $block_refname/initial_place save_block save_lib close_block -force -purge close_lib 2. run the run_block_script command to process each block in parallel by using the script created in step 1. the following example specifies the settings for distributed processing with the set_host_options command and runs the block_synthesis.tcl synthesis script on the subblocks in parallel by using the load sharing facility (lsf).
.
.
"to report the abstract views the design is linking to, use the report_abstracts command."
note: the remove_clock_trees command does not support clock mesh nets.
.
130 inserting multivoltage cells .
210 3. physical synthesis .
495 assigning nondefault routing rules to nets .
.
.
.
.
.
.
.
"however, instances i5 and i6 use pin b as their alignment pin, rather than the group alignment pin."
.
.
example 44 shows the commands used in this process.
.
.549 performing postroute optimization using the hyper_route_opt command .
.
.
.
"if you specify multiple scenarios using the -scenarios option of the set_indesign_primepower_options command, the refreshed gate-level saif from the primepower tool is read back into the fusion compiler tool for all of the specified scenarios."
.
.
.
"use the check_clock_trees command to verify that your master-clock sources are correctly defined, as described in verifying the clock trees."
"for example, you might want to define a bound for clock-gating cells or extremely timing-critical groups of cells that you want to guarantee will not be disrupted for placement by other logic."
.
.
.
.
.
"by default, redhawk/redhawk-sc fusion detects the following types of power network errors: • unconnected pin shapes: pin shapes that are not contiguously and physically connected to an ideal voltage source."
9. run the compile_fusion command until logic optimization for the top-level design is complete as shown in the following example: fc_shell> compile_fusion -from logic_opto -to logic_opto 10. perform incremental top-level only standard cell placement as shown in the following example: fc_shell> create_placement -floorplan -use_seed_locs 11. perform timing estimation and budgeting steps to generate the block budgets needed for block level implementation.
.
.
368 reducing signal integrity effects on clock nets .
you can use this type of abstract to fix drc violations at the top level.
.
.
"to define a minimum wire spacing rule, use the create_routing_rule command."
"note: if the mindensity attribute is not specified in the technology file and the signoff.report_metal_density.min_density application option is not set, the tool uses a default of 10 percent."
place_group_repeat ers eco-228 warning: some repeaters from path driver (%s) have same repeater group id.
"fusion compiler™ user guide v-2023.12-sp3 122 chapter 2: preparing the design setting up multivoltage designs feedback for example, assume you want to create nested voltage areas, as shown in figure 15. figure 15 nested voltage areas to generate these effective voltage areas, you must specify the outer voltage area first, followed by the inner voltage area, so that the voltage area shape for the inner voltage area is on top: fc_shell> create_voltage_area -power_domains pd1 \ -region { {0 0} {30 30} } {pd1} fc_shell> create_voltage_area -power_domains pd2 \ -region { {10 10} {20 20} } {pd2} fc_shell> get_attribute -objects [get_voltage_areas pd2] \ -name effective_shapes {{10.0000 10.0000} {20.0000 20.0000}} fc_shell> get_attribute -objects [get_voltage_areas pd1] \ -name effective_shapes {{0.0000 0.0000} {10.0000 0.0000} {10.0000 20.0000} {20.0000 20.0000} {20.0000 10.0000} {10.0000 10.0000} {10.0000 0.0000} {30.0000 0.0000} {30.0000 30.0000} {0.0000 30.0000}} if you specify the inner voltage area first, the shape for the outer voltage area is on top and it masks the inner voltage area, so it is ignored by the tool, as shown in the following example: fc_shell> create_voltage_area -power_domains pd2 \ -region { {10 10} {20 20} } {pd2} fc_shell> create_voltage_area -power_domains pd1 \ -region { {0 0} {30 30} } {pd1} fc_shell> get_attribute -objects [get_voltage_areas pd2] \ -name effective_shapes fc_shell> get_attribute -objects [get_voltage_areas pd1] \ fusion compiler™ user guide v-2023.12-sp3 123 chapter 2: preparing the design setting up multivoltage designs feedback -name effective_shapes {{0.0000 0.0000} {30.0000 30.0000}} to report the stacking order of the voltage area shapes, use the report_voltage_areas -verbose command."
.
.
.
.
.
.
.
.
"to optimize the block for the best • timing, use the timing setting • leakage power and timing, use the leakage_power setting • total power and timing, use the total_power setting."
.
.
"when not specified, you need to specify the ideal voltage sources by running the create_taps command."
.
.
.
.
.
564 generating a congestion map .
.
.
.
.
.
"to enable verification checkpointing, use the set_verification_checkpoints command as shown in the following example: fc_shell> set_verification_checkpoints enabling checkpoint ""ckpt_logic_opt"" enabling checkpoint ""ckpt_pre_map"" when you enable this feature, by default, the compile_fusion command generates verification checkpoints before mapping and during logic optimization, and the corresponding verification-checkpoint stages are named ckpt_pre_map and ckpt_logic_opt."
.
"the following example specifies that during clock tree synthesis the clock tree exceptions in the mode name m1 should be copied to the modes name m2 and m3: fc_shell> set_clock_tree_options -copy_exceptions_across_modes \ -from_mode m1 -to_mode {m2 m3} fusion compiler™ user guide v-2023.12-sp3 350 chapter 5: clock tree synthesis defining the clock trees feedback deriving clock tree exceptions from ideal clock latencies if you have set ideal clock latencies for specific sinks in your design, you can use the derive_clock_balance_points command to convert these ideal latency settings to clock tree exceptions."
.
.
you can optionally use the report_signal_em command first to report electromigration violations before attempting to fix them.
.
"to create these routing guides, which are referred to as pin access routing guides, and the associated blockages, use the derive_pin_access_routing_guides command."
.
"you can specify the -report_group option with any of the five supported value (unmapped, mapped, placed, cts, routed) to tune the set of reports being captured, based on the state of the flow where you are capturing the data."
.
.
767 pin-trunk offset .
.
.
.
.
.
"for example, • generating the test model during block-level synthesis # read block rtl and constraints # specify dft configuration set_dft_signal ... set_scan_configuration ... create_test_protocol ... compile_fusion -to initial_opto insert_dft write_test_model -output block_des.mapped.ctl • running top-level synthesis with the block-level test model # read rtl and constraints # specify dft configuration read_test_model block_des.mapped.ctl set_dft_signal ... set_scan_configuration ... create_test_protocol ... compile_fusion -to initial_opto insert_dft specifying block-level power intent you must provide power intent of the subblock for the top-level design implementation when running hierarchical synthesis."
.
"however, you cannot use it with the following options: ◦ -location ◦ -user_specified_buffers ◦ -user_specified_bus_buffers note: when you use the -last_distance option, the value of the eco.add_buffer_on_route.min_distance_buffer_to_load application option is ignored."
the tool inserts the first corner cell that matches the size of the inside corner.
see anchoring relative placement groups.
.
257 transferring to back end .
.
.
"the benefits of unified physical synthesis include • reduced runtime unified physical synthesis streamlines the iterations of placement and optimization, and utilizes the initial placement and buffer trees built during synthesis to achieve the best runtime."
fusion compiler™ user guide v-2023.12-sp3 723 chapter 8: ic validator in-design inserting metal fill with ic validator in-design feedback table 50 ic validator metal fill insertion parameters (continued) parameter default description mx_window_step_size half the window size specifies the step size in the x- and y-directions used for density checking.
.
.
"note: after you have created a customized mapping table by using the method described in defining a customized via mapping table, this command shows the customized mapping table."
.
.
.
.
.
.
.
the absolute values used are less important unless you are using these values to account for clock-network delay issues not related to clock gating.
.
"for information about defining vias in a lef file, see reading via definitions from a lef file."
"by default, all via definitions can be used."
.
port protection diodes that are inserted by detail route are not deleted.
table 11 settings for controlling the effects of pins during placement set_technology -node place.coarse.
"to define a placement bound, use the create_bounds comandcomandscreate_boundscreate_bound command."
.
the hier_route_eco command performs the eco routing in the blocks as shown in the following example.
.
.
.
.
the term register refers to both edge-triggered registers and level-sensitive latches.
the python script file is supported only in redhawk-sc fusion rail analysis flow.
.
.
.
.
mx_fill2blockage_x mx_fill2blockage_y specifies the minimum spacing between fill shapes and blockages.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"table 8 types of placement bounds bound type description soft move bound the tool tries to place the cells in the move bound within a specified region, during coarse placement."
.
◦ use the -voltage_area option to restrict filler cell insertion to the specified voltage areas.
.
.
.
.
you can also synthesize other clocks in the design that are not synthesized.
.
.
.
"checking and fixing isolated vias by default, the signoff_fix_isolated_via command both checks for and fixes isolated vias."
.
.
.
"in cases you want to report missing vias with and without setting a voltage threshold in one analyze_rail run, first set the desired threshold value (for example, 0.001) and then reset the value to -1. setting -threshold option to -1 disables voltage checking."
"to increase the insertion rate, you can allow staggering of the vias on each level of the via ladder to avoid the fixed shapes."
"by default, zroute performs four topology eco iterations to fix secondary pg cluster fanout violations.the topology eco iterations can be time consuming, so you can control the effort level, and therefore the runtime, by setting the route.detail.topology_eco_effort_level application option to one of the following values: • off, which disables topology eco; this is the default • low, which peforms one topology eco iteration • medium, which peforms four topology eco iterations • high, which peforms eight topology eco iterations for example, to connect the secondary power pins to the vdd1 net, run the following command: fc_shell> route_group -nets vdd1 the following example add new cells, which have secondary power and ground pins, to a block; logically connects the power and ground pins; and then connects the secondary power pins to the vdd2 net."
598 reporting the boundary cell insertion requirements .
.
.
.
.
"for a detailed description about each option, see the man page."
.
the tool displays flylines and target port and pin locations to guide you in drawing the route segments.
.
.
.
.
.
2. enable clock driver insertion for multiple levels of physical hierarchy by setting the cts.multisource.enable_mlph_flow application option to true.
.
.
.
figure 51 shows the report_clock_gating_options command output when no options are set to specific objects.
"example 51 %> rsh mymachine ls test1 cshrc desktop > set_host_options ""mymachine"" -target redhawk \ -max_cores 2 -timeout 100 > analyze_rail -submit_to_other_machines \ -voltage_drop static -nets {vdd vddg vddx vddy vss} the above example first checks if the machine mymachine supports the rsh protocol, and then enables job submission to the mymachine machine for redhawk fusion only."
the pin_pair option is used to find cell real connection based on specified lib cell pin name.
.
.
.
.
.
◦ the routes are defined for a driver or load in the search region.
.
.
"to control which diodes are used, set the route.detail.diode_libcell_names application option."
.
.
.
.
.
"for example, figure 105 shows a routing corridor named corridor_1, which is made up of six rectangles."
.
.
.
.
.
"when you use near 100 percent redundant via insertion during initial routing, you should use soft-rule-based redundant via insertion during eco routing to preserve the redundant via rate achieved during initial routing."
.
.
.
.
.
.
.
.
.
.
the embedded groups then are handled similarly to leaf cells.
.
.
.
.
.
.
• applies the derived clock balance point constraints to the design.
.
"fc_shell> create_left_right_filler_cells \ -lib_cells { { {mylib/sc1} {mylib/lf4x mylib/lf2x} {mylib/rf2x mylib/rf1x} } { {mylib/sc2} {mylib/lf2x mylib/lf1x} {} } } when the create_left_right_filler_cells command inserts the filler cells, • it checks for legal locations for the filler cells, but does not check advanced rules such as minimum threshold voltage, oxide-diffusion (od), or trimpoly (tpo) rules."
.
the trim region is the checking region plus half of the distance specified by the signoff.check_drc_live.haloapplication option.
.
.
.
"to identify and map such eco cells to logically equivalent (leq) spare cells, use the following steps: 1. identify the eco cells that do not have matching spare cells by using the check_freeze_silicon command."
• the report_fanin_sequential_clock_gating_options command this command lists the settings for design objects.
.
.
.
.
.
.
.
note that you must specify clock nets by using the -nets option.
.
.
.
.
"to use the same orientation as the standard cell, use the -follow_stdcell_orientation option."
.
.
.
"when you use this application option, it uses the specified value for the step size in both the x- and y-directions."
.
529 crosstalk-driven global routing .
.
.
.
.
.
"by default, the tool cannot link any block with inconsistent or mismatching data."
.
.
.
you must also use the -lib_cells and -leakage_vt_order options to specify the available filler cells.
place_group_repeat ers eco-257 warning: cannot find cutline information for cell %s.
.
.415 creating clock straps .
.
.
"2. in the open error data dialog box, select the errors to examine and click open selected."
the valid format of cutline is {{x1 y} {x2 y}} or {{x y1} {x y2}}.
.
"by default, during buffering, the tool can add new cells to an exclusive hard move bound if it improves the qor."
.
"shielding after signal routing, which is referred to as postroute shielding, has a very minimal impact on routability, but provides less protection to the shielded nets."
.
"• performs same-layer shielding to perform coaxial shielding, use the -coaxial_above and -coaxial_below options."
"for a setup check, it uses maximum delays for the launch clock path and data path and minimum delays for the capture clock path."
.
.
.
"• -exclude object_list prevents the tool from self-gating the listed objects, even if they pass the internal checks."
.
.
.
.
.
.
.
.
outside (default) places shields on the outside of the trunk or group.
600 defining antenna rules .
.
.
use -override if you have to override cells.
.
.
.
.
.
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 395 chapter 5: clock tree synthesis implementing multisource clock trees feedback table 28 clock tree removal behavior (continued) object impact on clock tree removal three-state buffer preserved.
.
.
.
.
"• to use a multiplier to specify the minimum spacing, use the following syntax: create_routing_rule rule_name [-default_reference_rule | -reference_rule_name ref_rule] -multiplier_spacing multiplier the multiplier value must be between 0.001 and 2000. the default wire spacing for each layer is determined from the reference rule, which is either the default routing rule or the reference rule specified in the -reference_rule_name option."
.
.
"• to limit the analysis to a specific region or a specific number of random sites of the core area, use the -region or -trials option, respectively."
specify the rules by specifying a matching pattern for the rule names.
.290 clock-gating prerequisite conditions .
.
.
"for example, the following command displays the r1 qor snapshot that is stored in the snapshot directory: fc_shell> report_qor_snapshot -name r1 -display removing qor snapshots to remove an existing qor snapshot from the directory specified by the time.snapshot_storage_location application option, use the remove_qor_snapshot fusion compiler™ user guide v-2023.12-sp3 268 chapter 3: physical synthesis performing design analysis feedback command."
.
.
"a detailed table might show more in-depth path-group based timing information, showing the timing numbers for each separate scenario and path group in the design."
.
-shield_net_2 specifies the secondary net you want to use as the shield.
"for example, to define a partial blockage with a maximum allowed cell density of 60 percent (a blocked percentage of 40), enclosed by the rectangle with corners at (10, 20) and (100, 200), use the following command: create_placement_blockage -boundary {10 20 100 200} \ -type partial -blocked_percentage 40 to allow unlimited usage of a partial blockage area, specify a blockage percentage of zero (-blocked_percentage 0 option)."
be careful when changing the value of these parameters.
"by default, the tool creates the taps on the power and ground pins of the objects."
.
.
.
.
.
example 41 layer and cost specification for track adherence {{m2 off} {m3 off_cost 4}} fusion compiler™ user guide v-2023.12-sp3 769 chapter 9: routing using custom router using custom routing application options feedback differential-pair options the following custom router application options allow you to control differential-pair routing: application option description custom.route.diffpair_twist_jumper_enable twists the nets in the group.
.
.
.
.
.
.
.
"however, because high-effort redundant via insertion moves the vias more, it can result in a less lithography-friendly pattern at the 45-nm technology node and below."
.
◦outside: places shields on the outside of the trunk or group.
.
703 guided power grid augmentation .
.
.
511 routing must-join pins .
.
.
.
.
.
.
table 68 commonly used options for the set_missing_via_check_options command option description -redhawk_script_file uses an existing redhawk script file for the missing via check.
.
642 fixing remaining mask design rule violations .
.
.
"you can use ecos to fix functional, timing, noise, and crosstalk violations without synthesizing, placing and routing the entire design."
.
"considering wide cell density during placement if a cell cannot straddle the vertical power straps and the width of the cell is more than half the pitch of the power straps, only one such cell can be placed between the power straps."
"for advanced technology nodes with wide cells, enable wide-cell modeling during placement by setting the place.coarse.wide_cell_use_model application option to true."
.
.
.
"after moving the cells and performing eco routing, remove the keepout margins from the cells by using the optimize_routability -remove_keepouts command."
.
"before you can perform further placement and optimization, ◦ the hard macro cells in the relative placement groups must be placed and fixed ◦ the other cells in the relative placement groups that contain hard macro cells must be placed 4. perform further placement and optimization."
.
"to prevent zroute from reusing these locations, set the route.detail.reuse_filler_locations_for_diodes application option to false."
.
.
.
.
.
".256 controlling clock latencies, path groups, and boundary paths ."
.
.
.
set the value to zero to write all elements to the output file in descending order.
.
.
.
"the repeaters are represented by annotation objects at the same locations where they are to be inserted, with the same width and height as a repeater lib cell, and with the group id eco_preview_id."
.
.
.
.
.
.
"to specify the configuration name, use the -name option."
x opt-2002 missing parasitic information for corners or missing tluplus information.
.
.
.
"fc_shell> uniquify {a1 a2 a3} 3 fusion compiler™ user guide v-2023.12-sp3 169 chapter 2: preparing the design controlling the optimization of cells, nets, pins, and ports feedback this example creates unique reference copies for the filtered cells a and b. fc_shell> uniquify [get_cells {a b}] 2 preserving cells and nets during optimization to preserve design objects during optimization, use the set_dont_touch command."
.
signoff.create_metal_fill.
.
note that the widened wires do not trigger fat wire spacing rules.
"• to limit the analysis to a specific number of sites, use the -trials option."
.
.
.
the minimum path resistance value of a node is the resistance value on the smallest resistive path to the ideal voltage source locations (taps).
"alternatively, you can specify the sinks of the mesh net by using the -to option."
.
.
set_app_options -name rail.generate_file_type -value python #use user-defined test_def_files for def variable to match #with customized python.
.
.
.
"controlling via ladder connections for information about controlling the via ladder connections, see controlling via ladder connections."
• user-defined insertion delay requirements these exceptions specify special insertion delay requirements for a sink pin (either derived or user-specified).
.
.
.
.
.
.
31 1. working with the fusion compiler tool .
.
.
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 493 chapter 6: routing and postroute optimization routing constraints feedback reporting routing corridors to report the routing corridors in your block, use the report_routing_corridors command."
"to remove switching activity of specific nets, pins, ports, or the entire block, use the reset_switching_activity command."
"for details, see using routing guides to encourage river routing."
dimensionless group bound the tool determines the shape and location of the group bound based on the effort used to bring cells closer inside the group bound.
.
"to specify the prefix, use the -save_cell_prefix option."
.
.
.
.
"to report all open nets, use the -report_all_open_nets true option (or select “report all open nets” in the gui)."
.
.
.
"for information about eco routing, see performing eco routing."
.
.
.
.
.
.
.
signoff.check_drc_live.
.
"by default, the tool creates an editable abstract that you can modify in the context of a parent block."
.
.
.
.
.
.
"handling tap columns and relative placement group overlaps during coarse placement, to avoid the overlap of relative placement groups with the tap cell columns, use the place.coarse.no_split_rp_width_threshold application option."
.
check if you are trying to override cells without using the -override option.
such statements are lost in the traditional upf-prime flow.
.
.
.
.
.
.
.
.
"to specify the clock tree references, use the set_lib_cell_purpose -include cts command."
"for information about performing incremental metal fill insertion, see incremental metal fill insertion."
.
.
.
.
.
.
.
.
1. define nondefault routing rules by using the create_routing_rule command.
.
.
.
.
.
.
.
.
.
.
.
.
.
"the global router stops and exits from the rerouting phase when the congestion is solved or cannot be solved further or after the maximum number of phases has occurred, as defined by the -effort_level option."
.
.
.
.
.
◦ supernets must be routed.
.
.
.
.
.
.
.
.
.
"fc_shell> report_size_only -all preserving networks during optimization you can preserve networks, such as clock trees, during optimization by using the set_dont_touch_network command."
.
.
.
.
.
.124 defining guard bands .
.
.
.
"setting don’t touch settings to set a don't touch setting on a clock tree, use the set_dont_touch_network command."
.
◦ true: always creates the core and boundary.
.
.
.
.
"you can also see the flow id numbers in the “choose baseline and visible runs” dialog box, which is opened by clicking the runs button."
.
.
"to do so, use the -output option."
.
.
.
.
.
.
.
.
"otherwise, everything occupies a single line."
clock tree qor can further degrade when you detail route the signal nets due to coupling capacitance and crosstalk effects.
.
.
.
-top value (optional) reports the geometry layers with the top n voltage drop values.
"enabling variant-aware legalization to enable variant-aware legalization, set the place.legalize.enable_variant_aware application option to true."
.
.
• the cells considered for the check and the filler cells that can be used to replace the violating filler cells the filler cells considered for the check are called constrained cells.
"to specify an external gsr file to append to the gsr file generated in the current run, use the -extra_gsr_option_file option."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"at a minimum, you must specify the mim capacitor library cell, as well as the x- and y-increments of the array."
.
the fill cells are named fill_inst_#.
.
.
.
.
.
.
.
"• applying required settings for advanced technology nodes • applying required settings for high performance cores • applying required settings for improving specific qor metrics applying required settings for advanced technology nodes to apply placement, legalization, routing, and extraction setting specific to 12 or 7 nanometer technology nodes, use the set_technology command with the -node 12 or -node 7 option."
.
.
.
.
.
956 automatically adding spare cells .
.
.
.
.
.
.
"a via ladder can be identified as an electromigration via ladder by using one of the following methods: • by using the forelectromigration=1 construct when defining the via rule in the technology file, as shown in the following example: viarule ""emvp1"" { ... ... ... forelectromigration=1 } • by setting the for_electro_migration attribute to true, as shown in the following example: fc_shell> set_attribute [get_via_rules emvp1] \ for_electro_migration true see also • defining via ladder rules fusion compiler™ user guide v-2023.12-sp3 182 chapter 2: preparing the design specifying settings for preroute optimization feedback assigning nondefault routing rules to critical nets to improve timing qor, you can enable the tool to automatically assign nondefault routing rules to nets with critical timing."
.
.
.
.
here are commonly used options of the report_hot_spots command: option description -index lists the hotspot grids by index.
.
"by default, the global layer constraints are used for rc estimation, congestion analysis, and as soft constraints for routing."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"for example, to get all the routing blockages in a block, use the following command: fc_shell> get_routing_blockages * to find the routing blockages for specific nets, use the -of_objects option to specify the nets of interest."
fusion compiler™ user guide v-2023.12-sp3 649 chapter 7: chip finishing and design for manufacturing inserting filler cells feedback figure 130 fixing a maximum vertical edge length violation maximum stacking for small filler cells rule the maximum stacking for small filler cells rule restricts the stacking height of small filler cells.
.
.
.
.
.
"note: to create redhawk macro models using the redhawk gds2rh utility, you must specify the path to the redhawk executable with the rail.redhawk_path application option before running the exec_gds2rh command."
.
"the minimum wire length is set to 10, so the length for each of the wires in the group is at least 10 microns."
"fc_shell> add_buffer_on_route net1 -lib_cell buf1 \ -location {100 200 m4} fusion compiler™ user guide v-2023.12-sp3 965 chapter 13: eco flow adding buffers on routed nets feedback by default, the tool uses eco_cell and eco_net as the name prefix of all new cells and nets."
.
"when you use this setting, the tool performs total-power optimization during the clock_opt command."
.
(cts-659) ... converting metal shapes in horizontal layer m9 and vertical layer m8 into placement blockages.
.
.
.
.
signoff.
599 inserting boundary cells .
.
.
.
.
.
.
.
.
850 reporting early data check records .
.
the following example shows the code for the a * b + c + d = z expression.
.
"if you specify both options, the -max_fanout option is ignored."
.
.
.
.
"when you create an abstract with power information, the tool stores the power information only for the logic that is removed."
.
.
12. enable integrated tap assignment by setting the compile.flow.enable_multisource_clock_trees application option to true and run the compile_fusion -from initial_place command.
.
.
.
it then runs the missing via check during static rail analysis.
example 20 shows a track assignment report.
.
.
.
note that these shields are marked as dynamic shields.
.
.
"if the specified alignment pin does not exist in any cell in the column, the fusion compiler tool issues a warning message."
.
.
.
.
.
.
.
.
"by default, voltage areas do not have guard bands."
.
.
.
.
"to connect pg nets to tie-off pins only, use the -tie option."
you can use routing guides and blockages to enable access to the hard macro pins.
.
"to check the perimeter constraint objects, use the -check_only option with the derive_perimeter_constraint_objects command."
.790 adding blockages .
.
.
"because the command performs automatic ungrouping at an early stage, it has a better optimization context."
2. create routes for the ddr nets by running the route_custom command.
inserting a buffer on a physical-feedthrough net can cause a mismatch between the fusion compiler™ user guide v-2023.12-sp3 128 chapter 2: preparing the design setting up multivoltage designs feedback logical and physical view of the buffer.
.
"figure 36 combinational multibit library cells to enable combinational multibit mapping during the initial_opto and final_opto stages, use the opt.common.enable_multibit_combinational_cells application option with the set_app_options command: fc_shell> set_app_options -name opt.common.enable_multibit_combinational_cells -value true fusion compiler™ user guide v-2023.12-sp3 253 chapter 3: physical synthesis performing multibit optimization feedback note: by default, the tool debanks the multibit combinational cells."
.
.
.
"during logic optimization, the specified registers are replicated and the loads of the original registers are evenly distributed among the new replicated registers when the -num_copies option is used."
.
fusion compiler™ user guide v-2023.12-sp3 237 chapter 3: physical synthesis controlling mapping and optimization feedback controlling register replication you can perform logic optimization by running the compile_fusion -to logic_opto command.
this command cannot be used to read verilog rtl files.
.
.
.
.
.
"this topic described how to derive the following types of routing guides: • deriving pin access routing guides • deriving metal cut routing guides see also • defining routing guides fusion compiler™ user guide v-2023.12-sp3 479 chapter 6: routing and postroute optimization routing constraints feedback deriving pin access routing guides when you reuse hard macros, such as ip blocks, at a smaller technology node, it can cause routability issues to the macro pins."
.
.
.
.
.
.
.
.
.
"• if there is no balancing requirement between the endpoints, you must create separate skew groups for each endpoint."
.
"disabling place.coarse.auto_density_control or manually setting place.coarse.max_density to 0 causes uniform spreading of the cells in the core area) specify a maximum utilization that controls how densely the tool can place cells in less congested areas that surround highly congested areas, so that the cells in the congested areas can be spread out to reduce the congestion place.coarse.congestion_driven_max_util (default is 0.93) when specifying the maximum density or maximum utilization, choose a value between 1 and the overall utilization of the block."
.
.
.
.
.
.
.
.
2. load the redhawk fusion results by using the open_rail_result command.
"fc_shell> analyze_rail -nets {vdd vss} -min_path_resistance viewing minimum path resistance analysis results when the analysis is complete, run the report_rail_result -type minimum_path_resistance command to display a minimum path resistance map, write the results to an output file, or query the attributes on the cell instances or pins."
.
.
.
.
"to learn about setting up libraries, see the following topics: • working with design libraries • setting up reference libraries • library configuration • restricting library cell usage • restricting the target libraries used • specifying library subset restrictions fusion compiler™ user guide v-2023.12-sp3 73 chapter 2: preparing the design setting up libraries feedback working with design libraries you can create, open, query, save, or close a design library, using an absolute path, a relative path, or no path, by using the following commands: • create_lib this command creates the library in memory and sets it as the current library."
• -timing_preserve_setup_slack_threshold this option enables the tool to automatically determine the critical nets based on a setup slack threshold.
.
.
"• to disable the reuse of dangling wires, set the -utilize_dangling_wires option to false."
"3. legalizes the block 4. performs eco routing 6. for information about setting application options to control concurrent clock and data optimization, see controlling concurrent clock and data optimization."
.
.
"• the nets, bundles, and topology edges to which the constraint group applies to specify the objects that constitute the constraint group, use the -for option."
"• to remove all routing corridors, specify the -all option."
.
.
"note: if you also use the -merge_regions option, you must specify the guard band widths for each disjoint shape after merging."
.
.
.
.
"by default, the maximum delayed latency is 100 ps, and the maximum advanced latency is 300 ps."
.
.
.
.
"figure 13 gap in library cell family identifying redundancies, outliers, equivalences, and gaps in library cell families to identify redundancies, outliers, equivalences, and gaps in cell families, perform the following steps: 1. create a collection of the libraries you want to analyze, which is known as a libset, by using the create_libset command, as shown in the following example: fc_shell> create_libset -name mylibset -libs {abcd1 abcd2} when you perform library analysis, you can specify the libset name, instead of specifying a list of libraries."
.
.
.
x x opt-3002 cell is physical hierarchy and not allowed in compile.
"• total demand minus total supply in this mode, the tool calculates the congestion value by subtracting the supply for all selected layers from the demand for all selected layers."
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 597 chapter 7: chip finishing and design for manufacturing performing boundary cell insertion feedback creating placement blockages during boundary cell insertion if your technology has minimum jog or minimum separation requirements, you can create placement blockages for these requirements during boundary cell insertion with the compile_boundary_cells command by using the following options with the set_boundary_cell_rules command: • -min_horizontal_jog if a horizontal edge of a macro, including its hard keepout margin, hard placement blockage, or voltage area, including its guard band, is less than the specified value, the compile_boundary_cells -add_placement_blockage command creates a placement blockage to prevent a violation."
.
.
.
.
.
"however, you can enable this capability for nets that were initially shielded with the create_shields command by changing the route.common.reshield_modified_nets application option from its default of off."
.
.
.
.
.
.
"• to enable timing-driven mode, set the route.global.timing_driven, route.track.timing_driven, and route.detail.timing_driven application options to true."
the following example checks for possible relative placement constraint violation in the group named rp_volt1: fc_shell> check_rp_constraints rp_volt1 ********************************************************************** *** report : relative placement summary total number of specified top level relative placement groups: 1 total number of relative placement groups which may not honor its constraints: 1 ************************************************************************* rp group: rp_volt1 ------------------------------------------------------------------------- warning: the height of relative placement group 'rp_volt1' is more than the height of voltage area or exclusive move bound.
.
.
"the command writes the design.mcmm directory, which contains timing contexts in tcl files for ."
.
.
"analyze -format vhdl -hdl_library bot_hdl_lib bot.vhd analyze -format vhdl -hdl_library mid_hdl_lib mid.vhd analyze -format vhdl top.vhd elaborate top set_top_module top if the top-level design is analyzed to an hdl template library other than the default library, you should provide the hdl template library name for the top-level design using the -hdl_library option."
this error occurs when the routes are not aligned or not at the same layer since they are not merged.
"each item in the object list can be a cell or a library cell, or a collection of cells and library cells."
.
.
.
.
592 performing boundary cell insertion .
.
.
.
.
.
use the -grid option to create multiple straps for both the clock mesh and clock spine structures.
.
.
.
.
.
.
.
699 standard power grid augmentation .
.
"• if you press ctrl+c three times before a command responds to your interrupt, fc_shell is interrupted and exits with this message: information: process terminated by interrupt."
◦ ultra (-effort_level ultra) ultra effort runs up to six rerouting phases.
.
.
.
.
.
.
.
.
.
.
"the command creates a via ladder named via_ladder_n, where n is a unique integer."
place_group_repeat ers eco-256 warning: the first distance (%s) specified by command option is shorter than the gap (%s) between pin and route for driver (%s).
.
.
.
.
"fc_shell> set_app_options \ -name signoff.create_metal_fill.user_defined_options \ -value {-d indesign_user_defined_param_file=file_name} • for track-based metal fill insertion, you pass the parameter file to the ic validator tool by using the-track_fill_parameter_file option with the signoff_create_metal_fill command."
.
.
"however, if your design has hold violations that are difficult to fix, you can increase the effort for hold fixing by setting the ccd.hold_control_effort application option to medium, high, or ultra."
.
.
"you need to specify the following information: • the name of the constraint group if you do not specify a name, the command names the constraint group shielding_n, where n is a unique integer."
.
.
.
the matching box should cover the entire available channel space.
"to query cells with the pattern_must_join attribute, use the following command: fc_shell> get_attribute \ [get_lib_pins -all -of_objects */*/frame ] pattern_must_join to get a list of pins that are marked with the pattern_must_join attribute, use the following command: fc_shell> get_lib_pins -all \ -of_objects */*/frame -filter ""pattern_must_join==true"" by default, a via ladder is not inserted if there are fixed shapes on higher layers that block the insertion."
.
.
.
.
.
.
.
.
you can change the name of the command log file by setting the sh_command_log_file variable in your .synopsys_fc.setup file.
.315 clock gating and multibit registers .
.
.
.
.
.282 querying specific message ids .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
the distance between the driver and the first repeater cell is 10 percent of the total net length.
.
table 66 lists the application options for specifying design and input data for running redhawk/redhawk-sc rail analysis within the fusion compiler environment.
.
.
.
the fusion compiler incremental signoff eco flow consists of the following steps: 1. open the design library by using the open_block command.
the strip_path argument is case- sensitive.
.
signoff.check_drc.
.
.
.
"ctrl+c indicates a keyboard combination, such as holding down the ctrl key and pressing c. customer support customer support is available through solvnetplus."
.
.
.
.
.
.
.
.
.
"to change the extent to which timing-driven detail routing prefers lower-resistance metal layers when routing timing- critical nets, set the route.common.rc_driven_setup_effort_level application option."
specify the distance_to_net_pin option as a list of pairs.
.
.
.
a tolerance of 10 percent is set to match the length of each object in the constraint group.
49 using tcl scripts .
.
.
.
.
.
.
"running interclock delay balancing before you perform interclock delay balancing, you must generate the interclock delay balancing constraints as described in defining the interclock delay balancing constraints."
a supply set handle is an abstract supply set created for a power domain.
"for more information, see generating instance-based analysis reports and generating geometry- based analysis reports."
.
.
.
.
.
.
.
.
.
.
.
.
.
"by default, zroute checks the nondefault spacing rules between signal nets and other signal nets, pg nets, and blockages, but not between shapes of the same signal net or between signal nets and shield wires for pg nets."
.
.
.
.
.
• the metal shapes are on a metal layer that corresponds to a cut metal layer defined in the technology file.
"to reduce the runtime required by the check_lvs command, enable multithreading by using the set_host_options command, as described in enabling multicore processing."
.
361 enabling wire length aware power-driven relocation .
.
will be overwritten!
.
.
.
.
.
.
.
.
.
.
.
"• performs design rule checking on the entire block ◦ to perform design rule checking only on those areas of the block that have been modified since the last run, use the -auto_eco option."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"• the default routing rule, the spacing requirement is doubled the name of this new nondefault rule is default_rule_equivalent_ndr_double_spacing."
"figure 45 synchronous load-enable register with multiplexer flip flop mux control logic register bank en clk data in 0 1 data out when the synchronous load enable signal (en) is at logic state 0, the register bank is disabled."
.
.
.
zroute is architected for multicore hardware and efficiently handles advanced design rules for 45 nm and below technologies and design-for-manufacturing (dfm) tasks.
"to add buffers on such route segments by creating new ports, use the -punch_port option."
shielding above or below the layer is called coaxial shielding.
.
.
.
"• effective guard bands of a voltage area to display the effective guard bands of a voltage area, query the effective_guard_band_boundaries attribute of the voltage area."
"fusion compiler™ user guide v-2023.12-sp3 687 chapter 8: ic validator in-design performing signoff design rule checking feedback 3. writes a summary report of the results for information about the summary report, see summary report for automatic design rule fixing."
.
.
.
.
"• the freeze layer constraints set by the route.common.freeze_layer_by_layer_name and route.common.freeze_via_to_frozen_layer_by_layer_name application options to ignore the routing layer constraints during the blocked port checks, use the -honor_layer_constraints false option."
.
"for example, to run 17 parallel tasks, you need 2 fusion compiler licenses."
"to see the current settings, use the report_app_options command."
.
.
.
.
"be sure to use the -incremental option; otherwise, zroute restarts at iteration 0 with a fixed-size partition."
overthreading can reduce performance because the extra threads compete for resources.
900 viewing voltage drop analysis results .
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 836 chapter 11: hierarchical implementation making changes to a block after creating an abstract feedback to report the reasons for including specific netlist objects in the abstract view, you can use the report_abstract_inclusion_reason command for objects across all hierarchies in the abstract."
.
.
"when the tool identifies combinational elements, these elements must have only two input pins (the clock pin and the enable signal pin) and only one output pin."
.
.
.
.
630 optimizing wire length and via count .
"if you do not set any latency values, the reported offsets are equal to the estimated latency values."
.
"before inserting metal fill, the block should be close to meeting timing and have very few or no drc violations."
.
.
.
.
.
"run_dir signoff_fill_run specifies the run directory, which contains the files generated by the signoff_create_metal_fill command."
.
.
.
.
.
.
.
"fc_shell> set_lib_cell_purpose -include cts \ {hvt_lib/buf1 hvt_lib/buf2 lvt_lib/buf1 lvt_lib/buf2} fc_shell> set_target_library_subset -clock {lvt_lib} \ -objects [top/tsk_blk] fc_shell> set_app_options \ -name opt.common.enable_target_library_subset_opt -value 1 fusion compiler™ user guide v-2023.12-sp3 359 chapter 5: clock tree synthesis specifying the clock tree synthesis settings feedback setting skew and latency targets by default, clock tree synthesis tries to achieve the best skew and latency for all clocks."
"each metal shape is placed at the specified offset, o, from the horizontal (preferred-direction) edge, where o is measured from the boundary to the center of the shape."
.
141 defining a soft placement blockage .
.
.
.
520 routing critical nets .
.
max_detail_route_iterations 5 specifies the maximum number of search and repair loops to run after signoff drc fixing.
.
.
.
"when you enable this feature, the create route tool honors the metal width and metal spacing requirements from the nondefault routing rule and uses these settings to determine the width and pitch of the routes."
"by default, blocks are processed in a bottom-up order."
.
figure 126 shows how the jog length and jog spacing values are used in wire spreading.
figure 175 shows cells that are right aligned.
.
.
the enable signal must come from a register that uses the same clock as the register being gated.
.
.
.
this capability is enabled by default for the synthesize_clock_trees and clock_opt commands.
the tool uses auto as the default prefix for the saved block names.
473 removing routing blockages .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 142 chapter 2: preparing the design specifying physical constraints for placement and legalization feedback ◦ the same attribute can be applied to a reference and an instance.
.
"if clock-gate level expansion is disabled, the tool ignores the compile.clockgate.enable_activity_driven_level_expansion application option."
.
"fusion compiler™ user guide v-2023.12-sp3 92 chapter 2: preparing the design analyzing libraries feedback 9. report the library cell gaps, redundancies, outliers, and equivalence identified during library analysis by using the report_library_analysis command, as shown in the following example: fc_shell> report_library_analysis -analysis mylibset_run1 \ -analysis_type redundancy -detail fc_shell> report_library_analysis -analysis mylibset_run1 \ -analysis_type outlier -detail fc_shell> report_library_analysis -analysis mylibset_run1 \ -analysis_type equivalent -detail fc_shell> report_library_analysis -analysis mylibset_run1 \ -analysis_type gap -detail 10. generate plots by using the gui_plot_lib_cells_attributes command, as shown in the following example: fc_shell> gui_plot_lib_cells_attributes -libset mylibset \ -lib_cell_type all -x_attrib_name leakage -y_attrib_name avgsl_fall_delay \ -chart_type scatter comparing libraries to compare libraries, perform the following steps: 1. create a collection of the libraries you want to analyze, which is known as a libset, by using the create_libset command, as shown in the following example: fc_shell> create_libset -name mylibset -libs {abcd1.db abcd2.db} when you perform library analysis, you can specify the libset name, instead of specifying a list of libraries."
.
.
.
.
.
.
- area is based on physical libraries.
.
.
.
.
.
.
.
.
.
custom.route.net_min_layer_mode custom.route.net_min_layer_mode_soft_cost custom.route.net_max_layer_mode custom.route.net_max_layer_mode_soft_cost specifies the minimum and maximum layer mode and the layer cost.
.
.
"2. specify the via ladders that can be used for specific library pins by using the set_via_ladder_candidate command, as described in specifying via ladder candidates for library pins."
.
.
.
.
.
the extraction and timing update can be time consuming and might not be necessary for your block.
"in this situation, you must create a custom mapping file that contains the cell pairs you want to compare, as shown in the following example: invd2bwp invd1bwphvt invd2bwp buffd4bwphvt nd2d2bwp nd2d4bwphvt dfqd4bwp sdfqd4bwphvt then, when you run the compare_libraries command, you must specify this mapping file, by using the -custom_pairs option, as shown in the following example: fc_shell> set_app_options -name libra.complib.match_full_cell_name -value false fc_shell> compare_libraries -ref_lib $rvt_lib -ref_lib_analysis sa \ -target_lib $lvt_lib -target_lib_analysis sa \ -custom_pairs custom_map_file -verbose -plot reading the design before you read a design, you must create or open the design library associated with the design, as described in setting up libraries."
"of scenario = 4 s1 = function s2 = function_min s3 = test s4 = test_min fusion compiler™ user guide v-2023.12-sp3 267 chapter 3: physical synthesis performing design analysis feedback ------------------------------------------------------------------------ --- wns of each timing group: s1 s2 s3 s4 ------------------------------------------------------------------------- regin -0.34 - - - fref_clk0 2.34 3.25 - - pld_clk 0.65 1.65 - - pll_fixed_clk_central 0.61 1.65 - - regout 0.39 0.44 1.18 1.72 ... ------------------------------------------------------------------------- setup wns: -0.34 0.44 1.02 1.10 -0.34 setup tns: -130.82 0.00 0.00 0.00 -130.82 number of setup violations: 1152 0 0 0 1152 hold wns: -0.55 -0.78 -0.30 -1.28 -1.28 ... ------------------------------------------------------------------------- area: 1200539.606 cell count: 562504 buf/inv cell count: 145920 std cell utilization: 0.24 ... querying qor snapshots to retrieve and report the snapshots created by the create_qor_snapshot command, use the query_qor_snapshot command."
.
.
"before you synthesize the local subtrees, you must 1. build the global clock distribution structure."
.
.
"note: before creating taps with simple package rlc models, you must enable the redhawk signoff license key using the rail.allow_redhawk_license_checkout application option."
• objects: a list of hierarchical objects to query.
.
.
.
.
.
.
.
.
.
.
.
3. define the relative placement constraints and settings.
.
.
.
.
.
"if you specify both options, the command does not check design rules in the overlapping regions."
.
.
.
.
.
.
.
.
.
.
.
.
"after it is created, the via definition can be used anywhere in the design, similar to a contactcode definition in the technology file."
"for more information, see the man page for the check_pt_qor command."
.
.
"note: while applying the clock-gating techniques, the tool considers generated clocks similar to defined clocks."
.
.
.
.
.
.
.
the set_clock_latency command use the set_clock_latency command to specify clock network latency for specific clock- gating cells.
"fusion compiler™ user guide v-2023.12-sp3 219 chapter 3: physical synthesis controlling mapping and optimization feedback 0 constant propagation 0 phase inversion unloaded propagation equal-opposite logic propagation disabled enabled disabled disabled disabled enabled enabled enabled disabled: without boundary optimization enabled: with boundary optimization global control by default, all types of boundary optimization are enabled during compile."
.
.
"the following example puts the top 2 percent of the total cells in the upper category, and the next cells that have a voltage drop larger than 4 percent of supply voltage in the middle category: fc_shell> set_app_options \ -name place.coarse.ir_drop_default_target_high_population \ -value true fc_shell> set_app_options \ -name place.coarse.ir_drop_default_target_high_percentage \ fusion compiler™ user guide v-2023.12-sp3 161 chapter 2: preparing the design specifying legalization settings feedback -value 2.0 fc_shell> set_app_options \ -name place.coarse.ir_drop_default_target_low_population \ -value false fc_shell> set_app_options \ -name place.coarse.ir_drop_default_target_low_percentage \ -value 4.0 you can set constraints for specific voltage areas by using the set_placement_ir_drop_target command."
.
.
.
.
.
.
.
.
.
.
.
"to remove mappings from the via mapping table, use the remove_via_mappings command."
layer m1 wire length = 947324.93 phase3.
.
"if you prefer having the fusion compiler tool generate the necessary power data for rail analysis, set the -power_analysis option to icc2."
.
.
.
"to enable this mode, set the route.global.deterministic application option to on."
.
a power state table lists the allowed combinations of voltage values and states of the power switches for all power domains in the design.
.
.
you can specify detect as the type only when you are creating a clock spine structure and want the tool to detect and use existing spines.
.
.
"if the cell instances represented by etms have internal clocks, you must reapply these clock definition from the top level."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"to modify these requirements, set the appropriate application options, as described in specifying the spacing requirements for timing-driven metal fill insertion."
it does not use the runset specified by the signoff.create_metal_fill.runset application option.
.
.
.
.
.
.
.
.
.
.
.
"the following example • disables all boundary optimization for the u1 cell instance • disables equal-opposite logic propagation and phase inversion for the u2 cell instance • disables constant propagation and phase inversion for the u3/in1 cell pin fc_shell> set_boundary_optimization [get_cells u1] none fc_shell> set_boundary_optimization [get_cells u2] auto fc_shell> set_boundary_optimization [get_pins u3/in1] \ -constant_propagation false fusion compiler™ user guide v-2023.12-sp3 221 chapter 3: physical synthesis controlling mapping and optimization feedback fc_shell> set_boundary_optimization [get_pins u3/in1] \ -phase_inversion false controlling phase inversion to prevent boundary optimization from moving inverters across hierarchical boundaries, set the compile.optimization.enable_hierarchical_inverter application option to false."
"• to specify additional layers to be ignored for rc estimation and congestion analysis, use the -rc_congestion_ignored_layers option."
"• (optional) by default, the analyze_rail command automatically generates a gsr file for running redhawk rail analysis."
"• by default, if the block contains existing global routes, the route_group command ignores them during global routing."
• prevent the tool from increasing the path depth by more than three levels of logic by setting the place.coarse.cong_restruct_depth_aware application option to true.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"specifying net-specific layer constraints to specify net-specific layer constraints, use the set_routing_rule command."
"when the en signal is at logic state 1, the register is enabled, allowing new values to load at the d input."
.
.
.
.
"note: if you are performing pattern-based metal fill insertion and the blockage layer numbers differ between the technology file and the foundry runset file, you must provide a layer mapping file, as described in defining the layer mapping for ic validator in-design commands."
.
fusion compiler™ user guide v-2023.12-sp3 226 chapter 3: physical synthesis controlling mapping and optimization feedback user-specified tool evaluated implemented using mux gates implemented using mux or non mux gates based on area costing analyze elaborate infers select_op cells compile_fusion selecting and multiplexing logic the fusion compiler tool infers select_op cells for logic that selects data signals based on control signals.
.
"to specify the target filler cells and their replacements, use the following syntax with the -replace_abutment option: { {target_cell1 refill_cell1} ... } to ignore filler cells that have a physical_status attribute of fixed or locked, use the -skip_fixed_cells option with the replace_fillers_by_rules command."
.
.
.
.
"to run eco routing, use the route_eco command."
.
.
.
.
.
.
.
.
915 voltage driven power switch cell sizing .
the tool identifies preexisting clock-gating cells during the analyze and elaborate commands.
you can find all the self-gates in a design by using the get_clock_gates command.
"the soft congestion data includes demand from soft nondefault spacing rules, as well as tool-generated soft rules."
.
.
.
.
.
.262 measuring quality of results .
fusion compiler™ user guide v-2023.12-sp3 1009
.
.
.
"to report the hold slacks at these pins, use the -hold option."
.
.
.
.
.
.
.
the default is 0.
"to identify disabled timing arcs in the block, use the report_disable_timing command."
.
.
.
.
.
.
.
.
.
"fc_shell> set_app_options -name rail.generate_file_type -value python 2. set the rail.generate_file_variables application option to specify the variables for generating the input files (including def, lef, spef, twf and ploc files) to add to the user-customized python script file."
.
.
.
.
• specify the maximum fanout of the replicated registers by using the -max_fanout option.
.
.
.
.
.
.
.
"these cells can be programmed by metal mask changes for eco implementation, reducing mask costs and time-to-results."
.
.
.
.
.
.
.
"for details about the format of the layer mapping file, see defining the layer mapping for ic validator in-design commands."
"in this example, there are two clock gates and three self-gates, for a total of five clock-gating elements."
.
.
.
.
.
.
"to prevent changes to the pin shape boundary, set this application option to true."
.
you can improve the clock tree and timing qor by fixing all the issues identified by the check_clock_trees command.
you can restrict the report to specific voltage areas by using the -voltage_areas option or to a specific rectangle or rectilinear area by using the -boundary option.
.
.
.
.
.
.
.
775 using a ddr routing flow .
.
.
.
"use the following command to define the antenna rules for this example: fc_shell> define_antenna_rule -mode 1 -diode_mode diode_mode \ -metal_ratio 400 -cut_ratio 20 because this example uses the global layermaxratio value and the default diode ratio vector, you do not need to define a layer-specific antenna rule."
.
the grcs value is the total number of overcongested global routing cells in the block.
.
.
.
.
.
.
.
.
"• to honor nondefault spacing rules between shapes of the same signal net, set the route.detail.var_spacing_to_same_net application option to true."
.
.
"by default, the add_redundant_vias command inserts redundant vias on all nets."
"note: if you use the -output_colored_fill true option, the default changes to 1. mx_fill_datatype_ color1 vx_fill_datatype_ color1 mx_fill_datatype_ color2 vx_fill_datatype_ color2 0 specifies the data type of the inserted colored fill shapes."
you can run the commands either in the background (with the redirect -bg command) or in the foreground (with the parallel_execute command).
.
.
• specify the checkpoint action name with the-enable option.
.
.
.
.
.
instance-based current map: this map shows how current flows through the selected switch cell.instance-based effective voltage map: this map shows the effective voltage at the selected switch cell.instance-based voltage difference map: this map shows the voltage difference across the selected switch cell.
.
.
.
.
.
.
.
.
.
.
"signoff.fix_drc.check_drc local controls whether signoff drc checking is performed only on those portions of the block affected by signoff drc fixing (local, which is the default) or on the entire block (global)."
.
"fusion compiler™ user guide v-2023.12-sp3 653 chapter 7: chip finishing and design for manufacturing inserting filler cells feedback by default, the command measures the distance to the cells that abut the target tap cell."
.
.
fc_shell> synthesize_clock_trees 4. route the clock nets.
"by default, the create_placement_blockage command creates a hard placement blockage."
.
.
"example the following example reports instance voltage drop results within the specified area: fc_shell> get_instance_result -net vdd -type voltage_drop \ -touching {{1610 1968} {1620 1969}} isw2/isw2_pktpro/u179070 -0.053533 isw2/isw2_pktpro/u64076 -0.0535949 isw2/isw2_pktpro/u83035 -0.0535949 isw2/isw2_pktpro/u181017 -0.0535949 isw2/isw2_pktpro/u103335 -0.05366 isw2/isw2_pktpro/u181049 -0.05366 isw2/isw2_pktpro/u98988 -0.05366 isw2/isw2_pktpro/u201986 -0.053713 isw2/isw2_pktpro/u181064 -0.053719 isw2/isw2_pktpro/u79791 -0.053809 isw2/isw2_pktpro/u179052 -0.054007 isw2/isw2_pktpro/u4120 -0.054073 isw2/isw2_pktpro/u20408 -0.054287 fusion compiler™ user guide v-2023.12-sp3 930 chapter 12: redhawk and redhawk-sc fusion writing analysis and checking reports feedback see also • voltage hotspot analysis generating geometry-based analysis reports use the get_geometry_result command to write the geometry information with rail results to an output file, in the units defined with the report_units command."
"fusion compiler™ user guide v-2023.12-sp3 922 chapter 12: redhawk and redhawk-sc fusion working with macro models feedback figure 211 fixing violations in block contexts content of block contexts the create_context_for_sub_block command models the full-chip context of a block, including physical models and electrical models."
this opens a help page in the man page viewer.
.
• can reduce the number of lines of relative placement information you need to write.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"when using this feature, ensure that • the same scenarios are active at each step and each iteration of the flow • the machine learning model is re-created if there are changes to the design, its environment, or the flow fusion compiler™ user guide v-2023.12-sp3 390 chapter 5: clock tree synthesis implementing clock trees and performing post-cts optimization feedback routing clock trees after synthesizing and optimizing the clocks, you can detail route the clock nets by using the route_group command, as shown in the following example: fc_shell> route_group -all_clock_nets -reuse_existing_global_route true when you set the -reuse_existing_global_route option of the route_group command to true, the detail router uses the existing clock global routes, which ensures better correlation."
.
.
.
.
figure 226 shows the variant mapping and flipped mapping id.
.
.
.
.
"for a vertical-row block, rows start at the bottom and end at the top, so the top boundary is along the left side of the block and the bottom boundary is along the right side of the block."
.
.
.
.
.
.
.
.
.
.
.
.
393 marking clock trees as synthesized .
.
962 using eco scripts for netlist editing .
"to set library subset restrictions on leaf cells, 1. define a subset of library cells by using the define_libcell_subset command."
.
.
the combinational logic cone associated with the input of the register can also be deleted if the cell is not used in the design.
.
"by default, the spread_zrt_wires comandcomandspread_zrt_wires spread_wires command uses the following settings to spread the signal wires on the same layer: to perform wire spreading, use the spread_zrt_wires comandcomandspread_zrt_wiresspread_wires command."
.
.
540 performing preroute shielding .
.
◦double_interleave: shields each wire individually.
.
.
"• the routing blockages are inserted on all routing layers to insert the routing blockages only on specific routing layers, use the -layers option."
"to do so, use the following application option setting: fc_shell> set_app_options -name place.coarse.icg_auto_bound \ -value true when you enable this feature, the tool creates the automatic group bounds at the beginning of placement and removes them at the end of placement."
"to specify the name for the error data file, use the -error_data option."
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 262 chapter 3: physical synthesis performing design analysis feedback use this command to do this report_power calculate and report dynamic and static power of the design or instance.
"preventing connections to register qn pins during sequential mapping, the tool can map registers to library cells that have both q and qn pins, if doing so improves the qor."
.
.
the tool issues a warning message if the tap does not touch any layout shape.
"in general, redundant via insertion has the same priority as other hard design rules; however, if design rule checking does not converge during detail routing, zroute automatically relaxes the redundant via constraints to improve drc convergence."
.
this transformation improves the quality of results (qor) by using carry-save arithmetic.
.
.
"incremental signoff eco flow when you make eco changes in the primetime tool and incorporate these changes by performing the fusion compiler unconstrained eco flow, it might be necessary to iterate multiple times between the tools to meet the required qor goals."
.
.
.
you can also choose to set the orientation of relative placement groups by using the set_rp_group_options command.
.
.
"to disable this capability, set the cts.common.enable_auto_exceptions application option to false."
.
.
.
323 self-gating optimization .
.
specifying automatic via ladder insertion settings for preroute optimization a via ladder is a stacked via that starts from the pin layer and extends into the upper routing layers.
.
fusion compiler™ user guide v-2023.12-sp3 736 chapter 8: ic validator in-design inserting metal fill with ic validator in-design feedback the signoff_report_metal_density command uses the options that you specify to generate the command line to invoke the ic validator tool.
.
.
.
.474 using routing guides to control the routing direction .
.
877 generating rail analysis script files .
.
.
.
.
.
.
.
.
"• runset_layer – layer number in the runset file, a required item • runset_data_type – layer data type number in the runset file any text in a line that comes after a semicolon character (;) is considered a comment and has no effect on layer mapping."
"after filler cell insertion, use the replace_fillers_by_rules command to fix these design rule violations."
.
• debanks multibit combinational cells as needed to improve qor.
.
.
.
.
.
.
.
you can identify the differences in the fusion compiler and primetime settings by using the check_consistency_settings command.
.
.
.
.
.
-objects specifies the list of objects to which the clock-gating options are applied.
.
.
◦orthogonal: applies 90-degree twists to the wires.
.
.
fc_shell> open_rail_result fc_shell> report_rail_result -type effective_voltage_drop \ -supply_nets { vdd vss } inst_effvd.rpt fc_shell> sh cat inst_effvd.rpt #cell_instance_pg_pin_name mapped_pg_pin_name supply_net_name #average_effective_voltage_drop_in_tw #max_effective_voltage_drop_in_tw min_effective_voltage_drop_in_tw #max_effective_voltage_drop s32_reg_14_/vdd vss vdd -7.750034332e-03 -1.017999649e-02 -5.850076675e-03 -1.029992104e-02 s32_reg_15_/vdd vss vdd -7.709980011e-03 -1.013994217e-02 -5.810022354e-03 -1.026010513e-02 s46_reg_8_/vdd vss vdd -7.179975510e-03 -9.490013123e-03 -5.330085754e-03 -1.021003723e-02 ... the following example writes the minimum path resistance values of cell instances to an output file called inst_minres.rpt.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
the top-level module must be one of the modules that is elaborated.
you can use ic validator in-design to perform the following tasks: • signoff design rule checking (the signoff_check_drc command) • fixing the violations detected during signoff design rule checking (the signoff_fix_drc command) • augmenting the power grid based on voltage drop information (the signoff_create_pg_augmentation command) • inserting metal fill (the signoff_create_metal_fill command) • fixing isolated vias (the signoff_fix_isolated_via command) note: an ic validator license is required to run the ic validator in-design functions.
.
typical critical dimension metal fill insertion typical critical dimension (tcd) structures can improve yield for designs.
.
.
"groups rp1, rp2, rp3, and rp4 are all in the design top."
.
.
.
"to print the rtl file name and line number of these optimized register in the compile_fusion command log file and in the report_transformed_registers command output, set the compile.seqmap.print_cross_probing_info_for_removed_registers application option to true."
.
"in these cases, you can use layer-based tapering, which targets drc violations on nets with nondefault routing rules."
.
.
.
.
4. analyze the primetime qor by using the check_pt_qor command.
.
"to include information about the voltage area shapes that comprise each voltage area, use the -verbose option with the report_voltage_areas command."
.
.
bus routing options the custom router bus routing application options allow you to specify: • corner type • intra-shield placement • pin-trunk offset • trunk splitting • tapoffs corner type the custom.route.bus_corner_type application option specifies how the tool routes the bus trunks at corners.
the checks performed by the check_hier_design command are also available in the check_design command.
.
"to use the data checks and policies capability for exploring early flows, you need to know fusion compiler™ user guide v-2023.12-sp3 852 chapter 11: hierarchical implementation checking designs with abstracts for top-level-closure issues feedback the check name corresponding to the top-level errors seen on the design."
2. assign the nondefault routing rule to the clock nets by using the set_clock_routing_rules command.
.
.
.
.
.
.
.
.
.
.
.
.
.
"• preserves the existing floorplan information in incremental mode, ◦ the placement area is imported based on the current core area and site rows in the def files ◦ physical constraints that can have only one value are overwritten by the value from the latest def file; for example, port location and macro location are overwritten."
"• allow buffers on physical feedthrough nets of a voltage area, specify the voltage areas with the -allow_physical_feedthrough_buffer option."
.
see single-loop matching and using a ddr routing flow.
.
"when not specified, the fusion compiler tool generates the spef file using the data in the design library."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
the tool annotates the specified value during compilation.
.
.
.
.
this path can be just on the pin layer or can extend to a neighboring layer by a single via.
.
.
.
.
.
.
note: the set_ungroup command has a higher priority than the set_autoungroup_options command.
.
.
.
.
the default is true.
.
.
"fusion compiler™ user guide v-2023.12-sp3 872 chapter 12: redhawk and redhawk-sc fusion an overview for redhawk fusion and redhawk-sc fusion feedback figure 199 redhawk fusion and redhawk-sc fusion data flow redhawk/redhawk-sc fusion analysis flow when you have specified the necessary input and design data, you can perform voltage drop and pg electromigration analyses on the design."
.
.
.
.
"◦ to specify the width for cut layer routing blockages along the vertical edges, use the -width_cut_layer_vertical option."
.
.
.
"by default, this command checks all via ladders."
.
use the -lib_cells option to specify the metal filler library cells to insert.
.
.
place_group_repeat ers eco-265 warning: the pin shape {%s} of %s (%s) is projected to route %s {%s}.
"to change this distance for same-layer paths, use the -blocked_range option to specify a different pitch multiplier, up to a maximum of 40. to change this distance for neighboring-layer paths through a via, use the -blocked_range_via_side option to specify a different pitch multiplier, up to a maximum of 40. if you specify a value larger than 40 for either of these options, the command sets its value to 40. by default, the command checks whether a pin is accessible in either the horizontal or vertical direction."
.
.
.
"• to check frozen routes, set the -check_from_frozen_shapes option to true."
.
.
.
.
.
.
661 setting up the ic validator environment .
.
"for information about routing guides, see defining routing guides."
.
.
.
.
.
.
.
.
.
.
• new clock gates do not inherit timing exceptions.
.
.
.
.
you can define a single width value per layer pair.
.
"the option is valid only for the following data types: • pg_pin_power • voltage_drop_or_rise • effective_voltage_drop to restrict the report to the specified supply nets, use the -supply_nets option."
.
.
"to rename the error data file, use the following commands: fc_shell> write_drc_error_data -error_data zroute.err \ -file_name export.err fc_shell> open_drc_error_data -file_name export.err fc_shell> attach_drc_error_data [get_drc_error_data export.err] \ -name newname.err after you run the check_routes command, you can use the drc query commands to get more information about the violations or use the error browser to examine the violations in the gui."
.
.
fusion compiler™ user guide v-2023.12-sp3 623 chapter 7: chip finishing and design for manufacturing inserting redundant vias feedback example 27 shows an example of a default via mapping table.
.
.
.
.
.
.
.
"for static analysis, the map displays average electromigration values."
adding relative placement groups hierarchical relative placement allows relative placement groups to be embedded within other relative placement groups.
.
"the fix_signal_em command runs a single fixing iteration; if violations remain after running this command, you must rerun it to address the remaining violations."
665 running the signoff_check_drc command .
"controlling ir-drop-aware placement when you enable ir-drop-aware placement by setting the place.coarse.ir_drop_aware application option to true, the tool creates three categories of cells based on the total number of cells."
.
"in some cases, you might want to clear the full or partial contents of your checkpoint history."
"to remove nets or supernets from a routing corridor, use the remove_from_routing_corridor command."
.
.
.
.
.
"◦ if the lower-level blocks contain clock-meshes, promote the mesh annotations (annotated transitions and delays) by using the promote_clock_data -mesh_annotations command."
.
.
.
.
transparent hierarchy optimization transparent hierarchy optimization (tho) enables the tool to transparently optimize hierarchical designs.
6. use the remove_early_data_check_records command to clear the data in preparation for another iteration.
.
.
.
"if you move a hard macro after deriving the pin access routing guides, you must regenerate the pin access routing guides."
.
.
.
.
.
.
figure 200 illustrates the steps in a basic static rail analysis flow.
.
.
.
.
"if a net identified as a root net is less than 10 microns, the tool uses internal-net layer constraints for that net."
.
• check the routability of the placement as explained in checking routability.
.
7. perform power grid augmentation by using the signoff_create_pg_augmentation command.
.
"if you set this application option to activity, the tool chooses probability of toggling a flip-flop and the clock-gating model based on the activity."
"by default, the generated script file is named auto_perf_via_ladder_association.tcl."
.
.
.
"if you do not specify any clock-gating constraints, the default constraints are used."
.
.
446 defining via ladder rules .
.
.
.
.
.
.
note: you must apply net-specific routing constraints to physical nets.
.
.
.
.
"for more information, see “rule-based name matching” in the fusion compiler data model user guide."
.
.
.
.
.
.
• the minimum bitwidth is three.
.
.
.
.
.
.
.
.
.
.
.
"to compare the current block to a different block, use the -pre_eco_design option to specify the comparison block."
.
.
.
.
.
78 specifying library subset restrictions .
.
.
.
.
.
"to overwrite exiting output data, use the -force option."
via ladder association file the command generates a script file that defines the association between the library cell pins and the via ladder rules.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 309 chapter 4: clock gating controlling the number of clock-gate levels feedback you can modify the default clock-gate insertion operation by allowing additional levels of clock gating, by limiting the number of clock-gate levels, or both."
.
"in the redhawk-sc fusion flow, you must specify the -check_missing_via option together with the -voltage_drop option."
.
"fusion compiler™ user guide v-2023.12-sp3 944 chapter 12: redhawk and redhawk-sc fusion voltage hotspot analysis feedback figure 215 checking high voltage drop caused by overlapping timing window (i) next, run the report_hot_spots command with the -index option to find which grid has overlapping timing windows that contribute to large current."
.
.
◦ estimated maximum capacitance and transition have no violations.
.
"however, after placement and optimization, during subsequent incremental placement, the tool can move the cells added during legalization, optimization, and clock tree synthesis out of the soft blockage area."
.
.
.
.
this setting affects concurrent clock and data optimization performed during the final_opt stage of the clock_opt command and the route_opt command.
.
for a detailed description about how to run power analysis using the fusion compiler report_power command.
"◦ specify the tradeoff between power and hold timing during dynamic power shaping by setting the ccd.dps.optimize_hold_tradeoff_level application option to low, medium (default), or high."
"7. stores the metal fill data as fill cell objects in the design view 8. writes the result files to the run directory for information about the generated result files, see signoff metal fill result files."
.
.
"by default, the command reports a maximum of 100 violations."
• -zero_spacing fusion compiler™ user guide v-2023.12-sp3 471 chapter 6: routing and postroute optimization routing constraints feedback disables the minimum spacing rule between the routing blockage boundary and the net shapes (zero minimum spacing).
"for example, to define a precoloring routing rule that sets mask_one constraints on the m4 and m5 layers, use the following command: fc_shell> create_routing_rule clock_mask1 \ -mask_constraints {m4 mask_one m5 mask_one} fusion compiler™ user guide v-2023.12-sp3 504 chapter 6: routing and postroute optimization routing constraints feedback note: to ensure drc convergence, you should set double-patterning mask constraints only on a very few timing-critical nets."
.
"you can perform voltage drop analysis at other stages in the design flow, such as after detail routing."
the tool looks for clock-gating cells that share a common clock and enable signal.
see handling fixed cells during relative placement.
"the resulting structure is shown in figure 178. example 47 definition for aligning a group and leaf cells by pins create_rp_group -name rp2 -columns 1 -rows 6 set_rp_group_options rp2 -alignment pin -pin_name a add_to_rp_group rp2 -cells i3 -column 0 -row 0 add_to_rp_group rp2 -cells i4 -column 0 -row 1 add_to_rp_group rp2 -cells i5 -column 0 -row 2 -pin_name b add_to_rp_group rp2 -cells i6 -column 0 -row 3 -pin_name b add_to_rp_group rp2 -cells i7 -column 0 -row 4 add_to_rp_group rp2 -cells i8 -column 0 -row 5 fusion compiler™ user guide v-2023.12-sp3 798 chapter 10: physical datapath with relative placement specifying options for relative placement groups feedback figure 178 relative placement group aligned by different pins i5 i4 i3 row 3 row 2 row 1 row 0 col 0 i6 i7 i8 row 4 row 5 pin a pin b overriding the alignment when adding objects when you add an object to a relative placement group by using the add_to_rp_group command, you can override its alignment and specify a different alignment for the object you are adding by using the -override_alignment option."
.
"• to report the nondefault routing rules assigned by the set_routing_rule command, use the -of_objects option with the report_routing_rules command."
.
.
.
.
level shifter preserved.
.
2. apply switching activity by either reading in a saif file with the read_saif command or annotating the switching activity information on the nets with the set_switching_activity command.
the tool projects the closest pin shape to the route.
.
.
.
.
"also, if any cells in the related group are attached to the region, fuzzy cell matching occurs between these cells and the ones in the block.matched cells are attached to the bounds in the following ways: • if there are regions in the block with the same name as in the def, the cells in the related group are attached to the region by the add_to_bound command in incremental mode."
.
.
example 30 result_summary.rpt example input drc error database............ ./inputs/signoff_check_drc_run limit to cell....................... my_design maximum errors/command.............. 1000 fusion compiler™ user guide v-2023.12-sp3 691 chapter 8: ic validator in-design performing signoff design rule checking feedback signoff autofix drc summary: : : : : remaining : : : total : processed : targeted : targeted : fix : drc name : drc : drc : drc : drc : rate : comment m0.w.3 : maximum width : 1 : 1 : 0 : 0 : -- : 1 ignored: <#1> m4.l.3 : edge length wi : 4 : 4 : 0 : 0 : -- : 4 ignor ed: <#2> m4.l.5:2 : edge length : 2 : 2 : 0 : 0 : -- : 2 ignored: <#2> m4.w.3 : maximum width : 1 : 1 : 0 : 0 : -- : 1 ignored: <#1> via1.s.10.3 : space of : 10 : 10 : 2 : 0 : 100.0% : 8 ignored: <#2> total : : : 2 : 0 : 100.0% : note: reasons : detail info #1 : size of error shapes greater than threshold #2 : shapes associated with error are not zroute modifiable the following table describes each of the columns in the summary report: table 45 definitions of columns in result_summary.rpt column heading description drc name name of the design rule from the runset total drc total number of drc violations detected by the signoff_check_drc run processed drc total number of the detected drc violations that went through the filtering process to determine whether they can be targeted targeted drc number of drc violations that automatic drc fixing will attempt to fix after the filtering process remaining targeted drc number of drc violations that remain after automatic drc fixing fix rate the ratio of remaining targeted drc violations to targeted drc violations comment explanation for ignored drc violations; the detailed reason codes are provided in the notes section of the report fusion compiler™ user guide v-2023.12-sp3 692 chapter 8: ic validator in-design performing signoff design rule checking feedback checking signoff design rules interactively in the gui the live drc feature performs interactive signoff design rule checking in the fusion compiler gui.
.
.
.
.
.
.
.
"• to remove specific fill shapes, use the remove_shapes or remove_fill_cells commands."
.
.
.
.
"for example, to enable 4 hosts to be acquired by lsf, each of which can use 8 cores (for a total of 32 cores), use the following command: fc_shell> set_host_options -submit_protocol lsf -target icv \ -num_processes 4 -max_cores 8 to set the memory requirement of the jobs in the previous example to 1000m, use the following command: fc_shell> set_host_options -submit_protocol lsf -target icv \ -num_processes 4 -max_cores 8 \ -submit_command {bsub -r rusage[mem=1000]} to enable 4 hosts to be acquired by the grid engine, each of which can use 8 cores (for a total of 32 cores), use the following command: fc_shell> set_host_options -submit_protocol grid -target icv \ -num_processes 4 -max_cores 8 fusion compiler™ user guide v-2023.12-sp3 663 chapter 8: ic validator in-design preparing to run ic validator in-design commands feedback to set the process name of the jobs in the previous example to bnormal, use the following command: fc_shell> set_host_options -submit_protocol grid -target icv \ -num_processes 4 -max_cores 8 -submit_command ""qsub -p bnormal"" running ic validator using hybrid multicore processing if you are using lsf, you can specify both specific hosts and an lsf configuration for adding additional hosts as they become available."
"it contains the original name for each object, so that the original saif can be applied even after optimization."
.
.
.
.
"• to limit the analysis to a specific region of the core area, use the -region option."
.
.
the switch can optionally have multiple input control signals and one or more output acknowledge signals.
.
"for designs with multiple scenarios, the algorithm considers the timing of the worst case among active scenarios enabled for setup."
.
.
.
"you must specify the following information: • the tap cell used in the tap mesh (the -lib_cell option) by default, the command inserts the tap cells with r0 orientation."
.
.
.
.
.
place_group_repeat ers eco-275 error: failed to traverse cutlines.
.119 defining voltage areas .
"3. check the analysis results, as described in viewing pg electromigration analysis results."
.
"(optional) to improve the timing qor, the hyper_route_opt command can debank sequential multibit registers."
.
2. restrict the optimization of sequential and instantiated combinational cells by using the set_libcell_subset command.
"boundary cells consist of end-cap cells, which are added to the ends of the cell rows and around the boundaries of objects such as the core area, hard macros, blockages, and voltage areas, and corner cells, which fill the empty space between horizontal and vertical end-cap cells."
4. set the application options for signoff drc fixing.
inserting diodes after detail routing you can fix antenna violations after detail routing by explicitly specifying which violations to fix and providing constraints for fixing them.
.
.
.
"• the handling of hard placement blockages by default, the command honors hard placement blockages and does not insert filler cells in regions affected by these blockages."
.
.
.
.
.
.
.
.
.
"note that if the row length equals two times the corner cell width, the command does insert boundary cells."
"for example, the following command creates a clock mesh for the net named clk1_mesh that is bounded by coordinates (0,0) and (1200, 980)."
.
• exclude timing critical sinks by using the -timing_driven option.
.
.
.
.
.
"to use a multi-level structure, which is shown in figure 111, set the route.auto_via_ladder.pattern_must_join_over_pin_layer application option to 2. figure 111 multi-level pattern-based must-join pin connection zroute automatically uses a pattern-based must-join pin connection when a library cell pin has a pattern_must_join attribute and you use one of the following commands to perform the routing: route_auto, route_group, or route_eco."
.
.
.
.
see figure 160.
-twist_offset specifies the distance between the first twist and the connected pins.
the default is true.
.
.
.
.
"this command reports the following information: • final wiring statistics, including the ◦ number of signal net shapes for each metal layer ◦ signal wire length for each metal layer ◦ number of pg net shapes for each metal layer ◦ pg wire length for each metal layer ◦ horizontal and vertical wire distribution for each metal layer ◦ total number of signal net shapes for the block ◦ total signal wire length for the block • final via statistics, including the ◦ simple vias used in each via layer, including the number of instances of each via ◦ double via conversion rate for each via layer ◦ double via conversion rate for the block ◦ custom vias used in the block, including the number of instances of each user- defined via by default, this command reports the information only for the top-level block."
.
"to set the extra cost multiplier for the via enclosures on the m2 metal layer (and therefore the vias on the via12 and via23 via layers) to 0.5 (for an effective via cost of 1.5 times the base cost), use the following command: fc_shell> set_app_options \ -name route.common.extra_via_off_grid_cost_multiplier_by_layer_name \ -value {{m2 0.5}} routing must-join pins when a pin is defined as a must-join pin, the router connects all terminals of the pin as a single net."
.
.
.
.
.
.
.
.
the following example creates a relative placement group named rp1 that is right aligned.
.
"after you create the clock relative placement groups, reset the placement of the block by using the reset_placement command, and rerun placement and optimization by using the place_opt command."
"for example, the tool should be aware that it cannot place a wide cell in a specific location due to the position of the power straps at that location."
.
.
.
"• if a specific clock gate cannot be collapsed, the tool tries to collapse upstream clock gates until it reaches the lowest level (closest to the source)."
"to report the compatible multibit and single-bit library cells that can be used for banking and debanking, use the check_multibit_library command."
.
.
.
.
"with the -user_specified_buffers option, you can add cells only on one net at a time."
.
.
.
see supporting redhawk-sc customized python script files for details.
.
.
◦ false: removes existing placement blockages.
.
.
.
.
.632 performing wire spreading .
.
.
"fusion compiler™ user guide v-2023.12-sp3 700 chapter 8: ic validator in-design improving instance voltage drop by augmenting the power grid feedback if you must perform incremental pg augmentation because your design contains more than one power net, use the -mode add command on subsequent runs to append the pg augmentation shapes to the existing shapes."
.
.
.
.
"by default, fusion compiler™ user guide v-2023.12-sp3 875 chapter 12: redhawk and redhawk-sc fusion specifying redhawk and redhawk-sc working directories feedback the redhawk or redhakw-sc working directory is named rail_database."
.
"if you associate the area report to run after a checkpoint before you associate the timing report to run after the same checkpoint, the tool runs the area report first when it encounters the checkpoint."
.
.
554 loading the signal electromigration constraints .
.
.
.
• check and compare the timing windows in the current hotspot to those of the neighboring grids to determine if a cell can be moved to other grids (targets).
.
"in the gui layout window, choose view > map and select the map to display."
482 inserting routing guides along the nonpreferred-direction edges .
"by default, the place.coarse_auto_density_control application option is enabled and set to enhanced."
.
.
.
.
count area cell area fusion compiler™ user guide v-2023.12-sp3 263 chapter 3: physical synthesis performing design analysis feedback ---------------------------------------------------- dw_mult_uns pparch 1 12.41 4.4% ---------------------------------------------------- total: 1 12.41 4.4% estimated area of ungrouped synthetic parts ------------------------------------------- estimated perc.
.
.
.
.
.
.
.
"you can use the following application options to: • check and retain registers with mpw violations including their full clock path, set the abstract.keep_min_pulse_width_violation_pins application option to true."
.
"• starting the cli • exiting the fusion compiler tool for information about using the gui, see the fusion compiler graphical user interface user guide."
.
.
.
.
.
.
.
"for each reason reported, a reason code is displayed."
.
.
.
.
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 81 chapter 2: preparing the design using pin access checker utility feedback the benefits of pac utility are listed as follows: • produces a place and route database with various permutations of abutted cell placement.
.
"figure 92 fanout of a finger of the fishbone topology finger fanout ◦ a maximum span between any two loads connected to a finger, as shown in figure 93, by using -fishbone_span option."
.
"when you add a blockage using this command, you can specify • the column and row position within the relative placement group by using the -column and -row options."
.
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 84 chapter 2: preparing the design analyzing libraries feedback the following figure shows a monotonic distribution of cell area versus timing for a family of cells with the same function.
.
.
.
.
"table 32 number of rerouting phases based on the effort level settings route.global.advance_node_timing_driven_effort setting route_global -effort_level setting low medium high (default) low 2 2 2 medium (default) 3 33,4 53,5 high 4 43,4 63,4 ultra 6 63,4 83,4 to control the tradeoff between timing qor and drc convergence, set the route.global.timing_driven_effort_level application option."
"note: after you specify a technology node with the set_technology command, you cannot change it."
.
"fusion compiler™ user guide v-2023.12-sp3 857 chapter 11: hierarchical implementation creating etms and etm cell libraries feedback creating etm cell libraries in the library manager tool after you create an etm for each mode and corner combination, use the library manager tool to combine the etms with the corresponding physical information and create a cell library."
.
.
.
.
.
"the applied settings affect placement, legalization, optimization, clock tree synthesis, routing, extraction, and timing analysis."
.
the following topics describe how to insert redundant vias: • inserting redundant vias on clock nets • inserting redundant vias on signal nets fusion compiler™ user guide v-2023.12-sp3 621 chapter 7: chip finishing and design for manufacturing inserting redundant vias feedback inserting redundant vias on clock nets zroute can insert redundant vias on clock nets either during or after routing.
.
.
.
• the clock minimum and maximum routing layer constraints set by the -min_routing_layer and -max_routing_layer options of the set_clock_routing_rules command these constraints can cause blocked ports only if they are defined as hard constraints.
.
"to perform reordering, you must ▪ enable scenarios used for structural multisource clock tree synthesis for dynamic power optimization ▪ annotate switching activity for the enable pins of the clock-gating cells you can prevent specific clock-gating cells from being reordered by using the set_multisource_clock_subtree_constraints command with the -cells and -ignore_for_icg_reordering options."
.
"the command captures the timing and power information of the design using relevant liberty attributes, as shown in the following example."
.
"for more information about the technology file and defining routing design rules, see the synopsys technology file and routing rules reference manual."
.
"• to show the via mappings for specific replacement vias, use the -to option."
.
.
ignore_blockages_in_cells true controls whether the ic validator tool reads only the pin information from the frame view (true) or both the blockages and the pin information (false).
"for more information about associating fusion compiler™ user guide v-2023.12-sp3 114 chapter 2: preparing the design setting up multivoltage designs feedback power strategies with existing multivoltage cells, see associating power strategies with existing multivoltage cells."
.
.
% fc_shell you can include other options on the command line when you start the shell.
"to write the effective resistance values to a text file, use the report_rail_result -type effective_resistance command."
"to prevent tap cells from overlapping fixed cells without breaking the row, use the -preserve_distance_continuity option with the -skip_fixed_cells option."
"to specify the cells for which to revert the eco changes, use the -cells option."
"fusion compiler™ user guide v-2023.12-sp3 236 chapter 3: physical synthesis controlling mapping and optimization feedback to enable the mapping to muxs, set the map_sync_enable_to_mux attribute on the seqgen cells before compile."
"you can use don’t touch settings to prevent the modification of a clock network beyond a specific pin, the buffering of specific nets, or the sizing of specific cells."
"for the eco cells that do not have a free site nearby, the tool legalizes them by moving preexisting cells."
"by default, the command creates a hard keepout margin."
.
.
.
.
.
.
.
.
.
adding hard macro cells the add_to_rp_group command supports hard macro cells.
"to enable the insertion of diodes to fix antenna violations, set the route.detail.insert_diodes_during_routing application option to true."
.
.
.
.
633 performing wire widening .
"by default, the command searches the entire core area."
.
.
.
.
.
.
.
"fc_shell> set_attribute [get_shapes -of_object $all_nets] \ shape_use ""user_route"" fc_shell> set_attribute [get_vias -of_object $all_nets] \ shape_use ""user_route"" 10. limit rerouting to minor changes by setting the physical_status attribute on the nets to minor_change."
.
"c. specify options for the relative placement groups by using the set_rp_group_options command, as described in specifying options for relative placement groups."
.
.
.
.
.
• bottom_right the anchor point of the relative placement group is set to its bottom-right corner.
.
data tlu+ files upf files def/tcl (optional) sdc files (optional) set up the libraries read rtl files handle design mismatches and black boxes apply multivoltage power intent apply timing and physical constraints set up clock-gating cells set up dft and insert dft structures insert multivoltage cells compile the design analyze and report qor export the design sdc files design (ndm) verilog upf files def/ scandef formal verification the formality tool uses formal techniques to prove or disprove the functional equivalence of two designs.
.
the group you specify with the -rp_group option must be in the same design as the hierarchical group in which you are including it.
.
"when the detail router finds a violation, it rips up the wire and reroutes it to fix the violation."
"for information about the options for signoff drc fixing, see setting options for signoff design rule checking."
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 728 chapter 8: ic validator in-design inserting metal fill with ic validator in-design feedback incremental metal fill insertion if you have already used the signoff_create_metal_fill command to performed metal fill insertion on a block, you can use incremental metal fill insertion to perform the following tasks: • insert additional metal and via fill to specific layers or regions, as described in adding to existing metal and via fill."
.
"by default, if neither option is specified, the tool makes connections to all power, ground, and tie-off pins."
.
"the layout view is identical to the gdsii or oasis data that was used to create them, but reduces the runtime for signoff design rule checking."
.
.
.
.
.
"by default, the file is named auto_gen_via_ladder_association.tcl."
.
"◦ to use path-based timing for the worst path of each endpoint, which is identified by using graph-based analysis, set this application option to path."
.
867 running rail analysis using redhawk-sc fusion .
.
-place_around_fixed_cells control the type of optimization that is allowed for relative placement cells see controlling the optimization of relative placement cells.
.
.
.
.
.
.
.
.
301 inserting clock gates in multivoltage designs .
"-move_effort to remove relative placement group option settings, use the remove_rp_group_options command."
.
.
"limiting the number of edges in the nonpreferred routing direction to limit the number of edges in the nonpreferred routing direction, use a maximum-number-of-pattern routing guide."
"after routing is complete, clean up the routed nets by running the remove_redundant_shapes command."
"use the following format to specify the shape parameters in microns: {offset_value start_value length_value spacing_value} by default, • the metal shapes are offset from the preferred-direction edge by the value specified in the offset_value argument the offset value is measured from the block edge to the center of the metal shape."
.
voltage areas can be rectangular or rectilinear.
figure 163b shows the result when the custom.route.bus_split_even_bits application option is turned on.
.
.
.
2. inserts buffers or inverters to the nets that are not fixed by rewiring.
.
.
.
.
159 controlling ir-drop-aware placement .
.
.
.
.
use one of the following methods to run a tcl script: • use the -file option with the fc_shell command when you start the fusion compiler tool.
.
.
.
.
.
.
.
you can open one result context at a time.
.
.
.
.
the metal shapes on other layers do not need to meet the stricter multiple-patterning spacing requirements.
519 routing clock nets .
.
.
.
.
.
.
.
"• to disable this feature, use the -not_spare_cell_aware option."
.
the tool assigns an insertion delay of zero to all sink pins and uses this delay during delay balancing.
"in addition, the tool uses the libset name, instead of using a list of the library names, when it generates reports, plots, and so on during analysis."
920 creating block contexts .
782 relative placement flow .
specify other settings as necessary.
.
.
.
.
"to dismiss selected values, click the x symbol."
"clock cells that are clustered together in a small area increase the current densities for the power and ground rails, which increases the potential for electromigration problems."
.
.
.
.
b. specify a configuration file for running starrc extraction by using the set_starrc_options -config command.
.
this second voltage drop analysis run measures the voltage drop after power grid augmentation.
"with variant-aware legalization, if a cell pin does not align with a track, the tool can try using its variant to align the cell pin to the track."
.
• you use the uncolored flow if the cells in your standard cell library have sufficient spacing to the cell boundaries to ensure that multiple-patterning violations do not occur during placement.
"(optional) specify settings for metal fill insertion, pg augmentation, and so on that should to be performed during the different stages of optimization and eco routing within the hyper_route_opt command by using the snps_hyper_route_opt_post_eco tcl-callback procedure."
.
.
.
.
.
.
specify the path using the following syntax: { {x1 y1} {x2 y2} ... }.
.
.
.
"to include the sized cells that are adjacent to the specified cell in the same row, use the -include_adjacent_sized_cells option."
.131 inserting level shifters .
.
.
"generated clock preserved, if generated clock is defined on buffer/inverter pin."
.
.
.
.
.
.
.
.
.
.
.
"to specify the nets to route, use one of the following options: • -nets use this option to specify the nets on the command line: fc_shell> route_group -nets collection_of_critical_nets • -from_file use this option to specify the nets in a file: fc_shell> route_group -from_file file_name if the specified nets are associated with a routing corridor, the nets are routed within the defined region."
.
.
"the following example adds the buf1 library cell on the net1 net at location (100, 200) and connects it to an existing route shape on the m4 layer."
.
.
.
.
.
.
"the report_clock_qor command can generate the following types of reports: • summary by default, this command reports a summary of the clock tree qor, which includes the latency, skew, drc violations, area, and buffer count."
.
.
.
.
.
.
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 970 chapter 13: eco flow optimizing the fanout of a net feedback when you use this option, you must also use the -lib_cell option."
.
.
.
.
.
"note: if you use both methods, the command uses only the information specified in the -refill_table option."
"fusion compiler™ user guide v-2023.12-sp3 500 chapter 6: routing and postroute optimization routing constraints feedback to assign a routing effort for each weight level, use the following syntax to set the route.common.soft_rule_weight_to_effort_level_map application option: set_app_options -name route.common.soft_rule_weight_to_effort_level_map -value { {weight effort} ... } each weight argument can be one of low, medium, or high."
.
.
.
the command does not check for threshold voltage violations caused by these changes.
.
.
.
236 mapping of synchronous enable logic to a mux .
.
shapes with this attribute must be at least the multiple-patterning minimum spacing distance from any other colored metal shape.
.
.
.
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 537 chapter 6: routing and postroute optimization routing signal nets feedback • set the track assignment application options for information about the detail routing application options, see the route.track_options man page."
.
.
.
.
.
"• input pins of combinational cells or integrated clock-gating cells that do not have any fanout or that do not have any enabled timing arcs to verify that the tool has correctly identified the sink pins and ignore pins, examine the clock trees in the gui, as described in analyzing clock trees in the gui."
"in addition, it can improve correlation between physical synthesis and place-and-route."
.
"to specify a different default library name, use the hdlin.hdl_library.default_name application option."
.
it shows the selected policy and strategy for each check.
.
"in addition, you can specify options to add to the ic validator command line by setting the signoff.fix_drc.user_defined_options application option."
.
.
.
"when you use this option, the command uses the following naming convention: xofiller!prefix!filler_library_cell_name!number • the behavior when the legalizer detects errors by default, the command fails if the legalizer detects an error."
.
.
856 creating etm cell libraries in the library manager tool .
.
.
.
.
"• if your technology does not specify a maximum area for these floating shapes, you can insert continuous metal shapes along the preferred-direction boundary edges, as described in inserting continuous metal shapes parallel to preferred-direction edges."
.
.
"the following topics describe the various eco flows supported in the fusion compiler tool, and tasks you perform in these flows: • generic eco flow for timing or functional changes • freeze silicon eco flow • signoff eco flow • incremental signoff eco flow • eco fusion flow • eco fusion power integrity flow • manually instantiating spare cells • automatically adding spare cells • adding programmable spare cells • making eco changes using the eco_netlist command • making eco changes using netlist editing commands • resizing cells • adding buffers on nets • adding buffers on routed nets • optimizing the fanout of a net • reporting available sites for placing eco cells • identifying and reverting nonoptimal eco changes • placing eco cells fusion compiler™ user guide v-2023.12-sp3 948 chapter 13: eco flow generic eco flow for timing or functional changes feedback • placing and mapping eco cells to spare cells • updating supply nets for eco cells • recording the changes made to a layout • performing prerequisite check for group repeater insertion and placement • adding a group of repeaters • querying group repeater • swapping variant cell • fixing multivoltage violations generic eco flow for timing or functional changes use this flow to incorporate timing or functional eco changes when you have the flexibility to add new cells and move or delete existing cells."
.
.
.719 typical critical dimension metal fill insertion .
.
"see also • generic eco flow for timing or functional changes • removing filler cells controlling standard filler cell insertion by default, the create_stdcell_fillers command fills all empty space in the horizontal standard-cell rows of the entire block by inserting instances of the filler library cells specified by the -lib_cells option."
the location of the hdl template libraries is controlled by the hdlin.hdl_library.default_dirname application option.
.
.
.
.
.
.
table 58 controlling placement with the set_rp_group_options -tiling_type command to do this use this setting tile objects in a bit-slice pattern and preserve both the row and column alignment.
you can also synthesize other clocks in the design that are not synthesized.
.
.
.
.
.
.
of module implem.
"fusion compiler™ user guide v-2023.12-sp3 878 chapter 12: redhawk and redhawk-sc fusion preparing design and input data for rail analysis feedback table 66 application options for specifying design and input data (continued) application option description rail.effective_resistance_ instance_file (optional) specifies the instance file, which lists the cell instances for effective resistance calculation."
.
.
.
.
.
.
.
this parameter file is named track_fill_params.rh and is located in the run directory for the initial run.
.
.
use the following options with the create_via_ladder command to specify attributes of the created via ladder: • -via_rule this option specifies the via ladder rule associated with the created via ladder.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 124 chapter 2: preparing the design setting up multivoltage designs feedback for example, figure 16 shows the guard band around the pd1 voltage area that is defined by the following command: fc_shell> create_voltage_area -power_domains pd1 \ -region {{0 0} {30 0} {30 10} {40 10} {40 30} {20 30} {20 25} {0 25}} \ -guard_band { {3 1} } figure 16 voltage area guard band to determine the effective guard bands for abutting or overlapping shapes associated with the same voltage area, the tool merges the shapes as described in merging voltage area shapes and then applies the guard bands defined for the top shape to the merged shape."
.
.
.
"associating checkpoints and checkpoint behaviors after defining checkpoints with the eval_checkpoint command and checkpoint behaviors with the create_checkpoint_* command, you must associate the two so that the tool executes the behaviors when it encounters the checkpoints in a run, as described in the following topics: • associating checkpoints with checkpoint reports • associating checkpoints with checkpoint actions see also • defining checkpoints • defining checkpoint behaviors associating checkpoints with checkpoint reports to associate a checkpoint report with one or more checkpoints, use the associate_checkpoint_report command in your checkpoint.config.tcl file."
.
.
"you can automatically derive equivalent cells for all the preexisting clock tree cells that are not buffers or inverters and specify them as clock references by using the derive_clock_cell_references command, as described in deriving clock tree references for preexisting gates."
"the default precedence of the different views used when linking lower-level blocks is as follows: 1. abstract view 2. design view 3. frame view 4. outline view changing the block from abstract to design view to change a block from its abstract to its design view, use the change_abstract command and specify the view you are changing to by using the -view option."
.
.
.
.
"• to report the clock cell spacing rules, use -type spacing_rules."
.
.
.
.
.
.
.
.
763 using custom routing application options .
note that the -preferred_direction_only option does not honor route guides to change the preferred routing direction.
.
.
.
.
set_app_options -list { rail.enable_new_rail_scenario true rail.enable_parallel_run_rail_scenario true } #required.
75 library configuration .
.
.
.
.
.
.
"when you use both options, the command shifts the tap cell to avoid overlap with the fixed cell."
.
"to enable the level-based clock nondefault routing rule application, use the following application option: fc_shell> set_app_options -list {cts.compile.topological_ndr true} setting the preferred routing direction for layers the fusion compiler tool requires that the preferred routing direction is specified for the routing layers defined in the technology file."
.
"this application option defaults to the setting of never, and accepts values of either never or always."
.
"during the initial_map stage, the tool analyzes the local hierarchy of the registers and inserts clock gates as needed."
8. model the delays of the mesh nets by using the set_annotated_delay and set_annotated_transition commands.
.
.
.
"the following script performs targeted concurrent clock and data optimization on a block that has already undergone routing and postroute optimization: open_lib design1 open_block blk.post_route #disable regular ccd optimization, which was previously performed set_app_options \ -name route_opt.flow.enable_ccd -value false #enable targeted ccd optimization set_app_options \ -name route_opt.flow.enable_targeted_ccd_wns_optimization \ -value true #specify the path group and endpoints to target set_app_options -name ccd.targeted_ccd_path_groups -value clka set_app_options -name ccd.targeted_ccd_end_points_file \ -value clka_ep.txt fusion compiler™ user guide v-2023.12-sp3 382 chapter 5: clock tree synthesis implementing clock trees and performing post-cts optimization feedback #specify the optimization type and effort set_app_options \ -name ccd.targeted_ccd_select_optimization_moves -value size_only set_app_options -name ccd.targeted_ccd_wns_optimization_effort \ -value medium # perform the targeted ccd optimization route_opt enabling buffer removal at the postroute stage to improve qor by removing buffers or pairs of inverters when concurrent clock and data optimization is performed during route_opt command, set the ccd.post_route_buffer_removal application option to true, as shown in the following example: fc_shell> set_app_options -name route_opt.flow.enable_ccd \ -value true fc_shell> set_app_options -name ccd.post_route_buffer_removal \ -value true fc_shell> route_opt reporting concurrent clock and data timing you analyze the timing effects of concurrent clock and data optimization by using the report_ccd_timing command."
.
.
.
"note: if the block is either very congested or very sparse, the signoff_fix_isolated_via command might not be able to fix all isolated vias."
"• sets keepout margins on these cells on the side of the cell where the error occurs by default, the command uses the site width as the keepout width."
"when you use this option, the tool distributes the spare cells in a rectangular area that encloses all of the cells that belong to the specified hierarchical block."
.
.
.
.
em.net_min_duty_ratio 0 specifies the minimum duty ratio for computing the peak current.
.
.
.
.
.
.
.
clock-gating cells with the dont_touch or size_only constraints are not optimized.
.
"◦ to perform a numeric comparison, select one of the following comparison types: =, !=, <, <=, >, or >= and specify a numeric value in the value field."
836 making changes to a block after creating an abstract .
.
"the content of the report depends on the -for option that you specified: • if the -for option specifies pin-based length matching, a length constraint report is generated."
"• to define global via ladder constraints, which are referred to as via ladder rules, use the set_via_ladder_rules command, as described in defining global via ladder constraints."
.
.
.
"• use the command on fully mapped logic only, including cells, modules, and designs, as well as nets with fully mapped surrounding logic."
"fc_shell> set_app_options \ -name route.common.connect_within_pins_by_layer_name \ -value {{m1 via_all_pins}} figure 114 restricted via-to-pin connections no drc violations drc violations if you set the mode for m1 to via_wire_standard_cell_pins, as shown in the following example, both the via enclosures and wires must be inside the pin shape."
.
.
.
.
"• review and specify the relationship between the top- and block-level modes, corners, and clocks by using the set_block_to_top_map command."
.
.
.
the following example places group repeaters when the cell collections are specified.
.
.
.
.
.
-utilization fusion compiler™ user guide v-2023.12-sp3 792 chapter 10: physical datapath with relative placement specifying options for relative placement groups feedback table 57 specifying relative placement group properties (continued) to do this use this option specify how to treat fixed cells in the floorplan during legalization.
.
.
"you can further include group rp4 in another group in the design top, or you can instantiate group rp4 in a group of a different design."
.
"you can use the command to report logic levels of • the entire design or a selected path group • all types of paths, including same-clock paths, cross-clock paths, infeasible paths, and multicycle paths in all scenarios the report contains logic distribution and timing information in the summary, logic-level distribution, and logic-level path report sections."
.
"see also • querying via ladders • removing via ladders fusion compiler™ user guide v-2023.12-sp3 463 chapter 6: routing and postroute optimization checking routability feedback querying via ladders to query the via ladders in a block, use the get_via_ladders command."
.
.
.
.
.
.
.
.
.
.
.
.
.
"if not, you can add it to the reference libraries of the top design by using the set_ref_libs -add command as shown in the following example: current_block top set_ref_libs -add ../blk1/blk1.nib set_ref_libs -add ../blk2/blk2.nib to report the reference libraries for the current design, use the report_ref_libs command."
.
"fusion compiler™ user guide v-2023.12-sp3 127 chapter 2: preparing the design setting up multivoltage designs feedback figure 18 physical-feedthrough nets of voltage areas va0 (pd0 ) va1 (pd1) n1 top (pd0) block1 (pd1) n1 physical view logical view by default, physical-feedthrough nets are allowed in voltage areas."
.
.76 restricting library cell usage .
.
.
.
.
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 697 chapter 8: ic validator in-design performing signoff design rule checking feedback table 47 application options for interactive design rule checking (continued) application option default description signoff.check_drc_live.
.
.
"when you use this option, the tool uses the following naming convention: boundarycell!prefix!library_cell_name!number creating routing guides during boundary cell insertion if your technology file defines metal cut allowed and forbidden preferred grid extension rules, you can create routing guides for these rules during boundary cell insertion by using the -add_metal_cut_allowed option with the set_boundary_cell_rules command."
.
.
.
.
.
.
.
950 signoff eco flow .
this flow is typically used only for established foundry nodes.
.
.
.
.
"with variant-aware legalization, if a cell pin does not align with the corresponding colored track, the tool can try using its variant with a different colored pin and try aligning it to the appropriately colored track."
.
.
.
user_defined_options (none) specifies additional options for the ic validator command line.
.
.
"however, if you also specify the -minimize_dual_rail option, the tool tries to minimize the usage of dual-rail buffers to save area."
fusion compiler™ user guide v-2023.12-sp3 307 chapter 4: clock gating controlling clock-gate latencies feedback figure 56 clock-gating stages and latency calculations the following commands set the latency values for figure 56: set_clock_gate_latency -stage 0 -fanout_latency {{1-inf 1.0}} set_clock_gate_latency -stage 1 -fanout_latency {{1-inf 0.3}} set_clock_gate_latency -stage 2 -fanout_latency {{1-inf 0.2}} set_clock_gate_latency -stage 3 -fanout_latency {{1-inf 0.1}} figure 57 shows another example of fanout and latency calculations.
"you can set policies and strategy configurations for the predefined checks to allow, tolerate, or repair data."
.
.
.
.
.
.
.
.
.
"if the endpoint is a clock-gate-enable pin, then all pins on the path are marked with a temporary design attribute for use in subsequent steps."
.
.
x x opt-3001 cell is not resolved after linking.
.
.
.
.
.
.
.
.
.
.
.
the collection epl_max_displacement_cells is a subset of the collection epl_legalizer_rejected_cells and its cells are also not legalized.
.
.
"fusion compiler™ user guide v-2023.12-sp3 670 chapter 8: ic validator in-design performing signoff design rule checking feedback by default, the tool compares the current block to the version used for the previous signoff_check_drc run."
.
.
.
"optimizing the fanout of a net during the timing eco flow, you can add buffers to a net and optimize its fanout by using the split_fanout command."
.
.
.
.
.
.
"to enable enhanced delay optimization techniques that improve total negative slack, set the compile.flow.enhanced_delay_opto_for_pg application option to 1. this feature has better runtime and better area and power qor, as compared to the extensive use of path groups to improve total negative slack."
.
.
.
.
.
create_pg_augmentation.
.
.
.
"the following example creates a collection named clk1_icg_pins, which consists of the pins of integrated-clock-gating cells that are on the clock network of the clock named clk1: fc_shell> set clk1_icg_pin \ [get_clock_tree_pins -filter is_on_icg -clocks clk1] analyzing clock timing the timing characteristics of the clock network are important in any high-performance design."
"if the self-gated registers are driven by synchronous set or synchronous clear signals, these signals are also included in the construction of the enable signal so that the circuit remains functionally unchanged."
.
.
.
.
.
.
.
"to create an abstract view for top-level closure, use the create_abstract command."
.
5.
"fusion compiler™ user guide v-2023.12-sp3 417 chapter 5: clock tree synthesis implementing multisource clock trees feedback • to specify where to create the straps, use the -grid option as follows: ◦ to create a single horizontal or vertical strap, specify the distance from the x- or y- axis."
.
.
.
.
"multibit debanking doesn’t impact rtl debanking, which is enabled in the logic_opto stage of the compile_fusion command."
.
"after optimization, you can use the reporting commands given in table 7 to identify design rule constraint violations in a block."
.
.
.
.
.
"for more information, see the following topics: • fixing buffers • fixing diodes fusion compiler™ user guide v-2023.12-sp3 1006 chapter 13: eco flow fixing multivoltage violations feedback if the upf has not already been committed, the fix_mv_design command automatically commits the upf before performing any operations."
.
.
.
.
.
"• to remove the metal fill only over critical nets, use one or both of the -nets and -timing_preserve_setup_slack_threshold options to identify the critical nets."
.
.
.
"• to perform incremental global routing, set the -reuse_existing_global_route option to true."
.
fc_shell> route_custom -nets $all_ddr_nets 3. define the routing constraints.
the following topics describe select_op inferences: • inferring select_ops inferring select_ops hdl compiler uses select_op components to implement conditional operations implied by if and case statements.
"to display soft congestion data, select the desired rule level in the rule level drop-down list."
.
.
"for example, when the tool combines the single-bit registers named a/b/p/reg1 and a/b/ q/reg2, the multibit register is named a/b/p/reg1_a/b/q/reg2."
.
.
all registers in bank r0 share the same enable condition en0 and all registers in both register banks are clocked by clock clk.
"the left and right filler cells are specified in decreasing size order, so that the command inserts the largest possible filler cell."
"◦ specify the number of open tracks between coaxial shielding segments on a per- layer basis by using the -coaxial_skip_tracks_on_layers option to disable shielding on a specific layer, set the value to -1; otherwise, specify an integer between 0 and 7 to specify the number of tracks to skip."
.
.
.
.
.
.
.
.
.
.
.
.
"if the smallest cell in your design is larger than one unit site, this could cause gaps during filler cell insertion."
table 40 shows the antenna ratios for each antenna recognition mode for this layout example.
"fusion compiler™ user guide v-2023.12-sp3 801 chapter 10: physical datapath with relative placement specifying options for relative placement groups feedback specifying the orientation of relative placement groups the fusion compiler tool supports the following orientations for relative placement groups: • r0 the column position of the relative placement group is from left to right, and the row position is from bottom to top."
.
.
.
.
.
"this command can replace single-cut vias with multiple-cut via arrays, single-cut vias with other single-cut vias that have a different contact code, and multiple-cut via arrays fusion compiler™ user guide v-2023.12-sp3 626 chapter 7: chip finishing and design for manufacturing inserting redundant vias feedback with different multiple-cut via arrays."
"when you assign a weight level other than hard, the spacing rule is a soft spacing rule."
.
.
.
.
48 viewing man pages .
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 249 chapter 3: physical synthesis performing multibit optimization feedback specifying the expanded naming styles when combining elements of a multidimensional register array to specify the expanded naming styles for the multibit registers created by combining elements of a multidimensional register array, use the multibit.naming.expanded_name_style application option."
.
.
"when you define sink pins, by default, they apply to all corners."
"to remove the transitive fanout limit specified with the set_clock_tree_options -root_ndr_fanout_limit command, use the remove_clock_tree_options -root_ndr_fanout_limit command."
.
.
.
.
-tolerance length tolerance.
"• to define instance-specific via ladder constraints, use the set_via_ladder_constraints command, as described in defining instance-specific via ladder constraints."
"to perform voltage driven cell sizing, 1. perform a voltage drop analysis using rh fusion to get the maximum voltage drop of the cells driven by the power switch in question."
.
.
593 specifying the boundary cell insertion requirements .
"table 26 settings for the cts.compile.power_opt_mode application option to do this use this setting relocate clock-gating cells closer to their drivers to reduce the length of input nets of the clock-gating cells, which have high switching activity gate_relocation use clustering techniques to improve power low_power_targets fusion compiler™ user guide v-2023.12-sp3 361 chapter 5: clock tree synthesis specifying the clock tree synthesis settings feedback table 26 settings for the cts.compile.power_opt_mode application option (continued) to do this use this setting use both clock-gate relocation and clustering techniques to improve power all enabling wire length aware power-driven relocation the fusion compiler tool supports improved activity driven clock gate relocation by controlling the amount of wire length degradation and considering the power impact before performing the clock gate relocation."
half_row_adjacency fusion compiler™ user guide v-2023.12-sp3 643 chapter 7: chip finishing and design for manufacturing inserting filler cells feedback table 41 design rules supported by the replace_fillers_by_rules command (continued) design rule description -replacement_rule keyword illegal abutment this rule prevents a filler cell from abutting certain other filler cells.
.
.
.
boundary optimization allows you to use rtl floorplanning def files during block implementation.
400 implementing a regular multisource clock tree with an h-tree-only global clock tree structure .
.
.
293 setting the clock-gating style .
.
"• macro custom router completes the pin connections for all pins in the block, except for macro pins."
.
.
.
.
ensure the cell that is placed has both driver and load.
.
"to perform signoff design rule checking on the entire block for all repair loops, set the signoff.fix_drc.check_drc application option to global."
"when you use this option, the tool uses the following naming convention: tapfiller!prefix!library_cell_name!number • the tap distance (the -distance option) the specified distance must be smaller than the tap distance used by the create_tap_cells command."
.
.
.
.
.
.
"using the -hierarchical option with the -verbose fusion compiler™ user guide v-2023.12-sp3 851 chapter 11: hierarchical implementation checking designs with abstracts for top-level-closure issues feedback option reports the records of all failed checks, policies, strategies applied, and checked objects from the subblocks."
.
.
.
.
.
.
"for example, to swap the first and third columns of the my_rp_group relative placement group, as shown in figure 183, enter fc_shell> modify_rp_groups [get_rp_groups my_rp_group] \ -swap_columns {0 2} figure 183 swapping columns of a relative placement group col 0 col 1 col 2 col 0 col 1 col 2 row 2 row 2 row 1 row 1 row 0 row 0 c00 c01 c02 c21 c20 c22 c20 c21 c22 c01 c00 c02 fusion compiler™ user guide v-2023.12-sp3 807 chapter 10: physical datapath with relative placement generating relative placement groups for clock sinks feedback to flip the second column of the my_rp_group relative placement group, as shown in figure 184, enter fc_shell> modify_rp_groups [get_rp_groups my_rp_group] \ -flip_column 1 figure 184 flipping a column of a relative placement group col 0 col 1 col 2 col 0 col 1 col 2 row 2 row 2 row 1 row 1 row 0 row 0 c10 c11 c12 c12 c11 c10 generating relative placement groups for clock sinks you can generate a relative placement group for clock sinks and their drivers in a placed design by using the create_clock_rp_groups command."
.
using custom router in the fusion compiler tool the fusion compiler tool provides a set of tcl commands to run custom router in the fusion compiler environment.
.
it customizes the simulation by using different files for the minimum and maximum conditions of each scenario.
.
.
"fc_shell> set_app_options \ -name route.common.pg_shield_distance_threshold -value distance the default report generated by the report_shields command provides overall statistics, as shown in reporting shielding statistics."
.
.
.
"to select this rule, use the -replacement_rule end_orientation option with the replace_fillers_by_rules command."
you must load a design and libraries before you can set up clock-gating constraints.
.
.
.
"to require routing in a specific access preference area, use a strength value of 1. when you define access preference areas with a strength of 1, all access preference areas with a strength less than 1 are ignored and zroute treats the access preference routing guide as a hard constraint."
.
.
.
"however, if you use timing-preservation mode earlier in the flow, before timing is met, it might severely reduce the redundant via rate due to critical nets."
.
.
.
"to prevent physical-feedthrough nets in a voltage area, define a voltage area rule using the create_voltage_area_rule -allow_pass_through false command, as shown in the following example: fc_shell> create_voltage_area_rule -allow_pass_through false \ -name va1_rule -voltage_areas va1 with this rule, the n1 net detours around the va1 voltage area, as shown in figure 19. figure 19 physical-feedthrough nets disabled for a voltage area va0 n1 va1 by default, optimization does not insert buffers on physical-feedthrough nets of voltage areas."
.
.
.
user_defined_options (none) specifies additional options for the ic validator command line.
.
.
table 64 describes the predefined checks for top-level closure.
.
.
"to insert a tap wall on more than one side, run the command multiple times."
.
.
.
"when you use this command, the ic validator tool removes all pg augmentation shapes from the current block."
the constraints loaded by the read_signal_em_constraints command overwrite any existing signal electromigration constraints in the design library.
traversal and clock tree removal continue past the generated clock.
.
.
.
.
using the design view can expose problems that are masked by the frame view abstraction.
the default is false.
.
"for a detailed procedure about how to display an electromigration map, see displaying maps in the gui."
"in addition to using nondefault routing rules to define the redundant vias for clock nets, you can also use them to define stricter wire width and spacing rules and to define the tapering distance."
.
.
"by default, the command returns an error if the assigned name already exists."
.
.
.
.
"to limit the analysis to specific nets, use the -nets option."
.
.
.
.
.
.
the number of via cuts and the array dimensions are also defined.
.
"synopsys does not endorse and is not responsible for such websites and their practices, including privacy practices, availability, and content."
2. set up starrc extraction as follows: a. ensure that starrc extraction is enabled.
note: mask constraints are used only for the precolored flow; they are not necessary in the uncolored flow.
.169 resolving multiple references with the uniquify process .
.
.
.
using pin access checker utility the pin access checker (pac) utility helps you to identify the pin accessibility issues in the library development stage.
you can then reference that blockage by name to query or remove the placement blockage.
.
"for example, to define a nondefault routing rule named new_width_rule2 that uses the default routing rule as the reference rule and defines nondefault width rules for the m1 and m4 layers, use the following command: fc_shell> create_routing_rule new_width_rule2 \ -widths {m1 0.8 m4 0.9} • if you specify both with -multiplier_width option and the -widths option, the tool uses the -widths option to determine the base width, and then applies the multiplier to that value to determine the minimum width requirement."
.
.
.
.
"-alignment specify the group alignment pin name, when using pin alignment."
.
.
.
.
"• -min_horizontal_separation if the continuous horizontal placement area is less than the specified value, the compile_boundary_cells -add_placement_blockage command creates a placement blockage to prevent a violation."
.
.
.
.
random end orientation rule the end orientation rule searches for a continuous horizontal sequence of cells and modifies the orientation of the leftmost or rightmost filler cells if they are in the specified list of target filler cells.
.
"by default, the tool names each run by a number, such as run1, run2, and so on."
.
"generating input for the automatic fixing flow if you plan to use the signoff drc results as input to the automatic fixing flow, set the signoff.check_drc.ignore_child_cell_errors application option to true before you run the signoff_check_drc command."
.
.
figure 198 using redhawk fusion in the fusion compiler design flow find missing vias design planning place_opt initial placement static voltage clock_opt static voltage filler cell insertion drop analysis drop analysis power-switch cell insertion dynamic voltage drop analysis route_opt pg electromigration analysis and fixing fusion compiler™ user guide v-2023.12-sp3 871 chapter 12: redhawk and redhawk-sc fusion an overview for redhawk fusion and redhawk-sc fusion feedback redhawk fusion and redhawk-sc fusion data flow the redhawk/redhawk-sc fusion feature allows you to perform rail analysis during the implementation stage.
.
.
361 enabling clock tree power reduction techniques .
.
.
.
.
.
"for designs with complex floorplans, this can introduce congestion hotspots and degrade clock qor after clock routing."
.
.
.
• uses the same tapering distance for all pins.
"• physical model, which describes the locations of the connections between the block and full-chip design."
.
.
"to reset the diode insertion method to the default behavior, set the route.detail.diode_insertion_mode application option to new_and_spare."
.
.
.
.
"in addition, you can query cell- or geometry-based rail results only for the specific analysis type by using the get_instance_result and get_geometry_result commands."
.
.
.
you can load the error data file created by the read_drc_error_file command into the error browser to report or display the drc violations.
you can control the tradeoff between wire spreading and wire widening by using the fusion compiler™ user guide v-2023.12-sp3 634 chapter 7: chip finishing and design for manufacturing inserting metal-insulator-metal capacitors feedback -spreading_widening_relative_weight option.
.
"9. analyze the clock mesh by using the analyze_subcircuit command, as described in analyzing the clock mesh."
.
.
.
.
.
"• to remove all routing corridors, specify the -all option."
.
.
.
.
.
.
.
.
.
.
.
"to identify a specific corner as the primary corner for initial clock tree synthesis, use the cts.compile.primary_corner application option."
.
274 exploring the detailed comparison data .
.
"by default, the application option is set to true to allow phase inversion."
.
"note: by default, if a net has both a nondefault routing rule defined by the create_routing_rule command and voltage-based spacing rules defined in the technology file, zroute performs pin tapering on that net based on the nondefault routing rule."
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 434 chapter 5: clock tree synthesis analyzing the clock tree results feedback reporting clock tree power to report the power of a clock tree, use the report_clock_power command."
.
.
"however, for this optimization to be effective, • the aggressor cells should not be timing- or drc-critical • the cell library should have smaller versions of the aggressor cells without dont_use or dont_touch attribute settings."
.
"to verify the upf consistency and identify pg conflicts, use the resolve_pg_nets -check_only command."
you can control this behavior as described in the following topics: removing constant registers certain registers in a design might never change state because they have constant values on one or more input pins.
"adding buffers on a bus in a specified pattern to add buffers to the individual nets of a bus in a specific pattern, use the following steps: 1. define buffer patterns for the nets of a bus by using the create_eco_bus_buffer_pattern command."
.
.
.
.
.
.
"by default, the tool uses the following naming convention for inserted tap cells: headerfooter__library_cell_name_r#_c#_number to identify the tap cells inserted in a specific run, use the -prefix option to specify a prefix string."
.
.
134 specifying clock gating constraints .
.
.
.
.
.
.
.
.
.
.
"by default, when you run the compile_fusion command, datapath optimization is enabled and both standard and designware foundation libraries are automatically linked."
.
.
.
.
.
these mask requirements drive placement and routing to ensure that the resulting layout is multiple-patterning compliant.
.
.
.
"you can use the following methods to analyze the drc violations reported by the signoff_check_drc command: • view the violations in the error browser, as described in using the error browser."
.
.
you customize these settings by specifying different files for the maximum and minimum conditions within each scenario by using the -configuration option.
.
.
.
.
.
.
.
.
.
"for more information about leaf cell straddling, see adding leaf cells."
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 328 chapter 4: clock gating self-gating optimization feedback figure 66 example of a self-gating cell clk d q registers with an enable condition that cannot be inferred from the existing logic can only be gated using the self-gating technique.
.
.
.
.
"in addition, the command creates metal blockages that surround the macro on the specified layers, with cutouts to allow pin access, and via blockages that cover the macro on the via layers adjacent to the specified metal layers."
.
.
.
.
.
.
.
this option is mutually exclusive with the -group_shield option.
.
.
1007 fixing diodes .
.
• route.detail.default_diode_protection specifies the diode protection value used for standard cell output pins during antenna analysis if the diode protection value is not specified in the e view of the cell.
.
.
note that you can also query this attribute for individual voltage area shapes.
.
.
.
.
.
.
"the low and medium efforts affect only global routing and track assignment, while high effort also affects detail routing, which can impact design rule convergence."
.
.
"to avoid signoff drc errors due to this shifting, reduce the tap distance slightly when this application option is true."
"preserving timing during redundant via insertion when you insert redundant vias, it changes the timing of your block."
.
fc_shell> read_def -syntax_only block.def fc_shell> check_duplicates -remove the check_duplicates -remove command ensures that no duplicate shapes and vias are present in the block due to the execution of the read_def command.
.
.
.
"the command tries to insert the filler cells in the order that you specify; for the best results, specify them from the largest to the smallest."
fusion compiler™ user guide v-2023.12-sp3 245 chapter 3: physical synthesis performing multibit optimization feedback 3. specify settings for multibit register banking by using the set_multibit_options command.
.
"for example, to return only “diff net spacing” errors, use the following command: fc_shell> get_drc_errors -error_data zroute.err \ -filter {type_name == ""diff net spacing""} to get the nets associated with an error, use the get_attribute command."
.
.
.
.
.
"for information about the supported fusion compiler nondefault routing rules, see using nondefault routing rules."
.
.
.
.
.
this is only one example.
.
.
"the following information was from the physical library: total moveable cell area: 281.4 total fixed cell area: 0.0 total physical cell area: 281.4 core area: 0.000, 0.000, 40.260, 43.890 report_qor example fc_shell> report_qor *********************************************** report : qor design : top ... *********************************************** scenario 'sc1' timing path group 'clk' ----------------------------------------------- levels of logic: 6 critical path length: 0.28 critical path slack: -0.19 critical path clk period: 0.30 total negative slack: -0.80 no."
.
.
.
"for information about using the error browser, see the fusion compiler graphical user interface user guide."
"in case of multiple scenarios, the worst active scenario is considered for power costing."
fc_shell> set_scenario_status func_cbest -ir_drop true 3. create a rail scenario and associate it with an existing design scenario.
.
"for example, assume that the red rectangle in figure 149 is a critical net shape."
.
.
.
.
.
.
.
.
use the create_rp_group command to create a relative placement group.
"figure 63 after clock gating the fusion compiler tool implements several different clock-gating strategies as needed, based on analyzing the circuit."
.
.
.
.
.
the tool inserts a clock gate only if all the clock-gating conditions are met: • the circuit demonstrates synchronous load-enable functionality.
.
.
.
.
.
.
237 controlling register replication .
.
.
"if you want to override certain runtime-intensive application options, you can run detail routing in early mode."
.
fusion compiler™ user guide v-2023.12-sp3 639 chapter 7: chip finishing and design for manufacturing inserting filler cells feedback note: this feature has the following requirements: ◦ you must enable the advanced legalizer by setting the place.legalize.enable_advanced_legalizer application option to true.
.
.
.
.
-threshold (optional) specifies a threshold value.
using the -hierarchical option with this command enables to you get check records for all subblocks.
.
"when the reported values differ, use the values reported by the report_shields command."
.
.
.
.
.
"if necessary, modify the routing corridors, as described in modifying routing corridors."
.
.
.
.
.
.
see controlling the tiling within relative placement groups.
.
.
.
"the best technologies, such as logic restructuring, concurrent clock and data optimization, multibit mapping, and advanced legalizer, are shared throughout the preroute flow."
.
.
.
.
.
"to enable level driven cg splitting, set the cts.icg.latency_driven_cloning application option to true."
.
.
.
"for example, the following settings enable multiple-port-net fixing for feedthrough nets during the logic_opto and fusion compiler™ user guide v-2023.12-sp3 177 chapter 2: preparing the design controlling the optimization of cells, nets, pins, and ports feedback initial_drc stages and all nets during the initial_opto and final_opto stages of the compile_fusion command: fc_shell> set_fix_multiple_port_nets -feedthroughs fc_shell> set_app_options \ -name opt.port.eliminate_verilog_assign -value true the following settings disable multiple-port-net fixing for all nets during the logic_opto and initial_drc stages and enables it for all nets during the initial_opto and final_opto stages of the compile_fusion command: fc_shell> set_fix_multiple_port_nets -default fc_shell> set_app_options \ -name opt.port.eliminate_verilog_assign -value true during multiple-port-net fixing, the tool performs the following tasks in sequence: 1. rewires the connections to ensure that each net is connected to one hierarchical port, if possible."
.
521 routing secondary power and ground pins .
each effort argument can be one of the following values: • off (the default) zroute does not fix the soft spacing rule violations.
"2. in the gui layout window, choose view > map and select the map to display."
.
"for example, the following command identifies and fixes maximum vertical edge length violations where the vertical length exceeds 180 um: fc_shell> replace_fillers_by_rules \ -replacement_rule max_vertical_constraint -max_constraint_length 180 \ -constraint_fillers {decap8 decap4} -non_constraint_fillers {fill1} \ -exception_cells {buf1 tap1} figure 133 shows the original stack, which violates this rule, and the resulting stack, which uses unconstrained filler cells to fix the violation."
.
• incorrect boundary or corner cells this check verifies that the library cells used for the boundary and corner cells match the cells specified by the set_boundary_cell_rules command.
.
.
.
.
.
.
.
.
.
.
.
.
.
table 52 commands to define custom router routing constraints command description create_bus_routing_style specifies the routing style for group of nets that are routed as a single bus structure (or trunk).
.
.
the tool looks for this file both in your home directory and in the project directory (the current working directory in which you start the fusion compiler tool).
.
see adding objects to a group.
.
.
.
"at a minimum, you must define the maximum distance within which a neighboring via must exist so that a via is not considered an isolated via."
.
.
.
"in addition, you can • add the buffers on the existing route topology of the net by using the -on_route option if you use this option with the -load option, you cannot specify the -hierarchy option."
"with this command, you must specify • the net to optimize by specifying its name by using the -net option or its driver by using the -driver option • the library cell to use by using the -lib_cell option fusion compiler™ user guide v-2023.12-sp3 971 chapter 13: eco flow reporting available sites for placing eco cells feedback • the method in which to optimize the net by specifying one of the following: ◦ a maximum fanout constraints for the net by using the -max_fanout option ◦ the load pins or ports to buffer by using the -load option when you use this option, you can specify the logical hierarchy to add the buffer by using the -hierarchy option."
.
.
.
.
.
.
"by controlling the clock signal for the register bank, you can eliminate the need for reloading the same value in the register through multiple clock cycles."
.
"to enable timing-preservation mode for wire spreading, define the timing preservation constraints by using the following options with the spread_wires command: • -timing_preserve_setup_slack_threshold threshold • -timing_preserve_hold_slack_threshold threshold • -timing_preserve_nets nets the threshold values are floating-point numbers in library units."
.
"table 42 half-height replacement filler cells abutting inbound standard cells option to specify replacement filler cells none -p_none, -n_none left-only -p_left, -n_left right-only -p_right, -n_right left and right -p_left_right, -n_left_right top or bottom (applies only to 2x filler cells) -p_left_center_right, -n_left_center_right fusion compiler™ user guide v-2023.12-sp3 646 chapter 7: chip finishing and design for manufacturing inserting filler cells feedback illegal abutment rule the illegal abutment rule restricts the filler cells that can abut certain other filler cells."
.
.
.
• high zroute treats soft spacing rule violations the same as regular design rule violations during rip up and reroute.
"for more information, see performing minimum path resistance analysis."
.
.
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 749 chapter 9: routing using custom router defining routing constraints feedback table 52 commands to define custom router routing constraints (continued) command description create_wire_matching defines matched wire length for a group of nets or pin-to-pin connections.
note: a faa-base-beta license is required to run the preplace_group_repeaters command.
.
fusion compiler™ user guide v-2023.12-sp3 1002 chapter 13: eco flow swapping variant cell feedback table 73 group repeater placement and insertion troubleshooting (continued) command error code message troubleshooting tips place_group_repeat ers eco-254 warning: failed to cut route for cell %s.
.
.
these maps and error data help you discover problem areas and determine corrective action without leaving the fusion compiler environment.
.
-gds flags missing vias that are inside the gdsii block region and are in routes across the gdsii blocks.
.
.
.
"viarule ""vl1"" { cutlayernametblsize = 2 cutlayernametbl = (via1, via2) # via layer names cutnametbl = (cut1a, cut2a) # cut names numcutrowstbl = (2, 2) # rows in ladder numcutsperrowtbl = (2, 2) # columns in ladder uppermetalminlengthtbl = (l1, l2) # minimum length rule cutxminspacingtbl = (x1, x2) # x-direction spacing cutyminspacingtbl = (y1, y2) # y-direction spacing maxnumstaggertrackstbl = (s1, s2) # maximum staggering forhighperformance = 0 fusion compiler™ user guide v-2023.12-sp3 447 chapter 6: routing and postroute optimization inserting via ladders feedback forelectromigration = 1 } for details about defining via ladder rules in the technology file, see the ""via ladder rule"" topic in the synopsys technology file and routing rules reference manual."
.
.
"to examine the content of the grid box, use the report_hot_spots command."
.
.
.
.
.
.
• expand the virtual area of cells during placement based on the local routing resource needs by setting the place.coarse.increased_cell_expansion application option to true.
"(optional) specify additional settings for ir-drop-aware placement, as described in controlling ir-drop-aware placement."
.
.
.
.
count area cell area ---------------------------------------------------- dw_mult_uns pparch 3 48.28 17.2% ---------------------------------------------------- total: 3 48.28 17.2% total synthetic cell area: 60.69 21.6% (estimated) ____________________________________________________________ core area: 1767 aspect ratio: 1.0902 utilization ratio: 0.1593 the above information was from the logic library.
.
"when you use this option, the gdsii or oasis data replaces the cell library data for the cells defined in the specified stream files."
"◦ if concurrent clock and data (ccd) optimization is performed at the block level, the tool derives median clock latencies for the block-level clock ports, which accounts for the latency adjustments that were derived for the block-level registers during concurrent clock and data optimization."
.
.
.
"if it cannot find the frame view, the cell is ignored during design rule checking."
"• to report information for the previous, current, and next path stages of the most critical endpoints, use the -type stage option."
these violations are never allowed.
.
the following example derives the mask color for the net shapes of the net1 net.
.
"disclaimer synopsys, inc., and its licensors make no warranty of any kind, express or implied, with regard to this material, including, but not limited to, the implied warranties of merchantability and fitness for a particular purpose."
.
"em.net_use_waveform_duration false when false, the command uses current integral based duration."
.
.
.
.
.
"to verify the support for multibit register placement, use the following command: fc_shell> preplace_group_repeater -repeater_group_locations repeater_group_location_list the format for the repeater_group_location_list argument is fusion compiler™ user guide v-2023.12-sp3 985 chapter 13: eco flow adding a group of repeaters feedback { {cell_collection, layer, location, potential routing direction, placing order} ...} or { {group_id, layer, location, potential routing direction, placing order} ...}."
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 145 chapter 2: preparing the design specifying physical constraints for placement and legalization feedback table 8 types of placement bounds (continued) bound type description exclusive move bound the tool must place the specified cells within the specified region and place all other cells outside of the exclusive move bounds, during both coarse placement and legalization."
the following command enables multibit mapping: fc_shell> set_app_options -name compile.flow.enable_multibit -value true clock-gating cells are not inserted to gate preinstantiated multibit registers.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"for example, to set the maximum transition time to 0.15 ns for corner1 in mode1 and 0.10 ns for corner2 in mode1, use the following commands: fc_shell> set_max_transition 0.15 -corners corner1 \ -clock_path [get_clocks -mode mode1] fc_shell> set_max_transition 0.10 -corners corner2 \ -clock_path [get_clocks -mode mode1] to set the same maximum capacitance constraint for different corners associated with a specific mode, use the following command: fc_shell> set_max_capacitance 0.6 \ -clock_path [get_clocks -mode mode2] \ -corners [get_corner \ [get_attribute [get_modes mode2] associated_corners]] fusion compiler™ user guide v-2023.12-sp3 356 chapter 5: clock tree synthesis specifying the clock tree synthesis settings feedback specifying the clock tree synthesis settings the clock tree synthesis options guide the implementation of the clock trees."
.
.
.
this ensures the latch and gate are at the same level and improves hold timing of discrete clock gates.
.
.
.
.
.
.
.
.
.
.
"if the power or ground net is defined as a partial blockage, the legalizer and the check_legality command check for spacing rule violations between standard cells and the power or ground net."
"◦ to perform design rule checking on all runset layers, including nonrouting layers, use the -check_all_runset_layers true option."
.
"260 9 contents feedback specifying settings for performance, power, and area improvement ."
.
• placement-aware clock gating the tool automatically disables this feature when clock-gate latency estimation is enabled regardless of the compile.clockgate.physically_aware application option setting.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 331 chapter 4: clock gating self-gating optimization feedback setting up for self-gating to set up the block for self-gating, perform the following steps before you run the compile_fusion command: 1. enable self-gating by setting the compile.clockgate.self_gating application option to true."
.
.
.
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 1008 chapter 13: eco flow fixing multivoltage violations feedback to obtain a report of the changes that the tool recommends without making any netlist changes, use the -report_only option."
.
.
.
.
"• to honor certain rules when removing the metal fill, use the -remove_by_rule option."
.
.
"f. collect labels associated with the features that were previously collected during the clock_opt -from final_opt command by using the estimate_delay -training_labels command, as shown in the following example: fc_shell> estimate_delay -training_labels ""label_1"" \ -output_dir ./ml fusion compiler™ user guide v-2023.12-sp3 389 chapter 5: clock tree synthesis implementing clock trees and performing post-cts optimization feedback the labels must be collected after detail routing, but before postroute optimization."
.
"• to control the amount of timing information in the abstract view, use the -timing_level option with the following settings: ◦ to create an abstract that contains only the boundary cells (one level of logic) connected to each boundary port, use the boundary setting."
.
.
.
.
.
"when you click ok in this dialog box, the tool generates a new congestion map."
.
.
2. legalize the spare cells by using the place_eco_cells -legalize_only -cells command.
.
.
"for example, when the tool combines single-bit bused registers named rega[0], rega[1], and rega[2], the multibit register is named rega[2:0]."
.
.
.
.
figure 175 shows cells that are left aligned.
.
"for information about fixing double-patterning odd-cycle violations, see automatically fixing double-patterning odd-cycle violations."
"therefore, only buf1 and buf2 cells from the lvt_lib library are used as clock references for that block."
"therefore, you can create and use read-only abstracts."
.
.
.
"after the routing is finalized, you add cut metal shapes by using the create_cut_metals command."
.
.
.
.
"to ensure accurate information, use the save_block command to save the current state of the block before running the signoff_create_metal_fill command."
.
.
.
.
.
.
"spreading repeater cells during placement if a block has many chains of repeater cells (buffers, inverters, or pipelined registers) along the edges or corners of macro cells or blockages, the tool might clump the cells along the edges or corners, increasing congestion."
"to report the net weights you specify, use the report_eco_placement_net_weight command."
.
865 12. redhawk and redhawk-sc fusion .
.
.
.
.
.
.
.
.
"to disable the ungrouping, set the compile.datapath.ungroup application option to false, changing from its default of true."
.
.
.
.
.
.
.
.
.
"the first column under each metric is the baseline, and the other five are the test flows being compared to that baseline."
.
"3. verify that the routing corridors are valid by using the check_routing_corridors command, as described in verifying routing corridors."
.
• the metal shapes are separated the space specified by the spacing_value argument the spacing value must be greater than or equal to 0.
.
.
.
.
.
.
-reset specifies to remove all criteria previously set by the set_clock_gating_objects command.
"creating a multibit register bank from specific single-bit registers before you run the compile_fusion command on an rtl design, you can create a multibit bus consisting of specific unmapped single-bit registers by using the create_multibit command."
.
.
.
"by default, the clock balance group is defined for the clocks in the current mode."
"• dynamic power this is the energy dissipated due to the voltage or logic transitions in the design objects, such as cells, pins, and nets."
.
.
.
.
"you can perform reason reporting from the top-level design, where the abstract is instantiated, without having the abstract as the current block."
.
.
.
.
the electrical model is written in the .context format.
.
.
.
.
.
.
.
.
100 reading designs using the vcs command-line options .
.
578 inserting and removing cut metal shapes .
.
.
.
a family of library cells is a collection of cells that share some common properties.
.
.
.
.
.
.
.
.
"our effort also includes internal initiatives to remove biased language from our engineering and working environment, including terms that are embedded in our software and ips."
.
"• to ignore nondefault spacing rules between signal nets and blockages ◦ for all signal nets, set the route.common.ignore_var_spacing_to_blockage application option to true ◦ for specific signal nets, use the -ignore_spacing_to_blockage true option when you define the nondefault spacing rule with the create_routing_rule command fusion compiler™ user guide v-2023.12-sp3 499 chapter 6: routing and postroute optimization routing constraints feedback you can relax the nondefault spacing checks for specific nondefault routing rules by ignoring violations for short parallel distances, as shown in figure 106. this technique increases the flexibility of drc convergence without adversely affecting crosstalk."
.
"to insert a tap mesh, use the create_tap_meshes command, as described in inserting tap meshes."
.
"for example, if you duplicate a checkpoint named placement, the tool renames the duplicate to placement2 when it encounters the checkpoint in a run."
.
"fusion compiler™ user guide v-2023.12-sp3 739 chapter 8: ic validator in-design inserting metal fill with ic validator in-design feedback removing metal fill with the ic validator tool by default, when you use the signoff_create_metal_fill -mode remove command, the ic validator tool removes all metal and via fill from the current block, including the typical critical dimension (tcd) structures."
.
"• the naming convention used to identify the inserted tap cell instances by default, the tool uses the following naming convention for inserted tap cells: headerfooter__library_cell_name_r#_c#_number to identify the tap cells inserted in a specific run, use the -prefix option to specify a prefix string."
.
"by default, the tool reports multilevel statistics."
"during block-level implementation, a corridor routing blockage acts as a regular blockage to prevent routing in the blockage area."
"if the remaining space is smaller than the current cell, the command inserts the next cell in order that fits in the remaining space."
"to control when the specified delay value is used, use the -rise, -fall, -early, and -late options."
.
.
"for information about defining size-only settings, see setting size-only settings."
.
.
.
.
.
.
.
.
check the location to insert cell groups.
.
.
"the signoff_create_metal_fill command respects routing blockages defined by the create_routing_blockage command and does not insert metal fill in the blockages; however, it does not respect routing guides created by the create_routing_guide command."
.
.
.
.
.
.
.
.
.
"by default, the tool creates the relative placement group in the current design."
"in the window, click the open_rail_result link."
use the information to determine how many cells are switching simultaneously and how much time shift to apply when shifting timing windows for voltage drop reduction.
.
.
.
.
.
.
547 performing shielding checks .
.
.
"to use a customized python script file for redhawk-sc fusion rail analysis, 1. set the type of script file to python."
.
.
.
"for example, you might want to exclude specific double-height cells from the target library for some design blocks during optimization."
"fusion compiler™ user guide v-2023.12-sp3 837 chapter 11: hierarchical implementation creating a frame view feedback you can open a read-only block and make changes to it in-memory, but you cannot save these changes by using the save_block or save_lib command."
.
.
.
.
360 specifying the primary corner for clock tree synthesis .
"• mask_type – multiple-patterning mask constraint of the geometries valid values for metal layers are mask_one, mask_two, mask_three, and mask_same."
.
.
.
.
"by default, the command reports all routing corridors; to report specific routing corridors, specify the routing corridors to report."
.
◦ icc_activity: runs the fusion compiler write_saif command to generate a saif file that contains the user-annotated and simulated switching activity (including state-dependent and path-dependent information) for the complete design without running the propagation engine.
.
.
.
.
.
.
.
.
.
.
.
"specifying nondefault vias using the -cuts option the syntax for specifying nondefault vias using the -cuts option is create_routing_rule rule_name -cuts { {cut_layer1 {cut_name1, ncuts} {cut_name2, ncuts} …} {cut_layer2 {cut_name1, ncuts} {cut_name2, ncuts} …} ... {cut_layern {cut_name1, ncuts} {cut_name2, ncuts} …} } the cut_layer arguments refer to the via layer names in the technology file and the cut_name arguments refer to the cut names defined in the cutnametbl attribute in the associated layer section in the technology file."
.
.
.
.
.
◦ moving down to a lower-level metal zroute uses this technique to fix only topmost layer antenna violations when output pins provide only limited protection.
◦ both clock and data paths.
.
.
.
.
"inserting via ladders a via ladder, which is also referred to as a via pillar, is a stacked via that starts from the pin layer and extends into an upper layer where the router connects to it."
.
.
.
"the global clock structure consists only of an h-tree, which directly drives the tap drivers."
.
.
.
.
.
.
"◦ pg net shapes, which might be a pg strap or rail, but have a shape_use attribute of detail_route."
.
.
.
.
"in addition, stage 1 is assigned to clock gates whose stage cannot be determined, such as unloaded clock gates."
"• to apply the upf constraints and settings, you must: 1. generate the block-level upf from each of the block-level designs using the save_upf command."
.
"8. run voltage drop analysis using redhawk fusion, as described in performing voltage drop analysis."
using the -hierarchical option with the -policy option reports the configuration of the subblocks.
.
.
"for example, fc_shell> create_via_def via12 \ -shapes { {m1 {-0.037 -0.010} {-0.017 0.01} mask_two} {m1 {0.017 -0.010} {0.037 0.01} mask_one} {via1 {-0.037 -0.01} {0.037 0.01} mask_two} {m2 {-0.044 -0.010} {0.044 0.010} mask_one} } fc_shell> create_via -net n1 -via_def via12 \ -origin {100.100 200.320} • to assign mask constraints to the enclosure layers, use the -lower_mask_pattern and -upper_mask_pattern options."
.
.
.
-rp_group write only add_to_rp_group -blockage commands to the script.
.
"alternatively, run the open_rail_result command to load the design data and analysis results (*.result) saved in the design_name directory under the redhawk working directory when analysis is complete."
.
"for more information on select_op inference, see the hdl compiler documentation."
these factors improve the area and timing quality of results.
.
.
.
.
.
this allows you to quickly check if all the missing vias are fixed.
note: creating full-chip contexts for blocks is supported only in redhawk fusion.
m2 overflow = 1265 max = 3 (grcs = 20) grcs = 1343 (0.05%) ... overflow over macro areas phase3.
.
.
.
you can define multiple spacing values per layer.
.
.
410 inserting clock drivers for designs with multiple levels of physical hierarchy .
"for information about working with nondefault routing rules, see the following topics: • defining nondefault routing rules • reporting nondefault routing rule definitions • removing nondefault routing rules • modifying nondefault routing rules fusion compiler™ user guide v-2023.12-sp3 494 chapter 6: routing and postroute optimization routing constraints feedback • assigning nondefault routing rules to nets • reporting nondefault routing rule assignments defining nondefault routing rules to define a nondefault routing rule, use the create_routing_rule command."
.
.
.
"to perform track assignment instead, set the route_opt.eco_route.mode application option to track."
.
.
.
.
.
.
you can specify additional options for the ic validator command line by setting the signoff.check_drc.user_defined_options application option.
"the report generated is in the following format: check_name@object for example, fc_shell> get_early_data_check_records -hierarchical {hier.block.missing_leaf_cell_location@eco_cell} you can use the -filter option to filter the results of this command by various parameters such as object class and check name."
.
.
"reporting the boundary cell insertion requirements to report the boundary cell insertion requirements specified by the set_boundary_cell_rules command, use the report_boundary_cell_rules command."
.
.
.
.
.
.
.
.
-target specifies the target sequential elements to be clock-gated.
.
you create a command script file by placing a sequence of fusion compiler commands in a text file.
"controlling hold time optimization effort by default, the tool focuses on fixing setup violations during concurrent clock and data optimization."
"to sort and filter the data, see the following topics: • sorting the data • filtering metrics • filtering runs • example analysis see also • exploring the detailed comparison data fusion compiler™ user guide v-2023.12-sp3 274 chapter 3: physical synthesis performing design analysis feedback sorting the data click any column header to sort the data using that metric."
"the following figure shows a subblock named u1, and the top-level power intent script loads the block-level power intent by using the load_upf command."
.
.
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 628 chapter 7: chip finishing and design for manufacturing inserting redundant vias feedback 3. route the block.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 774 chapter 9: routing using custom router checking the routing results feedback checking the routing results after running custom router to perform custom routing on the nets, you can check the routing results by reporting the routing results, generating a congestion map, running drc checks, and so on."
.
.
.
"if you specify two nets, the nets form a differential pair."
.
"• if you set only the route.common.redundant_via_exclude_weight_group_by_layer_name application option, zroute selects redundant vias from all weight groups in the original via mapping table, except the specified weight groups."
.
"the following example enables logical-feedthrough buffering for the va1 voltage area and limits the feedthrough buffers to only the u1 and u2 hierarchical cells: fc_shell> create_voltage_area_rule \ -allow_logical_feedthrough true \ -include_logical_feedthrough_hierarchy {u1 u2}\ -name va1_rule -voltage_areas va1 the following example enables logical-feedthrough buffering for the va2 voltage area and excludes the u3 hierarchical cell from feedthrough buffering: fc_shell> create_voltage_area_rule \ -allow_logical_feedthrough true \ -exclude_logical_feedthrough_hierarchy {u3}\ -name va2_rule -voltage_areas va2 fusion compiler™ user guide v-2023.12-sp3 129 chapter 2: preparing the design setting up multivoltage designs feedback note: to add a logical-feedthrough buffer to a lower-level block, the tool has to add new boundary ports to that block."
"• a threshold for the number of cells, as a percentage of the total number of cells, by using the ccd.voltage_drop_population_threshold application option."
.
"• -hierarchical: traverses the hierarchy and reports the check, policy, strategy, and fail count for each design in the hierarchy."
"this command places the group repeaters either in an ascending or descending order, default is ascending."
-relative (optional) interprets a -tolerance value <=1 as a percentage.
.
.
"to specify the target tap cells, use the -tap_cells option."
figure 215 shows how to identify if the cell has overlapping timing windows.
.
.
"if the tool inserts a second clock gate for a register named out_reg (perhaps on a different bit in the same bus), the clock gate is named clock_gate_out_reg_0."
973 controlling legalization when using the place_eco_cells command .
.
.
.
"validating the taps and finding invalid taps when creating taps, by default the create_taps command verifies that the created taps are inserted in valid locations."
.
.
.
.
.
"table 22 general application options for controlling multibit register optimization to do this set this application option ignore scan flip-flops that are not included in the scandef information during banking multibit.banking.enable_strict_scan_check to true consider multibit register library cells with multiple scan-in pins and internal scan-in pins during banking multibit.banking.lcs_consider_multi_si_cells to true enable banking of registers driven by equivalent integrated-clock-gating (icg) cells when you enable this feature,the tool might loose nondefault routing rules applied to the nets connected to the clock-gating cells."
.
.
.
.
.
.
.
.
.
9 diode protection is limited; scaling is based on maximum diode protection.
.
.
"in the precolored flow, the tool must consider these mask assignments to ensure that multiple-patterning violations do not occur during placement."
figure 62 before clock gating figure 63 shows the clock-gate implementation.
.
.
.
.
.
◦ dynamic_vectorless: performs dynamic voltage drop analysis without verilog change dump (vcd) inputs.
.
.
.
.
"the command generates two script files: • a script file that defines the via ladder rules, which is called the template script file this script file contains a create_via_rule command for each template defined in the configuration file, as well as set_attribute commands to set the appropriate via rule attributes."
.
.
.
.
.
.
"if they do not, you must supply a layer mapping file to map the technology layers to the layers used in the runset file (for details about the format of the layer mapping file, see defining the layer mapping for ic validator in-design commands."
.
.
.
.
"if there are lexically unclassified cells, specify additional naming conventions and rerun lexical classification."
.
.
.
.
.
this flow enables the use of custom router for prerouting while avoiding or reducing inconsistency and drc violations associated with differences in the pin connection behavior between the two tools.
"when inserting clock drivers to lower-level blocks, the tool reuses existing clock ports."
.
.
.
.
.
.989 querying group repeater .
.
.
then run the set_rail_scenario -generate_file {lef | twf | def | spef | ploc} command to specify the rail scenario and the type of input files to generate from the design library.
.
(optional) change the effort level for power optimization by setting the set_qor_strategy -mode command to balanced or extreme_power.
.
"for information about analyzing the drc violations, see using the drc query commands."
.
.
"in addition, you must specify ◦ the power and ground nets on which to perform pg augmentation by using the -supply_nets option ◦ the technology node for which to perform the augmentation by using the -node option for information about the fix_pg_wire command, see the man page."
.
.
.
the parasitic information is fusion compiler™ user guide v-2023.12-sp3 180 chapter 2: preparing the design specifying settings for preroute optimization feedback stored in the design library and used during subsequent optimization steps.
.
.
"by default, it reports the setup and hold slack of the worst capture (d-slack) and launch (q-slack) paths of the five most critical endpoint registers in the block, as shown in the following example report: fc_shell> report_ccd_timing ... ... ---------------------------------------------------------------- setup hold ---------------------------------------------------------------- d-slack q-slack d-slack q-slack pin ---------------------------------------------------------------- -0.567710 -0.173974 0.524202 0.167434 sink2/cp -0.175268 0.125309 0.168582 0.077625 sink3e/cp -0.173974 0.126836 0.167434 0.076277 sink3a/cp -0.033271 -0.175268 0.068856 0.168582 sink3d/cp 0.017364 -0.033271 -0.022138 0.068856 sink3c/cp fusion compiler™ user guide v-2023.12-sp3 383 chapter 5: clock tree synthesis implementing clock trees and performing post-cts optimization feedback to control the type of report generated, use the -type option as follows: • to report information for the paths in the fanin or fanout of the most critical endpoints, use the -type fanin or -type fanout option."
.
.
165 defining equivalent cell groups .
.
.
.
.
.
.
.
.
.
.
.
.
"• determine which design technique to use for fixing voltage violations based on the report, such as choosing a candidate reference cell for cell sizing replacement, moving or relocating cells to reduce voltage drops, or applying pg augmentation to solve a voltage drop issue."
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 156 chapter 2: preparing the design specifying placement settings feedback by default, the tool uses the uses global route congestion map to identify highly congested areas that need cell expansion."
.
.
.
.
.
.
.
.
"-site_row integer by default, the command uses the standard site row height to divide the whole region into multiple rows, and the lowest pg net vertical straps to divide the whole region into multiple columns."
.
.
fusion compiler™ user guide v-2023.12-sp3 793 chapter 10: physical datapath with relative placement specifying options for relative placement groups feedback • top_left the anchor point of the relative placement group is set to its top-left corner.
rail.generate_file_type (optional) specifies the type of the script file to generate for redhawk fusion or redhawk-sc fusion rail analysis.
.
isolating input and output ports you can isolate input and output ports to improve the accuracy of timing models.
.
.
.
.
"to verify that these attributes are correctly set on the library pins in the standard cell frame view, use the following command: fc_shell> report_attributes -application \ [get_lib_pins -of_objects reflib/cell/frame -all \ -filter ""name == attr_name""] where reflib is the cell library name, cell is the name of the library cell you want to check (or * if you want to check all library cells), and attr_name is either is_secondary_pg or port_type."
.
.
"interupting comandscomandsinteruptingterminatingterminating comandsto interrupt or terminate a command, press ctrl+c."
.
.
.
175 isolating input and output ports .
"• calculates a reference latency for each primary ideal clock, which is the sum of the ideal source and network latency specified on the clock with the set_clock_latency command."
.
.
"to prevent this, use the following application option setting: set_app_options -name place.coarse.enable_enhanced_soft_blockages \ -value true fusion compiler™ user guide v-2023.12-sp3 141 chapter 2: preparing the design specifying physical constraints for placement and legalization feedback note: soft placement blockages are honored during placement, but not during legalization, optimization, or clock tree synthesis."
"• strict: when you apply this policy, depending on the policy supported by the check, the tool applies the policies in this order – error, tolerate, repair."
.
.
.
.
.
.
.
.
"3. define the via ladder constraints by using the set_via_ladder_rules command, as described in defining via ladder constraints."
.
"removing clock trees to remove the buffers and inverters on a clock tree, use the remove_clock_tre comandcomandsremove_clock_treremove_clock_trees command."
.
.
.
.
.
.
"if you specify uniform, all shapes on the layer use the specified mask constraint."
.
"when you use the -displacement_threshold option, you can also use the -max_displacement_threshold option to specify a second displacement threshold that is larger than the value specified with the -displacement_threshold option."
.
.
.
.
.
fc_shell> set_application_option \ -name est_delay.ml_delay_gre_mode -value feature d. perform global-route-based optimization by using the clock_opt -from final_opt command.
.
.
.218 controlling boundary optimization .
.
.
.
"by default, the route_track command is not timing-driven or crosstalk-driven."
.
.
.
the command has a block scope and is persistent across tool sessions.
"to perform multithreaded advanced legality checking, 1. enable advanced legalization algorithms by setting the place.legalize.enable_advanced_legalizer application option to true."
.
.
.
.
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 820 chapter 11: hierarchical implementation performing hierarchical synthesis using abstracts feedback hierarchical synthesis flow when floorplans are available to partition and plan the top-level design and create the lower-level blocks for subsequent bottom-up synthesis, when the floorplans of subblock and top-level design are available, perform the following steps: figure 188 hierarchical synthesis flow when floorplans are available 1. read in the full chip design and apply constraints as shown in the following example: fc_shell> set ref_libs ""stdcell.ndm macro.ndm"" fc_shell> create_lib top -technology techfile \ -ref_libs $ref_libs fc_shell> analyze -format verilog $rtl_files fc_shell> elaborate top fc_shell> set_top_module top fc_shell> load_upf fullchip.upf fc_shell> read_sdc fullchip.sdc 2. for the design partitions, split the constraints as shown in the following example: fc_shell> set_budget_options -add_blocks {block1 block2} fc_shell> split_constraints 3. create the subblock design libraries with design information and enable block-specific reference library setup as shown in the following example: fc_shell> copy_lib -to_lib block1.nlib -no_design fc_shell> copy_lib -to_lib block2.nlib -no_design fc_shell> set_attribute -objects block1.nlib \ fusion compiler™ user guide v-2023.12-sp3 821 chapter 11: hierarchical implementation performing hierarchical synthesis using abstracts feedback -name use_hier_ref_libs -value true fc_shell> set_attribute -objects block2.nlib \ -name use_hier_ref_libs -value true fc_shell> save_lib -all 4. create the subblock design partitions as shown in the following example: fc_shell> commit_block -library block1.nlib block1 fc_shell> commit_block -library block2.nlib block2 fc_shell> save_lib -all 5. load the upf and sdc constraints for the unmapped subblocks as well as the top- level, which are generated by the split_constraints command earlier as shown in the following example: fc_shell> set_constraint_mapping_file ./split/mapfile fc_shell> load_block_constraints -all_blocks -type sdc \ -type upf -type clknet fc_shell> save_lib -all 6. load the floorplan for the subblocks and top-level design."
.
.
"after zroute performs track assignment and detail routing, it removes these g-links and g-vias from the design library."
.
.
.
.
.
.
.
.
.
.
"to check if the background analyze_rail process is active, use the report_background_jobs command."
.
the tool populates the ideal timing information from the and uses it to identify the critical endpoints.
.
.
.
"for example, if the def file uses a site named core, but the technology file defines only a site named unit, use the following command to convert the site names when reading the def file: fc_shell> read_def -convert_sites { {core unit} } block.def validating def files to analyze the input def files before annotating the floorplan information on the block, enable check-only mode by using the -syntax_only option."
"for more information about how to run the redhawk gds2rh utility, see the redhawk user manual."
.
.
.
.
.
"• to shield the straps with power and ground nets, use the -bias option."
.
.
.
.
this option is supported by all analysis types.
.
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 667 chapter 8: ic validator in-design performing signoff design rule checking feedback table 43 application options for signoff design rule checking (continued) application option default description signoff.check_drc.
"for details, see specifying a design scenario for rail analysis."
.
.406 improving the correlation between the smscts and ccd .
4. use the report_clock_gating command to report the registers and the clock-gating cells in the design.
.
.
.
.
"the valid values for these options are ◦ inverse, which flips the cell from its existing orientation ◦ r0_or_mx, which changes an my orientation to r0 or an r180 orientation to mx ◦ my_or_r180, which changes an r0 orientation to my or an mx orientation to r180 to report the cells whose orientation would be changed, without actually changing the orientations, use the -check_only option."
.
"for example, to define a hard macro blockage enclosed by a rectangle with corners at (120, 75) and (230, 200), use the following command: create_placement_blockage -boundary {120 75 230 200} \ -type hard_macro note: hard macro placement blockages are honored during placement, legalization, and optimization."
.
.
.
117 creating logical power and ground connections .
"the order of via specification is not important; during routing, zroute selects the lowest cost nondefault via."
.
-hierarchical write only create_rp_group commands to the script.
the tool inserts the level shifters using the cell mapping and strategy defined in the upf specification.
.
"when you use the replace_clock_gates command, the tool honors the constraints specified by the set_clock_gate_style, set_lib_cell_purpose, and set_target_ligrary_subset commands when it selects a library cell."
.
.
figure 33 before and after register replication r1 r2 r3 out1 out2 r1 r2 r3 regb rega rega regb rega regb out2 out1 fusion compiler™ user guide v-2023.12-sp3 238 chapter 3: physical synthesis controlling mapping and optimization feedback you can include logic in the fanin or fanout of the specified register by using the -include_fanin_logic or -include_fanout_logic option.
note: the -coordinates option and the -nets option are mutually exclusive; you can use only one of these options.
.
"to learn about routing and postroute optimization, see the following topics: • introduction to zroute • basic zroute flow • prerequisites for routing • defining vias • inserting via ladders • checking routability • routing constraints • routing application options • routing clock nets • routing critical nets • routing secondary power and ground pins • routing signal nets • shielding nets • performing postroute optimization • analyzing and fixing signal electromigration violations • performing eco routing • routing nets in the gui • cleaning up routed nets fusion compiler™ user guide v-2023.12-sp3 438 chapter 6: routing and postroute optimization introduction to zroute feedback • analyzing the routing results • saving route information • deriving mask colors • inserting and removing cut metal shapes introduction to zroute zroute has five routing engines: global routing, track assignment, detail routing, eco routing, and routing verification."
"when you enable this feature, the tool considers all corners associated with the mode in which the subtree options are defined."
.
772 routing with the custom router .
.
.
"for details about this method, see standard filler cell insertion."
.
.
.
.
.
.
.
"when you do so, you should specify the type of routing performed on the design by using the -routed_clock_stage option."
.
.
.
.
.
.
signoff.physical.
.
use the following format to specify these values: {port_name instance_name diode_reference number_of_diodes max_routing_layer max_routing_distance} note: you can use this command to insert diodes for top-level ports by specifying the name of the top-level block for the cell instance.
.
.
.
.
.
.
"when you click reload, the tool opens a dialog box that contains the following command: route_global -congestion_map_only true note: by default, only the hard congestion data is saved in the design library."
fix_density_errors false controls whether the ic validator tool performs density error fixing during timing-driven metal fill insertion.
.
.
.
.
.
"8. run voltage drop analysis using redhawk fusion, as described in performing voltage drop analysis."
770 shielding options .
.
.
.
.
"if a net has a shielding rule and is not shielded before signal routing, by default, zroute reserves shielding space during the whole routing process: global routing, track assignment, and detail routing."
.
.
"fusion compiler™ user guide v-2023.12-sp3 352 chapter 5: clock tree synthesis defining the clock trees feedback with this capability, the tool detects and fixes the following types of balancing conflicts: • internal sink pins of modules that have a combinational clock path if a module contains both internal sink pins and combinational clock paths, it is impossible to balance the internal sink pins."
.
.
.
wire widening has a timing-preservation mode that allows you to perform wire widening without affecting the block timing.
.
.
the string that you specify in this option is added to the command line used to invoke metal density reporting in the ic validator tool.
.
.
.
.
.
.
"• does not require the via inserted above the pin layer to be contained within the pin shape to prevent changes to the pin shape boundary, you can require that the via inserted above the pin layer be fully contained within the pin shape boundary, which includes the pin shape and its extensions."
.
.
.
.
.
.
"when you use this option, the command does not insert boundary cells on a row when the row length equals two times the corner cell width plus one unit tile width."
.
.
806 changing the structures of relative placement groups .
the command get_repeater_paths_info returns cells on repeater paths that include input cells.
224 optimizing datapaths .
• enable multibit component mapping by setting the compile.flow.enable_multibit application option as follows: fc_shell> set_app_options -name compile.flow.enable_multibit \ -value true follow these steps to view multibit components in wordview: 1. read the rtl by using the analyze and elaborate commands.
.
.
.
.
.
.
.
.
.
.
"for example, positions 0 3 (column 0, row 3) and 4 1 (column 4, row 1) are not used."
.
.
.
the string that you specify in this option is added to the command line used to invoke the ic validator tool.
.
.
clock gate efficiency reporting the clock gate efficiency reporting feature calculates the efficiency of clock-gates by considering toggle rate.
.
.
"fc_shell> set_dont_touch_network [get_clocks clk] -clear marking the clock networks if a block does not contain clock trees, you should perform optimization using ideal clocks."
"you can modify the default behavior by using ◦ application options set before running the signoff_create_metal_fill command: ▪ signoff.create_metal_fill.apply_nondefault_rules to enable the use of nondefault spacing rules in addition to the spacing rules defined in the technology file, set this application option to true."
.
.
"to remove voltage area rules, use the remove_voltage_area_rules command."
.
.
"specify one or more of the following values: lib_cell (standard cells), filler (filler cells), macro (macro cells), and pad (i/o pad cells)."
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 495 chapter 6: routing and postroute optimization routing constraints feedback the minimum width defined in a nondefault routing rule applies to all metal segments, including via enclosures."
"to define a via array, specify the minimum number of rows and columns for the array (-min_rows and -min_columns options), as well as the minimum cut spacing (-min_cut_spacing option)."
.
.
.
.
.
.
"use the following syntax to specify the routing pattern and its threshold for each affected layer: { {layer pattern limit} ... } in addition to using the -max_patterns option, you must also use the -layers option when you create this type of routing guide."
.
.
.
signoff extraction and primetime sta can be run hierarchically.
.
.
.
.
.
"in many cases, the via ladder rule specifies the maximum number of stagger tracks."
.
"if you use the -preferred_direction_only true option when running the create_shields command, but zroute must use some nonpreferred direction wires for shielding, the shielding ratio report specifies the percentage of nonpreferred direction wires."
"you can run clock tree synthesis on such a design, but still get usable results in a reasonable runtime."
creating placement from scratch.
figure 224 shows the cell group definition for mapping id and flipped mapping id.
.
.
.
"• the command enforces the subset restriction on the specified blocks and their subdesigns in the hierarchy, except those subdesigns where a different subset restriction is set."
you can also control the window size by setting the signoff.report_metal_density.gradient_windo w_size application option.
.
river routing is useful if there are tight routing channels or you need to minimize the space taken by routing.
"resizing cells you can resize a cell by using the size_cell command, as shown in the following example: fc_shell> size_cell u21 -lib_cell and2x4 if you enable the freeze silicon mode by setting the design.eco_freeze_silicon_mode application option to true, by default, the size_cell command checks if a compatible fusion compiler™ user guide v-2023.12-sp3 962 chapter 13: eco flow adding buffers on nets feedback spare cell is available within a distance of five times the unit site height before sizing the cell."
.
"• to report information for all the previous, current, and next path stages of the most critical endpoints, use the -type chain option."
.
"fusion compiler™ user guide v-2023.12-sp3 525 chapter 6: routing and postroute optimization routing signal nets feedback global routing before you run global routing, • define the common routing application options for information about the common routing application options, see the route.common_options man page."
"when you do so, the fusion compiler uses the following techniques during the different stages of the design flow: a. dynamic power shaping (dps) during the final_opto stage of the compile_fusion command b. voltage-drop-aware placement during the clock_opt command 2."
.
.
.
.
363 defining clock cell spacing rules .
.
.
.
"fc_shell> add_buffer_on_route net22 \ -user_specified_buffers {eco1 buf2 100 70 m3 eco2 buf4 150 70 m3} adding buffers at specified locations to add buffers at specific locations of a net, specify • a list of one or more library cells to select from by using the -lib_cell option • the exact locations by using the -location option with the -location option, you must specify the x- and y-coordinates and a layer with an existing routing shape at that location by using the {x1 y1 layer1 ....} format."
"fusion compiler™ user guide v-2023.12-sp3 271 chapter 3: physical synthesis performing design analysis feedback the shading of non-baseline cells indicates the direction and degree by which the data differs from the baseline: • red indicates a degradation compared to the baseline; green indicates an improvement compared to the baseline • lighter shading represents a smaller difference compared to the baseline; darker shading represents a larger difference compared to the baseline to view the delta thresholds corresponding to each shade, hover the cursor over the column headers: to change your baseline run, click the runs button and select a new run as the baseline from the baseline run column, as shown in the following figure: fusion compiler™ user guide v-2023.12-sp3 272 chapter 3: physical synthesis performing design analysis feedback see also • changing the qor display style • sorting and filtering the data • exploring the detailed comparison data changing the qor display style by default, the comparison tables show the qor values for all runs."
"when using a wire, the wire must be contained within the pin shape."
.
.
.
"you can use the -max_displacement_threshold option to identify eco cells with a very large displacement, for which you want to reject the eco changes."
.
"for example, to create a hard placement blockage in the area enclosed by a rectangle with corners at (10, 20) and (100, 200), use the following command: create_placement_blockage -boundary {10 20 100 200} note: hard placement blockages are honored during placement, legalization, optimization, and clock tree synthesis."
"• signoff.fix_drc.max_detail_route_iterations this application option specifies the number of detail routing iterations; you can specify an integer between 0 and 1000. checking for drc violations when performing signoff design rule checking, the signoff_fix_drc command has the following default behavior: • reads the design view for the top-level block and library cell instances, and the pin information from the frame view for the macro cell and i/o pad cell instances for information about changing the view used for specific cells, see reading blocks for signoff design rule checking."
"create_repeater_groups -supernets supernet_list | \ -supernet_bundles supernet_bundle_list | \ -cells cell_list \ -lib_cells lib_cell_list \ [-lib_cell_input lib_pin] \ [-lib_cell_output lib_pin] \ [-group_pin_spacing spacing] \ [-ignore_pin_layers] setting constraints for a group of repeaters to define the constraints for a group of repeaters, use the set_repeater_group_constraints command."
.
.
"if postroute redundant via insertion results in a redundant via rate of at least 90 percent, you can try to improve the redundant via rate by using near 100 percent redundant via insertion."
"for example, to define a nondefault routing rule named new_width_rule3 that uses the default routing rule as the reference rule and defines the nondefault width as 0.8 for the fusion compiler™ user guide v-2023.12-sp3 496 chapter 6: routing and postroute optimization routing constraints feedback m1 layer, 0.9 for the m4 layer, and two times the default width for all other layers, use the following command: fc_shell> create_routing_rule new_width_rule3 \ -multiplier_width 2.0 -widths {m1 0.4 m4 0.45} defining minimum wire spacing rules you can define nondefault minimum wire spacing rules that are stricter than the rules defined in the technology file."
.
.
522 verifying the secondary power and ground pin attributes .
.
.
.
.
"if the tool detects that the technology used by the design is an advanced technology node that is less than 16 nm, the tool enables this feature by default."
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 241 chapter 3: physical synthesis controlling mapping and optimization feedback for example, the following settings prevent the tool from removing the unloaded register named reg22: fc_shell> set_unloaded_register_removal reg22 false the following settings globally disables unloaded register removal for the entire block except for the module named sub5 : fc_shell> set_app_option -name compile.seqmap.remove_unloaded_registers -value false fc_shell> set_unloaded_register_removal [get_module sub5] true to report the unloaded registers that were removed during compile, use the report_unloaded_registers command."
"for more information about design planning and power planning, see the fusion compiler design planning user guide."
.
.
.
"the columns are no longer aligned, and utilization is higher in the area of the compressed cells."
.
.
.
.
.
.
.
.
"reports that are generated by reporting commands, such as report_cells and report_timing, show the td attribute attached to the cells that are specified by the -dont_use or -only_here option."
.
160 spreading repeater cells during placement .
2. set the application options for interactive signoff design rule checking.
.
.
350 deriving clock tree exceptions from ideal clock latencies .
.
.
"the compile_fusion command automatically connects the scan enable and test ports or pins of the integrated clock-gating cells, as needed."
.
.
.
.
"to enable this feature, set the abstract.check_constraints_consistency application option to true before you run the check_hier_design command."
"to enable this feature, set the compile.flow.arearesynthesis application option to true."
.
"when you use the checkpoint system, you define checkpoints for important steps in your golden flow."
.
.
.
• -references: specifies the policy and strategy for reference subdesigns.
.
fc_shell> create_clock_straps -nets [get_nets clk1_mesh] \ -layers {m7 m8} -widths {2.4 2.4} -types {stripe stripe} \ -grids {{20 1200 100} {60 980 150}}-boundary {{0 0} {1200 980}} the following example creates a two-dimensional spine structure that has spines on the vertical layer m8 with a width of 3.6 units and of type user_route and stripes on the horizontal layer m7 with a width of 2.4 units and of type stripe.
.
.
.
.
.
.
.
.
.
.
.
.
"to remove all placement blockages from a block, use the -all option."
.
the string that you specify in this option is added to the command line used to invoke the ic validator tool.
.
.
.
.
"when you use this option, the gdsii or oasis data replaces the cell library data for the cells defined in the specified stream files."
.
.
"the driver can be port, macro pin, and placed cell."
.
.
.
.
mx_fill2route_end_ spacing specifies the minimum end-to-end spacing between metal fill and net shapes.
"• the nets in the differential group to specify the nets included in the created group, use the -for option."
"for example, to assign a label named x to the right side of the cella library cell and the left side of the cellb and cellc library cells, use the following commands: fc_shell> set_placement_spacing_label -name x \ -lib_cells {cella} -side right fusion compiler™ user guide v-2023.12-sp3 151 chapter 2: preparing the design specifying physical constraints for placement and legalization feedback fc_shell> set_placement_spacing_label -name x \ -lib_cells {cellb cellc} -side left you can assign multiple labels to a side of a library cell."
.
.
.
.
.
.
.
.
x x opt-1008 layer does not have a preferred direction.
.
end-cap cells are typically nonlogic cells such as a decoupling capacitor for the power rail.
"during the logic_opto stage, the tool performs analysis across hierarchical boundaries and inserts additional clock gates as needed."
"◦ to specify the replacement tap cell for left-side violations, use the -left_violation_tap option."
the letter “v” in the flag column indicates a violation at that location.
.
.
.
.
"note: if you specify a nondefault width that violates the signalroutemaxwidth setting in the technology file, the tool ignores the nondefault width."
.
.
.
.
"fc_shell> create_clock_drivers -loads [get_nets clka] \ -lib_cells [get_lib_cells my_lib/ckbuf8x] \ -boxes {5 5} -boundary [list {{200 200} {1000 1000}} ] in this example, one of the tap drivers drives all the loads of the original clock net named clka."
.
.
use the instructions in the changing the block from abstract to design view section to switch the blocks you want to optimize to design views.
.
.
.
.
• -layer_cutting_distance specifies the cut distance from the repeater center to the input and output routes.
.
.
"therefore, check and reapply these nondefault routing rules after optimization."
.
"when you do so, the tool moves many cells a small distance, to avoid moving a single cell a large distance during legalization."
"for details, see routing signal nets by using automatic routing."
.
.
.
.
.
the following example detail routes an existing h-tree style clock structure.
.
.
"◦ to specify the replacement tap cell for both-side violations, use the -both_violation_tap option."
.
.
"by default, rail analysis reads and uses all time values in the vcd file."
.
"the tool honors the specified design scenario for the ir-driven features in power integrity flow, such as ir-driven placement, ir-driven concurrent clock and data optimization, and ir-driven optimizationsee running rail analysis with multiple rail scenarios for details.. rail.dump_icc2_results_st yle -value 2.0 specifies how to load the results with the new ansys map style."
.
.
"restricting library cell usage by default, the fusion compiler tool can use all of the library cells available in the cell libraries when performing optimization or clock tree synthesis on the block."
2. set the ron value limit to be considered for cell switching using the set_power_switch_resistance command.
.
.
.
.
.
.
.
.
.
.
.
.
.
show the place mode (cutline/distance) and connection mode (virtual connection/real connection) on this command.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"to prevent the cell from being placed in the category blockage, set the attribute to true."
check if the command failed to cut route for cell.
"when you use this option, the tool does not ensure that all legalization constraints are met."
.
.
.
.
.
"unplace_group_repeaters \ -cells cell_list | -repeater_groups group_id_list \ [-lib_cell_input pin_name] \ [-lib_cell_output pin_name] removing repeater groups to remove a group of repeaters, use the remove_eco_repeater command."
.
.
"for example, to ignore the path group named clk1 for all scenarios and clk2 for the scenario named scna, use the following command: fc_shell> set_app_options -name ccd.skip_path_groups \ -value {clk1 {clk2 scna}} this setting affects concurrent clock and data optimization performed during the place_opt, clock_opt, and route_opt commands."
.
.
fusion compiler™ user guide v-2023.12-sp3 722 chapter 8: ic validator in-design inserting metal fill with ic validator in-design feedback table 50 ic validator metal fill insertion parameters (continued) parameter default description mx_density_gradient_ window 10 windowsize 9 specifies the window size used for density gradient checking.
.
.
.
"when you enable incremental shielding, zroute performs incremental shielding during detail routing by removing the existing shielding from the modified nets and optionally reshielding these nets based on the new topology."
.
.
.
.
.
.
the tool generates one error data file for each supply net.
.
.
.
.
.
.
.
you can use the following capabilities to insert additional tap cells after standard tap cell insertion: • insertion of tap walls a tap wall is a row or column of tap cells placed linearly without any gaps between cells.
239 selectively removing or preserving constant and unloaded registers .
.
.
the following example specifies not to use the rpl implementation.
.
.
"to insert a tap mesh, use the create_tap_meshes command."
786 adding relative placement groups .
.
custom.route.single_loop_match_offset_layer routes the segment at the top of the figure on a layer different from other segments in the loop.
.
.
.
.
.
"• routing layers, see specifying the routing resources."
"to specify a target mode for the design flow, use the -mode option."
.
.
.
total wire length = 21154552.81 phase3.
.
◦half_interleave: inserts shared shielding every two wires.
.
"however, it can slightly increase the total negative slack or number of hold violations."
.
.
.
.
.
"therefore, freezing the boundary of a block by using the set_freeze_ports command prevents the tool from adding a logical-feedthrough buffer to that block."
"therefore, the hold priority should be increased only if the hold timing is critical."
.
.
.
.
.
.
the metal shapes are floating; they are not connected to any logical nets.
.
"for example, in the following figure, the clock tree from the output of the icg1 cell to the inputs of the ff1, ff2, and ff3 cells is considered a subtree."
.
"figure 37 combinational multibit library cell flow to print the combinational multibit cells created for each library reference, use the -combinational option with the report_multibit command, as shown in the following example: fc_shell> report_multibit -combinational --------------------------------------------------------------------- #outputs reference number of instances single-bit equivalent --------------------------------------------------------------------- 2 combo_mbit_lib_cell1 257 514 4 combo_mbit_lib_cell2 57 228 --------------------------------------------------------------------- to check the compatible single-bit equivalent cell of combinational multibit library cells, use the -combinational option with the check_multibit_library command, as shown in the following example: fc_shell> check_multibit_library -combinational ------------------------------------------------------------------------ combinational compatibility equivalent singlebit multibit libcell libcell ------------------------------------------------------------------------ combo_mbit_lib_cell1 compatible combo_sbit_lib_cell1 don't use mismatch combo_sbit_lib_cell2 fusion compiler™ user guide v-2023.12-sp3 254 chapter 3: physical synthesis running concurrent clock and data optimization feedback combo_mbit_lib_cell2 pvt mismatch combo_sbit_lib_cell3 ------------------------------------------------------------------------ running concurrent clock and data optimization changing clock latencies can balance the slack in successive timing path stages to optimize clock and data paths."
"• with the level-based clock nondefault routing rule: all the nondefault routing rules in a clock tree path must be in a topologically sorted order from clock root to sinks, that is, root nondefault routing rule > internal nondefault routing rule > sink nondefault routing rule."
.
the tool determines the direction of the straps based on the metal layer you specify.
• via rule generate statements in a lef file the via rule generate statements define simple via arrays.
.
.
"by default, • the metal shapes are inserted only in the top-level block to insert metal shapes in all soft macros in a hierarchical block, use the -hierarchical option."
"• to specify keepouts, use the -keepouts option."
.
.
.
622 inserting redundant vias on signal nets .
.
.
.
.
.
.
the tool uses the global antenna rule whenever a layer-specific antenna rule does not exist.
.
.
.
.
.
.
.
.
"• uses the metal width and metal spacing requirements defined in the technology file and ignores nondefault routing rules to force the tool to honor nondefault routing rules, change the setting in the mouse tool options panel."
.
.
.
custom_guidance (none) enables a signoff drc fixing run that targets double-patterning odd-cycle violations when it is set to dpt.
.
.
.
.
.
.
.
.
this table shows how the tool preserves the design objects during optimization.
.
.
.
.
.
"group bounds can be hard, soft, or dimensionless."
.
.
fusion compiler™ user guide v-2023.12-sp3 898 chapter 12: redhawk and redhawk-sc fusion running rail analysis with multiple rail scenarios feedback examples the following example runs rail analysis on multiple rail scenarios.
the tool does not spread these cells.
.
"see figure 159. example 36 wire matching constraints for pr* nets fc_shell> create_wire_matching abc \ -for [get_nets -physical_context pr*] \ -tolerance 10 {abc} in example 37, the command creates a constraint group named def for the nets and bundles that match the pattern pr*."
.
.
note: the optimized via conversion rate is not useful if you are using bar vias.
.
.
.
defining clock tree exceptions clock tree exceptions are user-defined changes to the default endpoints (balancing and ignore pins) derived by the tool for a specific clock.
.
.
.
.
.
.
.
.
"for more information on these application options, see the corresponding man pages."
"the following topics describe clock-gating flows: • inserting clock gates in multivoltage designs • inserting clock gates in an rtl design fusion compiler™ user guide v-2023.12-sp3 301 chapter 4: clock gating clock gating flows feedback inserting clock gates in multivoltage designs in a multivoltage design, the different hierarchies of the design might have different operating conditions and use different target library subsets."
.
.
"to define a placement attraction, use the create_placement_attraction command."
.
.
.
"during coarse placement, the tool estimates an initial location for every top-level relative placement group."
.
.
"• computes the metal density for the entire block to compute the metal density for specific regions, use the -coordinates option with the signoff_report_metal_density command."
"• -collapse_levels setting this option to false prevents redundant clock gates from being collapsed • -ungate_fanout setting this option to true specifies that the clock gate fanout remain ungated • -reset resets all clock gate settings for the whole design if the size_only or dont_touch attributes are set on a clock-gating instance or clock- gating library cell, these attributes take precedence over any of the constraints specified by the set_clock_gate_transformations command."
.
.
.
.
"for information about modifying these checks, see configuring nondefault spacing checks."
.
.
.
.
.
.
.
.
.
"• to move a voltage area shape directly above another shape, use the -above option."
.
.
.
.
.
.
.
.
you must run the open_rail_result command to load the analysis results before displaying a map in the fusion compiler gui.
.
estimated clock latencies are more accurate than user-specified clock latencies.
.
.
.
.
.
.
.
.
.
• uses rule-based name matching for macros and ports fusion compiler™ user guide v-2023.12-sp3 104 chapter 2: preparing the design importing the floorplan information feedback rule-based name matching automatically resolves name differences by using the tool’s intelligent name matching capability.
"because the blocks are now optimized based on the top-level timing picture, you must create updated timing constraints for the blocks before you continue with the clock_opt command for the blocks."
.
.
.
"for example, fc_shell> set_app_options \ -name rail.switch_model_files \ -value {switch.model} rail.macro_models specifies the macro model files."
.
"the shield shapes must be longer than shield_min_open_loop, or no shielding will be added."
.
.
"you can define both global and instance- specific via ladder constraints; if the constraints conflict, the instance-specific constraints override the global constraints."
.
.
.
the following script disables datapath gating on the datapath element add_3: # disable datapath gating on particular operator set_datapath_gating_options -enable false [get_cells add_3] controlling mux optimization the fusion compiler tool can map combinational logic representing multiplexers in the hdl code directly to a single multiplexer (mux) or a tree of multiplexer cells from the target logic library.
.
.
.
.
.
.454 defining via ladder constraints .
.
.
.
defining group bounds move boundcreatinga group bound is a floating region within which to place a set of cells.
896 specifying a design scenario for rail analysis .
.
.
.
.
.
"the replacement filler cells have the same height, width, and threshold voltage as the original filler cells."
the actual usage of the diode ratio vector depends on the diode mode that was specified in the define_antenna_rule -diode_mode option.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
unplaced and unshaped objects will always be placed and shaped.
this command provides a mechanism to specify why a given signal should not be used as an enable condition for clock gating.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 876 chapter 12: redhawk and redhawk-sc fusion preparing design and input data for rail analysis feedback if you finish the analysis and want to keep the data for later retrieval, you need to save the existing rail data to another working directory by using the rail.database application option before proceeding to another analyze_rail run."
.
"to define targets for specific corners, use the -corners option."
.
.
.
622 viewing the default via mapping table .
.
.
.
.
.
"linking to abstract views at the top-level for a top-level design to link to an abstract view of a lower-level block, the design library containing the abstract view of the lower-level block must be one of the reference libraries of the top level."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"• to enable the fixing of soft drc violations after the final detail routing iteration, set the route.common.post_detail_route_fix_soft_violations application option to true."
.
"the following example ignores both the maximum capacitance and maximum fanout constraints of the clock drivers: fc_shell> set_app_options \ -name cts.multisource.ignore_drc_on_subtree_driver \ -value ""max_fanout max_capacitance"" 7."
.
"to add shielding to the routed clock nets based on the assigned shielding rules, use the create_zrt_shield comandcomandscreate_zrt_shield create_shields command."
.
.
.
these cells ensure that the output transition of a driver can cause the receiving cell to switch even though the receiver is operating at a different voltage level.
.
the string that you specify in this option is added to the command line used to invoke the ic validator tool.
.
.
.
.
.
.
.
.
you should run the final_opto only one time for each block.
.
.
.
.
.
you can specify both single-rail and dual-rail library cells.
.
.
.
.
.
"to report the version compatibility, use the report_versions command."
"when you reset an option, it overrides the existing value of only that option; the other option settings remain unchanged."
"for overlapping voltage areas, the effective shape of each voltage area is determined by the stacking order of the voltage area shapes."
.
.
.
.
.
53 configuring checkpoints .
.
.
-max_gap specifies the global maximum spacing between route objects and shield objects.
.
"for more fusion compiler™ user guide v-2023.12-sp3 559 chapter 6: routing and postroute optimization routing nets in the gui feedback information about the drc violations reported by zroute, see performing design rule checking using zroute."
.
"to restrict the checking to specific nets, use the -nets option."
.
.
.
.
.
.
.
.
.
"if you specify more than one spacing value per layer, you must assign a weight to each spacing value by using the -spacing_weight_levels option."
this is not applicable to the names of self-gates that drive wrapper cells only.
.
"fusion compiler™ user guide v-2023.12-sp3 230 chapter 3: physical synthesis controlling mapping and optimization feedback both registers and latches are represented by a seqgen cell, which is a technology- independent model of a sequential element as shown in the following figure: clear preset next_state clocked_on data_in enable synch_clear synch_preset synch_toggle synch_enable q qn seqgen this table lists the pins of a seqgen cell."
each of the redhawk jobs requires one snps_indesign_rh_rail license key.
.
.
.
.
.
.
.
.
.
.
"table 7 design rule commands to do this use this command specify the minimum allowed capacitance for input ports, library cell pins, leaf cell pins, clocks, or blocks set_min_capacitance specify the maximum allowed capacitance for input ports, library cell pins, leaf cell pins, clocks, or blocks set_max_capacitance specify the maximum allowed signal transition time for input ports, library cell pins, leaf cell pins, clocks, or blocks set_max_transition remove a user-specified minimum capacitance constraint remove_min_capacitance fusion compiler™ user guide v-2023.12-sp3 134 chapter 2: preparing the design specifying clock gating constraints feedback table 7 design rule commands (continued) to do this use this command remove a user-specified maximum capacitance constraint remove_max_capacitance remove a user-specified maximum transition constraint remove_max_transition report minimum capacitance constraint violations report_constraints -min_capacitance report maximum capacitance constraint violations report_constraints -max_capacitance report maximum transition constraint violations report_constraints -max_transition specify the connection requirements for the network that is connected to the specified ports or library cell pins for ports: set_connection_class for pins: set_attribute \ -name connection_class note: the maximum fanout design rule constraint is not honored by the fusion compiler tool."
.
.
.
"however, you can change the default behavior of these timing paths by specifying timing exceptions such as paths that should not be analyzed (false paths), paths that require multiple clock cycles (multicycle paths), and so on."
.
.
.
.
.
"• to remove the existing shielding only, set the route.common.reshield_modified_nets option to unshield."
.
.
"the fusion compiler tool provides a unified • data model, which enables sharing of libraries, design data, constraints, and design intent throughout the entire implementation flow and is architected to support ultra- large designs with a small memory footprint • graphical user interface (gui), which enables seamless visual analysis of timing paths, power intent, schematic, and layout, with full cross-probing between the rtl and netlist • design mismatch mitigation infrastructure, which provides user controls to mitigate incomplete or mismatched library and design data fusion compiler™ user guide v-2023.12-sp3 32 chapter 1: working with the fusion compiler tool physical synthesis design flow overview feedback the following topics describe how to use the fusion compiler tool: • physical synthesis design flow overview • formal verification • place and route design flow overview • fusion compiler concepts • working with the 3dic compiler user interfaces • entering fc_shell commands • using application options • using variables • viewing man pages • using tcl scripts • adding changes to a script with checkpoints • using setup files • using the command log file • enabling multicore processing for information about working with design data in the fusion compiler tool, see the fusion compiler data model user guide."
"1 steps to enable distributed processing to enable distributed processing for redhawk fusion, 1. define the distributed processing configuration by using the set_host_options command."
.
"note: if you enable the route.common.concurrent_redundant_via_mode option before running the place_opt command, the redundant vias are considered during congestion estimation."
.
.
.
you cannot flip the orientation of the top and bottom boundary cells.
.
.
.
"• for information about controlling the allowed types of pin connections, see controlling pin connections."
.
small_filler_stacking maximum vertical edge length this rule restricts the vertical length of a column of stacked filler cells.
option description -include specifies a list of objects to gate as per the clock-gating style and clock-gating options.
.
.
.
.
.
.
.
.
.
"for voltage areas that you do not specify with this option, the tool uses library cells specified with the -lib_cell option."
.
.
.
"using a subset of the via mapping table for redundant via insertion to use a subset of the via mapping table for redundant via insertion, specify which weight groups from the via mapping table to use by setting one or both of the route.common.redundant_via_include_weight_group_by_layer_name and route.common.redundant_via_exclude_weight_group_by_layer_name application options."
you can see the offset values by using the write_script -format icc2 command and checking for the set_clock_latency -offset commands in the generated output.
.
.
"to disable the checking of blocked top-level or macro cell ports, use the -check_non_standard_cell_blocked_ports false option."
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 185 chapter 2: preparing the design setting up for power-related features feedback if you do not specify the switching activity, the tool applies the default toggle rate to the primary inputs and black box outputs and then propagates it throughout the design."
.
.
.
.
.
.
.
.
.
"• to enable advanced legalizer and remove the filler cells that have violations, set the place.legalize.enable_advanced_legalizer application option to true."
"before performing clock tree synthesis, you must use the remove_ideal_network command to remove the ideal setting on the fanout of the clock trees."
.
.
.
"to generate a tcl script that reproduces routing blockages, use the write_floorplan command."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
the fusion compiler tool supports filler cells with and without metal fusion compiler™ user guide v-2023.12-sp3 636 chapter 7: chip finishing and design for manufacturing inserting filler cells feedback and supports both single-height and multiheight filler cells.
.
.
.
"after you create the frame view, save the design library by using the save_lib command."
.
.
.
note: you cannot mix these methods of specifying coaxial shielding.
.
.
.
.
.
.
.
.
place_group_repeat ers eco-235 warning: there is no route on driver net (%s).
.
"the command scans all timing windows from smallest to biggest, and accumulates current on the way as time passes by."
.
.
"it is typically used for scripts, batch mode, and push-button operations."
.
"fusion compiler™ user guide v-2023.12-sp3 632 chapter 7: chip finishing and design for manufacturing reducing critical areas feedback the following topics describe how to • reduce critical area short faults by performing wire spreading • reduce critical area open faults by performing wire widening performing wire spreading after you have performed detail routing and redundant via insertion, you can perform wire spreading to increase the average spacing between wires, which reduces the critical area short faults and therefore improves yield."
.
.
the following example redirects a tcl script to run in the background: fc_shell> set_host_options -max_cores 8 fc_shell> redirect -bg -max_cores 3 -file bg_log.out \ {source bg_script.tcl} information: redirect -bg with max_cores 3 started.
.
.
.
.
.
.
"to perform clock tree synthesis and detail routing to build an h-tree style global clock tree, use the synthesize_multisource_global_clock_trees command."
.
.
.
.
"if you set the attribute on a module, all cells that reference the module are affected."
.
.
"use the following options to change the default behavior: • to specify a name for the routing guide, use the -name option."
.
.
the shaded cell shows the default behavior.
4.
.
.
.
.
.
"to select this rule, use the -replacement_rule horizontal_edges_distance option with the replace_fillers_by_rules command."
.
.
.
.
.706 eco-aware removal of pg augmentation shapes .
"fc_shell> balance_clock_groups fusion compiler™ user guide v-2023.12-sp3 388 chapter 5: clock tree synthesis implementing clock trees and performing post-cts optimization feedback performing global-route-based optimization using machine learning data for designs with poor timing correlation between the preroute and postroute stages, you can improve the correlation by performing optimization after clock tree synthesis using machine learning (ml) data derived after detail routing."
spare diodes are not deleted as they do not connect to any nets.
.
.
"in this heat map, each colored bar corresponds in size to the gradient window size."
.
.
.
.
.
.
.
.
"the following log file example shows shielding soft spacing violations, which are highlighted in bold text: drc-summary: @@@@@@@ total violations = 13 diff net var rule spacing : 2 same net spacing : 2 less than minimum area : 4 short : 1 soft spacing (shielding) : 2 signal routing only reserves space for the shielding; it does not actually insert it."
.
"for more information, see maximum horizontal length rule."
.
.
.
.
"the following example creates an access preference routing guide whose boundary is a rectangle with its lower-left corner at (0, 0) and its upper-right corner at (300, 300)."
.
.
"fc_shell> set_application_option \ -name est_delay.ml_delay_opto_dir -value ./ml c. enable the machine learning model, which was derived in the previous iteration, by setting the new est_delay.ml_delay_gre_mode application option to enable."
"for example: fc_shell> report_repeater_group_constraints removing constraints for a group of repeaters to remove the constraints that were assigned to a group of repeaters, use remove_repeater_group_constraints command."
.
.
.
"to reduce the overall turnaround time for the flow, you can reduce the runtime of each iteration by using the incremental signoff eco flow."
.
.
.
.
.
"it comprises one or more rectangular or rectilinear shapes, which can be abutted, disjoint, or overlapping."
fc_shell> set_qor_strategy -mode early -stage pnr fusion compiler™ user guide v-2023.12-sp3 535 chapter 6: routing and postroute optimization routing signal nets feedback early mode detail routing automatically creates a new drc type called skipped regions that can detect dirty regions with pin overflow.
.
.
.
.
.
.
.
.
you can enable the use of improved buffering techniques for fixing logical drc violations on such nets during preroute optimization by setting the opt.buffering.enable_hierarchy_mapping application option to true.
.
.
.
.
.403 implementing power aware flexible h-tree .
.
it supports an asterisk wildcard character (*) as the name of a check.
.
.
.
.
-layer_max_gaps specifies the layer-specific maximum spacing between route objects and shield objects.
"by default, the command returns an error if the assigned name already exists."
.
.
• the supply net is connected to a pg pin of an instance.
.
.
.
"• quick connect tool to activate the quick connect tool, click the button or choose edit > route utilities > quick connect."
the default is false.
"if the mask constraint you specify for an enclosure layer when you create a via differs from the mask constraint specified for the first shape in the via definition, the specified mask constraint determines the mask-shift used for all shapes on that layer."
.
.
.
unplaced and unshaped objects will always be placed and shaped.
.
"the first buffer of the pattern is placed at location (100, 70)."
.
"the distance between short metal shapes is ss, which is specified for the layer by the -metal_spacing option."
.
.
.
.
"the command automatically performs cell grouping and groups virtual connection with the following attributes: ◦ group_repeater_driver ◦ group_repeater_loads ◦ pin_pair ◦ group_id 2. verify the path with the get_attribute, report_repeater_group, and get_repeater_path_info commands."
.
.
.
.
.
.
.
.
.
.
.
"the remove_clock_trees commands traverses the clock tree from its root to its sinks and removes all buffers and inverters, except those with dont_touch or size_only attributes."
"by default, this application option is set to none, which disables the hybrid routing flow."
figure 6 no odd-cycle violation the fusion compiler tool ensures that the generated layout is conducive to double patterning by considering the multiple-patterning spacing requirements during placement and routing and preventing odd cycles.
.
342 defining clock tree exceptions .
.
.
.
.
.
.
.
.
this mode should only be specified along with the -metric leakage_power or -metric total_power option.
.
.
you can use this command and the pin_check.
.
.
"for example, to specify pin u2/a as a sink pin for the clk clock in the current corner, use the following command: fc_shell> set_clock_balance_points -clock [get_clocks clk] \ -consider_for_balancing true -balance_points [get_pins u2/a] to report the user-defined sink pins, use the remove_clock_tre_exceptions comand-stop_pinscomandsremove_clock_tre_exceptions-stop_pinsreport_clock_balance_points command."
• the metal shapes are placed on the closest wire track to the preferred-direction edge figure 101 shows the metal shapes inserted for an l-shaped block on a layer whose preferred direction is horizontal.
.
.
.
.
179 specifying parasitic estimation settings for the preroute optimization .
.
.34 place and route design flow overview .
.
.
you can increase the virtual-flat global routing speed by routing only the top-level nets.
.
"for vias on different layers, the router uses the minimum spacing defined in the designrule section for the via layer combination."
.
.
.
.
.
.
.
.
"to specify margins for the tap wall insertion, use the -x_margin and -y_margin options."
.
.
"by default, the tool uses the custom router to route the h-tree structure and connect to the pins of the clock tree cells."
.
.
"for example, the design.mcmm/scenario_scenario.tcl file contains the following clock latency settings: set_clock_latency -clock [get_clocks {clk}] -0.3 [get_pins {d_reg[4]/cp}] set_clock_latency -clock [get_clocks {clk}] 0.1 [get_pins {d_reg[7]/cp}] the design.mcmm/mode_mode.tcl file contains the following balance points: set_clock_balance_points -clock [get_clocks {clk}] \ -balance_points [get_pins {d_reg[4]/cp}] \ -consider_for_balancing true \ -rise -delay 0.3 -corners [get_corners {default}] set_clock_balance_points -clock [get_clocks {clk}] \ -balance_points [get_pins {d_reg[7]/cp}] \ -consider_for_balancing true -rise -delay -0.1 -corners [get_corners {default}] performing test insertion and scan synthesis fusion compiler test synthesis solution enables transparent implementation of dft capabilities into the synopsys synthesis flow without interfering with functional, timing, signal integrity, or power requirements."
decreasing this value can increase the via density at the expense of decreasing the metal density.
.
.
.
.
.
.
"if you do not assign a weight, the tool assigns a weight of 1. during redundant via insertion, zroute uses the higher weighted redundant vias first."
.
.
.
.
.
"for example, to specify that filler2x or filler1x cells can be inserted in a gap that has default threshold-voltage cells on the left and right sides and fillera2x and fillera1x cells fusion compiler™ user guide v-2023.12-sp3 657 chapter 7: chip finishing and design for manufacturing inserting filler cells feedback can be inserted in a gap that has vta threshold-voltage cells on the left and right sides, use the following commands: fc_shell> set_vt_filler_rule -vt_type {default default} \ -filler_cells {mylib/filler2x mylib/filler1x} fc_shell> set_vt_filler_rule -vt_type {vta vta} \ -filler_cells {mylib/fillera2x mylib/fillera1x} 4. insert the filler cells by using the create_vtcell_fillers command."
.
.
.
.
.
.
"the route_opt command performs the following tasks: 1. performs extraction and updates the timing by default, the route_opt command uses the primetime delay calculation engine, which requires that you use cell libraries generated by o-2018.06 or later versions of the library manager tool."
.
.
.
.
(optional) control the adjustment of i/o clock latencies performed during concurrent clock and data optimization as described in controlling the adjustment of i/o clock latencies.
.
.
.
.
.
.
note: using a large spacing value increases the skew because the cells are spaced further away from the intended clusters of sinks.
the route_opt and hyper_route_opt commands perform postroute optimization on the top and blocks together.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 761 chapter 9: routing using custom router defining routing constraints feedback example 37 wire matching constraints for pr* nets with percent tolerance fc_shell> create_wire_matching def \ -for [get_nets -physical_context pr*] \ -tolerance 0.10 -relative {def} in example 38, the command creates a wire matching constraint named clk_match for the clk net."
.
.
"when using a via connection, the via’s metal enclosure must be contained within the pin shape."
.
.
"2. from the visible runs (summary) column, select or deselect the runs accordingly."
.
.
.
.
.
.
.
.
.
.
.
.
"• connects the shielding wires to the standard-cell power or ground pins and the standard-cell rails to prevent connections to the standard-cell power and ground pins, set the -ignore_shielding_net_pins option to true."
.
.
.
.
.
.
.
.
the nets are restored to their original names and routes shapes.
.
.
.
.
"after you specify the naming convention, perform lexical classification, by using the classify_lib_cell_attributes command as shown in the following example: fc_shell> classify_lib_cell_attributes -libset mylibset to report the lexical classification results, use the report_lib_cell_classification_attributes command."
.
.
"generally, the design rules specify the maximum distance allowed between every transistor in a standard cell and a well or substrate tap."
.
.
.
.
.
.
.
.
.
.
.
.
check if the route is far away from driver or loads.
"to snap shielding wires to the routing tracks, use the -snap_to_track option when you define the nondefault routing rule."
performing signoff design rule checking ic validator in-design signoff design rule checking (drc) runs the ic validator tool within the fusion compiler tool to check the routing design rules defined in the foundry signoff runset.
.
.117 creating floating logical supply nets .
.
.
.
.
.
.
.
.
defining the clock trees this section details the information required to analyze and define each clock tree before running clock tree synthesis.
.
.
.
.
.
.
.
"fc_shell> route_global -floorplan true if you are using the hierarchical flow, enable virtual-flat global routing by using the -virtual_flat option with the route_global command."
.
.
.
.
.
.
2.
.
use the following options to configure the policy: • -checks: specifies a predefined list of data checks.
.
.
.
.
an extracted timing model (etm) is a liberty model representation of a design that is generated by the extract_model command in the primetime tool.
.
.
.
.
.
.
.
◦ unfixed: places and shapes objects that are not fixed.
.
"to also save the soft congestion data, set the route.global.export_soft_congestion_maps application option to true before performing global routing."
.
"rail.spef_files (optional) specifies a list of spef files, which contain the detailed parasitic resistive and capacitive loading data of the signal nets."
.
"if you specify both global layer constraints and net- specific layer constraints, the net-specific constraints override the global constraints."
"to identify the dirty regions, open the error browser and select skipped region."
834 creating abstracts for signal electromigration analysis .
.
.
.
.
.
.
the default is false.
.
.
.
.
.
.
.
.
"if a hierarchical cell is included, all cells in the subdesign belong to the bound."
.
.
.
.
(optional) manually change the name mapping as described in controlling the name mapping.
.
.
(optional) report multibit information.
.
.
.
.
.
.
.
"using rtl switching activity with a name-mapping file to use an rtl saif file in the fusion compiler tool, use the following steps: 1. after reading and elaborating the design, use the saif_map -start command, which creates a name-mapping database during synthesis that the tool then uses for power analysis and optimizaiton."
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 714 chapter 8: ic validator in-design inserting metal fill with ic validator in-design feedback specifying the regions for metal fill insertion by default, the signoff_create_metal_fill command inserts metal and via fill for the whole chip."
.
.
.
.
the default is 0.
.
"when the design has many active scenarios, specifying one or two scenarios, as shown in this example, can reduce the runtime."
.
.
.
.
.
.
"to disable pin tapering on these nets, set the route.detail.enable_ndr_tapering_on_voltage_rule application option to false."
internal-net routing rules are applied to the nets from this point until the sink nets.
options that apply only to timing-driven metal fill insertion (pattern-based or track-based) signoff.create_metal_fill.
.
.
.
"for example, to show the worst tns numbers at the top of the table and the best tns numbers at the bottom, click the tns column header: click the tns column header again to show the best tns numbers at the top and the worst at the bottom: fusion compiler™ user guide v-2023.12-sp3 275 chapter 3: physical synthesis performing design analysis feedback filtering metrics to control which metrics are displayed in the table, click the metrics button and select or deselect the metrics from the metrics dialog box accordingly."
.
5. connect the inserted filler cells to the power and ground (pg) network by using the connect_pg_net -automatic command.
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 280 chapter 3: physical synthesis performing design analysis feedback using the same path-group timing example, the focused view shows one path group at a time."
"by default, when you use this option, the ic validator tool does not remove the tcd structures."
.
.
.
.
.
.
.
multicore fusion compiler™ user guide v-2023.12-sp3 63 chapter 1: working with the fusion compiler tool enabling multicore processing feedback processing improves turnaround time by performing tasks in parallel much more quickly than if they were run sequentially on a single core.
.
.
.
.
.
.
.
table 50 ic validator metal fill insertion parameters parameter default description metal fill insertion mode parameters mx_sparse_fill 1 controls whether metal fill insertion uses sparse mode (1) or dense mode (0) for the specified metal layer.
.
.
.
"when enabled, use the -switching_activity option to specify a switching activity file."
.
"when you include a relative placement group in a hierarchical group, it is as if the included group is directly embedded within its parent group."
.
.
.
.
4. perform placement and optimization.
.
"if the synchronous load-enable signal is not a constant logic 1 or 0, the condition is true and the setup condition is checked."
"2. for multivoltage designs, ◦ enable multivoltage support by using the following application option setting: fc_shell> set_app_options \ -name cts.multisource.enable_full_mv_support -value true ◦ enable the addition of physical feedthrough cells, which belong to a voltage area physically but not logically, by using the following application option setting: fc_shell> set_app_options \ -name opt.common.allow_physical_feedthrough -value true ◦ run the check_mv_design command and fix all multivoltage issues 3. enable multicorner optimization by setting the cts.multisource.enable_multi_corner_support application option to true."
.
"in a fishbone topology, each driver pin is individually connected to the nearest stripe."
.
• a child cell must inherit the same dont_touch attribute from its parent module.
3. routes the clock nets.
.
custom.route.shield_net specifies the net you want to use as the shield.
.
.
.
"if it is not possible to replace the filler cells, the command reorders the filler cells to fix the violation."
.
.477 using routing guides to prioritize routing regions .
technology mapping is the process by which a seqgen is mapped to gates of a specified target logic library.
"if you want to fix multiple-port nets, use the set_fix_multiple_port_nets command and fix these issues during the early stages of the compile_fusion command, when the tool can perform more optimization techniques."
"to delete the redundant diodes that are not needed to fix antenna violations, set the route.detail.delete_redundant_diodes_during_routing application option to true."
.
.
.
"fixed vias are vias that cannot be optimized by the router, such as unrouted vias and user-defined vias."
"the first metal stub is placed at the specified offset, s, from the vertical (nonpreferred-direction) edge."
"an eco cells can have a large displacement, if a free site is unavailable nearby."
.
.
.
"you can use this command to implement • a clock mesh, which is a two-dimensional grid in a horizontal and a vertical layer, where the straps are connected by vias at the intersection points, as shown in figure 89."
392 performing voltage optimization .
.
138 5 contents feedback defining an inner keepout margin .
.
.
.967 controlling how buffers are added .
.
.
.
"by default, the drc violations reported after performing incremental signoff design rule checking represent only the drc violations detected in the changed areas of the block."
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 310 chapter 4: clock gating controlling the number of clock-gate levels feedback the following usage notes apply: • new clock gates inherit the constraints set by the set_clock_gate_transformations, set_clock_gate_style, set_dont_touch, set_size_only, set_lib_cell_purpose, and set_boundary_optimization commands."
"this application option setting affects concurrent clock and data optimization performed during the place_opt, clock_opt, and route_opt commands."
.
.
"if the displacement of an eco cell exceeds this threshold, the tool legalizes them by moving preexisting cells."
145 defining move bounds .
.
.
"• by default, the detail router performs a maximum of 40 search and repair iterations."
.
.
.
.
.
.
.
.
.
.
"the obstruction in columns one and two is below the fusion compiler™ user guide v-2023.12-sp3 809 chapter 10: physical datapath with relative placement performing placement and legalization of relative placement groups feedback threshold, so the tool shifts the cells vertically."
"however, you can prevent the tool from using the qn pin of such registers by setting the compile.seqmap.disable_qn_usage application option to true."
.
.
.
the simplest way to restrict clock gating optimization is by using the set_dont_touch and set_size_only commands.
"• to taper the wire to the pin width rather than the default routing width, change the route.detail.pin_taper_mode application option to pin_width from its default of default_width before you perform detail routing."
"the tool uses the native resistance engine to calculate the effective resistance, which is used to calculate equivalent current during peak dynamic voltage drop analysis."
.
.
.
.
.
.
.
.
.
.
205 setting the preferred routing direction for layers .
.
.
.
.
.
.
.
.
"▪ signoff.create_metal_fill.flat to force the use of the flat metal fill mode, set this application option to true."
.
.
.
.
.
"• to remove the metal fill only from specific layers, use the -select_layers option, as described in specifying the layers for metal fill insertion."
"by default, when you enable timing-driven global routing, the tool 1. calculates the net delays of the block if the design library contains global route information, the tool uses the global route information to calculate the net delays; otherwise, it uses virtual routing to calculate the net delays."
.
.
.
.
.747 before using custom router .
.
.
.
.
note that the cell locations are flipped when the row is flipped.
mx_excluded_cells_ oversize_value 0.2 microns specifies the minimum spacing between the macros specified in the mx_excluded_cells parameter and fill shapes.
.
.
.
"to generate the balance points for ◦ specific primary clocks, use the -clocks option."
"to distribute the loads among all the clock drivers, you must subsequently perform automated multisource tap assignment by using the synthesize_multisource_clock_taps command, as described in specifying tap assignment options and settings."
• set the switching activity by using the set_switching_activity command.
• the tap cells considered for the check these cells are called target cells.
.
.
.
.
"the default is 4. the tool prints the following message if valid options are specified: information: primepower is being called in distributed mode enabling the power integrity features the fusion compiler tool provides the following techniques for ensuring power integrity of the design: • dynamic power shaping (dps), which reduces transient power by utilizing concurrent clock and data optimization (useful skew) techniques."
.
.
2. enable concurrent soft-rule-based redundant via insertion.
.
.
.
.
.
"by default, the commands reports the clock tree configuration, including the design rule constraints, target skew, and target latency; the clock tree references; the clock cell spacing rules; and the nondefault routing rules for all clocks in the current block."
.
.
repeaters are placed based on the intersection point between cutline and route.
.
.
201 removing net-specific routing layer constraints .
.331 setting up for self-gating .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
the report includes errors about the specific insertion point as well as errors that are applicable to the entire path through the net or pin specified with the -through option.
.
.
.
"◦ to insert an interior tap wall, use the create_interior_tap_walls command, as described in inserting interior tap walls."
.
.
.
.
.
.
.
.
"this means there are 9 wire tracks available, but 18 tracks are needed."
"based on the requirement, you can plan the variant cell flow."
"example the following example writes geometry data with voltage drop values that are within the specified area: fc_shell> get_geometry_result -net vdd -type voltage_drop \ -touching {{1610 1968} {1620 1969}} fusion compiler™ user guide v-2023.12-sp3 931 chapter 12: redhawk and redhawk-sc fusion displaying maps in the gui feedback { { 1616.475 1967.000 } { 1617.525 1969.800 } } metal5 0.00448 { { 1608.810 1946.000 } { 1611.190 1974.000 } } metal7 0.00446 { { 1608.000 1946.000 } { 1612.000 1974.000 } } metal9 0.00446 see also • voltage hotspot analysis displaying maps in the gui when analysis is complete, the tool saves the design data and analysis results (*.result) in the in-design.redhawk/design_name.result directory under the redhawk working directory."
.
.
"in this case, use the route_eco command instead of the route_detail command to rebuild the tie-off connections and to fix the drc violations."
.
.
.
.
.
.
.
132 analyzing multivoltage information .
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 940 chapter 12: redhawk and redhawk-sc fusion voltage hotspot analysis feedback option description -net specifies the net name for generating hotspots.
.
.
.
"before you start working with a block, you must define the modes, corners, and scenarios that are used for the block, as well as the delay calculation fusion compiler™ user guide v-2023.12-sp3 133 chapter 2: preparing the design specifying logical design rule constraints feedback model and routing layers to use."
.
.
.
"the command flags a violation in the following situations: • a via ladder is connected to a pin that does not have a via ladder constraint • a via ladder is connected to a pin with a via ladder constraint, but none of the templates correctly describe the current via ladder structure • a pin has a via ladder constraint, but does not have a via ladder connected to it fusion compiler™ user guide v-2023.12-sp3 460 chapter 6: routing and postroute optimization inserting via ladders feedback a via ladder is properly connected to a pin if all the via enclosures at the base of the via ladder touch the same pin and that pin is logically connected to the same net as the via ladder."
.
.
.
.
.
.
.
.
.
• -high_performance this option specifies that the via ladder is a performance via ladder.
"if you specify both, the tool optimizes the specified endpoints of the specified paths groups."
.
"by default, the power and ground structure is not included in the shielding ratio calculation."
"for the repairs, which need frame recreation, you need to run the save_lib command to save the frame on disk."
use the following options to configure the report: • -policy: reports configuration details for all checks.
.
.
.
fc_shell> create_taps -of_objects [get_lib_cell */some_pad_cell]\ -layer metal1 -point {30.4 16.3} the following example creates taps on all power and ground pins of all cell instances that match the *power_pad_cell* pattern.
.
"to remove the generated voltage hotspot data from memory, use the remove_hot_spots command."
.
.
.
.
"an example of a select_op cell implementation for an 8-bit data signal is shown in figure 31. fusion compiler™ user guide v-2023.12-sp3 227 chapter 3: physical synthesis controlling mapping and optimization feedback figure 31 select_op implementation for an 8-bit data signal figure 32 verilog output—select_op and selection logic fusion compiler™ user guide v-2023.12-sp3 228 chapter 3: physical synthesis controlling mapping and optimization feedback depending on the design constraints, fusion compiler implements the select_op with either combinational logic or multiplexer cells from the logic library."
.
.
.
.
.
.
.
.
figure 151 shows a minimum density heat map.
.
the strip_path argument removes the specified string from the beginning of the object names.
.
"when associating a report with multiple checkpoints, you can list the checkpoint names or specify the asterisk wildcard character."
.
.
the default is 0.1.
792 21 contents feedback specifying options for relative placement groups .
5. save the block to disk.
.
"• to read the gdsii or oasis data for specific reference cells, specify the stream files by setting the signoff.physical.merge_stream_files application option."
.
.
.
"the global clock structure consists only of an h-tree, which directly drives the tap drivers."
"to report the library cells which are not lexical classified under the given naming convention, use the report_lexical_unclassified_lib_cells command."
.
.
the tool considers all the switched or internal power nets of the specified power nets in the analysis.
2. report routing rules by using the report_routing_rules command.
the cut starts from the driver side.
"• -snap: puts the new buffer cells next to the target cell, then snaps the buffer cells to the closest site, and flips the buffer cells when needed."
.
.
.
.
.
.
.
.
.
these drivers are in turn driven by global clock distribution structure such as a clock mesh and h-tree.
"to explicitly specify the tapering distance, use the -taper_distance option when you create a nondefault routing rule with the create_routing_rule command."
.
.
.
the minimum spacing is 3 microns for the m2 layer and 5 microns for the m3 layer.
"• to remove the metal fill only from specific regions, use the -coordinates option, as described in specifying the regions for metal fill insertion."
.
.
.
.
you must use the -all option to include both the opened and unopened error data files in the result.
.
.
.
.
.
.
.
.
.
.
.
"the following topics describe how to define the antenna rules: • calculating the maximum antenna ratio • calculating the antenna ratio for a pin calculating the maximum antenna ratio to control the method used to calculate the maximum allowable antenna ratio, you must specify the following information: • how much protection the diodes provide (the diode protection mode) to specify the diode protection mode, use the -diode_mode option with the define_antenna_rule command, as described in setting the diode protection mode."
(optional) create a multibit register bank from specific single-bit registers as described in creating a multibit register bank from specific single-bit registers.
.
"an essential part of timing constraints are accurately specified clocks and clock effects, such as latency and uncertainty."
.
.
.
.
.
.
.
.
"figure 117 zroute shielding flow defining the shielding rules before you perform shielding, you must 1. define the shielding rules."
-group_shield uses a single set of shield shapes to shield all nets in the constraint group.
.
929 generating geometry-based analysis reports .
fc_shell> set_label_switch_list {postcompile precompile} fusion compiler™ user guide v-2023.12-sp3 840 chapter 11: hierarchical implementation specifying the editability of blocks from the top-level feedback you can use the set_label_switch_list command again to update the block’s label switch list and then relink the block using the link_block -rebind command.
.
.
.
.
"fc_shell> set_app_options \ -name signoff.fix_drc.custom_guidance -value dpt when you run the signoff_check_drc and signoff_fix_drc commands, use the -select_rules option to consider only the double-patterning rules during signoff design rule checking."
621 inserting redundant vias on clock nets .
.
you cannot manually modify the constraint objects.
the tool can prevent this by adding gating logic to the asynchronous set and reset lines.
3. specify the settings required to run the primetime eco capabilities within the fusion compiler tool by using the set_pt_options command.
.
.
.
.
.
.
two-dimensional spines consists of one-dimensional spines connected to multiple stripes in the orthogonal direction.
.
"the generated physical and electrical models are block.ploc and block.context, respectively."
.
"fusion compiler™ user guide v-2023.12-sp3 349 chapter 5: clock tree synthesis defining the clock trees feedback to remove the don't touch setting from a clock tree, use the -clear option with the set_dont_touch_network command."
.
.
.
.
.
.
.
.
.
this process supports a single site definition per run.
.
.
.
.
.
.
.
.
.
em.net_global_rms_relaxation_factor 1.0 specifies the global relaxation factor for the rms limit specified in the constraints file.
.
.
.
.
.
.
.
running clock tree synthesis on such a design can lead to long runtime or poor clock tree qor.
.
.
you can modify the following aspects of the default behavior: • the region in which to insert tap cells use the -voltage area option to restrict the tap cell insertion to the specified voltage areas.
.
.
.
.
.
• -no_of_cells: specifies the number of buffer cells or inverter pairs to be inserted per net.
.
.
.
the following example creates a tap using absolute coordinates.
.
.
"for example, fc_shell> get_attribute [ get_taps tap_1437 ] is_valid_location false finding substitute locations for invalid taps if the specified location for a tap is invalid, use the -snap_distance option of the create_taps command to find a substitute location for the tap."
the following topics describe how to create nondefault routing rules for various purposes: • defining minimum wire width rules • defining minimum wire spacing rules • defining minimum via spacing rules • specifying nondefault vias • specifying mask constraints • defining shielding rules • reporting nondefault routing rule definitions • removing nondefault routing rules • modifying nondefault routing rules you can create a single routing rule that serves multiple purposes.
362 handling inaccurate constraints during clock tree synthesis .
.
.
.
.
.
.
.
"nondefault wire spacing rules can be defined as hard constraints, which must be met, or as soft constraints, which zroute tries to meet."
use the following syntax to specify the access preference areas and their strengths: {layer [{wire_access_preference wire_rect wire_strength}] [{via_access_preference via_rect via_strength}] ...} you can define multiple access preference areas.
.
.
.
.
"to prevent buffers from being placed over specific macro cells, use the -dont_allow_insertion_over_cell option."
560 modifying routed nets .
you can specify either a relative path or an absolute path.
.
.
.
◦ signoff_check_drc.rc this file contains the ic validator runset environment variables.
.
"by default, the command reports the following types of relative placement groups: • placed groups that do not have constraint violations • placed groups that have constraint violations that are not critical • failed groups that have constraint violations that are critical • groups that have not yet been placed you can modify the default behavior by using the options described in table 61. table 61 the report_rp_groups command options to do this use this option report information only about the groups that are not placed due to critical relative placement violations -critical report information only about the groups that are placed but do not meet their relative placement constraints -non_critical report information only about the groups that have not yet been placed -unplaced fusion compiler™ user guide v-2023.12-sp3 813 chapter 10: physical datapath with relative placement analyzing relative placement groups feedback table 61 the report_rp_groups command options (continued) to do this use this option report detailed information -verbose you can also run this command before you run placement and optimization and identify the unplaced groups in the design."
.
.
983 26 contents feedback setting constraints for a group of repeaters .
.
• insertion of tap meshes a tap mesh is a two-dimensional array of tap cells with a tap cell in each mesh window.
.
.
fusion compiler™ user guide v-2023.12-sp3 527 chapter 6: routing and postroute optimization routing signal nets feedback the global router reports block statistics and congestion data after the initial routing phase and after each rerouting phase.
.
use the check_legality -verbose command to verify that the placement is legal.
"the following example shows how to add a new relative placement group to a design that is already placed and optimized, and performs incremental placement and optimization: fc_shell> create_rp_group -name new_rp -columns 1 -rows 2 fc_shell> add_to_rp_group new_rp -cells u1 -column 0 -row 0 fc_shell> add_to_rp_group new_rp -cells u2 -column 0 -row 1 ... fc_shell> place_opt -from final_place for a placed design, if you create a new relative placement group and specify an anchor location by using the -x_offset and -y_offset options with the set_rp_group_options command, you can use the legalize_rp_groups command to legalizes the newly created group anchored by the specified x- and y-coordinates."
.
.
"6. perform chip finishing and design for manufacturing tasks, as described in chip finishing and design for manufacturing."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
see also intra-shield placement.
.
fusion compiler™ user guide v-2023.12-sp3 717 chapter 8: ic validator in-design inserting metal fill with ic validator in-design feedback 5.
"◦ command options used with the signoff_create_metal_fill command: ▪ -track_fill foundry_node to enable foundry-specific design rules, use the appropriate foundry keyword with the -track_fill option."
.
.
"for example, fc_shell> set_app_options \ -name rail.3dic_enable_die\ -value {die1 true die2 true ...} fusion compiler™ user guide v-2023.12-sp3 877 chapter 12: redhawk and redhawk-sc fusion preparing design and input data for rail analysis feedback table 66 application options for specifying design and input data (continued) application option description specifies user-defined instance power file (ipf) for providing power to pins."
.
.
.
.
• -all this option removes the ignored layers for rc estimation and congestion analysis that are between the minimum and maximum routing layers.
"for example, to ignore the scenario named scnb, use the following command: fc_shell> set_app_options -name ccd.ignore_scenarios \ -value {scnb}} this setting affects concurrent clock and data optimization performed during the place_opt, clock_opt, and route_opt commands."
.
.
.
.
"with this method, you can add cells only on one net at a time."
.
"to add buffers only on nets that are global routed only, without assigned tracks or detail routing, use the -only_global_routed_nets option."
.
specifying horizontal and vertical spacing for repeater groups use one of the following mutually exclusive options to control spacing for repeater groups: • -horizontal_repeater_spacing specifies the horizontal spacing between repeaters by cell site width.
.
use the -filter option to restrict the returned errors.
"adding to existing metal and via fill to insert metal and via fill without first removing the existing metal fill, use the -mode add option with the signoff_create_metal_fill command."
.
.
"set these options to low, medium (the default), or high."
.
"◦ a cell can have multiple attributes, which could impact its placement in multiple category blockages."
.
.
.
.
.
.
.
979 updating supply nets for eco cells .
see also • using the command log file • using setup files • using tcl scripts fusion compiler™ user guide v-2023.12-sp3 45 chapter 1: working with the fusion compiler tool entering fc_shell commands feedback exiting the fusion compiler tool you can end the session and exit the fusion compiler tool at any time.
.
.
.
.
the maximum number of cores available in parent is reduced to 5.
you can create multiple rail scenarios for different purposes and associate them with an existing design scenario.
.
4.
"if you do so, the tool stops tracking the eco changes being performed on the design."
.
"note: by default, layout views are not included in the cell libraries."
"• to change the constraint strength for a single net-specific layer constraint, use the -min_layer_mode and -max_layer_mode options when you define the constraint with the set_routing_rule command."
.
.
.
.
.
.
.
597 creating placement blockages during boundary cell insertion .
.
.
.
"• clock tree power to report a summary of the leakage, internal, sink, net switching, dynamic, and total power per clock per scenario, use the -type power option."
.
you can subsequently legalize the eco cells in the epl_legalizer_rejected_cells collection by using the following command: fc_shell> place_eco_cells -legalize_mode allow_move_other_cells \ -legalize_only -cells $epl_legalizer_rejected_cells this command moves existing cells to find legal locations for the eco cells in the collection named epl_legalizer_rejected_cells.
.
"• for pins on upper layers, use the -taper_under_pin_layers option (or the -driver_taper_under_pin_layers option for driver pins)to specify the number of layers on or below the pin layer available for tapering."
.
"• you can optionally use the verilog netlist to store all pg connectivity information, making connect_supply_net commands unnecessary in the upf files."
.
.
"if the alignment pin exists in a cell, the cell is aligned by using the pin location."
.
"in this mode, the highest metal layer is not checked for antenna violations because the input-to-output connection is completed when the highest metal layer is formed."
.
you can specify a single width value per layer.
"to implicitly associate a tap with the supply net, run the create_taps command without the -supply_net option."
the actual metal fill insertion occurs within the regions specified by the -coordinates option.
"to specify the search path, use the set_app_var command to set the search_path application variable to the list of directories, in order, in which to look for files."
.
.
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 865 chapter 11: hierarchical implementation transparent hierarchy optimization feedback tho optimization is completely integrated with the route_opt and hyper_route_opt commands.
.659 8. ic validator in-design .
"for details about the mask constraints, see mask constraints."
.
.
.
you can also preroute critical signals or clock nets by using a set of custom routing constraints.
.
.
.
.
"when analysis is completed, run the open_rail_result -back_annotate command to upload the analysis results to the rail database."
"the create_environment command associates a predefined libset with a process label, process number, voltage, and temperature, which is then used for analyzing the libraries."
.
.
.
.
.
.
.
.
"• the metal shapes are inserted on all routing layers to insert the metal shapes only on specific routing layers, use the -layers option."
.
.
.
resets the design rule checking region to that used in the previous live drc run.
"to explicitly specify the behavior for performance and electromigration via ladders, set this option to true or false."
.
.
• -tree_type combinational_logic_type specifies the type of combinational cells to use.
.
.
.
"relative placementdirectingorientation optimization to specify the orientation for leaf cells, use one of the following two methods: • use the -orientation option with a list of possible orientations when you add the cells to the group with the add_to_rp_group command."
the command also promotes clock-independent exceptions.
"in the following example, ddr_buf is used as the prefix for the names of the added eco nets and buffers for easy identification."
.
.
.
"to enhance yield, you can define the valid spacing between standard cells or between a standard cell and a boundary."
.
.
.
.
.
.
.
.
.
.
.
"if you specify the -point option, the tool creates the taps at the specified physical location relative to the origin of each object."
"the supported file formats are: vcd, saif, and icc_activity."
"this command takes a list of repeaters, a list of supernets, or bundles of supernets and returns a list of repeater groups created by the set_repeater_group command."
.
you must specify the result type with the -type option.
.
.
.
"to enable these checks, set the route.common.check_shield application option to true."
note: you cannot display the redhawk signoff analysis results in the fusion compiler gui.
"note: in some cases, the ic validator behavior can be controlled by either an ic validator parameter or an application option."
"when you use this command to synthesize and detail route a global clock tree, you must specify • the clock net to synthesize by using the -nets option."
557 performing eco routing .
.
.
"note: when the tool switches power cells (swapping), it can only swap cells with the same footprint but with different threshold voltages."
.
.
.
737 removing metal fill .
.
.
.
"for example, the following command legalizes the rp3 relative placement group over the rp1 and rp2 relative placement groups."
.
.
.
.
"figure 122 tap cell boundary row spacing -min_horizontal_periphery_spac -min_horizontal_periphery_spac • the addition of extra tap cells you can use one or both of the following methods to prevent the insertion of extra tap cells: ◦ use the -row_end_tap_bypass option to specify that the boundary cells contain taps, so additional tap cells are not inserted at the boundary."
.
.
.
.
.
.
"by default, the tool propagates supply net activity through power switches and determines the static probability of the switched supply net based on the upf power switch constraint."
.
the command output includes a table that reports minimum bitwidth and maximum fanout for each relevant object.
.
.
.
.
.
.
.
.
"4. frame views for example, to read the design view for all blocks, use the following commands: fc_shell> set_app_options \ -name signoff.check_drc.read_design_views -value {*} fc_shell> signoff_check_drc to read the design view for the top-level block and all instances of reference cells whose name start with mc, and the frame view for all other child blocks, use the following commands: fc_shell> set_app_options \ -name signoff.check_drc.read_design_views -value {mc*} fc_shell> signoff_check_drc signoff design rule checking by default, signoff design rule checking has the following default behavior: • performs checking on all cell types (standard cells, filler cells, macro cells, and i/o pad cells) to exclude certain cell types from design rule checking, set the signoff.check_drc."
.
"fusion compiler™ user guide v-2023.12-sp3 973 chapter 13: eco flow placing eco cells feedback • to place eco cells closer to fixed points, such as i/o pads or macro cells, specify a weight for the nets connected to the fixed cells by using the -fixed_connection_net_weight option."
.
.
the command derives the following information from the technology file: ◦ the cut layers that connect the specified metal layers ◦ the cut names ◦ the minimum required length for each metal layer note: you must open the block before running the setup_performance_via_ladder command to ensure that the command has access to the technology data for the block.
.
.
.
set_app_options -name rail.generate_file_variables \ -value {def test_def_files } create_rail_scenario -name func.ss_125c -scenario func.ss_125c set_rail_scenario -name func.ss_125c -voltage_drop dynamic create_rail_scenario -name func.ff_125c_ -scenario func.ff_125c set_rail_scenario -name func.ff_125c \ -generate_file {ploc def spef twf lef} \ -custom_script_file ./customized.py fusion compiler™ user guide v-2023.12-sp3 882 chapter 12: redhawk and redhawk-sc fusion preparing design and input data for rail analysis feedback set_host_options -submit_protocol sge \ -submit_command {qsub -v -notify -b y \ -cwd -j y -p bnormal -l mfree=16g} analyze_rail -rail_scenario {func.ss_125c func.ff_125c} \ -submit_to_other_machine the following example uses a customized python script for multi-rail-scenario rail analysis on a local machine.
"fc_shell> report_routing_rules {rule_names} to output a tcl script that contains the create_routing_rule commands used to define the specified nondefault routing rules, use the -output option when you run the report_routing_rules command."
.
"to select this rule, use the -replacement_rule od_horiztonal_distance option with the replace_fillers_by_rules command."
.
"when you use this option, by default, the tool also reverts the cells that abut the specified cell on either side, if they are also sized cells."
.
.
.
.
em.net_metal_line_number 0 specifies the metal line number used to look up the relaxation factor in the rms constraint factor table provided in the constraints file.
fusion compiler™ user guide v-2023.12-sp3 602 chapter 7: chip finishing and design for manufacturing finding and fixing antenna violations feedback table 35 diode protection mode settings (continued) diode protection mode definition 6 diode protection is limited; the sum of the diode-protection values for all diodes is used to calculate the equivalent gate area.
.
.
the main contributor to leakage power is the sub-threshold-voltage leakage in the device.
.
.
"the fix_mv_design -diode command examines all diodes, including diodes inserted by the create_cell, create_diodes, and add_port_protection_diodes commands, as well as several routing commands that insert diodes to fix antenna violations."
.
.
.
.
.
.
.
.
"for example, to set the minimum spacing between metal fill and a timing-critical net on the same layer to four times the minimum spacing for the m2 and m3 layers, use the following command: fc_shell> set_app_options \ -name signoff.create_metal_fill.space_to_nets \ -value {{m2 4x} {m3 4x}} to set the minimum spacing between metal fill and a timing-critical net on the same layer to 0.125 microns for the m2 layer and 0.133 microns for the m3 layer, use the following command: fc_shell> set_app_options \ -name signoff.create_metal_fill.space_to_nets \ -value {{m2 0.125} {m3 0.133}} fusion compiler™ user guide v-2023.12-sp3 727 chapter 8: ic validator in-design inserting metal fill with ic validator in-design feedback defining the density design rules the ic validator tool can check and fix the following density design rules: • minimum density, which specifies the minimum percentage of metal allowed in the density checking window this rule is checked when you enable density error fixing by setting the signoff.create_metal_fill.fix_density_errors application option to true."
.
enl is the enabling signal that controls the gating; it derives from the en signal on the multiplexer shown in figure 45. the register bank is triggered by the rising edge of the enclk signal.
"for example, fc_shell> create_via_def via12 \ -shapes { {m1 {-0.010 -0.030} {0.027 0.050}} {m1 {0.047 -0.030} {0.084 0.050}} {via1 {0.000 0.000} {0.074 0.020}} {m2 {-0.030 0.000} {0.104 0.020}} } \ -lower_mask_pattern uniform fc_shell> create_via -via_def via12 -origin {000.100 200.320} -lower_mask_constraint mask_two to report information about the via definitions, use the report_via_defs command."
.
299 clock gating flows .
.
.
.
.
.
the robustness of a sink is the ratio between its latency for the corner for which the report is being generated and its latency for the corner specified by the -robustness_corner option.
.
.
signoff.check_drc.
.
.
"if the technology file and the foundry runset file used by the ic validator tool do not use the same layer numbers, you must supply a layer mapping file to map the technology layers to the layers used in the runset file."
.
.
2. perform automatic fixing for the double-patterning odd-cycle violations by using the process described in automatically fixing signoff drc violations.
.
functional equivalence checking does not take into account static timing verification.
.
"with hierarchical relative placement, you do not need to provide relative placement information multiple times for a recurring pattern."
.
.
.
.
the ascending order means that the command places the cells in a group from the lowest or left-most available track to the highest or right-most track.
.
"these steps are explained in the following topics: • defining the search path • setting up libraries • using pin access checker utility • analyzing libraries • reading the design • mitigating design mismatches • importing the floorplan information • setting up multivoltage designs • specifying timing constraints and settings • specifying logical design rule constraints • specifying clock gating constraints • specifying physical constraints for placement and legalization • specifying placement settings • specifying legalization settings • controlling the optimization of cells, nets, pins, and ports • specifying settings for preroute optimization • setting up for power-related features • specifying the routing resources fusion compiler™ user guide v-2023.12-sp3 72 chapter 2: preparing the design defining the search path feedback • handling design data using the early data check manager • applying mega-switch command settings defining the search path the fusion compiler tool uses a search path to look for files that are specified with a relative path or with no path."
.
"using tcl scripts you can use tcl scripts to accomplish routine, repetitive, or complex tasks."
.
.
"be careful when choosing the threshold value; using a large threshold value can result in too many critical nets, which could reduce the metal density and create large empty areas."
.
.
.
.
.
.
"during clock tree optimization, the tool performs incremental global routing on clock nets modified during optimization."
386 defining the interclock delay balancing constraints .
.
.
"for example, when the -site_row option is set to 2, the command uses twice the site row height to construct grid rows; that is, a row is constructed for every two site rows."
.
.
.
.
.
.
.
.
.
.
.
.
"assigning nets to a routing corridor to assign nets and supernets to a routing corridor, use the add_to_routing_corridor command."
.
.
.
"to define a special placement area for always-on cells (an always-on well) within a voltage area, define an exclusive move bound within the boundary of the voltage area."
.
.
.
.
.
.
.
the compile.clockgate.max_number_of_levels application option specifies the maximum number of allowed clock-gate levels.
.
.
.
"if you do so, the tool ignores the run name specify by using the set_qor_data_options -run_name command."
.
"the command places the dont_touch attribute on the clocks, pins, or ports to prevent the cells and nets in the transitive fanout of the network from being modified or replaced."
.
.
.
.
.
.
.
.
.
.
.
the connections fusion compiler™ user guide v-2023.12-sp3 515 chapter 6: routing and postroute optimization routing constraints feedback shown on the left side of figure 115 are valid; however the connections on the right side of the figure cause drc violations.
.
.
.
.
"to filter the data to write to the report file, use the -threshold option."
"if none matches exactly, it inserts the first cell that can be placed without violating any rules."
.
.
.
"you must specify the boundary of the routing corridor by using the -boundary or -path option (for details about these options, see defining routing corridors)."
"however, this can contribute to physical drc violations due to many adjacent stacked vias, as shown in figure 95. figure 95 vias in the comb topology driver and load pins clock mesh strap on stacked vias higher routing layer • to create a substrap routing topology, use the -topology sub_strap option."
.
.
.
.
.
"in a design, when a net has no route defined, this option places the group repeaters based on their location."
"• my the column position of the relative placement group is from right to left, and the row position is from bottom to top; that is, the orientation of the group is flipped with respect to the r0 orientation."
.
.
.
.
.
.
.
.
.
.
.
"• the constraints for the differential group to define the constraints that are applied per layer to the trunks and override any settings on the individual bits, use the options listed in table 54. table 54 differential group constraints option constraint -twist_style specifies the twist style."
.
.
.
"if you do not specify the -height or -width option, the tool determines the size based on the tiling type of the relative placement group as follows: ◦ for a tiling type setting of bit_slice, the height default to the height of site row and the width to width of the column."
"if you specify a net name, its driver pin is used."
.
.
"for example, assume that you used the previous command to set the minimum routing layer to m2 and the maximum routing layer to m7."
"the following example specifies a name prefix of • cf_ for the cells added on the data nets during the compile_fusion command • co_ for the cells added on the data nets during the clock_opt command • ro_ for the cells added on the data nets during the route_opt command fc_shell> set_app_options \ -name opt.common.user_instance_name_prefix -value ""cf_"" fc_shell> compile_fusion fc_shell> set_app_options \ -name opt.common.user_instance_name_prefix -value ""co_"" fc_shell> clock_opt fc_shell> set_app_options \ -name opt.common.user_instance_name_prefix -value ""po_"" fc_shell> route_opt to specify a name prefix for the cells added on the clock network during clock tree synthesis, use the cts.common.user_instance_name_prefix application option, as described in defining a name prefix for clock cells."
.
.
.
.
.
.
.
specify the eco cell name and the corresponding spare cell name by using the -eco_cell and -spare_cell options.
.
.
.
"you can set mask constraints on timing-critical nets (net shapes, routing rules, and routing blockages) and vias."
.
"click a geometry to check for detailed information, such as ir drop, resistance, bounding box, and so on."
.
"• starts fixing antenna violations in the second iteration, after initial routing is complete and the basic drc violations have been fixed to change the iteration in which zroute starts fixing antenna violations, set the route.detail.antenna_on_iteration application option."
.
404 implementing a structural multisource clock tree .
.
"for horizontal shapes, the metal shapes start at the left edge."
figure 104 shows the routing guides inserted for an l-shaped block on a layer whose preferred direction is horizontal.
"to explicitly specify this alignment method, use the -alignment left option of the set_rp_group_options command."
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 48 chapter 1: working with the fusion compiler tool viewing man pages feedback to list the variables and their values, use the printvar command."
.
.
.
"in either case, you specify the mask constraint for the first shape when you create a via with the create_via command."
◦ low (-effort_level low) low effort runs a maximum of two rerouting phases with very similar congestion cost.
.
"fusion compiler™ user guide v-2023.12-sp3 939 chapter 12: redhawk and redhawk-sc fusion voltage hotspot analysis feedback hotspot analysis provides the following features: • identify the root cause of aggressors with high voltage drop, such as large current from the aggressor itself or from the neighboring cells due to simultaneous switching by the overlapping timing windows."
.
"fusion compiler™ user guide v-2023.12-sp3 568 chapter 6: routing and postroute optimization analyzing the routing results feedback figure 119 global route overflow on global routing cell performing design rule checking using zroute to use zroute to check the routing design rules defined in the technology file, run the check_routes command."
.
.
"such settings include the clock tree buffer library cell list, the clock tree inverter library cell list, and clock nondefault routing rules."
"for example, to insert 2 adiode diode cells to fix an antenna violation on the a port of the ci cell instance, where the diodes must be inserted using no higher layer than m5 and within 2.5 microns of the port, enter the following command: fc_shell> create_diodes {{a ci adiode 2 m5 2.5}} inserting redundant vias redundant via insertion is an important design-for-manufacturing (dfm) feature that is supported by zroute throughout the routing flow."
.
.
.
.
"if you do not specify the -stage option, by default, the tool performs timing related checks."
.
.
.
.
.
"the float value must be >= 0. to specify the tolerance as a percentage, use the -relative option."
"trademarks synopsys and certain synopsys product names are trademarks of synopsys, as set forth at https://www.synopsys.com/company/legal/trademarks-brands.html."
.
.
.
.
.
.
.
estimated clock latencies are more accurate than user-specified clock latencies.
.
.
.
.
.
.
"when you use the eco_netlist command, use one of the following two methods to make the eco changes: • specify a golden verilog netlist that includes the eco changes by using the -by_verilog_file option • specify a golden block that includes the eco changes by using the -block option when you use the -block option, by default, ◦ the tool assumes the golden block is in the current design library."
.
this feature requires the fc-new-tech-power license.
"for more information, see setting up clock gating."
.
"the following topics describe settings for controlling legalization: • minimizing large displacements during legalization • optimizing pin access during legalization • enabling advanced pg net checks fusion compiler™ user guide v-2023.12-sp3 162 chapter 2: preparing the design specifying legalization settings feedback • enabling advanced legalization algorithms • setting up for variant-aware legalization • checking if library cells are legally placeable minimizing large displacements during legalization to minimize large displacements of cells during legalization, enable • orientation optimization by setting the place.legalize.optimize_orientations application option to true."
.
.
.
.
"to disable this feature, set the application option to off."
.
.
.
.
.
.
.
.
"during dynamic-power-driven placement, the tool tries to improve both the timing and power of timing-critical nets and the power of the other nets."
.
.
.
.
.
"get_placement_blockages comandcomandsget_placement_blockagesto define placement blockages, use the create_placement_blockage command."
.
.
.
.
.
.
"for each clock balance group, you can define a delay offset between the clocks."
"3. add filler cells to the empty spaces in the site array, as described in inserting filler cells."
.
.
.
.
.
"in this case, the only way to map a register that uses the missing asynchronous inputs is to use a library cell with the opposite type of asynchronous input and invert the output of that cell, as shown in the following figure."
this suggests that restricting the metal layers significantly impacts timing.
.
.
.
.
.
.
"for details, see defining nondefault routing rules."
.
.
"1. to group a list of repeaters or repeaters of supernets, use the create_repeater_groups command."
"if you want to run some of the steps of the mesh analysis flow, such as extraction or spice simulation, using other tools, you can do so and run the rest of the steps of the flow using the standalone options of the analyze_subcircuit command, following the same sequence."
.
.
.
.
.
"by default, the command returns an error if the assigned name already exists."
.
.
18 {v01 v11 v21 v31 v41 v51 v61 v71 v81 v91 v101 v111} {v02 v12 v22 v32 v42 v52 v62 v72 v82 v92 v102 v112} {v03 v13 v23 v33 v43 v53 v63 v73 v83 v93 v103 v113} {v04 v14 v24 v34 v44 v54 v64 v74 v84 v94 v104 v114} you specify one 12-value vector for each of the four gate classes.
.
fc_shell> set_early_data_check_policy -policy lenient \ -check place.coarse.
.
.
.
.
788 using hierarchical relative placement for compression .
172 marking the clock networks .
.
.
.
.
.
"to remove a clock structure created by the synthesize_multisource_global_clock_trees command, use the remove_multisource_global_clock_trees command."
.
"fusion compiler™ user guide v-2023.12-sp3 520 chapter 6: routing and postroute optimization routing critical nets feedback routing critical nets to route a group of critical nets before routing the rest of the nets in the block, use the route_group command."
this command reports the shapes that comprise the via definition but does not report the upper and lower mask patterns.
992 setting application option .
.
"updating supply nets for eco cells to update the supply nets for eco cells, use the eco_update_supply_net command."
.
.
.
the cells that are not placed cannot be unplaced.
"fusion compiler™ user guide v-2023.12-sp3 686 chapter 8: ic validator in-design performing signoff design rule checking feedback running the signoff_fix_drc command by default, the signoff_fix_drc command performs the following tasks: 1. runs the signoff_check_drc command to generate the initial signoff drc results, as described in checking for drc violations if you have already run the signoff_check_drc command, you can use the existing signoff drc results instead of rerunning signoff design rule checking."
.
.
.
"the configuration file is an xml file that provides information about the via ladder rules, as well as the association between the via ladder rules and specific pins."
"to assign different nondefault routing rules to the nets, use the -rule option after resetting the nets to the default routing rule."
.
.191 performing dynamic-power optimization .
for example: fc_shell> set_app_options -name rail.toggle_rate \ -value {clock 2.0 data 0.2 combinational 0.15 \ sequential 0.15} fusion compiler™ user guide v-2023.12-sp3 869 chapter 12: redhawk and redhawk-sc fusion an overview for redhawk fusion and redhawk-sc fusion feedback rail.em_only_tech_file: specify the electromigration rule file for performing pg electromigration analysis.
"because the purpose of setting the latency values is to account for the different clock-network delays between the registers and the clock-gating cell, it is important to get a reasonably accurate value of the difference (lat_cgtoreg)."
"if the routing changes after inserting cut metal shapes, you must remove the existing cut metal shapes and reinsert them."
.
.
.
.
the mask assignments are represented as mask constraints in the fusion compiler tool.
.
.
.
.
.
"the following script example creates two nondefault routing rules, ndr_1w2s and ndr_2w3s, and automatically assigns these nondefault routing rules to timing-critical nets during optimization: create_routing_rule ""ndr_1w2s"" -multiplier_spacing 2 create_routing_rule ""ndr_2w3s"" -multiplier_spacing 3 -multiplier_width 2 # enables feature, defines priority set opt.common.optimize_ndr_user_rule_names { ndr_1w2s ndr_2w3s } set compile.flow.optimize_ndr compile_fusion controlling nondefault routing rule assignment to specify a critical range for nondefault routing rule for optimization, set the compile.flow.optimize_ndr_critical_range application option to a value between 0 and 1. the default is 0.05. the specified value y, as shown in the following example, is used to calculate the slack range [y*wns, wns] where wns is the worst negative slack."
signoff.check_drc.
.
cells on don’t touch net preserved.
.
you can modify this file as necessary and use it on subsequent signoff_create_metal_fill runs.
.
"to report the settings you specified, use the report_multisource_clock_subtree_options command."
.
.
.
.
.
.
.
.
"creating abstracts for signal electromigration analysis to create an abstract that can be used for signal electromigration analysis at the top-level, set the abstract.enable_signal_em_analysis application option to true before you run the create_abstract command."
.
.
.
.
.
"see also • specifying redhawk and redhawk-sc working directories specifying redhawk and redhawk-sc working directories during rail analysis, redhawk/redhawk-sc fusion creates a working directory to store the generated files, including analysis logs, scripts, and various output data."
the high setting can reduce violations at a cost of increased runtime.
"example 4 def cell location information components 2 ; - macro_cell_abx2 + fixed ( 4350720 8160 ) e ; - macro_cell_cdy1 + fixed ( 4800 8160 ) w ; end components placement blockages the read_def command imports hard, soft, and partial placement blockages defined in the def file."
.
.
"3. remove dont_touch, size_only, fixed, and locked attributes setting on the clock cells that are not required."
.
.
you can specify additional options for the ic validator command line by setting the signoff.report_metal_density.user_defined_options application option.
.
a supply net that spans more than one power domain is said to be “reused” in multiple domains.
.
◦ clock tree synthesis and optimization have been performed.
.
build connectivity based on real connections for target cells.
.
.
.
"depending on the stage, you must use different options as shown in the following sections."
constructing faster clock tree to specific endpoints the fusion compiler tool enables you to construct a faster clock tree to specified endpoints without any additional detouring or delay balancing.
.
.
.
application options use the following naming convention: category[.subcategory].option_name where category is the name of the engine affected by the application option.
.
.
.
.
.
.
.
.
"to create a custom filter, 1. click the filter button to display the add filter fields, which are shown in the following figure: 2. define the filter by defining the filter criteria and selecting the datasets to include in the results."
"4. insert dft logic and synthesize the block by using the following commands: fc_shell> compile_fusion -to logic_opto fc_shell> insert_dft fc_shell> compile_fusion -from initial_place 5. create a read-only abstract view, frame view, and a test protocol, and save the block by using the following commands: fc_shell> create_abstract -read_only fc_shell> create_frame fc_shell> write_test_model block1.ctl fc_shell> save_block -as block1/postsynthesis synthesizing the top-level to synthesize the top-level, perform the following steps: 1. read in the top-level design generated after the rebuild step as described in partitioning and planning the full chip design."
.
.
"for example, fc_shell> create_taps -point {50,50} -layer {m1} \ -snap_distance 100 snap tap point from original location (50.000, 50.000) to new location (90.000, 65.910) as shown in figure 201, the specified tap location does not touch any layout shape."
.
.
"fusion compiler™ user guide v-2023.12-sp3 613 chapter 7: chip finishing and design for manufacturing finding and fixing antenna violations feedback the fusion compiler tool supports six antenna modes, which are described in table 39. to specify the antenna mode, use the -mode option with the define_antenna_rule and define_antenna_layer_rule commands."
.
"to enable the improved correlation between the smscts and ccd in the compile_fusion command and build_clock stage of the clock_opt command, set the cts.multisource.enable_subtree_synthesis_aware_ccd application option to true."
.
.
.
.
47 displaying command help .
.
295 clock-gating enable source selection .
.
the tool reinserts the tap at the lower-right corner of the red rectangle.
set this percentage to 100% to create a completely filled block.
.
the following two application options are available only in redhawk-sc fusion: rail.toggle_rate: specify toggle rates for different cell types for rail analysis.
.
.
"for example, create_routing_rule cg_rule... set_clock_gate_routing_rule -rule cg_rule ... compile_fusion ... report_routing_rules clock gating and multibit registers in the fusion compiler flow, clock gating works in conjunction with multibit register mapping."
.
.
164 setting up for variant-aware legalization .
.
.
.
.
.
561 cleaning up routed nets .
.
.
you can specify the minimum and maximum routing layers for clock nets as described in specifying the routing resources.
.
.
.
balancing skew between different clock trees the fusion compiler tool can automatically balance the skew between a group of clocks.
.
"for example, to add a leaf cell that occupies two columns and one row at position (0,0), use fc_shell> add_to_rp_group rp1 -cells u23 \ -column 0 -row 0 -num_columns 2 -num_rows 1 straddling is for leaf cells only, and not for hierarchical groups or blockages."
.
.
.
.
.
.
"the tool uses stacked vias to connect the pins to the stripes, which are usually in the higher routing layers."
.
via ladder rules can be defined in the technology file or by using the create_via_rule command.
"to remove the settings you specify for automated tap assignment, use the remove_multisource_clock_tap_options command."
.
.
8 diode protection is limited; the sum of the diode-protection values for all diodes is used to calculate the equivalent metal area.
.
.
.
.
.
.
.
.
.
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 738 chapter 8: ic validator in-design inserting metal fill with ic validator in-design feedback figure 152 shows a density gradient heat map.
.
.
.
.
.
.
.
2 3 ... the tool checks for available licenses during the analyze_rail run.
.
.
.
.
.
.
.
you would use this method if the mask constraints follow an arbitrary pattern.
.
.
"see also • reporting the boundary cell insertion requirements specifying the library cells for boundary cell insertion boundary cells include both end-cap cells placed on the left, right, top, and bottom boundaries, and inside and outside corner cells."
◦ the standard cells named nand2 and nor2 can map to the programmable spare cell named fill2x by setting the psc_type_id attribute to 2 for the corresponding library cells.
.
"to delete an existing constraint, use the -force option."
.
"to keep the existing pg augmentation shapes, use the -mode add option."
.
.
.
"for more information about antenna rules, see finding and fixing antenna violations."
.
.
.
.
.
.
.
.
.
.
create_pg_augmentation.
"by default, state- dependent leakage power is used to calculate leakage power."
"currently, the number of taps specified with this option must be equal to the number of drivers specified with the -driver_objects option."
.
.
"(optional) insert required filler cells to abut specific standard cells by using the create_left_right_filler_cells command, as described in abutting standard cells with specific filler cells."
.
.
• user-defined ignore pins these exceptions exclude clock endpoints that were derived as sink pins by the tool.
.
.
the tap is reinserted at the corner of a valid shape which is within the minimum distance to the specified location.
this option supports the following additional options: ◦ -first_distance specifies the distance between the driver and the center of the first repeater group.
/ indicates levels of directory structure.
"if necessary, you can supplement this functionality by optimizing routing patterns and reducing crosstalk or by customizing the routing and postroute optimization functions for special needs."
"the following primetime script creates an etm for the s3 scenario, which consists of the m1 mode and c3 corner, of the ams_blk design: #read in the design read_verilog ./ams_blk.v link # apply parasitics read_parasitics ./ams_blk.spef fusion compiler™ user guide v-2023.12-sp3 856 chapter 11: hierarchical implementation creating etms and etm cell libraries feedback #for multivoltage designs, apply upf data and settings load_upf ./amd_blk.upf set extract_model_include_upf_data true # apply the mode (m1) and corner (c3) constraints for the scenario (s3) source m1_constraints.tcl source c3_constraints.tcl # enable clock latencies for designs with synthesized clock trees set extract_model_with_clock_latency_arcs true set extract_model_clock_latency_arcs_include_all_registers false # create the etm extract_model -library_cell -format db -output ams_blk_m1_c3 for more information about creating etms in the primetime tool, see the extracted timing models chapter in the primetime user guide."
"note that the router reserves space only for same-layer shielding and not for coaxial shielding; therefore, postroute coaxial shielding can produce a very low shielding rate."
.
.
◦ icv_config_out this file contains the paths to the top-level block and the cell libraries.
.
.
.
• the net-specific minimum and maximum routing layer constraints set by the -min_routing_layer and -max_routing_layer options of the set_routing_rule command these constraints can cause blocked ports only if they are defined as hard constraints.
"by default, the tool does not perform timing-driven pg augmentation."
• -include object_list specifies that the listed objects should be self-gated according to the insertion rules set by the set_clock_gating_options command.
.
.
.
.
.
"the name is appended with the register base name, similar to the naming convention for other tool-inserted clock gates."
.
.
"to enable the fixing of soft drc violations after the final incremental detail routing iteration, set the route.common.post_incremental_detail_route_fix_soft_violations application option to true."
.
the set_ungroup command sets the ungroup attribute to the appropriate value for the specified objects.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"to reduce runtime, use the -post_eco option when you ◦ insert metal filler cells with the create_stdcell_fillers command, and the tool marks the inserted filler cells as post-eco cells."
.
.
they are not saved in the design library; you must specify them in each fc_shell session.
.163 enabling advanced legalization algorithms .
"▪ to first attempt to fix drc violations by rerouting modified nets and then reroute other nets if necessary, set this option to modified_nets_first_then_others."
.
"• to enable the action to run instead of the code block enwrapped by the checkpoint, specify the checkpoint names with the -replace option."
.
"considering the effects of cell pins during placement when you specify a technology node setting of 7, 7+, 5, s5, or s4 by using the set_technology -node command, you can specify that the tool uses a technology- specific pin-cost model during placement by setting the place.coarse.pin_cost_aware application option to true."
.
.
.
◦ a subtree is a clock tree from an icg cell all the way to the sinks in its fanout.
4. enable high-performance and electromigration via ladder insertion for critical paths during the clock_opt command by setting the opt.common.enable_via_ladder_insertion application option to true.
.
.
949 freeze silicon eco flow .
.
.
.
.
"• -nets or -timing_preserve_setup_slack_threshold, which restricts the nets on which to perform metal fill insertion for more information about these options, see timing-driven metal fill insertion."
.
you can use the application options described in this topic to modify the default naming styles to match the requirements of your design flow or a third-party tool.
.
"in this case, overlapping time windows contribute to the high effective voltage drop in grid 2. fusion compiler™ user guide v-2023.12-sp3 945 chapter 12: redhawk and redhawk-sc fusion querying attributes feedback figure 216 checking high voltage drop caused by overlapping timing window (ii) see also • generating hotspots • reporting hotspots • removing hotspots querying attributes when rail analysis or missing via checking is complete, use the get_attribute attribute to query the results stored in the redhawk working directory."
.
the fusion compiler eco fusion flow consists of the following steps: 1. specify the settings required to run the primetime eco capabilities within the fusion compiler tool by using the set_pt_options command.
.
.
.
.
.
.
.
.
.
"follow these steps to set up and query the message ids: 1. specify the message ids to query by using the global scope application option, shell.common.check_error_list."
"note: for hierarchical relative placement groups, the bottom-right alignment does not propagate through the hierarchy."
.
.
.
.
(pdc-003) pdc app_options settings ========= place.legalize.enable_prerouted_net_check: 1 place.legalize.num_tracks_for_access_check: 1 place.legalize.use_eol_spacing_for_access_check: 0 place.legalize.allow_touch_track_for_access_check: 1 place.legalize.reduce_conservatism_in_eol_check: 0 place.legalize.preroute_shape_merge_distance: 0.0 layer m1: cached 0 shapes out of 869 total shapes.
.
.
904 displaying the pg electromigration map .
.
shapes with this attribute must be at least the multiple-patterning minimum spacing distance from other mask2-colored metal shapes.
.
.
.
.
.
.
◦ minimum (-effort_level minimum) the minimum effort level uses two times larger global routing cells relative to the other effort levels.
"to include the power and ground structure within a threshold distance in the shielding ratio calculation, set the route.common.pg_shield_distance_threshold application option, which specifies the distance threshold in microns."
.
.
"for example, to use layers m2 through m7 for routing and layers m3 through m7 for rc estimation and congestion analysis, use the following command: fc_shell> set_ignored_layers \ -min_routing_layer m2 -max_routing_layer m7 \ -rc_congestion_ignored_layers {m2} • to change an existing layer constraint setting, simply reset that option."
"while you cannot disable clock gating, you can use the clock-gating commands in this section to prevent insertion of clock gates in specific blocks or the whole design."
.
"when you use this mode, you must also specify one or more of the following options: • -select_layers, which restricts the layers on which to perform metal fill insertion for example, to remove all metal fill on the m1 and m3 layers and refill those two layers without affecting the metal fill on other layers, use the following command: fc_shell> signoff_create_metal_fill -mode replace \ -select_layers {m1 m3} for more information about this option, see specifying the layers for metal fill insertion."
you can restrict pin connections to the defined access edges by setting the -obey_access_edges option to true.
.
.
.
.
.
"fc_shell> create_clock_straps -nets [get_nets clk1_mesh] \ -layers {m7 m8} -widths {2.4 3.6} -types {stripe user_route} \ -grids {{20 1200 100} {60 980 150}} -length 120 -backoff 5 routing to clock straps after you create clock straps for a clock net by using the create_clock_straps command, you can route the drivers and loads of the clock net to the clock straps by using the route_clock_straps command and specify the clock net name by using the -nets option."
.
.
.
.
"this section includes the following topics: • reporting commands and examples • measuring quality of results • comparing qor data • reporting logic levels in batch mode • querying specific message ids reporting commands and examples this table shows some reporting commands to report qor, timing, area, and so on."
.
.
.
"for example, to write out the voltage drop values for the current block, set the -type option with the voltage_drop_or_rise argument."
.
.
shapes with this attribute must be at least the multiple-patterning minimum spacing distance from other mask1-colored metal shapes.
.
.
.
.
.
.
"figure 76 module with combinational clock path q clk_out d clk (a) netlist (b) etm with check pin clk d q clk_out clk_check_pin_1 combinational delay in this case, the internal check pin inside the etm has delays coming from the etm timing library; these delays are considered by clock tree synthesis as sinks and are balanced with other sinks at the top level."
.
.
.
.
.
.
.
659 inserting metal fill .
.
.
.
.
.
.
.
.
"◦ if the top-level exceptions do not include the balance points on the pins within lower-level blocks, promote the balance points from the lower levels by using the promote_clock_data -auto_clock connected -balance_points command."
8.
.
.
.
synchronous load-enable registers are represented by a register with a feedback loop that maintains the same logic value through multiple cycles.
.
.
"after it completes routing, it removes these temporary placement blockages, as shown in the following example output."
.
.
.
.
.
"by default, when you create these routing guides, they apply to all layers within the routing guide boundary."
"fusion compiler™ user guide v-2023.12-sp3 344 chapter 5: clock tree synthesis defining the clock trees feedback for information about defining insertion delay requirements, see defining insertion delay requirements."
.
.
.
.
.
"• when routing clock mesh nets, by default, the route_group command uses steiner routing, which minimizes the total wire length."
a common use for this option is to route the clock nets affected by an eco in a fully routed block.
.
.
.
.
the overlap can be removed for only those relative placement groups whose width is less than the distance between tap columns.
.
.
all avoid both fixed standard cells and fixed physical-only cells.
.
.
.242 controlling high-fanout-net synthesis .
"in this example, the query_qor_snapshot command analyzes the placeopt snapshot that is stored in the snapshot directory and then reports the timing paths with worst negative slack values between -2.0 ns and -1.0 ns: fc_shell> create_qor_snapshot -name placeopt fc_shell> query_qor_snapshot -name placeopt -filters ""-wns -2.0,-1.0"" reporting qor snapshots to display qor information and statistics for the current design, use the report_qor command."
.
.
• existence of one-unit-tile gaps use the -no_1x option with the set_boundary_cell_rules command to prevent boundary cell insertion from creating one-unit-tile gaps.
the example in figure 61 shows the difference between using and not using physically- aware clock gating.
.
.
.
"for designs that use such cells, if a violating path goes through a lower-drive-strength bit, the tool can rewire the mixed-drive-strength multibit cell such that the violating path goes through a higher-drive-strength bit."
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 572 chapter 6: routing and postroute optimization analyzing the routing results feedback performing design rule checking in an external tool calibre interfaceyou can perform design rule checking with the calibre tool, convert the calibre drc error file to an fusion compiler error data file, and then report or view the errors in the fusion compiler tool."
"if it cannot find the frame view, the cell is ignored during design rule checking."
.
.
.
.
.
.
.
.
.
.
.
.
the distance between the driver and the first repeater cell is 100 microns.
"however, the following commands are specific to fanin-based sequential clock gates: • the set_fanin_sequential_clock_gating_options command this command specifies the minimum bitwidth and maximum fanout that a fanin-based sequential clock gate is allowed to gate."
.
.
.
.
.
.
.
.
.
.
this and other summary views help you sort and filter the data to pinpoint the runs you want to explore further.
493 modifying routing corridors .
.
.
.
"to enable the golden upf flow, use the following application option setting before you load the upf: fc_shell> set_app_options -as_user_default \ -list {mv.upf.enable_golden_upf true} to load supplemental upf files, use the -supplemental option with the load_upf command."
.
.
.
.
.
.
"(optional) enable distributed processing by using the set_host_options command, as described in enabling ic validator multicore processing."
.
.
.
.
.
.
.
.
.
.
"for example, to assign low routing effort to low-weight soft spacing rules, medium routing effort to medium-weight soft spacing rules, and high routing effort to high-weight soft spacing, use the following command: fc_shell> set_app_options \ -name route.common.soft_rule_weight_to_effort_level_map \ -value { {low low} {medium medium} {high high} } defining minimum via spacing rules you can define nondefault minimum via spacing rules that are stricter than the rules defined in the technology file."
.
"• to specify a skew target, use the -target_skew option with the set_clock_tree_options command."
"for example, the design is expected to be mapped after the initial_map stage."
.
.776 10. physical datapath with relative placement .
.
.
b. specify the output directory for the machine learning data by using the new est_delay.ml_delay_opto_dir application option.
.
.
.
"13. enable integrated structural multisource clock tree synthesis by setting the clock_opt.flow.enable_multisource_clock_trees application option to true, and synthesize the entire clock tree from the clock root by using the clock_opt -from build_clock -to route_clock command."
.
.
225 controlling mux optimization .
.
.
.
.
"• define the detail routing application options for information about the detail routing application options, see the route.detail_options man page."
"for designs with congestion mainly in the horizontal routing layers, set the place.coarse.congestion_expansion_direction application option to both."
.
.
.
.
2. ensure both setup and hold scenarios are created and are active.
.
.
"• to create a comb routing topology, use the -topology comb option."
.
.
.
.
.
.
.
.
.
.
.
"for details about these files, see via ladder rule files."
.
.
• -all_runset_layers true this option enables metal fill insertion on all the fill layers specified in the runset.
.
.
"in a hierarchical compile flow, you start optimization of design subblocks using a top-down approach and then continue incorporating the subblocks into higher-level blocks until the top-level design is complete."
"figure 112 pattern-based must-join pin connection with staggering by default, the pattern-based must-join connections are updated each time you run the route_auto, route_group, or route_eco command."
.
.
.
.
"fc_shell> set_host_options -max_cores n the create_stdcell_fillers command uses the multicore configuration only when the technology file contains minimum threshold voltage, oxide-diffusion (od), or trimpoly (tpo) rules."
.
.
.
.
.
"to set the routing density only for specific layers, use the -layers option to specify the affected layers."
.
.
992 grouping variant cell .
.
"for the default voltage area, specify default_va as the voltage area name."
.
.
.589 inserting tap meshes .
.
"• computes the metal density for each metal layer from the minimum routing layer to the maximum routing layer to compute the metal density for specific layers, use the -select_layers option with the signoff_report_metal_density command."
"for information about using the error browser, see the fusion compiler graphical user interface user guide."
.
"if you specify clock-gate level expansion, but the maximum number of allowed levels is low, the expansion operation cannot take full advantage of the tool's ability to analyze common enable signals."
"the command maintains the threshold voltage at the location of the violating filler cell; however, the threshold voltage at the location of non-violating filler cells might change."
.
.
"to set a voltage threshold across layers for filtering the report, use the -threshold option of the set_missing_via_check_options command."
.
.
.
"• to query the fill shapes, use the get_shapes -include_fill command."
.
.
.
.
.
.
.
"• the nets, bundles, and topology edges to which the constraint group applies use the -for option."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
you can use this option to give a more meaningful name to each run.
.
.
.
"therefore, do not introduce unmapped logic to the design after this stage."
.
fusion compiler™ user guide v-2023.12-sp3 270 chapter 3: physical synthesis performing design analysis feedback you can specify the output directory by using the -output option.
.
"if you use both options, the command inserts tap cells only in the overlapping region."
.
.
.
.
.
.
.
.
.
.
.
.
4. displays the program header and fc_shell> prompt in the shell.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"by default, the tool performs concurrent clock and data optimization during the clock_opt command."
.
the shield placement is interleave.
these cells are referred to as always-on cells.
.
.
.
.
.
"• to specify the distance from the shielding nets, use the -bias_margins option."
"for information about routing guides, see defining routing guides."
.
.
using the -remove_filler_references option with this application option set to true results in the legalizer engine removing only those fillers that are specified by this option.
.
.
.
.
2. synthesize each lower-level block and generate the block-level information required for top-level synthesis as described in synthesizing a subblock.
.
.
the default is false.
"• for information about controlling pin tapering, see controlling pin tapering."
"if you specify a cell list, a separate report is created for each top-level cell in the list."
.
.
"analyzing the clock tree results after synthesizing the clock trees, analyze the results to verify that they meet your requirements."
.
.
"the following example defines a blockage that prevents a certain category of cells from being placed within it: define_user_attribute -type boolean \ -classes lib_cell dr_cells set_attribute [get_lib_cells mylib/dr*] dr_cells true create_placement_blockage -boundary {{4300 2400} {4500 2700}} \ -type category -blocked_percentage 45 -category dr_cell the following example defines a blockage that allows only a certain category of cells to be placed within it: define_user_attribute -type boolean \ -classes lib_cell non_iso set_attribute [get_lib_cells mylib/*] non_iso true set_attribute [get_lib_cells mylib/iso*] non_iso false create_placement_blockage -boundary {{4300 2400}{4500 2700}} \ -type category -blocked_percentage 30 -category non_iso note: category blockages are honored during placement, but not during legalization, optimization, or clock tree synthesis."
.
.
.
.
.
"for example, fc_shell> set_lib_cell_purpose \ -include none [get_lib_cells */*01_*_ab] warning: the 'set_lib_cell_purpose' command cannot be used on synthetic library cell 'standard:*opmod.dw01_add_ab.timing'."
"for vias, the mask constraints are defined in the lower_mask, upper_mask, and cut_mask attributes."
.
.
.
.
.
"• to report only the relative placement groups that do not meet a specific threshold, use the -threshold option."
"(ndm-160) 76 verifying via ladders to verify that the via ladders in the block match the via ladder constraints and are properly connected to pins, use the verify_via_ladders command."
.
357 specifying the clock tree references .
.
.
.
the default file name is set_user_input.tcl.
"fusion compiler™ user guide v-2023.12-sp3 858 chapter 11: hierarchical implementation linking to etms at the top level feedback linking to etms at the top level to link to etms at the top level, add the etm libraries to the reference library list before you create the top-level design library, as shown in the following example: fc_shell> lappend nt_ref_lib ""ams_blk_etm.ndm"" fc_shell> create_lib -technology tech.tf -ref_libs $nt_ref_lib top an etm that contains multiple modes is called a moded etm."
use the check_legality command to identify any cell overlaps and use the legalize_placement command to resolve any remaining cell overlaps.
.
"5. insert the mesh drivers by using the create_clock_drivers command, as described in inserting clock drivers."
mask_two this constraint means that the shape has the mask2 color.
.
.
.
.
"for more information on clock gating reports, see reporting clock-gating results."
.
.
.
.
.
.
.
"to access the solvnetplus site, go to the following address: https://solvnetplus.synopsys.com if prompted, enter your user name and password."
"the tool avoids overlapping the clock drivers with other fixed cells, blockages, and macros."
.
.
.
the red rectangle is the shape closest to the specified location and its lower-right corner has fusion compiler™ user guide v-2023.12-sp3 889 chapter 12: redhawk and redhawk-sc fusion missing via and unconnected pin checking feedback the minimum distance among all the other rectangles.
"• to examine the generated errors in the error browser, 1. choose view > error browser from the gui."
.
you specify the minimum jog length as an integer multiple of the layer pitch.
.
"in general, you should use this method only when you used near 100 percent redundant via insertion during initial routing."
.
.
.
◦ level 1 refers to the first clock gate downstream from the clock source.
.
.
.
.
you can use the -max_reported_nets option to set a different limit on the reported nets.
.
mx_min_area_with_via specifies the minimum fill area on which vias can be created.
.
.
.
.
"if the required editability settings are not performed,then the check_hier_design command issues tl-170 error message."
.
the tool writes the data greater than the specified threshold to the output file.
fusion compiler™ user guide v-2023.12-sp3 710 chapter 8: ic validator in-design inserting metal fill with ic validator in-design feedback performing metal fill insertion you can use the signoff_create_metal_fill command to perform the following tasks: • pattern-based metal fill insertion • track-based metal fill insertion • using an ic validator parameter file • typical critical dimension metal fill insertion • timing-driven metal fill insertion • incremental metal fill insertion • foundry fill and track fill combined for different flows of foundry pattern-based metal fill insertion pattern-based metal fill insertion is the default mode for the signoff_create_metal_fill command.
"for a more refined approach, use the set_clock_gate_transformations command."
"• if the -for option specifies net-based length matching, a routed length report is generated."
the congestion map shows the borders between global routing cells highlighted with different colors that represent the congestion values.
"as the repair loop number increases, so does the physical scope of the rerouting performed by that repair loop."
4. commit the power intent by using the commit_upf command.
.
.
.
"for example, to assign a nondefault routing rule called widemetal to the clk net, use the following command: fc_shell> set_routing_rule -rule widemetal [get_nets clk] to reset the routing rule for the clk net to the default routing rule, use the following command: fc_shell> set_routing_rule -default_rule [get_nets clk] reporting nondefault routing rule assignments the fusion compiler tool provides commands to report the nondefault routing rules assigned by the set_routing_rule command and the clock routing rules assigned by the set_clock_routing_rules command."
.
.
.
.
.
.
.
.
"clock-gating conditions the register must satisfy the following conditions for the tool to gate the clock signal of the registers: • enable condition if the register bank’s synchronous load-enable signal is a constant logic 1, reducible to logic 1, or logic 0, the condition is false and the circuit is not gated."
.
you must specify the following information for each rule: ◦ the labels being constrained (the -labels option) you must specify exactly two labels in each set_spacing_label_rule comandcomandset_spacing_label_ruleset_placement_spacing_rule command.
.
.
.
.
.
cells that are deleted as a result of the eco changes are not removed from the design.
693 displaying objects for design rule checking .
.
.
"b. enable the addition of physical feedthrough cells, which belong to a voltage area physically but not logically, by setting the opt.common.allow_physical_feedthrough application option to true."
.
.
"you can also save the relative placement information to a file that contains tcl commands that re-creates the relative placement groups, their objects, and their settings."
.
you must use this option with the -include or -force options.
.
"◦ to check cell connection before placement, use the set_repeater_group -check_connection command."
.
.
.
.
you must include the .svf file in the formality tool when verifying blocks with sequential output inversion.
"when you enable this feature, the tool identifies the best count, configuration, and placement of tap drivers for minimum clock tree insertion delay."
the high setting can reduce violations at a cost of increased runtime.
.
• reports balance point delay values that are large enough to cause an increase in clock insertion delay.
.
.
.
.
the set_clock_gating_objects -enable_source option applies to all objects specified with the -force or -include options in the same command.
.
.
.
.
.
• the height of a row is determined by the tallest object in the row • the width of a column is determined by the widest object in the column bit_slice (default) horizontally compress the objects in each row and maintain row alignment.
.
.
.
.
• that the blockages can overlap with other relative placement blockages or other objects that are not relative placement cells by using the -allow_overlap option.
.
this is called the focused view.
3. specify the cutline for a group manually with the set_repeater_group -group_id- cutline command.
.
.
.
.
69 running commands in the background .
4.
.
.
"• latency to generate a latency report, use the -type latency option."
.
.
.
.
.
.
you must specify cutline for each group.
.
.
.
.
this command supports the following lef syntax: via_rule_name generate [default] layer lower_layer_name enclosure lower_overhang1 lower_overhang2 layer upper_layer_name enclosure upper_overhang1 upper_overhang2 layer cut_layer_name rect llx lly urx ury spacing x_spacing by y_spacing the width and resistance statements are not supported.
.
.
.
"for example, to create a hard outer keepout margin with a margin of 10 on each side for a macro named my_macro, use the following command: fc_shell> create_keepout_margin -outer {10 10 10 10} my_macro to have the tool derive the outer keepout distance for a hard macro based on its pin count, use the -tracks_per_macro_pin option to specify the track-to-pin ratio."
.
.
"table 5 reference and target library lexical attribute differences lexical attribute reference library target library lexical_cell_prefix_name nd2 nand2 lexical_drive1_name d1 x1 lexical_device_threshold_voltage svt svth in this situation, you must create a lexical attribute mapping file that contains the following information: lexical_cell_prefix_name nd2 nand2 lexical_drive1_name d1 x1 lexical_device_threshold_voltage svt svth fusion compiler™ user guide v-2023.12-sp3 97 chapter 2: preparing the design reading the design feedback then, when you run the compare_libraries command, you must specify this lexical attribute mapping file by using the -lex_attr_mapping option, as shown in the following example: fc_shell> set_app_options -name libra.complib.match_full_cell_name -value false fc_shell> compare_libraries -ref_lib $rvt_lib -ref_lib_analysis sa \ -target_lib $lvt_lib -target_lib_analysis sa \ -lex_attr_mapping attribute_map_file -verbose -plot ◦ the reference and target library naming convention is completely different."
.
"for example, the following command returns the self-gating cells that gate registers clock by clk: fc_shell> get_clock_gates -clock clk -type self-gate special naming and querying for dft wrapper clock gates dft wrapper clock gates refer to those clock gates that drive only dft wrapper cells."
.
.
.
"by default, live drc includes the rules for all layers."
.
"in this mode, the antenna ratio is calculated as antenna_ratio = connected metal area of the current and lower layers/ total gate area for a detailed example of the antenna recognition modes, see antenna recognition mode example."
.
.
.
.
.
.
note: you can use this option only if the percentage of change to the block since the previous signoff_create_metal_fill run is less than the change threshold.
"fusion compiler™ user guide v-2023.12-sp3 340 chapter 5: clock tree synthesis defining the clock trees feedback figure 72 nested clock tree with a generated clock d q clk qn clk1 genclk1 if the block contains generated clocks, ensure that the master-clock sources are correctly defined, as incorrect definitions can result in poor skew and timing qor."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
310 clock-gate collapsing .
.
.
.
.
.
.
"• relieves congestion by reusing dangling wires instead of rerouting detail routed wires to disable the reuse of dangling wires, set the -utilize_dangling_wires option to false."
.
.
.
"to fix the violations only on specific nets, use the -nets option."
.
5.
fusion compiler™ user guide v-2023.12-sp3 905 chapter 12: redhawk and redhawk-sc fusion performing pg electromigration analysis feedback you can examine the generated error files in the error browser or write the generated errors to an output ascii file.
.
.
"for details, see using routing guides to control the routing direction."
.
.
.
"• the layer to check to specify the layer, use the -layer option."
.
.
.
• performing hierarchical synthesis using abstracts • performing hierarchical synthesis using etms • performing prechecks for hierarchical synthesis flows • providing block-level test models • specifying block-level power intent • overview of abstract views • creating abstract views • reporting abstract inclusion reasons • making changes to a block after creating an abstract • creating a frame view • linking to abstract views at the top-level • changing the block from abstract to design view • linking to subblocks with multiple labels • specifying the editability of blocks from the top-level • preparing for top-level closure with abstracts • checking designs with abstracts for top-level-closure issues • performing top-level closure with abstract views • creating etms and etm cell libraries • linking to etms at the top level • performing top-level closure with etms • transparent hierarchy optimization fusion compiler™ user guide v-2023.12-sp3 817 chapter 11: hierarchical implementation performing hierarchical synthesis using abstracts feedback performing hierarchical synthesis using abstracts the hierarchical synthesis flow using abstracts consists of the following major steps: 1. partition the design at the top-level and generate the design libraries for the lower-level blocks as described in partitioning and planning the full chip design.
.
.
.
.
.
2. define group virtual connection by -driver_group_id or -path_drivers.
.
.
.
.
"for multicorner-multimode designs, the tool performs interclock delay balancing on all active scenarios."
.
"compile.auto_floorplan.place_hard_macros, compile.auto_floorplan.shape_voltage_areas ◦ true: keeps existing bounds."
this is due to graph connectivity differences between the two commands.
.
.
.
.
.
.967 adding buffers on a bus in a specified pattern .
the following example inserts three levels of clock drivers.
.
.
.
zroute supports pin tapering for both hard and soft nondefault routing rules; the tapering implementation is the same for both types of nondefault routing rules.
.
"to disable checks for unconnected nets, set the -open_net option to false."
"if the template cell you specify is a buffer or inverter, you can also specify different versions of this buffer or inverter as clock drivers by using the -lib_cells option with the -template option."
.
.
"fusion compiler™ user guide v-2023.12-sp3 229 chapter 3: physical synthesis controlling mapping and optimization feedback you can specify that the tool uses mux gates to implement specific multiplexing logic by applying the map_to_mux attribute on the corresponding select_op wvgtech cells in the block, as shown in example 16. example 16 using map_to_mux attribute to implement specific multiplexing logic # apply the map_to_mux attribute on the select_op cell named c10 set_attribute -objects [get_cells c10] -name map_to_mux -value true # query if the attribute is set as required on c10 get_attribute -objects [get_cells c10] -name map_to_mux #run the compile step compile_fusion #identify the cell created using the map_to_mux attribute get_cells -hier -filter ""map_to_mux==true && !infer_mux_override"" controlling sequential mapping the sequential mapping phase consists of two steps: register inferencing and technology mapping."
.
.
364 defining a name prefix for clock cells .
.
these are the only two options that you can use with the -diode option.
controlling movement when legalizing relative placement groups you can control the movement of a relative placement group during legalization by using the -move_effort option of the set_rp_group_options command.
.
.
trunk splitting the following custom router application options determine whether bus trunks will be split when routing through obstacles and how the bits will be split.
.
.
"example 42 routing with custom.route.balance_mode turned on create_routing_rule skew -widths {m1 6 m2 6 m3 6 m4 6 m5 25} -vias {{via12_1cut 3x3 r} {via23_1cut 3x3 r} {via34_1cut 3x3 r} {via45_1cut 2x5 r}} set_routing_rule $nets_to_route -rule skew -max_routing_layer m5 -min_routing_layer m1 set_attribute [get_layers ""m2 m4""] routing_direction horizontal set_attribute [get_layers ""m1 m3 m5""] routing_direction vertical set_ignored_layers -min_routing_layer m1 -max_routing_layer m5 set_app_options -list {custom.route.balance_mode true} route_custom -nets $nets_to_route the results from the example show that the wire lengths and the number of vias are the same in each of the four μbump-to-c4 bump connections."
.
.
.
.
.
.
971 optimizing the fanout of a net .
.
.
"for details, see specifying the boundary cell insertion requirements."
.
.
• split the fanout of a routed net that is not fully connected to the terminals of the driver or loads of the net by specifying a maximum distance between terminals of the driver or load pins and the incomplete route using the -max_distance_for_incomplete_route option.
.
.
.
.
.
.
.
exclude_route_guides_ for_density_computation 0 controls whether routing guides are excluded from the density computation.
.
.
.
"when you use this option, the tool calculates the keepout margin from the track width, the number of macro pins, and the specified track-to-pin ratio, which is typically set to a value near 0.5. a larger value results in larger keepout margins."
internal-net layer constraints are applied to the nets from this point until the sink nets.
.
.
.
.
.
.
.
.
791 adding cells within a predefined relative placement area .
.
(optional) specify a threshold beyond which the slack for the path groups that are not targeted can be degraded by using the ccd.targeted_ccd_threshold_for_nontargeted_path_groups application option.
.
.
.
.
.
.
.
"for example, define_hdl_library bot_hdl_lib -path ./templates/bot_hdl_lib define_hdl_library mid_hdl_lib -path ./templates/mid_hdl_lib define_hdl_library work -path ./templates/work analyze -format vhdl -hdl_library bot_hdl_lib bot.vhd analyze -format vhdl -hdl_library mid_hdl_lib mid.vhd analyze -format vhdl top.vhd elaborate top set_top_module top reading designs using the -autoread option to enable the tool to automatically read a list of rtl files, specify the -autoread option with the analyze command, as shown in the following example."
.
.
.
◦ signoff_check_drc.log this file contains a summary of the signoff_check_drc run environment.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 358 chapter 5: clock tree synthesis specifying the clock tree synthesis settings feedback when you run this command, the tool sets the valid_purpose attribute to true on equivalent library cells of the preexisting clock tree cells that are not buffers or inverters."
.
the following example creates taps for each instance of the some_pad_cell library cell.
.
461 manual via ladder insertion .
.
"the tool reports two values for the via conversion rate: ◦ the total optimized via conversion rate this value is computed based on the total via count, which includes both fixed vias and routed vias."
.
• via_wire_standard_cell_pins the connections to standard cell pins by using a via or a wire are restricted.
.
.
.
37 power intent concepts .
.
"by default, live drc keeps only those violations that are fully within the checking region."
figure 164 adding single loops to extend wires application option description custom.route.single_loop_match adds single loops to extend wire lengths.
.
.
.
464 routing constraints .
.
.
.
.
.
.
.
.
.
.
.
an isolation cell must be present where a logic signal leaves a switchable power domain and enters a different power domain.
.
.
"use the -verbose option with the command to display the group of cells with the same footprint, the ron value and the number of cells instantiated in the design."
.
◦ -excluded_coordinates_ground this option prevents pg augmentation for the ground net in the specified regions.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
394 implementing multisource clock trees .
.
.
near 100 percent redundant via insertion you can achieve a redundant via rate near 100 percent by using hard-rule-based redundant via insertion.
.
.
"note: if the windowsize attribute is not specified in the technology file and the signoff.report_metal_density.density_win dow application option is not set, the tool uses a default of 50 microns."
.
.
.
.
"to use this method, • specify the configuration for the specific hosts as described in running ic validator on specific hosts."
"during track-based metal fill insertion, the signoff_create_metal_fill command performs the following tasks: 1. loads the block into the ic validator tool, as described in reading blocks for signoff metal fill insertion 2. removes existing metal and via fill by default, the command removes the metal and via fill from the entire block."
.
.
.
.
.
.
.
.
.
"to check for drc violations between signal shapes and user shapes, use the following command: fc_shell> check_routes -check_from_user_shapes true ◦ view the eco nets and buffers in the gui."
.
"when the library cells with a synchronous enable pin are not available, the compile_fusion command maps the pushed-out synchronous logic to a mux, as shown in this figure."
"the valid values are high (default), medium, and low."
"◦ to specify the replacement tap cell for right-side violations, use the -right_violation_tap option."
"(optional) enable distributed processing by using the set_host_options command, as described in enabling ic validator multicore processing."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"although the tool does not prevent you from defining nested checkpoints, the tool ignores nested checkpoints during a run, executing only the outermost checkpoints (note that the tcl code inside nested checkpoints still runs, but runs as though the checkpoints do not exist)."
you do not need to explicitly specify the internal power nets.
459 verifying via ladders .
.
"for example, • to set application options that define your fusion compiler working environment, create setup files in your home directory."
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 838 chapter 11: hierarchical implementation changing the block from abstract to design view feedback figure 193 top-level design with instantiated blocks blk1 top blk2 to link to the abstracts of the blk1 and blk2 blocks, the design libraries containing the abstract views of these block must be reference libraries of the top design."
.
.
.
.
library details come from the design database stored in the fusion compiler tool memory.
.
.
"if any of the given top-level clocks has no mapping to any block-level clock in any mode, the tool issues a warning."
.
.
.
.
.
"by default, when you define skew and latency targets, they apply to all clocks in all corners."
set the all_runset_layers option to true to insert fill for all output fill layers defined in the runset settings.
"to define cell spacing constraints, intercel spacing rules, defining 1. add labels to the library cells that have spacing constraints by using the set_lib_cel_spacing_label comandcomandset_lib_cel_spacing_label set_placement_spacing_label command."
"when you remove the maximum routing layer setting, it also removes the ignored layers for rc estimation and congestion analysis that are above the maximum routing layer."
"in the map, hover over a switch cell to examine its voltage information fusion compiler™ user guide v-2023.12-sp3 936 chapter 12: redhawk and redhawk-sc fusion displaying maps in the gui feedback figure 214 displaying a power density map choose rail power choose density to display power density values see also • specifying redhawk and redhawk-sc working directories fusion compiler™ user guide v-2023.12-sp3 937 chapter 12: redhawk and redhawk-sc fusion displaying eco shapes in the gui feedback displaying eco shapes in the gui when you use the redhawk mesh add command to add virtual pg meshes in the top block for the current subblock, by default the virtual pg meshes created by the redhawk mesh add command are not shown as layout objects in the gui."
.
.
.
.
.
.
the distance between the driver and the first repeater cell is 50 microns and the last distance is 20 microns.
.
.
.
.
.
.
.
.
.
"to reset a clock routing rule to the default routing rule, use the -default_rule option."
.
.
"you can also specify the run name by using the -run_names option when you generate the qorsum report by using the compare_qor_data command in step 3. if you do so, the tool ignores the run name specify by the set_qor_data_options -run_name command."
.
"when inserting clock-gating cells in a multivoltage design, the tool chooses the appropriate library cells based on the specified clock-gating style as well as the operating conditions that match the operating conditions of the hierarchical cell of the design."
.
.
.
.
.
.
.
the tool does not scale the following: • switching activity applied with the set_switching_activity command • switching activity within block abstracts the scaled switching activity is persistent in the design.
the default is true.
.
.
.
"to reduce the length of multivoltage nets, enable advanced multivoltage cell placement by setting the place.coarse.enable_advanced_mv_cell_placement application option to true."
• reference library: use the -ref_libs option to provide the reference library information.
.
.
.
opening a library means loading it into memory and making its blocks accessible.
.
.
.
.
"in this case, use the -setup_endpoints, -hold_endpoints, and -ldrc_objects options to specify the endpoints."
.
.
.
.
.
.
.
.
"◦ if the edge segment contains two corners along the specified side, the tap wall starts at the left edge for a horizontal tap wall or the bottom edge for a vertical tap wall."
.
.
.
the static charge that is collected on wires during the multilevel metalization process can damage the device or lead to a total chip failure.
.
the command skips to place some repeaters.
.
.
◦ specify the endpoints to optimize by using the ccd.targeted_ccd_end_points_file application option you must specify at least one of these settings.
.
.
.
.
.
.
.
.
promote these block-level clock latencies as clock balance point delays for the block-level clock pins by using the promote_clock_data -auto_clock connected -port_latency command.
.
.
.
.
.
.
◦ set the “view level” to 1.
"figure 108 using a fanout limit for selecting root nets sink nets internal nets root nets 200 sinks 200 sinks 200 sinks when calculating the transitive fanout of clock nets for the purpose of identifying root nets, the tool includes only the valid clock sinks; it does not include the ignore pins."
.
"• associates via ladder rules with the pins of all library cells that do not have a dont_use attribute to include the pins of library cells that have a dont_use attribute, use the -dont_use option."
.
.
"by default, the root-net layer constraints are applied to all the single-fanout clock nets starting from the clock root up to the point where the clock tree branches out to a fanout of more than one."
.
.
.
.
572 performing design rule checking in an external tool .
"you can perform • timing checks specific to top-level closure by using the check_design -checks hier_timing command • all timing checks, including those specific to top-level closure, by using the check_design -checks timing command • preplacement checks specific to top-level closure by using the check_design -checks hier_preplacement command • all preplacement checks, including those specific to top-level closure, by using the check_design -checks preplacement command fusion compiler™ user guide v-2023.12-sp3 845 chapter 11: hierarchical implementation checking designs with abstracts for top-level-closure issues feedback you can generate an ems database for the check_design command and view it in the gui, similar to the check_hier_design command."
the set_clock_gate_latency command can be used for both gate-level and rtl designs.
.
.
.
.
.
865 rebudgeting after compile_fusion .
"fusion compiler™ user guide v-2023.12-sp3 399 chapter 5: clock tree synthesis implementing multisource clock trees feedback 11. perform tap assignment by using the synthesize_multisource_clock_taps command, which ◦ merges equivalent clock cells to remove any artificial boundaries between clusters of sinks ◦ assigns endpoints to the closest tap driver and split cells along the path honoring any sink groups defined ◦ copies the upf and sdc constraints and the user-specified attributes onto the newly created cells across the active scenarios 12. synthesize the entire clock tree, from the clock root, by using the following command: fc_shell> clock_opt -from build_clock -to route_clock during this step, the tool builds the local subtrees that are driven by the tap drivers."
.
you can control the following aspects of the filler cell insertion: • the region in which to insert the filler cells ◦ use the -region option to restrict filler cell insertion to the specified regions.
.
.
.
.
"for information about the clock-gating report, see reporting clock-gating results."
.
.
.
"alternatively, you can prevent the buffers from being placed over all blockages and macro cells by using the -respect_blockages option."
you must set up the host options as shown in the setting up transparent hierarchy optimization section.
.
.
.
"to limit the maximum number of fanouts that can be included in an automatic bound, use the icg_auto_bound_fanout_limit application option setting, as shown in the following example: fc_shell> set_app_options \ -name place.coarse.icg_auto_bound_fanout_limit -value 30 the default fanout limit is 40. fusion compiler™ user guide v-2023.12-sp3 154 chapter 2: preparing the design specifying placement settings feedback controlling the placement density you can control the placement density of a block as described in the following table."
"• to define a soft move bound, use the following syntax: create_bound -name name [-type soft] [-effort effort_level] \ -boundary {coordinates} [bound_objects] the default effort is ultra; you can also specify low, medium, or high."
.
.
.
.
.
supports gate classes.
this mode performs a conservative timing analysis that allows both minimum and maximum delays to apply to different paths at the same time.
.
"for example, to define a dimensionless group bound for the inst_1 and inst_2 cell instances in which the tool uses a high level of effort to place the cells closer within the group bound, use the following command: fc_shell> create_bound -name b6 -effort high {inst_1 inst_2} querying placement bounds to report the placement bounds in a block, use the report_bounds comandcomandsreport_boundsmove boundreportingreport_bounds command."
.
"fusion compiler™ user guide v-2023.12-sp3 351 chapter 5: clock tree synthesis defining the clock trees feedback for example, assume you have the following timing constraint settings: fc_shell> set_clock_latency -source 0.5 [get_clocks clk] fc_shell> set_clock_latency 1.0 [get_clocks clk] fc_shell> set_clock_latency 1.5 [get_pins reg1/ck] fc_shell> set_clock_latency 0.5 [get_pins reg2/ck] if you run the derive_clock_balance_points command, the tool derives the following clock balance point constraints: fc_shell> set_clock_balance_points -delay -0.5 \ -balance_points [get_pins reg1/ck] -clock clk -corners worst fc_shell> set_clock_balance_points -delay 0.5 \ -balance_points [get_pins reg2/ck] -clock clk -corners worst to avoid conflicts, do not manually apply any clock balance points for a clock that you derive balance points with the derive_clock_balance_points command."
.
.
.
.
.
.
.
"however, the time duration that the clock signal is turned off might increase for these registers,."
.
.
.
you would typically fusion compiler™ user guide v-2023.12-sp3 729 chapter 8: ic validator in-design inserting metal fill with ic validator in-design feedback use this mode after eco changes.
.
.
.
.
example 23 default shielding report fc_shell> report_shields ... shielded 82% side-wall of (reset) shielded 96% side-wall of (clk) shielded 2 nets with average ratio as follows.
.
.
.
this option also prevents the routing blockage from being treated as real metal during extraction and drc checking.
"the vertical straps on layer m8 start at a distance of 60 units from the y- axis and repeat every 150 units, until they reach 980 units from the x-axis."
"• to enable the report to run before one or more checkpoints, specify the checkpoint names with the -before option."
"by default, the application option is set to false."
.302 inserting clock gates in an rtl design .
.
"if you do not specify the maximum number of cores with either command, the tool runs the commands sequentially instead of in parallel."
.
.
.
.
.
.
.
.
.
.
"if the design library contains global route congestion information for the block, the tool generates the congestion map based on this information; otherwise, you must click reload to generate the congestion map."
.
"• the constraints to specify the constraints that are applied per layer to the trunk and override any settings on the individual bits, use the options listed in table 53. fusion compiler™ user guide v-2023.12-sp3 750 chapter 9: routing using custom router defining routing constraints feedback table 53 bus routing style constraints option description -valid_layers specifies a list of the valid layers for trunk routing."
"for example, assume a cell in your library is named and2d4wsulvt."
.
.
.
.
.
.154 controlling the placement density .
viewing multibit components in the gui fusion compiler uses the wordview infrastructure to map multibit components.
"the tool collapses clock-gate levels as follows: • the tool first tries to collapse clock gates at levels higher than the specified maximum level, starting from the clock gates at the highest level (closest to the registers)."
.
.
use the following format to specify the offset for each layer: {{layer_name offset_value} ...} the offset value must be a positive value.
.
922 performing signoff analysis .
.
444 creating a via definition .
.
.741 automatically fixing isolated vias .
.
• python: generates the file in python format.
.
.
.
.
.
setting up clock gating the clock gating feature only supports latch-based integrated clock-gating cells.
.
.
.
.
it is faster in comparison to medium effort and has reasonable qor.
.
• distance between tap cells use the -tap_distance option with the set_boundary_cell_rules command to specify the distance in microns between the tap cells inserted on the top and bottom boundary rows.
.
.
.
"when you use this option, the block information comes from the design view and the validation tool checks all layers, including the nonrouting layers."
.
"integrated clock-gate latency estimation by default, the tool estimates and updates clock-gate latencies throughout the compile_fusion command flow."
.
-collection (optional) reports cell instances as a cell collection rather than a column-based text report.
.
"the available parameters for the command are as follows: • no split: by default, long names are split in multiple lines for easier human reading."
.
.
.
.
.
.
.
.
.
988 unplacing the repeaters .
.
this table lists cases in which a sequential element can be eliminated.
.
598 removing boundary cell insertion requirements .
.
"the default is 2000. for example, fc_shell> set_app_options \ -name compile.flow.optimize_ndr_max_nets -value 5000 when both the compile.flow.optimize_ndr_critical_range and compile.flow.optimize_ndr_max_nets application options are specified, the stricter constraint has priority."
.
.
.
.
.
"controlling the name mapping in the saif-map flow, the name-mapping database tracks the changes to pin, port, cell, and net names that occur during optimization."
.
.
.
"to control constant register removal for a specific cell or module , use the set_constant_register_removal command."
.
.
.
.
.
.
.
signoff.check_drc.
"to remove only those filler cells that cause a short by overlapping a routing shape, use the -shorts_only true option."
.
153 specifying placement settings .
"83 introduction to redundancies, outliers, equivalences, and gaps in library cell families ."
.
.
.
.
"to check whether there are integrated clock-gate cells available for clock-gate insertion, use the check_clock_gate_library_cell_availability command."
"fusion compiler™ user guide v-2023.12-sp3 799 chapter 10: physical datapath with relative placement specifying options for relative placement groups feedback figure 179 right-aligned relative placement group with one cell that is left aligned u3 u2 u1 u0 row 3 row 2 row 1 row 0 col 0 controlling the tiling within relative placement groups to control the tiling of objects within a relative placement group, use the set_rp_group_options -tiling_type command with the settings shown in the following table."
.
.
.
.
.
.
.
custom.route.shield_second_net specifies the secondary net you want to use as the shield.
.
.
.
.
.
.
.
.
.
.
.
.
.
810 creating new relative placement groups in a placed design .
"if it is not legal, select the legal reference from cell group and swap it."
.
.
"for example, to specify the vias selected by the -cuts option in the previous example, use the following command: fc_shell> create_routing_rule via_rule \ -vias { {via12_lh 1x1 r} {via12_lh 1x1 nr} {via12_lv 1x1 r} {via12_lv 1x1 nr} {via12_lh 1x2 r} {via12_lh 1x2 nr} {via12_lh 2x1 r} {via12_lh 2x1 nr} {via12_lv 1x2 r} {via12_lv 1x2 nr} {via12_lv 2x1 r} {via12_lv 2x1 nr} } specifying mask constraints if you are using the precolored design flow for a design that uses multiple-patterning technology, you can set mask constraints on timing-critical nets, such as clock nets, by defining a precoloring rule and applying it to the nets."
.
.
.
.
.
.
"(place-027) the tool applies the maximum density and congestion-driven maximum utilization settings independently to each placeable area such as a voltage area or exclusive move bound, rather than taking an average over the entire block."
.
.
.
"for detailed information about performing power grid augmentation, see the topic associated with the method you want to use."
.
.
.
the command supports both single load and multiple loads supernets.
the total number of cores available for processing on a machine is the number of cpus multiplied by the number of cores in each cpu.
.
436 analyzing clock trees in the gui .
"for timing analysis, each set of conditions is represented by a corner and each functional mode is represented by a mode."
.
.
"by default, the tool does not remove any filler cells when legalizing eco cells."
.
.
.
.
.
.
the error environment overlay is available only when the signoff.physical.merge_stream_files application option is set before doing drc checking.
.
.
this is the only type of placement blockage that is honored by hard macro placement.
.
you can create it in a different design by specifying its name using the -design option.
931 displaying maps in the gui .
.
.
"however, to further reduce leakage power, enable leakage power optimization for the different stages of the design flow."
.
"to prevent the tool from moving a cell during compile, specify a fixed location for the cell by using the -fixed option with the set_cell_location command to set the physical_status attribute to fixed on the cell."
.
.
.
"for information about performing incremental metal fill insertion, see incremental metal fill insertion."
.
.
.
.
"figure 82 shows the previous, current, and next stages for an endpoint register."
"fusion compiler™ user guide v-2023.12-sp3 413 chapter 5: clock tree synthesis implementing multisource clock trees feedback when doing so, you must specify • the startpoint of the global clock structure, by using the -roots option."
.
.
.
.
"for example, fc_shell> report_signal_em -violated -verbose fusion compiler™ user guide v-2023.12-sp3 555 chapter 6: routing and postroute optimization analyzing and fixing signal electromigration violations feedback the report_signal_em command performs a timing update, if needed, and analyzes all nets for electromigration."
.
.
.
.
.
.
the default is true.
.
.
"to check only specific nets, use the -nets option to specify the nets of interest."
456 inserting via ladders .
.
.
.
.
.
.
.
the following topics describe these steps.
"by default, the tool uses the global setting specified by the route.auto_via_ladder.connect_within_metal application option."
.
"if you issue an exit command in the parent process, the tool waits for all redirect -bg commands to complete before exiting."
"to enable timing-driven global routing, set the route.global.timing_driven application option before you run the route_global command."
.
.
lib (ndm) tech.
"for example, assume the following information is defined in the technology file: layer ""via1"" { fattblthreshold = ( 0, 0.181, 0.411 ) fattblfatcontactnumber = ( ""2,3,4,5,6 "",""5,6,20"", ""5,6,20"" ) fattblfatcontactmincuts = ( ""1,1,1,1,1"", ""1,1,1"", ""2,2,2"" ) cutnametbl = ( vsq, vrect ) cutwidthtbl = ( 0.05, 0.05 ) cutheighttbl = ( 0.05, 0.13 ) … } contactcode ""via12_lh"" { contactcodenumber = 5 cutwidth = 0.13 cutheight = 0.05 … } contactcode ""via12_lv"" { contactcodenumber = 6 cutwidth = 0.05 cutheight = 0.13 … } contactcode ""via12_p"" { contactcodenumber = 20 cutwidth = 0.05 cutheight = 0.05 … } if you use the following command, fc_shell> create_routing_rule cut_rule -cuts {via1 {vrect 1}} the tool selects the following vias: {via12_lh 1x1 r}, {via12_lh 1x1 nr}, {via12_lv 1x1 r}, {via12_lv 1x1 nr}, {via12_lh 1x2 r}, {via12_lh 1x2 nr}, {via12_lh 2x1 fusion compiler™ user guide v-2023.12-sp3 503 chapter 6: routing and postroute optimization routing constraints feedback r}, {via12_lh 2x1 nr}, {via12_lv 1x2 r}, {via12_lv 1x2 nr}, {via12_lv 2x1 r}, and {via12_lv 2x1 nr}."
output_colored_fill 0 controls whether fill shapes are assigned mask constraints in blocks that use double-patterning technology.
.
.
.
.
.
.
"to specify how the tool can or cannot use library cells, use the -include and -exclude options with the set_lib_cell_purpose command."
"if you do not specify this option, the command checks all the references in the physical hierarchy."
.
.
.
.
.
.
.
.
.
.
.
"for more information about the technology file, see the synopsys technology file and routing rules reference manual."
.
"to place • all unplaced cells, use the -unplaced_cells option."
.
.
.
.
"when you use this command, you must specify the following: ◦ the clock objects associated with the switching activity you want to scale ◦ the clock period used in the saif file by using the -period option or the ratio between the clock period used in the saif file and the clock period used in the fusion compiler tool by using the -ratio option in addition, you can specify the scenario for which to apply the scaling by using the -scenario option."
"preventing routing of specific nets to prevent routing of specific nets, set the physical_status attribute of each net to locked, as described in setting the rerouting mode."
.
.
you can specify one or more pin sections.
.
.
you may still find examples of non-inclusive language in our software or documentation as our ips implement industry-standard specifications that are currently under review to remove exclusionary language.
.
.
.
.
.
.
.
"• for pins on the m1 or m2 layers, use the -taper_over_pin_layers option (or the -driver_taper_over_pin_layers option for driver pins) to specify the number of layers on or above the pin layer available for tapering."
.
.
.
.
.
"• to disable all updates during each of these routing commands, set the route.auto_via_ladder.update_pattern_must_join_during_route application option to false."
.
.
.
.
"• redundant power or ground shapes to enable this check, use the -check_redundant_pg_shapes true option."
.
.
.
.
.
.
.
keep the following points in mind: • extraction of mixed signed and unsigned operators is allowed only for adder trees • instantiated designware components cannot be extracted datapath implementation all the extracted datapath elements and the synthetic operators are implemented by the designware datapath generator in fusion compiler.
"by matching wire lengths, you can minimize clock skews and timing violations."
.
.
.
.
.
.
.
.
.
.
.823 performing hierarchical synthesis using etms .
it can also result in a smaller chip area.
.
fc_shell> set_app_options -name \ -name ccd.dps.focus_power_scenario -value {{s1 s2}} ◦ control the type of internal power analysis performed by setting the ccd.dps.use_case_type application option.
.
.
use the following syntax to set this option: { {layer wire_length} ... } specify the routing layers by using the layer names from the technology file.
"if only clka is specified as a master clock in a create_generated_clock command, gen_clk does not have a valid master clock source."
.
.
.
.
.
.
"to allow the cell in the category blockage, set the attribute to false."
.
.
.
.
"specifying optimization targets at the preroute stage when performing concurrent clock and data optimization using the compile_fusion command, you can give a higher priority to the wns optimization of • certain path groups by specifying them by using the ccd.targeted_ccd_path_groups application option, as shown in the following example: fc_shell> set_app_options -name ccd.targeted_ccd_path_groups \ -value {pg1 pg2} if a path group you specify with this application option is also specified as a path group to skip with the ccd.skip_path_groups application option, the path group is skipped during concurrent clock and data optimization."
.
the ccd useful skew balance point offsets might have been modified during tho.
.
(optional) specify a naming convention for library cells and perform lexical classification by using lexical attributes.
.
"by default, the create_shields command leaves one routing track open between each used track."
.
"when you widen the wires, it changes the timing of your block."
.
.
figure 122 shows how using this option affects the tap cell placement both with and without boundary cells.
"to add nets or supernets to a routing corridor, use the add_to_routing_corridor command."
.
.
the signoff_check_drc command uses the options that you specify to generate the command used to invoke signoff design rule checking in the ic validator tool.
.
.
.
note that the threshold voltage of the fill3 cell is changed so that the vt2 threshold voltage is maintained in the original location.
.
.
.
"3. insert the via ladders by using the insert_via_ladders command, as described in inserting via ladders."
.
"in this mode, the placement area is imported based on the site rows in the def files."
.
.
"if the existing routing rule is • a nondefault routing rule with a spacing requirement of less than or equal to two times the default spacing, the spacing requirement is doubled the name of this new nondefault rule is the original name with an _ext_spacing postfix."
.
.
.
.
.
"for example, the following command excludes the reg[1] cell from multibit optimization during the rtl-banking stage: fc_shell> set_multibit_options -exclude [get_cells ""reg[1]""] \ -stage rtl the following command specifies that during the physical-banking stage, the tool banks only registers that are connected to the same bus: fc_shell> set_multibit_options -bus_registers_only \ -stage physical 4."
.
.
.
.
• the active scenarios are defined.
"if a power domain and voltage area mismatch for a diode is found, the tool uses the voltage area to explicitly assign a corresponding power domain."
.
.
.
67 running tasks in parallel .
.
.
.
you can remove objects from a bound by using the remove_from_bound command.
.
.
"to run the check_routes command to get the drc information instead of using the information stored in the design view, use the -initial_drc_from_input false option."
"| indicates a choice among alternatives, such as low | medium | high \ indicates a continuation of a command line."
.132 enabling improved buffering for multivoltage nets .
see running rail analysis with multiple rail scenarios for details.
.
.
.
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 574 chapter 6: routing and postroute optimization analyzing the routing results feedback figure 120 layout with power and ground terminals ◦ reports open nets as the bounding box of the open net and does not report floating pins to report detailed open locations, use the -open_reporting detailed option."
.
"fusion compiler™ user guide v-2023.12-sp3 988 chapter 13: eco flow querying group repeater feedback unplacing the repeaters to unplace the previous placement of repeaters, use the unplace_group_repeaters command."
.
.
.
.
.
.
.
.
"reporting redundant via rates after redundant via insertion, whether concurrent or postroute, zroute generates a redundant via report that provides the following information: • the via conversion rate for nondefault vias the via conversion rate for nondefault vias is listed at the top of the report as the total optimized via conversion rate."
"or you might view one run, but looking at the progression of results across different stages in the design flow (place_opt, clock_opt, route_opt), as shown in the following figure."
.
.
.
.
.
.
.
.
"to also save the soft congestion data, set the route.global.export_soft_congestion_maps application option to true before performing global routing."
.
.
.
.
.
.
.
.
.
.
"if the percentage of redundant vias is not high enough, you can increase the effort level by using the -effort option to get a better redundant via rate."
.
.
"for example, the following command removes the preroute qor snapshot that is stored in the snapshot directory: fc_shell> remove_qor_snapshot -name preroute comparing qor data you can generate a web-based report to view and compare your qor data with a qorsum report by performing the following steps: 1."
.
.
.
.
"instead of using the recommended power integrity flow setting, you can manually enable dynamic power shaping or voltage-drop-aware placement for the compile_fusion or clock_opt commands as described in manually enabling dynamic power shaping and voltage-drop-aware placement fusion compiler™ user guide v-2023.12-sp3 196 chapter 2: preparing the design setting up for power-related features feedback setting up for dynamic power shaping to set up for dynamic power shaping, perform the following steps: 1. ensure upf settings are specified for multiple-power nets."
.
3.
.
.
.
-threshold (optional) reports cell instances with voltage drop values that are greater than the specified threshold.
965 adding buffers at a specified interval .
.
.
.
.
.
.
.
5. run signoff design rule checking by using the signoff_check_drc command.
.
.
.
"defining blockages that exclude registers to define partial blockages that exclude registers, specify the boundary, type (-type register option), blockage percentage (-blocked_percentage option), and optionally the name for the placement blockage."
.
"◦ to change the scope of rerouting performed by the eco router, use the -reroute option."
.
.
.
.
.
.
"note: redhawk fusion in the fusion compiler tool does not support redhawk signoff analysis features, such as hierarchical analysis or dynamic analysis with lumped or spice packages."
"5. update the routing by using the route_eco command, as described in performing eco routing, or by manually rerouting the affected nets."
.
.
• the block is placed and optimized.
.
.
.
185 annotating the switching activity .
.
.
.
.68 running commands in parallel on your local host .
.
note: this method can result in a very large runtime increase for congested blocks.
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 148 chapter 2: preparing the design specifying physical constraints for placement and legalization feedback to return a collection of bound shapes associated with one or more move bounds, use the get_bound_shapes command."
.
"◦ to prevent the insertion of via ladders that cause drc violations, use the -allow_drcs false option."
.
◦ the drivers of the subtrees to be synthesized by using the -driver_objects option.
.
.
.
141 defining a partial placement blockage .
"for antenna violations that happen at metal-n, inserting a small segment of metal-(n+1) close to the gate reduces the ratio between the remaining metal-n, making the ratio much lower."
.
.
.
"the following topics describe how perform unified physical synthesis: • using the compile_fusion command • performing prechecks • generating verification checkpoints during compilation using the compile_fusion command to perform unified physical synthesis, use the compile_fusion command."
.
.
.
.
.
.
.
.
"• to prioritize specific nets during eco placement by specifying net weights, 1. specify net weights by using the set_eco_placement_net_weight command."
.
.
.
"• to insert boundary cells around the core area, hard macros, and placement blockages, use the compile_boundary_cells command."
target_clock_nets false controls whether signoff drc fixing targets data nets (false) or clock nets (true).
.
.
.
.
.
4. enable cell electromigration fixing by setting the cts.multisource.cell_em_aware application option to true.
.
.
153 removing cell spacing constraints .
.
.
.
• -strategy: specifies the strategy to apply for a check.
.
.
.
.
.
"when not specified, by default the tool uses the toggle rate for rail analysis."
.
.
.
.
.
table 47 application options for interactive design rule checking application option default description signoff.check_drc_live.
"by increasing the virtual area of cells in areas where there is a shortage of routing resources, the tool can minimize the cell density and congestion."
.
.
the cost setting controls the effort expended by the router to avoid violations.
"for more information, see missing via and unconnected pin checking."
.
.
.
.
.
.
.
.
.
.
"to enable register merging during optimization, specify a true value to set the register merging attribute on the specified object list."
.
.
"to achieve a faster clock tree to specific endpoints, you must create a user skew group for the required endpoints."
.
.
.
.
.
.
.
"for more information, see tap cell spacing rule."
"• if there are any active modes, corners, or clocks at the top-level, which cannot be mapped to corresponding modes, corners, or clocks in the block-level, you can still promote the clock data for other mapped modes, corners, or clocks using the promote_clock_data -balance_points -force command."
.
.
.
.
.
.
.
• do not use the cells from this library anywhere else in the design.
.
.
"in addition, fusion compiler™ user guide v-2023.12-sp3 1007 chapter 13: eco flow fixing multivoltage violations feedback the command only uses supplies that are available in the voltage area or voltage area region."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"4. insert the tap drivers by using the create_clock_drivers command, as described in inserting clock drivers."
"by default, the command inserts the tap cells with the row orientation."
.
.
fusion compiler™ user guide v-2023.12-sp3 239 chapter 3: physical synthesis controlling mapping and optimization feedback you can also control register merging based on the attribute setting by using the set_register_merging command.
.
.
.
.
it generates as output an oasis- or gdsii-format file of the layout or a design exchange format (def) file of placed netlist data ready for a third-party router.
.
.
"when you instantiate such an abstract and perform power analysis at the top level, the tool • recomputes the power for the interface logic in the abstract, in context, based on the switching activity and loading seen at the top level • uses the stored power in the abstract for the logic that was removed when the abstract was created to report the power information in an abstract instantiated at the top level, use the report_power -blocks command."
"for example, the wns column group (and the column group of each metric) shows the same six columns labeled 1, 2, 5, 6, 9, 10. these columns represent the results of each flow, and are given a flow id number, rather than showing the full flow name, to prevent the columns from being too wide."
"for example, fc_shell> set_app_options \ -name compile.datapath.ungroup -value false optimizing datapaths th following script disables the ungrouping of the dp_op cell with datapath gating element add_3: # disable ungrouping of dp_op with datapath gating set_datapath_gating_options -ungroup false [get_cells add_3] analyzing datapath extraction to get the best qor results from datapath optimization, ensure that the biggest possible datapath blocks are extracted from the rtl code during compile."
.
.
.
.
.
.
.
.
.
.
.
4. use the get_early_data_check_records command to get a tcl collection of violations that can be used in other commands.
.
"4. inserts pg augmentation shapes for the specified regions, except in the areas around the critical nets fusion compiler™ user guide v-2023.12-sp3 704 chapter 8: ic validator in-design improving instance voltage drop by augmenting the power grid feedback 5. saves the updated block to disk 6. generates a summary report see also • standard power grid augmentation • guided power grid augmentation • removing pg augmentation shapes guided power grid augmentation guided power grid augmentation inserts pg augmentation shapes only near cells with ir violations."
.
"to perform interactive signoff design rule checking using live drc, 1. set up the ic validator environment as described in setting up the ic validator environment."
.
"by default, the create_tap_cells command inserts tap cells in every row for the entire block."
.
.
.
.
.
"for example, assume you have a top-level design named top with two lower-level blocks named blk1 and blk2, as shown in the following figure."
.
.
.
.
.
.
.
table 41 design rules supported by the replace_fillers_by_rules command design rule description -replacement_rule keyword end orientation this rule allows the leftmost or rightmost filler cell to be flipped to a different orientation.
.
.
.
"implementing a structural multisource clock tree in a structural multisource clock tree, the subtrees are driven directly by the clock mesh or through predefined drivers."
.
.29 conventions .
.
"if multiple clocks reach the net or the sinks you specify, use the -clock option to distinguish the clock you want to analyze."
"for more information, see loading the signal electromigration constraints."
.
.
.
"for example, the following settings prevent the tool from removing the constant register named reg11: fc_shell> set_constant_register_removal reg11 false the following settings globally disables constant register removal for the entire block except for the module named sub5 : fc_shell> set_app_option -name compile.seqmap.remove_constant_registers -value false fc_shell> set_constant_register_removal [get_module sub5] true information about removed constant registers is written to the verification guidance .svf file and the compile log file."
.
.
.
.
"figure 149 minimum spacing from metal fill to critical net shape fusion compiler™ user guide v-2023.12-sp3 726 chapter 8: ic validator in-design inserting metal fill with ic validator in-design feedback to override the default spacing requirements for timing-driven metal fill insertion, set the following application options: • signoff.create_metal_fill.space_to_nets this application option defines the same-layer minimum spacing requirements between metal fill and a net shape of a timing-critical net."
"to report the multibit register banks inferred by the tool, use the report_transformed_registers -multibit command, as described in reporting multibit registers."
.
"however, the clock drivers can overlap with cells that are not fusion compiler™ user guide v-2023.12-sp3 411 chapter 5: clock tree synthesis implementing multisource clock trees feedback fixed."
.
you can then check for hotspots graphically in the fusion compiler gui.
.
.
"to limit the number of the elements to report, use the -limit option."
.
.
this option can be used in conjunction with the already existing options.
.
.
.
.
.
.
"to specify a different file name, use the -association_file option."
.
.
.
.
.
"the report shows the cell count, area, and area ratio for a top-level block and its subblocks."
.
"by default, the eco_opt command fixes timing (setup and hold) and drc violations, removes redundant buffers, and improves the total power qor by using primetime eco capabilities."
.
.
.
.
◦ ./run_details directory this directory contains all the data generated by the ic validator tool for the signoff drc run.
.
.
.
move the pointer over an instance to view more information in the infotip.
"• to set project- or block-specific application options that affect the processing of a block, create a setup file in the design directory."
.
.
.
.
965 adding buffers at specified locations .
.
"◦ to prevent checking of specific rules, use the -unselect_rules option."
.
.
356 specifying the clock tree synthesis settings .
733 reporting the metal density .
.
.
.
.
.
.
.
.
"fc_shell> report_size_only -all copying clock tree exceptions across modes you can specify that the tool copies clock tree exceptions from one mode to one or more equivalent modes by using the set_clock_tree_options command with the -copy_exceptions_across_modes, -from_mode, and -to_mode options."
.
.
.
.
.
385 splitting clock cells .
• specify a maximum number of rows by using the -max_rp_rows option.
.
.
.
.
.149 specifying locations for unmapped cells .
.
.
.
"to report the created constraint groups, use the report_constraint_groups command and specify the constraint types to report by using the -type option."
.
.
.
.
.
"• -top_left_inside_corner_cells, -top_right_inside_corner_cells, -bottom_left_inside_corner_cells, and -bottom_right_inside_corner_cells these options specify a list of library cells for each inside corner location."
"by default, the command ◦ checks for shorts between net shapes in the top-level design, including shapes in top-level blockages to disable checking for shapes in top-level blockages, use the -check_top_level_blockages false option."
.
.
.
instance-based power map: shows power values of the cell instances in the block power density map: shows power density values for area in the block rail current map displays current distribution for the block when voltage drop analysis is complete.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
it is possible that postroute shielding might break some tie-off connections during the shield trimming process.
.
.479 deriving pin access routing guides .
.
.
.
.
fixed cell preserved.
.859 23 contents feedback performing top-level closure with etms .
.
.
"• when routing clock nets, the route_group command uses a-tree routing to minimize the distance between each pin and driver."
.
.
.
.
.
"for example, if the fanin registers do not all have the same enable signals, the tool looks for common signals upstream from the enable signals and uses those signals as inputs to the inserted delay register."
.
.
.
.
.
3.
.
.
merge_stream_files (none) specifies the stream (gdsii or oasis) files to merge into the current block for signoff design rule checking.
.
"implementing a structural multisource clock tree using integrated subtree synthesis in a structural multisource clock tree, the subtrees are driven directly by the clock mesh or through predefined drivers."
"if there is additional custom data to capture that is not part of the command collection, use the capture_qor_data command to capture fully custom qor data or gui layout images to include in the web-based qorsum report."
.
.
.
.
.
.
.
.
.
.
"• -min_vertical_separation if the continuous vertical placement area is less than the specified value, the compile_boundary_cells -add_placement_blockage command creates a placement blockage to prevent a violation."
.
"fusion compiler™ user guide v-2023.12-sp3 244 chapter 3: physical synthesis performing multibit optimization feedback performing integrated multibit-register optimization to perform integrated multibit register optimization during the compile_fusion command, 1. enable multibit register optimization by setting the compile.flow.enable_multibit application option to true."
.
.
.
.
.
.
.
.
.
.
"by default, this command distributes and places all the spare cells evenly throughout the core area."
.
"related commands include define_qor_data_panel, that lets you create a new panel in the qorsum report for viewing qor data, and set_qor_data_metric_properties, that lets you customize the properties of any metric column in any qorsum report panel, so you can control things like the style of coloring, or the thresholds for coloring when comparing data."
.
.
.
-min_value (optional) minimum wire length.
"both of these options accept one or more of the following values: all, cts, hold, optimization, none."
.
.
the tool also uses the mask assignments to determine the appropriate mask settings for the pins and net shapes.
.
.
"antena violationsfixingdisablingantena rulescheckingdisablingto disable the analysis and correction of antenna rules during detail routing, set the route.detail.antenna application option to false."
.
.
.
the report_voltage_areas command lists the n-well and p-well supply nets regardless of whether they are explicitly set.
.
.
.
.
.
"viewing pg electromigration analysis results when pg electromigration analysis is complete, you can check for current violations by displaying a pg electromigration map or checking the generated errors in the error browser."
2. perform clock tree synthesis and optimization at the original design voltage by using the clock_opt command.
• -all_clock_inputs set this option to true to apply the mapping to all clock input pins.
.
"2. inserts metal and via fill only on the specified layers 3. removes floating via fill from the specified via layers and from the via layers associated with the specified metal layers for example, if you specify -select_layers {m2}, the tool removes floating via fill from the v1 and v2 layers."
the tool places the relative placement group such that the corner specified by this option is placed on the anchor point specified by the -x_offset and -y_offset options.
.
.
.
.
.
.
"to use the fusion compiler tool, you need to be skilled in physical design and synthesis and be familiar with the following: • physical design principles • the linux operating system • the tool command language (tcl) this preface includes the following sections: • new in this release • related products, publications, and trademarks • conventions • customer support • statement on inclusivity and diversity fusion compiler™ user guide v-2023.12-sp3 28 about this user guide new in this release feedback new in this release information about new features, enhancements, and changes, known limitations, and resolved synopsys technical action requests (stars) is available in the fusion compiler release notes on the solvnetplus site."
.
.
.
"the information of transformed or optimized registers is stored in the design library, so you can query the same information by using the report_transformed_registers command in different sessions."
.
.
.
.
.
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 575 chapter 6: routing and postroute optimization analyzing the routing results feedback reporting the routing results to report statistics about the routing results, use the report_design -routing command."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 861 chapter 11: hierarchical implementation transparent hierarchy optimization feedback the tho flow includes the following steps: • accessing libraries • setting up transparent hierarchy optimization • performing tho during compile_fusion final_place stage • performing tho during compile_fusion final_opto stage • rebudgeting after compile_fusion • performing tho during route_opt or hyper_route_opt accessing libraries before enabling the tho settings, you must ensure that: • all the subblock libraries are opened in edit mode."
.
.
.
.
.
.
.
.
.
.
.
.
specify a unique name for the action and define the tcl commands that constitute the action.
.
.
"when you set this option to false, the tool uses r0 as the default orientation for the inserted cells."
.
.
"fusion compiler™ user guide v-2023.12-sp3 76 chapter 2: preparing the design setting up libraries feedback during library configuration, • the fusion compiler tool automatically calls the library manager tool without user intervention to generate cell libraries, as shown in the following figure: .frame files ascii technology file .db files cell libraries synthesis • the tool saves the generated cell libraries to disk and adds them to the reference library list of the design library."
.
.
.
set the type of the script file to python.
.
.
.
.
.
"when the cells are abutted or placed too close, two or multiple adjacent pins compete for common routing resources and causes routing drcs."
you can perform clock tree optimization on a postroute design by using the synthesize_clock_trees -postroute command.
.
.
to specify the dft configurations: 1. execute compile_fusion -from initial_map -to logic_opto.
the fusion compiler early data check manager allows you to specify how the tool should handle the data checks it performs during the following implementation tasks: • design planning • multivoltage design implementation • optimization • placement • legalization • hierarchical implementation of designs with physical hierarchy the following table shows the early data check manager commands available for controlling how the tool handles the data checks and for generating related information.
.
.
.
.
"if you specify both the x- and y-coordinates, the group is anchored at that location."
.
.
.
"the user-specified via definition is stored in the design library, so it can be used only in that design."
.
.
.
.
.
.
.
custom.route.shield_min_signal_seg specifies the minimum length of wiring to shield.
.
.
.
the command performs the following tasks: 1. checks for isolated vias by using the ranges defined in the signoff.fix_isolated_via.isolated_via_max_range application option 2.
"run_dir signoff_check_drc_run specifies the run directory, which contains the files generated by the signoff_check_drc command."
.
.
"however, they are not honored during clock tree synthesis."
.
.
.
"to change the maximum number of reported violations, set the chf.create_stdcell_fillers.max_leakage_vt_order_violations application option."
.
.
.
.
.
.
.
.
.
"when you enable this feature, the tool • chooses candidate nets based on slack and length • uses timing-driven optimization to assign nondefault routing rules to the nets • optimizes buffering for these nets to enable the feature, follow these steps."
pdc checks will not be performed on this layer.
.
.
.
.
.
.
"for static analysis, the map displays average voltage drop values."
.
"in a power domain that has power switching, any registers that must retain data during shutdown must be implemented as retention registers."
.
"fusion compiler™ user guide v-2023.12-sp3 158 chapter 2: preparing the design specifying placement settings feedback considering dft connections during placement to improve the dft logic placement by enhancing the tool's awareness of dft connectivity, while still optimizing for functional placement, set the place.coarse.enable_dft_modeling application option to auto."
.
.
.
.
.
.
.
.
.
.
.
.
"for example, fc_shell> open_rail_result redhawk_result for more information about displaying maps, see displaying maps in the gui."
"if you specify this option with the -coordinates_ground option, the command does not perform pg augmentation in the overlapping regions."
"fusion compiler™ user guide v-2023.12-sp3 424 chapter 5: clock tree synthesis implementing multisource clock trees feedback for clock mesh nets, which have multiple drivers, the set_disable_timing command is used to disable all except one of the drivers, which is called the anchor driver."
implementing a regular multisource clock tree with an h-tree-only global clock tree structure the following figure shows a regular multisource clock where the global clock structure does not have a clock mesh.
unused pins are tied to zero.
.
"for example, you can perform the checking after completing the power fusion compiler™ user guide v-2023.12-sp3 890 chapter 12: redhawk and redhawk-sc fusion missing via and unconnected pin checking feedback structure and before running the place_opt command."
q ___ set d q d ___ rst qn d ___ rst fusion compiler™ user guide v-2023.12-sp3 235 chapter 3: physical synthesis controlling mapping and optimization feedback note: information about inverted registers is written to the verification guidance (.svf) file.
.
.
.
.
"note: to take advantage of spare diodes for antenna violation fixing, you need to add the spare diodes either before or after standard-cell placement and before routing the areas where antenna violations might occur."
.
.
.
.
.
.
"to disable register merging, set the compile.seqmap.enable_register_merging application option to false."
.
"if the tool removes an eco cell from the design, it can reuse the corresponding programmable spare cell."
.
.
fusion compiler™ user guide v-2023.12-sp3 305 chapter 4: clock gating controlling clock-gate latencies feedback specify the clock network latency by using either the set_clock_latency or set_clock_gate_latency command.
.
.
.
"to change the element separator, use the multibit.naming.element_separator_style application option."
.
.
.
"if this attribute is not defined for a layer, the ic validator tool does not check this rule."
.
"example 28 customized via mapping table fc_shell> add_via_mapping \ -from {via12 1x1} -to {via12t 2x1} -weight 5 fc_shell> add_via_mapping \ -from {via12 1x1} -to {via12 2x1} -weight 1 fusion compiler™ user guide v-2023.12-sp3 625 chapter 7: chip finishing and design for manufacturing inserting redundant vias feedback to see the customized via mappings associated with a block, use the report_via_mapping command."
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 377 chapter 5: clock tree synthesis implementing clock trees and performing post-cts optimization feedback excluding specific path groups to exclude a specific path group from concurrent clock and data optimization, use the ccd.skip_path_groups application option and specify the name of the path group you want ignored."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
use the compile.clockgate.substring_list_for_dft_wrapper_dont_rename_icgs application option to restrict the renaming of pre-existing clock gates (driving wrapper cells only).
.
.
.
.
.
.
.
.
.
.
.
"if your block is congested, use the high effort level."
.
"automatic floorplanning example the following example specifies constraints for automatic floorplanning: # application options with default settings # set_app_options -name compile.auto_floorplan.initialize -value auto # set_app_options -name compile.auto_floorplan.place_pins -value unplaced # set_app_options -name compile.auto_floorplan.place_ios -value unplaced # set_app_options -name compile.auto_floorplan.place_hard_macros \ # -value unplaced # set_app_options -name compile.auto_floorplan.shape_voltage_areas \ # -value unshaped # constraint settings for automatic floorplanning set_auto_floorplan_constraints -core_utilization 0.75 -side_ratio {1 2} set_macro_constraints -preferred_location {0 0} ram0 set_block_pin_constraints -self -sides {1 3} set_individual_pin_constraints -ports [get_ports reset] -side 1 set_shaping_options -guard_band_size 2 setting up multivoltage designs the following topics describe the tasks you need to perform when setting up multivoltage designs: • applying the multivoltage power intent • preparing the power network fusion compiler™ user guide v-2023.12-sp3 113 chapter 2: preparing the design setting up multivoltage designs feedback • defining voltage areas • inserting multivoltage cells • controlling the placement of multivoltage cells • enabling improved buffering for multivoltage nets • analyzing multivoltage information applying the multivoltage power intent to learn about applying the multivoltage power intent, see • loading and applying upf information • using incomplete upf information • specifying upf constraints for physical-only cells • saving upf information loading and applying upf information to load the power intent and apply it to a multivoltage design, 1. read the upf file by using the load_upf command."
.
"it then global routes the block and performs extensive global-route-based optimization, which includes incremental legalization and route patching."
.
"by default, the command applies to all subblocks; to specify a different block or blocks, use the -reference option."
.
.
.
81 analyzing libraries .
.
• the grcs overflow value is the total number of overcongested global routing cells in the design.
.
.
.
.
.
.
"table 38 calculation of maximum antenna ratio for each diode diode protection value maximum antenna ratio a 0.5 400 protection value is less than the v0 value of 0.7, so use maximum antenna ratio of 400. b 1.0 2200 protection value is greater than the v0 value of 0.7, so maximum antenna ratio is (1.0+0.0) * 200 + 2000 = 2200. c 1.5 2300 protection value is greater than the v0 value of 0.7, so maximum antenna ratio is (1.5+0.0) * 200 + 2000 = 2300. fusion compiler™ user guide v-2023.12-sp3 608 chapter 7: chip finishing and design for manufacturing finding and fixing antenna violations feedback the maximum antenna ratio for the net is computed by using the formula for the diode mode from table 36: • for diode mode 2, the maximum antenna ratio for the net is the largest of the maximum antenna ratio values for the diodes, 2300."
.
.
.
.
.
.
.
311 activity-based optimization .
3. insert clock drivers by using the create_clock_drivers command.
"◦ to enable concurrent soft-rule-based redundant via insertion during eco routing, set the route.common.eco_route_concurrent_redundant_via_mode application option to reserve_space."
.
.
.
.
.
174 preserving ports of existing hierarchies .
.
.
.
5. report the associations made for the multivoltage cells by using the report_mv_path command.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
you can change the effort level for timing optimization by setting the ccd.timing_effort application option to low or high.
.
.
"in most cases, you configure multicore processing by using the set_host_options command."
.
.
this application option affects the compile_fusion and clock_opt commands.
.
.
"in addition, zroute bases the conversion rate only on the redundant via mapping."
.
.
.
.
.
.
.
.
.
.
"ms_sel, and the switching activity (static probability) of the nets connected to the corresponding control ports, which are nets named ctrl1 and ctrl2."
.
.
.
.
you can run extraction as a standalone step by using the -extraction option.
.
.
.
.
.
"however, the tool does not propagate these routing rules to any new clock nets it creates."
◦ use the -nets option to specify the power and ground supply nets to analyze.
"license requirement by default, the number of required licenses is the number of script files or configurations specified with the -multiple_script_files option during distributed processing mode."
.
.
.
.
.
.
.
5. perform metal fill insertion by using the signoff_create_metal_fill command as described in performing metal fill insertion.
the default is 5 μm.
.
.
.
.
"see also • pattern-based metal fill insertion • track-based metal fill insertion specifying the spacing requirements for timing-driven metal fill insertion by default, the minimum spacing between the metal fill and the net shapes of the critical nets is based on the minimum spacing specified in the technology file."
.
.
.
.
.
.
• display the view settings panel by clicking the view settings icon ( ) in the panel area.
121 resolving overlapping voltage areas .
.
.
"◦ to keep the lower-left corner empty, use the -checkerboard odd option."
.
.
.
• -max_routing_layer this option removes the maximum routing layer setting.
.
.
.
.
"if your design contains more than one power net, you must perform pg augmentation once for each power net."
"when you enable this option, the signoff_create_metal_fill command writes the following report files: ◦ prefix_color_balance_and_density_report.txt ◦ prefix_fill_density_gradient_report.txt fusion compiler™ user guide v-2023.12-sp3 718 chapter 8: ic validator in-design inserting metal fill with ic validator in-design feedback you can specify either on (in which case the tool uses “track_fill” as the prefix) or the prefix string."
.
• these cell libraries are the same as when the cell libraries are created during library preparation in the library manager tool.
.
.
.
design objects tool behavior cells excludes the cells from optimization.
"• soft a soft blockage prevents the placement of standard cells and hard macros within the specified area during coarse placement, but allows optimization and legalization to place cells within the specified area."
.
.
.
.
.
"if you use the -verbose option, the report displays detailed information about the violations, as shown in example 25. example 25 verbose electromigration report fc_shell> report_signal_em -violated -verbose ... net name: clks/trimch_macroout_cb_group_gpaf0lts1_gpu_c_0_s_0[3] violations: rms peak flag segment layer bbox coordinates width/cut required average rms peak -------------------------------------------------------------------------------------- v path_36_392230 m6d (1450.000, 995.612 -> 1452.715, 995.652) 0.040 0.085 1.514e-02 (-) 9.650e-01 (5.231e-01) 1.365e+00 (1.349e+00) via_s_11051278 v5d (1449.969, 995.582 -> 1450.071, 995.682) 1 - 1.465e-02 (-) 7.380e-01 (-) 1.044e+00 (-) v path_35_765189 m5a (1450.001, 994.973 -> 1450.039, 995.651) 0.038 0.047 1.417e-02 (-) 6.088e-01 (4.981e-01) 8.609e-01 (1.274e+00) via_s_11051279 v5d (1449.969, 994.942 -> 1450.071, 995.042) 1 - 1.369e-02 (-) 5.249e-01 (-) 7.423e-01 (-) path_36_392231 m6d (1407.370, 994.972 -> 1450.040, 995.012) 0.040 - 1.311e-02 (-) 2.047e-01 (5.231e-01) 2.894e-01 (9.443e-01) via_s_11051280 v5d (1407.339, 994.942 -> 1407.441, 995.042) 1 - 1.252e-02 (-) 1.926e-01 (-) 2.723e-01 (-) ... the report shows the segment name (segment column), layer name (layer column), location coordinates (bbox coordinates column), metal width or via cut number (width/cut column), the constraint value (required column), the average, rms, and peak current in ma for the wire segment or via at that location."
.
.
.
.
.
.
.
.
.
.
you can run simulation as a standalone step by using the -run_simulation option.
"in a relative placement group, a leaf cell can occupy multiple column positions or multiple row positions, which is known as leaf cell straddling."
.
.
.
"• dense to enable this mode, use the -fill_all_tracks true option."
.
.
the multiplexer also consumes power.
.
.
note that one of the self-gated registers is a multibit register and the other register is a single-bit register.
"for more information, see the fusion compiler design planning user guide."
.
"when the -hdl_library option is not specified, the default library name is work."
"by default, this command removes the buffers and inverters from all clock trees in all modes."
.
.
660 preparing to run ic validator in-design commands .
you can also control the window size by setting the signoff.report_metal_density.min_density application option.
.
670 signoff drc results files .
.
fusion compiler™ user guide v-2023.12-sp3 834 chapter 11: hierarchical implementation creating abstract views feedback 3. store the power information in the abstract by setting the abstract.annotate_power application option to true.
"figure 99 basic zroute flow fusion compiler™ user guide v-2023.12-sp3 441 chapter 6: routing and postroute optimization prerequisites for routing feedback prerequisites for routing before you can run zroute, you must ensure that the block and physical library meet the following requirements: • library requirements zroute gets all of the design rule information from the technology file; therefore, you must ensure that all design rules are defined in the technology file before you start routing."
"when inserting the tap wall, the command does not honor the standard cell rows or sites and does not cross the object boundary."
.
"fusion compiler™ user guide v-2023.12-sp3 243 chapter 3: physical synthesis performing multibit optimization feedback figure 35 replacing multiple single-bit register cells with a multibit register cell two 1-bit register cells one 2-bit register cell replace with d q d q 2 2 d q si se si se si se replacing single-bit registers with multibit registers reduces • area due to shared transistors and optimized transistor-level layout • the total clock tree net length • the number of clock tree buffers and clock tree power the tool can also split (debank) large multibit registers into smaller multibit registers or single-bit registers, if it improves the total negative slack."
.
standard legalize relative placement groups around fixed physical-only cells and avoid fixed standard cells.
.
.
.
"before such a design can be physically implemented, its supply set handles must be refined, or associated with actual supply sets; and those supply sets must be refined so that they are associated with actual supply nets."
.
.
.
.
the naming convention is as follows: prefix_base-name[_index] • the prefix is clock_gate by default.
"for information about specifying this value, see specifying antenna properties."
.
.
.
.
.
"after you perform the initial postroute redundant via insertion, set the route.common.post_detail_route_redundant_via_insertion application option to enable automatic insertion of redundant vias after subsequent detail routing or eco routing."
.
.
.
.
.
.
"• interclock skew to generate an interclock skew report, use the -type interclock_skew option."
.
.
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 473 chapter 6: routing and postroute optimization routing constraints feedback defining routing guides routing guides provide routing directives for specific areas of a block.
rail electromigration map shows current violations for the block when static or dynamic electromigration analysis is complete.
"note: if a routing guide overlaps with a routing corridor and its attributes conflict with the routing corridor, the routing corridor takes precedence."
.510 discouraging off-grid routing for vias .
577 saving route information .
the width condition is checked only if the register satisfies the enable condition and the setup condition.
.
.
this analysis prevents the insertion of unnecessary clock gates.
"when the tool performs optimization, which includes setup, hold, and logical drc fixing, it can use library cells that have an included purpose of optimization, hold, or both."
.
.
.
.
"• the snapping behavior to disable snapping of the inserted tap cells to the site rows, set the -snap_to_site_row false option."
.
.
.
.
"these options accept arguments such as diode_cells, pad_cells, and physical_only_cells."
signoff.create_metal_fill.
.
.
.
.
.
.
• via ladder checks these checks detect possible issues with via ladder insertion by checking for the following conditions: ◦ library cell pins whose top-layer terminals have multiple pin shapes but do not have a pattern_must_join attribute this check applies only to signal and secondary pg pins.
• -rc_congestion_ignored_layers layer_list this option removes the specified ignored layers for rc estimation and congestion analysis.
.
.
.
"in addition, when you use the compile_boundary_cells command, you can modify the following aspects of the default placement behavior: • swapping of the top and bottom inside corner cells on flipped rows use the -do_not_swap_top_and_bottom_inside_corner_cell option with the set_boundary_cell_rules command to prevent the command from using the bottom inside corner cell on the top inside corner of flipped rows and the top inside corner cell on the bottom inside corner of flipped rows."
.
.
.
.
.
.
.
.
"to use globally routed nets to determine the topology for the buffers inserted during high-fanout synthesis, set the compile.initial_drc.global_route_based application option to true."
.
.
.
.
a set of application options is also available for specifying the parameters for performing custom routing.
219 controlling datapath optimization .
.
.478 querying routing guides .
15 internal use only.
www.synopsys.com fusion compiler™ user guide v-2023.12-sp3 2 feedback contents new in this release .
.
802 specifying a keepout margin .
3. read in the same rtl saif file by using the read_saif command.
.
"you use the resulting annotated netlist for physical optimization, during which the tool preserves the structure and places it as a single entity or group, as shown in figure 166. figure 166 relative placement in a floorplan relative placement groups can be floating or fixed."
.
.
.
.
.
.
.
"pin_density_aware the tool does this any other setting true or false false does not consider the effects of cell pins during placement considering the congestion effects due to the nondefault routing rules of clock nets to improve timing and reduce crosstalk, nondefault routing rules are used extensively for routing clock nets."
the specified layers must be between the minimum and maximum routing layers.
.
.
729 foundry fill and track fill combined for different flows of foundry .
.
"specifying physical constraints for placement and legalization during placement and legalization, the floorplan information dictates where cells are placed."
"fusion compiler™ user guide v-2023.12-sp3 544 chapter 6: routing and postroute optimization shielding nets feedback if you want to use power and ground nets for shielding, and do not want zroute to reserve space for the shielding when power and grounds nets are available, set the route.common.allow_pg_as_shield application option to true before running signal routing."
.
.
.
.
.
.
.
.
.
.
.
.
.
"• does not fix shorted nets over macro cells if default detail routing leaves shorted nets over macro cells, analyze the block to determine if the shorts are caused by the availability of only a single layer for routing over the macro cells."
.
opens the dialog box to configure the rules to use for design rule checking .
.
.
.
.
.
7. save the design.
.
.
.
.
.
.
"figure 93 span and subspan of the fishbone topology subspan span subfinger finger ◦ a maximum subspan between any two loads connected to a subfinger, as shown in figure 93, by using -fishbone_sub_span option."
.665 setting options for signoff design rule checking .
"specify one or more of the following keywords: ◦ cells the tool creates the cells that exist only in the def file and connects their power and ground pins as defined in the def file; it does not connect the signal, clock, or tie pins even if these connections are defined in the def file."
.
"(optional) enable distributed processing by using the set_host_options command, as described in enabling ic validator multicore processing."
.
.
"for example, fc_shell> current_lib my_liba {my_liba} • save_lib when you create or change a library, the changes are stored in memory only."
.
"to disable the checking of blocked standard cell ports, use the -check_standard_cell_blocked_ports false option."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
5. rerun placement.
.
.
.
.
.
.
.
.
"when you change the layout, it can change the timing of your block."
.
.
.
.
"performing preroute shielding to provide the most protection for critical clock nets, perform shielding on those nets after clock tree routing but before signal net routing."
.
.
"see also • inserting via ladders defining global via ladder constraints to define global via ladder constraints, which are referred to as via ladder rules, use the set_via_ladder_rules command to set via ladder constraints on library cell pins."
specify the column and row position within the relative placement group by using the -column and -row options.
custom.route.skip_connect_pin_type enables the hybrid flow.
.
.
.
.
.
.
"for example, fc_shell> get_attribute [get_drc_errors -error_data zroute.err 859] \ objects {u0_1/n237} saving route information to save the route information, use the write_routes command."
.
.
the fusion compiler tool can automatically detect endpoints with balancing conflicts and derive an ignore pin to resolve the conflict.
.
.
.
.
"by default, the command avoids channel areas during eco placement."
.
.
.
.
.
.
.
.
.
the argument to the -category option is the name of the user attribute.
"if you plan to perform structural multisource clock tree synthesis for your design, ensure that the tool estimates clock-gate latencies that are appropriate for structural multisource clock subtrees by setting the opt.clock_latency_estimation.estimate_smscts_subtrees application option to true."
.
.
"to place the cells with a different orientation, use the -orientation option."
.
"• to use a multiplier to specify the minimum width, use the following syntax: create_routing_rule rule_name [-default_reference_rule | -reference_rule_name ref_rule] -multiplier_width multiplier the multiplier value must be between 0.001 and 2000. the default width for each layer is determined from the reference rule, which is either the default routing rule or the reference rule specified in the -reference_rule_name option."
"specifying a name prefix to specify a prefix for the multibit register name, use the multibit.naming.name_prefix application option."
"• to include specific nets, ports, hierarchical pins, or leaf pins in a placement or timing abstract, use the -include_objects option."
.
.
you must also specify the technology node for which to perform the augmentation by using the -node option.
.
.
.
"• replacing existing metal and via fill in specific locations, as described in replacing existing metal and via fill."
.
.
"table 13 command support for the dont_touch attribute on design objects command module cell (instance) net library cell set_dont_touch yes yes yes yes set_attribute yes yes yes yes define_user_attribute no no no no get_attribute yes yes yes yes remove_attributes yes yes yes yes report_dont_touch yes yes yes no set_dont_touch unmapped_object no no yes na restricting optimization to cell sizing only to allow only sizing on cells or instances during optimization, use the set_size_only command."
.
.
.
.
"the offset values are float values, in microns, relative to the lower-left corner in the core area."
941 removing hotspots .
.
.
total power optimization is performed if there is an active scenario with both leakage power and dynamic power enabled.
.
.
2. perform dynamic-vectorless or dynamic-vector-based voltage-drop analysis by using the analyze_rail -voltage_drop dynamic_vcd or analyze_rail -voltage_drop dynamic_vectorless command.
.
.
.
.
.
"when associating an action with multiple checkpoints, you can list the checkpoint names or specify the asterisk wildcard character."
effective_resistance the effective resistance values.
.
.
.
.
.
.
.
.
.
"verifying the secondary power and ground pin attributes before you use zroute to perform secondary power and ground pin routing, you must verify that the cell libraries have the correct attributes on the secondary power and ground pins of the standard cell frame views."
.
.
note: this command does not detail route the clock trees.
.
.
.
the default is 3.
.
.
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 150 chapter 2: preparing the design specifying physical constraints for placement and legalization feedback fc_shell> set_cell_location -coordinates { 20 10 } out1_reg -fixed defining cell spacing constraints for legalization cell spacing constraints control the spacing between a standard cell and another standard cell or a boundary (the chip boundary, a hard macro, a hard macro keepout margin, a hard placement blockage, or a voltage area guard band)."
796 aligning by pin location .
.
"for example, you can create the relative placement group to parallel your verilog or vhdl organization."
.
"for a power cell with high threshold voltage, the power consumption and leakage current is low, but the timing is also slow with a smaller drive strength."
.
.
.
.
.
.
.
"unlike merging shapes within a voltage area, when the tool resolves overlapping shapes from different voltage areas, it does not remove any shapes; only the interpretation of the shapes changes."
.
.
.
.
"example 48 fc_shell> set_missing_via_check_options -exclude_stack_via \ -threshold 0.0001 fc_shell> analyze_rail -voltage_drop static -check_missing_via \ -nets {vdd vss} the above example sets the threshold value to 0.0001 and compares voltages across two ends of a via, excluding stack vias."
.
note: you must create scan test and scan in and scan out ports before importing floorplan information.
.
.
.
.
.
.
.
"for example, fc_shell> size_power_switches -max_irdop 0.05 for the other non-mandatory inputs to further refine the command action, see the man page for the size_power_switches command."
.
.
.
.
.
.
.
.
.
a tap wall that is outside a boundary is called an exterior tap wall.
.
.
.
.
.
.
.
.
.
.
.
.
.
3. enable cell electromigration fixing by setting the cts.multisource.cell_em_aware application option to true.
check if the input supernets have no transparent cells to group.
• the dont_touch attribute has higher precedence over the boundary_optimization and the size_only attributes.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"for example, if you specify a setting of -density_aware_ratio 80, the tool places 80 percent of the spare cells based on the cell density distribution and 20 percent randomly across the design."
.
.
"by default, buffers and inverters are not reported."
.
.
.
.
.
note: in some cases there is a slight difference in the shielding ratios reported by the create_shields and report_shields commands.
.
.
.
.
"for information about defining and applying nondefault routing rules, see using nondefault routing rules."
.
specify the below options to enable multi-rail-scenario rail analysis.
.
.
.
.
"• route_opt • signoff_check_drc • signoff_fix_drc • signoff_create_metal_fill • signoff_fix_isolated_via • write_def by default, all commands use a single thread."
.
.
"zroute uses the spacing values from the reference rule, which is either the default routing rule or the reference rule specified in the -reference_rule_name option, for any layers not specified in the -spacings option."
.
.
.
figure 135 shows an icv heat map.
.
.
.
.
.
... net: clk; rule: htree_ndr; min layer: m8; max layer: m9 ... information: using routing h/v layer pair 'm9'/'m8' for net 'clk'.
.
.
.
.
.
.
.
.
"when using the -verbose option, you can also use -same_vt option to report power switch cells and their ron value from current library with same vt but different driving strength cells."
.
.
.
.
.
.
.
• provides a method for maintaining structured placement for legacy or intellectual property (ip) designs.
"for example, running the open_rail_result command loads the data in this design_name directory for displaying maps in the gui."
.
"figure 103 metal shape perimeter constraint objects with additional short shapes l w w w s s s ss inserting routing guides along the nonpreferred-direction edges to insert maximum pattern routing guides along the nonpreferred-direction edges of the current block, use the derive_perimeter_constraint_objects command with the -perimeter_objects mprg_nonpreferred option."
.
.
.
a dataset is a set of data captured for a specific run and stage/label in the flow.
.
"if the tool does not find a library cell that suits the clock-gating style and the operating conditions, the tool issues a warning message and does not insert a clock-gating cell."
.
.
"when using multithreading, each parallel task is called a thread."
.
.
.
.
"for example, to display a brief description of the report_timing command, use the following command: fc_shell> help report_timing • to display the options supported by a fusion compiler command, enter the command name with the -help option on the command line."
.
using routing guides to limit edges in the nonpreferred direction you can use a routing guide to limit the number of occurrences of a specific routing pattern within the routing guide boundary on specific layers.
.
.
.
.
643 abutting standard cells with specific filler cells .
.
"for example, to see the man page that summarizes all common route application options, use the following command: fc_shell> man route.common_options fusion compiler™ user guide v-2023.12-sp3 49 chapter 1: working with the fusion compiler tool using tcl scripts feedback • command summaries to view a man page the summarizes all of the application options for a specific command, enter the man command followed by command_options."
"for example, to create a single-cut via definition named design_via1_hv for the via12 via layer, use the following command: fc_shell> create_via_def design_via1_hv \ -cut_layer via12 -cut_size {0.05 0.05} \ -lower_enclosure {0.02 0.0} -upper_enclosure {0.0 0.2} \ to create a via definition with an alternating 2x2 cut pattern in which the lower-left cut is omitted, use the following command: fc_shell> create_via_def design_via12 -cut_pattern ""01 10"" to report information about the user-defined via definitions, use the report_via_defs command."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"figure 46 latch-based clock gating flip flop control logic register bank d q g latch clk enclk enl en clk data in data out clk clk en enl enclk the clock input to the register bank, enclk, is gated on or off by the and gate."
a scenario is a combination of a corner and mode used to perform timing analysis and optimization.
.
"when you specify the layers for metal fill insertion, the signoff_create_metal_fill command 1. removes the existing metal and via fill from the block by default, the command removes all existing metal and via fill."
"use the following commands to remove, report, or manipulate multisource sink groups: ◦ remove_multisource_clock_sink_groups ◦ report_multisource_clock_sink_groups ◦ get_multisource_clock_sink_groups ◦ add_to_multisource_clock_sink_group ◦ remove_from_multisource_clock_sink_group 4."
.
.
.
you can generate the timing annotation files as a standalone step by using the -write_annotation option.
.
.
.
"when you use the-type robustness option, you must specify a corresponding robustness corner by using the -robustness_corner option."
.
pac creates and stores blocks in this library.
.
.
the value must be greater than 1.
.
.
-scan true | false disable (set to true) or enable (set to false) drc on scan enable and scan clock nets.
365 constructing faster clock tree to specific endpoints .
.
"it does not check for unconnected nets, antenna violations, or tie-to-rail violations, as these are net-based violations."
.
.
a detailed table lets you view this information for up to six different datasets at once.
.
"fc_shell> report_transformed_registers -multibit ... **************************************** attributes: mb - multibit mbd - multibit debanked ... register optimization ----------------------------------- mb_2_mb_1 mb (source:mb_2, mb_1) mb_0_mb_3 mb (source:mb_0, mb_3) mb_5, mb_6 mbd (source: mb_5_mb_6) identifying why multibit banking is not performed to report a summary of the multibit banking ratio, a list of reasons for not banking or debanking cells, and the number of cells for each reason, use the report_multibit command, as shown in the following example: fc_shell> report_multibit **************************************** report : report_multibit ... ... **************************************** total number of sequential cells: 4020 number of single-bit flip-flops: 3149 number of single-bit latches: 29 number of multi-bit flip-flops: 842 number of multi-bit latches: 0 fusion compiler™ user guide v-2023.12-sp3 250 chapter 3: physical synthesis performing multibit optimization feedback total number of single-bit equivalent cells: 853 (a) single-bit flip-flops: 3149 (b) single-bit latches: 29 (c) multi-bit flip-flops: 5352 (d) multi-bit latches: 0 sequential cells banking ratio ((c+d)/(a+b+c+d)): 62.74% flip-flop cells banking ratio ((c)/(a+c)): 62.96% bitsperflop: 2.13 reasons for sequential cells not mapping to multibit during rtl banking: explanations: r12: cell is single bit because its parent multibit cell was debanked due to improve timing (number of cells: 91) r31: cell cannot be banked to multibit because it is assigned to use single-bit lib cell (number of cells: 63) reasons for multibit sequential cells not debanking to single bit cells during rtl debanking: explanations:: r45: multibit cell cannot be debanked because it is not critical enough (number of cells: 478) to report all the cells that are ignored during banking and debanking, use the -ignored_cells option with the report_multibit command."
.
.
.
.
specify these values in the library timing units.
.
3. set the application options for metal fill insertion.
.
3. ensure that the layout window displays the objects on which you want to perform design rule checking.
.
performing manual grouping flow auto grouping is based on the create_repeater_groups command.
end_orientation half row adjacency for half-height filler cells this rule restricts the placement of half-height filler cells.
.
.
.
.
the -hierarchy option of the report_threshold_voltage_groups command generates a report based on the design hierarchy.
.
"setting routing rules for clock gates when you set constraints for physical implementation, you can set nondefault routing rules to define stricter (wider) wire width and spacing requirements for specific nets to improve timing and reduce crosstalk."
"• to change the number of search and repair iterations during detail routing from the default of 40, use the -max_detail_route_iterations option."
.
541 soft shielding rules during signal routing .
.
.
create_length_limit defines the minimum wire length for a group of nets or pin-to-pin connections.
.
.
.
.
.
"2. create the category blockage by using the create_placement_blockage command with the -type category, -blocked_percentage, and -category options."
the tool starts inserting the tap cells at the bottom-left of the core area and uses the specified x- and y-pitches to determine the location of the subsequent tap cells.
.
.
993 running and placing group repeaters .
.
.
.
.
.
"to remove shapes, use the remove_routing_corridor_shapes command."
"mapping of synchronous enable logic to a mux when the rtl contains synchronous enable logic, the compile_fusion command maps the enable logic to library cells with a synchronous enable pin."
"to specify an external gsr file to append to the gsr file generated in the current run, use the -extra_gsr_option_file option."
.
.
.
.
.
.
.
"however, only the following physical constraints are extracted and annotated: • placement area • port locations • cell locations • placement blockages fusion compiler™ user guide v-2023.12-sp3 106 chapter 2: preparing the design importing the floorplan information feedback • site rows • routing tracks • placement bounds • routing blockages • preroutes to visually inspect the extracted physical constraints, use the layout view in the gui."
.
.
"defining guard bands guard bands define hard keepout margins surrounding the voltage areas in which no cells, including level shifters and isolation cells, can be placed."
.
"an object can be a hierarchical cell, register, power domain, or module."
.
.
.
.
.
.
.
.
555 analyzing signal electromigration .
.
.
.
.
signoff metal fill result files the signoff_create_metal_fill command stores the output files in the run directory specified by the signoff.create_metal_fill.run_dir application option (or the signoff_fill_run directory if you do not use this option).
.
.
.
.
.
743 checking and fixing isolated vias .
.
.
.
"by default, the command performs pg augmentation for the entire block."
"during subsequent data path optimization, the tool can fix any existing drc violations beyond the guide buffer."
.
"to perform the freeze silicon eco flow, your block must contain spare cells."
5. perform clock tree synthesis and optimization by using the clock_opt -to build_clock command.
.
.
.
.
"in a substrap topology, additional straps that are parallel to the stripes are created on intermediate routing layers."
"2. generates spice files for simulating the clock mesh, using the parasitic files from the previous step as input."
.
"to enabled it for the route_opt command, set the route_opt.flow.enable_ccd application option to true."
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 949 chapter 13: eco flow freeze silicon eco flow feedback freeze silicon eco flow use this flow if your cell placement is fixed, and you can only change the metal and via mask patterns."
"to ignore the length violation when a constrained cell abuts an exception cell, use the -no_violation_along_exception_cells option."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
the default minimum bitwidth is 3 and the default maximum fanout is unlimited.
.
"as shown in figure 30, the conventional implementation of the expression use three carry-propagate adders, whereas the carry-save arithmetic requires only one carry-propagate adder and two carry-save adders."
.
note: the excerpt of the block-level rail results is saved in memory and is deleted when you exit the current session.
.
.
.
.
"for example, if the global routing report shows that the maximum overflow occurs on the metal2 layer, you can deselect all layers, except for metal2, to display only the metal2 congestion."
.
.
.
.
an absolute tolerance of 10 um is set to match the length of each object in the constraint group.
the ic validator tool uses the setting defined for the maxgradientdensity attribute in the densityrule sections of the technology file.
.
"fusion compiler™ user guide v-2023.12-sp3 341 chapter 5: clock tree synthesis defining the clock trees feedback for example, if the clk1 port is the root of the clk1 clock tree and the i/o pad cell has already been inserted, use the following commands to set its input transition time to 0.3 for rising delays and 0.2 for falling delays: fc_shell> set_input_transition -rise 0.3 [get_ports clk1] fc_shell> set_input_transition -fall 0.2 [get_ports clk1] identifying the clock endpoints when deriving the clock trees, the tool identifies two types of clock endpoints: • sink pins clock tre synthesistop pindefinedexceptions for clock tre synthesistop pinsclock tre exceptionstop pinclock tre sinksdefiningsink pins are the clock endpoints that are used for delay balancing."
table 44 application options for signoff drc fixing application option default description signoff.fix_drc.
.
.
"you can specify one or more of the following values: lib_cell (standard cells), macro (macro cells), pad (i/o pad cells), and filler (filler cells)."
.
.
.
"for example, fc_shell> get_shapes -filter {shape_use=~pg_augmentation} fusion compiler™ user guide v-2023.12-sp3 701 chapter 8: ic validator in-design improving instance voltage drop by augmenting the power grid feedback 2. generates a summary report that shows the following information for each pg net: ◦ the distribution of power grid augmentation shapes added on each layer ◦ the total number of metal shapes added, the total number of via shapes added, and the total number of all shapes added 3. saves the updated block to disk see also • timing-driven power grid augmentation • guided power grid augmentation • removing pg augmentation shapes setting options for power grid augmentation before you run the signoff_create_pg_augmentation command, configure the run by setting the application options shown in table 48. to set the application options, use the set_app_options command."
.
.
.
.
.
.
.
3. report the signal electromigration information by using the report_signal_em command.
.
.
332 setting self-gating options .
"◦ nets the tool creates the signal, clock, and tie nets that exist only in the def file and connects them to the ports specified in the def pins section; it does not connect the nets to any other ports or pins in the netlist even if these connections fusion compiler™ user guide v-2023.12-sp3 105 chapter 2: preparing the design importing the floorplan information feedback are defined in the def file."
.
.
.
.
.
.
.
.
.
"• capacitance histogram to report the capacitance of each sink in a histogram format, use the -histogram_type capacitance option."
.
.
.
.
.
.
.
.
• reads the rtl fsdb file into the primepower tool and performs time-based analysis to generate a gate-level saif.
.
.188 enabling leakage power optimization for the compile_fusion command .
.
"for information about inserting diodes to fix antenna violations, see inserting diodes during detail routing."
.
• at least one of the registers in the transitve fanin is always enabled.
.
.
.
.
"by default, the checking results are stored in an error data file named block_name.err."
.
.
.
"to enable this capability for the clock_opt command, set the clock_opt.flow.optimize_ndr application option to true."
.
.
.
.
"◦ to perform design rule checking only in specific regions, use the -coordinates option, the -excluded_coordinates option, or both."
.
.
.
.
the -lib_cells option specifies a list of single-rail and dual-rail buffer or inverter library cells that the fix_mv_design command can use as replacement cells.
.
847 setting the policy for early data checks .
.
.
.
fusion compiler™ user guide v-2023.12-sp3 659 feedback 8 ic validator in-design the ic validator in-design feature provides the ability to use the ic validator tool to perform physical implementation and verification tasks within the fusion compiler tool.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 403 chapter 5: clock tree synthesis implementing multisource clock trees feedback figure 86 mscts multiple h-tree you can define the different sections in the floorplan by using a symmetric configuration of tap drivers or only tap locations by coordinates, as shown in the following example: set_regular_multisource_clock_tree_options - htree_sections [ list \ [list -section_name “sectiona_name” -tap_boundary {{315.8800 1275.8000} {1750.0400 2187.1000}} -prefix “sectiona” -tap_boxes {4 4}] \ [list -section_name “sectionb_name” -tap_locations {{700472} {1350 472}} -prefix “section”]] figure 87 mscts multiple h-tree implementing power aware flexible h-tree the tool derives tap driver configurations by adding power awareness in the flexible h-tree synthesis flow, which is optimal in terms of total clock power and overall clock latency."
.
.
.
.
.
.
.
.
.
check your target cell connection before placement.
"• to ignore physical design constraints, advanced design rules, or relative placement constraints during placement analysis, use the -no_pdc, -no_adv, or -no_rp_constraints option, respectively."
.
.
"obstructions relative placement cells macro relative placement groups standard cells benefits of relative placement along with being technology-independent and having the ability to improve routability, relative placement provides the following benefits: • reduces the placement search space in critical areas of the design, which improves the predictability of qor (wire length, timing, power, area) and congestion."
.
"• to specify if the abstract is going to be used for design planning or top-level implementation, use the -target_use planning or -target_use implementation option."
.
.
custom.route.single_loop_match_min_spacing specifies the minimum spacing in the loop.
.
.
.
"to save time, you can restrict the routing verification to specific regions of the block by using the -coordinates option to specify the lower-left and upper-right coordinates for each rectangular region."
.
you do not need to set this application option if the customized python script file uses the same values as in redhawk-sc fusion.
.
.
.
.
"in some cases, such as when a design contains standard cells with long pins, you can improve the detail routing qor and reduce the runtime by increasing the partition size."
.
.
.
"to report the switching activity of a block, use the report_activity command."
.
.
.
.
.
.
"in addition to removing the buffers and inverters, the remove_clock_trees command resets the attributes related to clock tree synthesis."
◦ saif: specifies one or more saif files generated from a gate-level simulation.
then specify this text file with the rail.effective_resistance_instance_file application option.
.
.
.
"removing unloaded registers during optimization, the tool deletes registers with outputs that do not drive any load."
"before creating the logical power and ground connections, you must resolve any pg conflicts among the netlist, floorplan, and upf specification."
.
.
.
.
"• the routing blockages have the default metal width specified for the routing layer in the technology file to specify a different width in microns for preferred-direction routing blockages, use the -width_preferred option."
.
.
"if the resulting area resolves to multiple, noncontiguous polygons, the command creates multiple placement blockages, one corresponding to each polygon."
of hold violations: 32.00 ----------------------------------------------- cell count ----------------------------------------------- fusion compiler™ user guide v-2023.12-sp3 264 chapter 3: physical synthesis performing design analysis feedback hierarchical cell count: 2 hierarchical port count: 24 leaf cell count: 287 buf/inv cell count: 45 buf cell count: 4 inv cell count: 41 ct buf/inv cell count: 0 combinational cell count: 208 sequential cell count: 79 macro count: 1 ----------------------------------------------- area ----------------------------------------------- combinational area: 419.34 noncombinational area: 736.26 buf/inv area: 67.60 total buffer area: 9.66 total inverter area: 57.94 macro/black box area: 2337.90 net area: 0 net xlength: 0 net ylength: 0 ----------------------------------------------- cell area (netlist): 3493.49 cell area (netlist and physical only): 3493.49 net length: 0 design rules ----------------------------------------------- total number of nets: 363 nets with violations: 0 max trans violations: 0 max cap violations: 0 ----------------------------------------------- report_transformed_registers example the report_transformed_registers command reports the following information about registers that are modified or removed during compile: • sequential output ports inversion • constant registers that are removed and the constant values • constant registers that are preserved by users • unloaded registers that are removed • unloaded registers that are preserved by users • register merging fusion compiler™ user guide v-2023.12-sp3 265 chapter 3: physical synthesis performing design analysis feedback • register replication • shift registers • multibit registers • summary of register optimizations use the report_transformed_registers command only on a mapped design generated by compile or incremental compile.
.
.
.
"the constrained cells are shown in red, while the unconstrained cells are shown in green."
.
.
.
"• for information about the application options that affect global routing, see the route.global_options man page."
"for example, fc_shell> signoff_create_metal_fill -remove_by_rule drc_auto modifying metal fill in some cases, you might find that you can manually fix a drc violation by changing the boundary of metal fill shapes, adding metal fill shapes, or removing metal fill shapes."
.
the router does not check the input data.
.
.
.
.
.
.
.
allowing repeater groups over macros use the -allow_insertion_over_block option to allow repeater groups to be added on top of soft or hard macros.
.
.
.
space_to_nets_on_adjacent_la yer two times the minimum spacing specified in the technology file specifies the minimum spacing between metal fill and a timing-critical net on an adjacent layer.
a threshold voltage layer is identified by a masktype attribute of implant in the layer section of the technology file.
"automatic floorplanning can generate high-quality floorplans and create missing physical information early in the design cycle, which allows you to • achieve better correlation between the results of rtl synthesis and design implementation • identify and fix design issues early in the design cycle • generate a better starting point for place and route, eliminating costly iterations during automatic floorplanning , the compile_fusion command performs the following tasks: • creates the die, rows, and tracks • shapes and places voltage areas • places macros • places pins and i/os by default, the top-level floorplan is created with a core utilization of 0.7. for information about setting constraints for automatic floorplanning, see creating constraints for auto floorplanning."
12. analyze the clock tree results as described in analyzing the clock tree results.
2. set up the physical signoff options as described in setting options for signoff design rule checking.
.
"to optimize multivoltage nets, the tool uses dual-rail buffers."
.
.944 querying attributes .
.
fusion compiler™ user guide v-2023.12-sp3 703 chapter 8: ic validator in-design improving instance voltage drop by augmenting the power grid feedback 6. save the block to disk.
.
"to create a tap, use the create_taps command."
.
fc_shell> set_clock_routing_rules -rules clock_via_rule 3. run clock tree synthesis.
.
"tho enables you to optimize the top and subblocks concurrently while honoring the physical block boundaries, and at the same time using all advanced optimization techniques such as ccd, awp, primetime delay calculation, and so on."
.
.
.
"fixing drc violations in each repair loop, the signoff_fix_drc command tries to fix the drc violations detected in the previous signoff drc run."
.
.
2. set up the library analysis environment by using the create_environment command.
.
.
.
.
.
"this directory contains a checkpoint_history.rpt file that captures the history of the checkpoints the tool encounters during each run, along with the runtime and memory usage for each checkpoint."
.
.
this assumption is made because real clock- network delays are not known until after clock tree synthesis.
.
.
.
"if you define guard bands for a voltage area shape, the guard bands are included in the effective boundary of the shape; however, they are not included in the effective placement area of the voltage area."
429 analyzing the clock tree results .
"for example, you cannot remove the dont_touch attribute from a child cell when its parent module is marked with the dont_touch attribute."
"to rebind these blocks using an updated reference library list, use the -rebind option with the link_block command."
.
starrc extraction is controlled by the extract.starrc_mode application option.
.
.
.
.
"if you do not specify a host name or submit protocol, the ic validator tool runs on the host on which the fusion compiler tool is currently running."
.
"to enable it for any technology, set the opt.common.enable_rde application option to true."
"for example, if you run the analyze_rail -voltage_drop static -redhawk_script_file myscript.tcl command, the tool ignores the -voltage_drop option."
.
.
.
.
unconnected_instances instances that are not connected to any ideal voltage drop sources.
.
.
"the physical model is generated when the create_context_for_sub_block command process is complete, in the .ploc format."
"for example, to remove a previously defined clock balance group named group1 from the current mode, use the following command: fc_shell> remove_clock_balance_groups group1 to remove all clock balance groups from all modes, use the following command: fc_shell> remove_clock_balance_groups -all fusion compiler™ user guide v-2023.12-sp3 387 chapter 5: clock tree synthesis implementing clock trees and performing post-cts optimization feedback generating interclock delay balancing constraints automatically the fusion compiler tool can automatically generate the interclock delay balancing constraints based on the timing relationships between the clocks."
.
"5. specify options and settings for tap assignment, as described in specifying tap assignment options and settings."
.
"by default, the tool performs checking at the full-chip level."
.
• route.detail.macro_pin_antenna_mode specifies how macro cell pins are treated for antenna considerations.
.
4. display the drc toolbar by right-clicking in the gui menu bar and selecting drc tools.
.
.
.
.
.
"6. insert the via ladders by using the insert_via_ladders command, as described in inserting via ladders."
.
2. annotate the threshold-voltage types on the reference cells by using the set_cell_vt_type command.
.
this feature reduces dynamic power consumption by turning off the clock signal of certain registers during clock cycles when the data remains unchanged.
.
user_defined_options (none) specifies additional options for the ic validator command line.
.
"1) 89.00% (total shield ratio/number of shielded nets) 2) 87.92% (total shield length/total shielded net length) you can output the statistics for each layer by using the -per_layer true option with the report_shields command, as shown in example 24. example 24 layer-based shielding report fc_shell> report_shields -per_layer true ... shielded 82% side-wall of (reset) layer: m1 ratio: 0% layer: m2 ratio: 40% fusion compiler™ user guide v-2023.12-sp3 547 chapter 6: routing and postroute optimization performing postroute optimization feedback layer: m3 ratio: 85% layer: m4 ratio: 80% shielded 96% side-wall of (clk) layer: m3 ratio: 0% layer: m4 ratio: 96% layer: m5 ratio: 100% shielded 2 nets with average ratio as follows."
.
"to see the current settings, use the report_app_options command."
.
.
"in some cases, you might want to restrict the library cells used for clock tree synthesis and optimization."
.
.
840 specifying the editability of blocks from the top-level .
you can create multiple routing blockages by specifying the boundary polygon as a geo_mask or a collection of physical objects.
.
.
"querying routing blockages to find routing blockages, use the get_routing_blockages command."
.
"if your design has multiple site definitions, you must run this process one time for each site definition."
this is a required option of the define_antenna_rule command.
.
"at a minimum, you must specify the shapes that compose the via ladder by using the -shapes option."
.
.
.
.
.
.
.
.
.
.
"to create a frame view, use the create_frame command, which extracts the blockage, pin, and via information from the design view."
.
.
.
"to enable power aware flexible h-tree synthesis, set the cts.multisource.power_aware_flexible_htree_synthesis application option to true."
.
3. specify a prioritized list of nondefault routing rules for automatic assignment by using the opt.common.optimize_ndr_user_rule_names application option.
.
"for clock pins of all the clock-gating cells, use the difference between the lat_reg and lat_cgtoreg fusion compiler™ user guide v-2023.12-sp3 306 chapter 4: clock gating controlling clock-gate latencies feedback values for the set_clock_latency command."
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 951 chapter 13: eco flow incremental signoff eco flow feedback to reduce runtime, use the -post_eco option when you ◦ insert metal filler cells with the create_stdcell_fillers command, and the tool marks the inserted filler cells as post eco cells ◦ remove filler cells with drc violations with the remove_stdcell_fillers_with_violation command, and the tool performs drc checking only for the post eco cells 4. update the routing by using the route_eco command, as described in performing eco routing, or by manually rerouting the affected nets."
.
• -number_of_repeater_groups specifies the total number of repeater groups to be inserted evenly along the route.
horizontal routing guides and blockages have the specified y-width.
.
.
.
.
.
.
.
place_group_repeat ers eco-252 warning: failed to place repeaters for repeater path which driver is %s.
fusion compiler™ user guide v-2023.12-sp3 891 chapter 12: redhawk and redhawk-sc fusion missing via and unconnected pin checking feedback table 68 commonly used options for the set_missing_via_check_options command (continued) option description -exclude_stack_via excludes stacked vias from the missing via check.
the application options are applied globally.
.
.
.
.
enabling this option makes names print in a single line.
.
.
.
"when not specified, the tool generates one using the data in the design library."
.
.
.
.
.
.
.
.
"by default, the tool creates a routing blockage named rb_objid in the current block that prevents routing of all nets within the routing blockage boundary."
.
.
.
.
.
.
.
.
.
.
.
.
"• layermaxratio represents the maximum antenna ratio for the layer, as specified by the -ratio option of the define_antenna_layer_rule command or one the -metal_ratio or -cut_ratio option of the define_antenna_rule command if the layer-specific value is not defined."
.
.
.
.106 physical constraints extracted from the def file .
.
.
.
use the following format to specify this information for each layer: {layer_name max_density} this application option applies only to track-based metal fill insertion and does not apply when you use the -mode add option.
.
.
.
"for example, the following command fixes illegal abutment violations where the fill1a and fill1b filler cells cannot abut the fillx and filly cells: fc_shell> replace_fillers_by_rules -replacement_rule illegal_abutment \ -replace_abutment { {fill1a cfill1a} {fill1b cfill1b} } \ -illegal_abutment {fillx filly} figure 129 shows the original row, which violates this rule, and the resulting row, which uses the replacement filler cells to fix the violations."
using the drc query commands you can get information about drc violations by using the get_drc_errors command to create a collection of drc violations and then using the get_attribute command to query the attributes of the errors.
.
.
.
.
.
.
"you can further limit the selection by • considering only the clock paths that go from, through, and to specific pins by using the -from, -through, and -to options."
"after you run the set_cell_location command, the unmapped cell gets the specified location in memory, but the location is not reflected in the layout view before compile."
.
.
.455 defining global via ladder constraints .
-min_width ignores segments smaller than the specified width.
.
.
setting the internal check pin as an ignore pin resolves the skew issue coming from the etm.
2. run the route_opt command two times.
.
.
"the saved block is called dr_itrn, where n is the specified iteration."
you can disable it by setting the compile.flow.enable_ccd application option to false.
.
.
.
.
"clock-gate collapsing the default of the compile.clockgate.max_number_of_levels application option is 0, which allows an infinite number of levels."
activity is refreshed for the current scenario.
.
.
.
.
note: wires that are less than the minimum length are not considered when computing the shielding ratio.
.
clock latencies using the set_clock_latency command have higher precedence and are not overwritten.
.
"entering fc_shell commands you interact with the fusion compiler tool by using fc_shell commands, which are based on the tool command language (tcl) and include certain command extensions needed to implement specific fusion compiler functionality."
471 reserving space for top-level routing .
custom.route.diffpair_twist_jumper_enable custom.route.diffpair_twist_jumper_interval custom.route.diffpair_twist_jumper_offset custom.route.diffpair_twist_jumper_style specifies constraints for differential-pair routing.
"◦ to specify the ground net, set the signoff.create_pg_augmentation.ground_net_name application option."
some commands and processes cannot be interrupted.
.
.
.
.
.
.
.
.
"see also • performing signoff design rule checking fusion compiler™ user guide v-2023.12-sp3 690 chapter 8: ic validator in-design performing signoff design rule checking feedback automatically fixing double-patterning odd-cycle violations if your block uses double-patterning technology, you must perform separate signoff drc fixing runs for the non-double-patterning routing rules and the double-patterning routing rules."
.
.
.
.
"the term ""pre-existing clock gates"" refers to user-instantiated clock gates."
.
"the single-bit registers you specify with the create_multibit -sort command must • be unmapped • be of the same type • be in the same logical hierarchy • not be part of an existing bus in the following example, the single-bit cells are combined in alphanumeric descending order, which is reg4, reg3, reg2, and reg1: fc_shell> set_app_option -name compile.flow.enable_multibit -value true fc_shell> create_multibit {reg2 reg4 reg1 reg3} -sort descending fc_shell> compile_fusion in the following example the single-bit cells are combined in alphanumeric ascending order, which is reg1, reg2, reg3, and reg4: fc_shell> set_app_option -name compile.flow.enable_multibit -value true fc_shell> create_multibit {reg2 reg4 reg1 reg3} -sort ascending fc_shell> compile_fusion in the following example, the single-bit cells are combined in the specified order, which is reg2, reg4, reg1, and reg3: fc_shell> set_app_option -name compile.flow.enable_multibit -value true fc_shell> create_multibit {reg2 reg4 reg1 reg3} -sort none fc_shell> compile_fusion note: you must set the compile.flow.enable_multibit application option to true before you run the create_multibit command on unmapped single bit registers."
.
.
fusion compiler™ user guide v-2023.12-sp3 665 chapter 8: ic validator in-design performing signoff design rule checking feedback 3. set the application options for signoff design rule checking.
.
"these options are mutually exclusive with the boundary optimization level specified by using all, auto, or none and cannot be used on the same object in a single command invocation."
.
.
.
.
.
.
.
• the ic validator results files you can use the following ic validator results files for debugging the signoff drc results: ◦ block.layout_errors this file contains details about the errors detected during the signoff_check_drc run.
.
.
.
the ic validator tool uses the results of these analyses to drive the power grid augmentation.
.
"however, you can exclude additional cells, such as library cells with a dont_use setting, as shown in the following example: fc_shell> set exclude_cells [filter_collection [get_lib_cells $libs/*] \ ""dont_use == true""] fc_shell> set_use_for_library_analysis $exclude_cells false to report the cells that are excluded, use the report_lexical_ignored_lib_cells command."
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 642 chapter 7: chip finishing and design for manufacturing inserting filler cells feedback • the checked objects to check for violations between filler cells and all neighboring objects, such as signal net shapes, other filler cells, standard cells, pg rails, and terminals, use the -check_between_fixed_objects true option."
.
.
you can reverse and reapply create route tool operations by using the gui undo and redo capabilities.
.
.
"when you run the signoff_create_metal_fill command, the ic validator tool uses the on-disk information for the block, not the information in memory."
.
.
.
.
to run rail analysis on multiple rail scenarios: 1. specify the following application options to enable multi-rail-scenario rail analysis: fc_shell> set_app_options -list { rail.enable_new_rail_scenario true rail.enable_parallel_run_rail_scenario true } fusion compiler™ user guide v-2023.12-sp3 897 chapter 12: redhawk and redhawk-sc fusion running rail analysis with multiple rail scenarios feedback 2. run the set_scenario_status -ir_drop command to enable rail analysis for the specified design scenario.
.
.
.
.
.
.
.
"the map file has the following format: eco_cell_1 spare_cell_1 eco_cell_2 spare_cell_2 ... ... fusion compiler™ user guide v-2023.12-sp3 978 chapter 13: eco flow updating supply nets for eco cells feedback mapping eco cells to logically equivalent spare cells when the tool maps an eco cell, it looks for a spare cell with the same library cell name."
.
.
.
.
.
.
.
• orthogonal: applies 90-degree twists to the wires.
"8. analyze the clock tree results, as described in analyzing the clock tree results."
.
check the cutline based placement for the multi-fanout path driver.
.
.
.
.
.
.
.
.
"direction name description cell type input clear asynchronous reset flip-flop or latch preset asynchronous preset flip-flop or latch next_state synchronous data flip-flop clocked_on clock flip-flop data_in asynchronous data latch enable clock or asynchronous enable latch synch_clear synchronous reset flip-flop synch_preset synchronous preset flip-flop synch_toggle synchronous toggle flip-flop synch_enable synchronous enable flip-flop output q non-inverting output flip-flop or latch fusion compiler™ user guide v-2023.12-sp3 231 chapter 3: physical synthesis controlling mapping and optimization feedback direction name description cell type qn inverting output flip-flop or latch during technology mapping, the tool uses the seqgen as the starting point for mapping."
.
"to learn how to mitigate design mismatches, see the fusion compiler data model user guide."
.
.
.
.
.
.
the tool compares the working design to the input verilog netlist or the golden design and generates a change file containing netlist editing tcl commands that implements the functional changes.
.
.
.
.
"example 17 template script file create_via_rule -name template_1_3231 \ -cut_layer_names {via1 via2 via3} -cut_names {v1s v2s v3s} \ -cut_rows {2 3 1} -cuts_per_row {3 2 3} set viarule [get_via_rules template_1_3231] set_attribute $viarule upper_metal_min_length_table {0.3 0.2 0.4} set_attribute $viarule for_electro_migration true example 18 association script file foreach_in_collection pin [get_lib_pins -quiet */bcelld5a11*/z] { set_attribute -quiet $pin is_em_via_ladder_required true set_via_ladder_candidate $pin -ladder_name ""template_1_3231"" } see also • defining via ladder rules • specifying automatic via ladder insertion settings for preroute optimization generating via ladder rules for performance via ladders instead of explicitly defining via ladder rules for performance via ladders, you can use the setup_performance_via_ladder command to generate the via ladder rules and associations."
.
.
.
.
.
.
"(optional) enable distributed processing by using the set_host_options command, as described in enabling ic validator multicore processing."
"for information about using this command, see balancing skew between different clock trees."
no repeater group is created.
.
.
.
.
.
"to set the constraint for a specific mode, use the -mode option with the get_clocks command to identify the clocks."
.
this can prevent you from implementing the design for exploration purposes and so on.
.
.
.
.
"to insert an interior tap wall, use the create_interior_tap_walls command."
.
525 global routing .
.
.
.
.
"to create a soft keepout margin, use the -type soft option."
"for complicated scenarios, you can switch the variant mode and tune the settings manually."
320 reporting clock-gating results .
.
.
the analyze_rail -script_only command writes data to the working directory.
.
.
"by default, the signoff_report_metal_density command • uses the fill data for the metal density calculation ◦ to use the design view if its timestamp is newer than the fill data, set the signoff.report_metal_density.fill_view_data application option to read_if_uptodate."
"figure 22 default cell categories for ir-drop-aware placement by default, the tool selects cells for the three categories by using the criteria shown in figure 22."
.
.
.
fusion compiler™ user guide v-2023.12-sp3 39 chapter 1: working with the fusion compiler tool fusion compiler concepts feedback figure 3 compares the traditional upf flow with the golden upf flow.
.
.
.
"... ... for more information about the early data check manager, see the fusion compiler data model user guide."
5. identify all library cell families by using the identify_lib_cell_families command.
.
.
.
the tool does not create new hierarchical nets; any hierarchy specified in the def file must already exist in the block.
-check_valid_vias reports if the metal overlap can accommodate a valid via model.
.
.
"by default, the tool uses the worst corner associated with the mode in which the subtree options are defined."
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 620 chapter 7: chip finishing and design for manufacturing inserting redundant vias feedback the create_diodes command uses the following application options to control diode insertion: • to control whether zroute inserts new diodes or reuses spare diodes, set the route.detail.diode_insertion_mode application option."
.
.
.
.
.
.
.
.
.
the block level 2d rail analysis window appears.
to internally enable auto grouping use the create_repeater_groups -cells command and derive cutline based on distance.
4. source the tcl file in the tool to replace the eco cells with their logical equivalents.
.
.
"note: partial placement blockages are honored during placement, but not during legalization, optimization, or clock tree synthesis."
.
.
.
"◦ if you want zroute to use only one of these methods, set the route.detail.diode_insertion_mode application option to new to force the insertion of new diodes or to spare to force the use of existing spare diodes."
.
(optional) enable multicorner optimization by setting the cts.multisource.enable_multi_corner_support application option to true.
"fusion compiler™ user guide v-2023.12-sp3 894 chapter 12: redhawk and redhawk-sc fusion missing via and unconnected pin checking feedback figure 202 opening error data from the error browser see also • specifying redhawk and redhawk-sc working directories fixing missing vias to fix the missing vias by inserting pg vias based on the specified drc error objects written by the analyze_rail command, use the fix_pg_missing_vias command."
.
.
.
"when you write a gdsii or oasis file for a block with cut metal shapes, you must use the -connect_below_cut_metal option with the write_gds or write_oasis command."
the latch prevents glitches on the en signal from propagating to the register’s clock pin.
.
.
548 performing postroute optimization .
.
use this option if your block is large and you only need to create or modify routes within a specific area.
.
.
table 1 mask constraint values attribute value description same_mask this constraint means that the mask color is not yet been determined.
use this option when the electromigration rule information is defined in a separate technology file other than the one specified by the rail.tech_file application option.
.
.
.
.
.
.
"to preserve the placement of integrated clock gates, enable the automatic relocation of clock network cells by setting the cts.compile.enable_cell_relocation application option to auto before clock tree synthesis."
.
.
"to do so, generate the test model for the mapped block fusion compiler™ user guide v-2023.12-sp3 829 chapter 11: hierarchical implementation specifying block-level power intent feedback design during block-level synthesis and then annotate the test model to the subblock during top-level synthesis."
.
"• to read the design view for specific reference cells, specify the cells by setting the signoff.check_drc.read_design_views application option."
.
.
.
.
.
.
.
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 197 chapter 2: preparing the design setting up for power-related features feedback you can further control the power analysis and optimization performed during dynamic power shaping by using application options such as ccd.dps.use_cases, ccd.dps.auto_targets, and ccd.dps.auto_target_constraint_parameters, which are more complex to use."
.
.
.
.
.
"to use comb routing, set the route.common.clock_topology application option to comb before routing the clock mesh nets."
"to place and map specific eco cells, use the -cells option."
"fusion compiler™ user guide v-2023.12-sp3 658 chapter 7: chip finishing and design for manufacturing inserting metal fill feedback removing the threshold-voltage filler cell information to remove the filler cell insertion rules and the threshold-voltage type annotations, use the -clear_vt_information option with the create_vtcell_fillers command."
4. fix the identified power integrity issues by using the eco_opt -type power_integrity command.
"if six or more clock gates share an enable signal, the tool inserts an additional level of clock gates."
"to specify a list of cell instances for effective resistance calculation, describe the target instances in a text file."
.
.
.
the tool updates the tap attributes in subsequent voltage drop and minimum path resistance analyses.
"the golden upf flow offers the following advantages: • the golden upf file remains unchanged throughout the flow, which keeps the form, structure, comment lines, and wildcard naming used in the upf file as originally written."
"fusion compiler™ user guide v-2023.12-sp3 143 chapter 2: preparing the design specifying physical constraints for placement and legalization feedback defining blockages that exclude relative placement groups to define partial blockages that exclude relative placement groups, specify the boundary, type (-type rp_group option), blockage percentage (-blocked_percentage option), and optionally the name for the placement blockage."
.
.
"for information about routing guides, see defining routing guides."
swapping variant cell the add_group_repeater and place_group_repeater commands support variant cell in group repeater insertion and placement.
.
.
.
.
reports geometry layers with voltage drop values that are greater than the specified percent of the ideal supply voltage.
.
.
.
.
.
476 using routing guides to control the routing density .
.
.
.
.
.
.
.
"the following example reports the reasons for abstract inclusion for the pins in abstract view: fc_shell> report_abstract_inclusion_reason [get_pins -of_object [get_cells -filter ""is_hierarchical==false"" -hierarchical *]] legend mv - mv logic comp - compact interface logic cell - cell inclusion -------------------------------------------------------------------- pin name reason(s) for inclusion -------------------------------------------------------------------- ainv_p_260/i comp, cell ainv_p_260/vdd cell ainv_p_260/vss cell ainv_p_260/zn comp, cell ainv_p_262/i comp, cell ainv_p_262/vdd cell ainv_p_262/vss cell ainv_p_262/zn comp, cell ainv_p_263/i mv, comp, cell a legend is displayed at the beginning of the report for the queried objects, specifying the detailed reason for each reason code."
6. run signoff drc fixing by using the signoff_fix_drc command as described in running the signoff_fix_drc command.
.
.
removing perimeter constraint objects the derive_perimeter_constraint_objects command places the inserted constraint objects in an edit group named pc_edit_group_blockname_n.
.
.
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 115 chapter 2: preparing the design setting up multivoltage designs feedback specifying upf constraints for physical-only cells the upf constraints for physical-only cells can cause issues when the upf file is read into other tools that do not support physical-only cells, such as verification tools."
"the write_qor_data command captures qor data related to timing, power, runtime, and other metrics."
"to insert isolation logic at specified input or output ports, use the set_isolate_ports command."
.
"you might also be able to fix the drc violation by modifying the metal fill shapes, as described in modifying metal fill."
.
5. use the write_early_data_check_config command to save the settings in a file for future use.
.
(optional) analyze the effects of concurrent clock and data optimization as described in reporting concurrent clock and data timing.
785 specifying orientations for leaf cells .
.
.
.
.
.
.
.
.
"setting checking options before checking for missing vias or unconnected pins in the design, use the set_missing_via_check_options command to specify the necessary options."
.
.
.
"to change the routing rule assignment for one or more nets, • use the -default_rule option to reset the nets to the default routing rule."
the report is similar to the following: fc_shell> report_clock_gating -ungated -------------------------------------------------------------------------- not fanin-based sequentially gated registers -------------------------------------------------------------------------- register | reason for not gating | what's next?
.
.
.
.
.
.
.
980 adding a group of repeaters .
.
.
.
"these application option settings affect concurrent clock and data optimization performed during the place_opt, clock_opt, and route_opt commands."
.
"the redhawk script file includes the following commands: perform extraction -power -ground mesh vias -report_missing -exclude_stack_via -threshold -1 \ -o apache.missingvias1.nothreshold example 50 fc_shell> set_missing_via_check_options -exclude_stack_via \ -threshold 0.001 fc_shell> set_missing_via_check_options -exclude_stack_via \ -threshold 0.002 fc_shell> set_missing_via_check_options -exclude_stack_via \ fusion compiler™ user guide v-2023.12-sp3 893 chapter 12: redhawk and redhawk-sc fusion missing via and unconnected pin checking feedback -threshold -1 fc_shell> analyze_rail -voltage_drop static -check_missing_via \ -nets {vdd vss} fc_shell> report_rail_result -type missing_vias -supply_nets \ {vdd vss} rpt.missing_vias information: writing rpt.missing_vias.no_threshold done information: writing rpt.missing_vias done in the above example, three different threshold values are set for a missing via check."
.
.
.
.
"in addition, if a tap cell does not exist within the minimum tap distance (half the specified tap distance) from each row edge adjacent to the block’s boundary, a hard macro, or a hard placement blockage, the tool inserts an additional tap cell."
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 550 chapter 6: routing and postroute optimization performing postroute optimization feedback by default, the route_opt command performs five detail routing iterations during the eco routing phase."
"a supply set is domain-independent, which means that the power and ground in the supply set are available to be used by any power domain defined within the scope where the supply set was created."
975 placing eco cells with minimal physical impact (mpi) .
.
.
.
.
.774 checking the routing results .
.
"for example, the summary report (using the -summary option) lists the number, area, and percentage of cells in each threshold voltage group."
.
"for more information about the working directories, see specifying redhawk and redhawk-sc working directories."
.
"you control this calculation by specifying the following information: • how the antenna area is calculated (the antenna area mode) • which metal segments are considered for the calculation (the antenna recognition mode) to specify these modes, use the -mode option with the define_antenna_rule and define_antenna_layer_rule commands, as described in setting the antenna mode."
"to check or remove the created constraint groups, use the report_constraint_groups or remove_constraint_groups command."
.
• routing direction for metal layers: use the set_attribute [get_layers mx] routing_direction horizontal/vertical command to define routing direction in tcl script.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 708 chapter 8: ic validator in-design inserting metal fill with ic validator in-design feedback table 49 application options for signoff metal fill insertion (continued) application option default description signoff.create_metal_fill.
.
"(optional) ignore the maximum capacitance, maximum fanout, or both constraints of the clock drivers by using the cts.multisource.ignore_drc_on_subtree_driver application option."
.
use the following syntax to set these options: { {layer true|false} ... } specify the layers by using the layer names from the technology file.
.
.
"fusion compiler™ user guide v-2023.12-sp3 974 chapter 13: eco flow placing eco cells feedback controlling legalization when using the place_eco_cells command after placing the eco cells, the place_eco_cells command legalizes each eco cell to the closest unoccupied site."
flat false controls whether the ic validator tool uses the metal fill mode specified in the runset file (false) or uses the flat metal fill mode (true).
.
.
"required configuration file to generate a redhawk macro model using the gds2rh utility, you must provide a configuration file that includes the following information: • gds ii files • top design name • layer mapping file • power and ground net names fusion compiler™ user guide v-2023.12-sp3 920 chapter 12: redhawk and redhawk-sc fusion working with macro models feedback specify one configuration file per memory."
.
.
.
.
.
.415 routing to clock straps .
signoff.fix_drc.
.
"4. verify the via ladders by using the verify_via_ladders command, as described in verifying via ladders."
.
370 implementing clock trees and performing post-cts optimization .
.
"to read the fill data regardless of its timestamp, set this application option to (read)."
.
.
"if you need help using the solvnetplus site, click registration help in the top-right menu bar."
.
"by default, the analyze_rail command uses a single process to perform redhawk rail analysis."
43 working with the 3dic compiler user interfaces .
.
"if you do not specify the clock, the clock latency values on all the clock-gating cells are removed."
• user-specified latency you can disable integrated latency estimation for specific instances and specify latency values manually.
.
.
"to reuse the existing results, specify the directory that contains the results by setting the signoff.fix_drc.init_drc_error_db application option."
.
• all custom router does not complete the pin connections for all pins in the block.
.
.
.
.
.
.
"you can use relative placement to explore qor benefits, such as shorter wire lengths, reduced congestion, better timing, skew control, fewer vias, better yield, and lower dynamic and leakage power."
.
.
"to perform a subset of these checks, use the -checks option to specify one or more of the following checks: short (shorted nets), open (open nets), and floating_routes (floating net shapes)."
.
.
.
.
"after insertion, the command fixes the placement of the inserted tap cells."
"in this mode, the antenna ratio is calculated as antenna_ratio = accumulation of the single-layer mode ratios of the current layer and layers below ◦ accumulated-area mode in accumulated-area mode, the tool considers the metal segments on the current and lower layers."
"to set up clock gating, follow these steps: 1. load the design and libraries 2. set the style by using the set_clock_gate_style command 3. set the options by using the set_clock_gating_options command 4. specify objects to be included or excluded from clock gating by using the set_clock_gating_objects command 5. allow other clock-gating cell types for optimization by using the following command: fc_shell> set_lib_cell_purpose -include cts [get_lib_cells ...] for more information, see the following topics: • setting the clock-gating style • setting clock-gating options • enabling or disabling clock gating on design objects • clock-gating enable source selection • user-driven enable exclusion • report clock gating options setting the clock-gating style use the set_clock_gate_style command to select the type of integrated clock-gating cell you want to use."
.
.
.
the number of cores available for the parent process (as specified by the -max_cores option of the set_host_options command) is reduced by the number of cores allocated for background jobs.
.
"then, during optimization, the tool relocates or downsizes the cells in the hotspots to reduce the peak dynamic voltage drop without hurting the timing qor."
"• uses staggering only when it is defined for the via ladder rule via ladder staggering extends the row metal of a via ladder level in the preferred direction of the upper layer for the level to avoid obstructions above or near the pin, which can increase the success rate of via ladder insertion."
.
"for more information about the tasks to check the routing results, see analyzing the routing results."
.
.
.
.
.
.
.
.
.
.
"-river_routing by default, the tool creates a routing guide named rd#n in the current block, where n is a unique integer."
.
.
.
"to specify the power domains, use the -power_domains option."
◦ repeaters have a physical library cell.
.232 mapping of synchronous reset or preset registers .
.
.
set_app_options -list { rail.enable_new_rail_scenario true rail.enable_parallel_run_rail_scenario true } #required.
"b. enable the addition of physical feedthrough cells, which belong to a voltage area physically but not logically, by setting the opt.common.allow_physical_feedthrough application option to true."
.
.
"if the drc violations are evenly distributed, the detail router uses a uniform partition."
.
.
.
"to perform standalone detail routing, run the route_detail command."
.
"for information about the options available for fixing isolated vias, see setting options for fixing isolated vias."
.
.
.
.
.
.
.
.
.
.
.
note: an ic validator license is required to run the signoff_create_metal_fill command.
.
.
these types of drc violations can be fixed by using keepout margins to increase the spacing between cells.
.
.
"the minimum wire length is set to 2000. see figure 156. example 33 minimum wire length constraint for the a2/a pin fc_shell> create_length_limit -for [get_pins -physical_context a2/a] \ -min_value 2000.0 -force gcr_length_limit_a2 fusion compiler™ user guide v-2023.12-sp3 757 chapter 9: routing using custom router defining routing constraints feedback figure 156 minimum wire length constraint for the a2/a pin defining matching wire lengths to define a group of nets or pin-to-pin connections that must have the same wire length, use the create_wire_matching command."
.
.
.
.
.
"fc_shell> open_rail_result fc_shell> report_rail_result -type instance_minimum_path_resistance \ -supply_nets { vdd vss } inst_minres.rpt fc_shell> sh cat inst_minres.rpt rmax(ohm) = 162.738 fusion compiler™ user guide v-2023.12-sp3 928 chapter 12: redhawk and redhawk-sc fusion writing analysis and checking reports feedback rmin(ohm) = 4.418 ====================================================================== supply_net total_r(ohm) r_to_power(ohm) r_to_ground(ohm) location pin_name instance_name ====================================================================== vdd 162.738 152.686 10.052 586.000, 496.235 vddl dataout_44_u vss 156.266 137.963 18.303 544.000, 613.235 vss gprs/u2317 vdd 156.266 137.963 18.303 544.000, 613.235 tvdd gprs/u2317 vdd 152.690 135.223 17.467 602.400, 467.435 vddl dataout_33_u displaying block-level rail results after you perform rail analysis on the top-level design, the tool saves the analysis results in the top-level rail database."
.
"for latch-based or integrated clock gating, the tool can insert clock gating irrespective of the enable signal’s and the clock’s clock domains."
.
.
.
.
.
.
.
.
"the width of the keepout margin on each side of the fixed cell can be the same or different, depending on how you define the keepout margin."
"fusion compiler™ user guide v-2023.12-sp3 489 chapter 6: routing and postroute optimization routing constraints feedback by default, the cut layer routing blockages are offset from the boundary edges by the is the maximum spacing for the preferred-direction and nonpreferred-direction routing blockages ◦ to specify the spacing for cut layer routing blockages along the horizontal edges, use the -spacing_cut_layer_horizontal option."
"to list all application options that are available for custom routing, use the following command: fc_shell> report_app_options custom.route."
.
"therefore, you should use the set_synlib_dont_use command to exclude synthetic modules."
"if the enable signal and the register bank reside in different clock domains, you must ensure that the two clock domains are synchronous and that the setup and hold times for the clock-gating cell meet the timing requirements."
fc_shell> create_bundle -name bus1 {net0 net1} fc_shell> create_bus_routing_style -for {bus1} \ -valid_layers {m5 m6} \ fusion compiler™ user guide v-2023.12-sp3 773 chapter 9: routing using custom router shielding the nets feedback -layer_widths {m5 0.4 m6 0.44} -force bus1 fc_shell> create_net_shielding -for {bus1} -shield_net vss \ -layer_gaps 0.21 -layer_widths 0.2 -sharing true -force sh1 fc_shell> set_app_options -name custom.route.bus_corner_type \ -value river fc_shell> set_app_options \ -name custom.route.bus_intra_shield_placement -value interleave fc_shell> route_custom -nets {net0 net1} the following example creates a constraint group and then performs routing on the nets with the same length.
the clock pins of the registers along a row of a sequential array are usually driven by a single clock-gating cell.
.
.
.
"• the switching probability of the supply net connected to the input supply port specified with the -on_state option, which is the supply net named vdd."
.
.
"the order of precedence for child cell data is 1. gdsii or oasis data specified with the signoff.physical.merge_stream_files application option 2. layout views specified with the signoff.create_metal_fill.read_layout_views application option if the ic validator tool cannot find a layout view and the cell is specified in the signoff.check_drc.read_design_views application option, it reads the design view."
.
.
table 70 lists the map types that are supported in the redhawk fusion analysis flow.
.
"to run commands in parallel as a background job, use the redirect -bg command to run the parallel_execute command, as shown in the following example: fc_shell> redirect -bg -max_cores 3 -file bg_log.out { parallel_execute { report_cmd1 log_file1 report_cmd2 log_file2 } } fusion compiler™ user guide v-2023.12-sp3 71 feedback 2 preparing the design the fusion compiler tool uses a design library to store your design and its associated library information."
.
.
.
.
"to perform ir-drop-aware placement, use the following steps: 1. place and legalize the block."
.
"after you run the compile_fusion command, if the report_multibit -ignored_cells command indicates that many cells were not banked due to a lack of multibit cells in the library, you can enable this feature by setting the compile.seqmap.prefer_registers_with_multibit_equivalent application option to true and rerunning the compile_fusion command."
.
.
.
"for information about defining vias in the technology file, see the synopsys technology file and routing rules reference manual."
.
.
.
.
.
.
• a signoff methodology with a scaled library setup the voltage optimization flow consists of the following high-level steps: 1. perform physical synthesis at the original design voltage using the compile_fusion command.
.
978 mapping eco cells to logically equivalent spare cells .
.
.
.
"set_app_options -name custom.route.skip_connect_pin_type -value all route_custom -nets {net1 net2} route_eco -nets {net1 net2} remove_redundant_shapes -nets {net1 net2} route_detail -incremental true the following script uses custom router for trunk routing and pin connections except standard cell pins, and then uses zroute for standard cell pin connections."
"when you use this option, the command uses the following naming convention: xofiller!prefix!filler_library_cell_name!number to change the separator character from the default exclamation mark (!"
analyzing clock trees in the gui the fusion compiler gui provides the clock tree visual mode to help you visualize and analyze the clock trees in your design.
.
.
.
.
.
.
"by default, zroute selects the nets to reroute based on the overall cost."
.
.
.
you can also define net-specific routing constraints that override the routing application options.
"the commands replace each eco cell with logically equivalent spare cells, which can be a ▪ single spare cell with the same logical functionality, but a different library cell name ▪ combination of up to two spare cells that give the same logical functionality 3. view the output tcl file to ensure that the eco mapping is satisfactory, and edit it if necessary."
.
.
.
.
.
.
.
.
.
.
.
.
global routing supports a deterministic mode for multicore routing.
.
"for example, to connect all secondary power and ground pins directly to a pg strap or ring, use the following command: fc_shell> set_app_options \ -name route.common.number_of_secondary_pg_pin_connections \ -value 1 fusion compiler™ user guide v-2023.12-sp3 523 chapter 6: routing and postroute optimization routing secondary power and ground pins feedback • defining a nondefault routing rule for secondary power and ground pin routing for example, to define a nondefault routing rule named widesvdd for wide m1 and m2 and set the nondefault routing rule on the vdd2 net, to which the secondary power and ground pins are connected, use the following commands: fc_shell> create_routing_rule widesvdd -widths { m1 0.3 m2 0.3 } fc_shell> set_routing_rule -rule widesvdd {vdd2} for more information about using nondefault routing rules, see using nondefault routing rules."
• the register bank or group of register banks satisfies the minimum number of bits you specify with the set_clock_gating_options -minimum_bitwidth command.
.
"synchronous control signals include synchronous load-enable, synchronous set, synchronous reset, and synchronous toggle."
.
"to generate an updated upf file, use the save_upf command."
.
.
.
clock connections to the preserved registers are kept as well.
"you can control the number of copies that are created by using one of the following methods: • specify the total number of registers after replication, including the original, by using the -num_copies option."
.
.
.
.
.
.
.
.
.
.
"fc_shell> route_custom -nets [get_bundles {grp1}] fusion compiler™ user guide v-2023.12-sp3 778 chapter 9: routing using custom router using a ddr routing flow feedback if you define multiple matching boxes at step 3, you need to run the route_custom command on each matching box."
• generates a place and route database and assesses the ability to place and pin accessibility of the library created based on the reports.
"see also • inserting via ladders • verifying via ladders • querying via ladders • removing via ladders fusion compiler™ user guide v-2023.12-sp3 462 chapter 6: routing and postroute optimization inserting via ladders feedback manual via ladder insertion to manually insert a via ladder, 1. create the shapes that compose the via ladder by using the create_shape and create_via commands."
inserting metal-insulator-metal capacitors a metal-insulator-metal (mim) capacitor is made of two special-purpose conducting layers separated by an insulator.
the fusion compiler tool does not perform any checking on the specified string.
"to anchor a relative placement group, use the set_rp_group_options command with the -x_offset and -y_offset options."
"◦ to create a compact abstract that contains the timing information for only the critical setup and hold timings paths of the interface logic, use the compact setting."
.
(edc-001) continuing without valid scan def.
.
.
.
.
.
.
.804 allowing nonrelative placement cells .
"if you do not specify these options, the tool identifies the most critical clock and uses it for the clock qor summary."
implementing multisource clock trees the following topics introduce the different types of multisource clock trees and provides detailed information about the different multisource clock tree implementation flows and steps: • introduction to multisource clock trees structures • implementing a regular multisource clock tree • implementing a regular multisource clock tree using integrated tap assignment • implementing a regular multisource clock tree with an h-tree-only global clock tree structure • implementing mscts multiple h-tree • implementing power aware flexible h-tree • implementing a structural multisource clock tree • implementing a structural multisource clock tree using integrated subtree synthesis • improving the correlation between the smscts and ccd • inserting clock drivers • synthesizing the global clock trees • creating clock straps • routing to clock straps • analyzing the clock mesh fusion compiler™ user guide v-2023.12-sp3 396 chapter 5: clock tree synthesis implementing multisource clock trees feedback • performing automated tap insertion and h-tree synthesis • specifying tap assignment options and settings • building the local clock subtree structures introduction to multisource clock trees structures a multisource clock tree is a custom clock structure that has more tolerance to on-chip variation and has better performance across corners than traditional clock tree structures.
.
.
.
"• -verbose: reports a summary of all failed checks, policies, strategies applied, and checked objects with comments."
.
table 49 application options for signoff metal fill insertion application option default description options that apply to all flows signoff.create_metal_fill.
.
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 900 chapter 12: redhawk and redhawk-sc fusion performing voltage drop analysis feedback note: if you are using the dynamic vector-free mode, you do not need to provide switching activity information."
516 specifying the tapering method .
.
.
.
.
.
"the command inserts cut metal shapes between net shapes, a net shape and a pg shape, a pg shape and an obstruction, and metal shapes within a child cell."
"to preview the number of drc violations and affected cells, use the -check_drc_rules option."
2. run design setup with the mesh.tcl script file.
.
.
.
.
.
.
.
"if an integrated clock gate compatible with self-gating is specified by the set_clock_gate_style command, the self- gating feature uses the same integrated clock gate or the clock gate that is most similar to the one specified."
"during compile, the tool inserts one more level of clock-gating cells at the leaf level and implements clock-gating logic using the default fusion compiler™ user guide v-2023.12-sp3 135 chapter 2: preparing the design specifying clock gating constraints feedback clock-gating settings if you do not specify any clock-gating constraints."
.
.
"routing the secondary power and ground pins if the secondary power and ground pins have the appropriate attributes in the frame view, you can use zroute to route the secondary power and ground pins."
"performing postroute shielding to perform postroute shielding, you use the same command, create_shields, that is used for preroute shielding."
.
.
.
.
"for more information, see the command man pages."
.
.
"fc_shell> add_buffer_on_route -repeater_distance 100 \ -first_distance 50 -last_distance 20 net1 -lib_cell buf2 by default, the tool uses eco_cell and eco_net as the name prefix of all new cells and nets."
.
.
"to specify the coordinates, use the following format: {{x1 y1} {x2 y2} ... {xn yn}} note that there must be a space between each set of coordinates."
.
159 performing ir-drop-aware placement .
.
"when you save the design library with the save_lib command, the technology-node setting is saved."
.
.
"• complete global routing to perform standalone track assignment, run the route_track command."
.
.
.
.
.
.
routing corridors are intended to be used to route critical nets before signal routing.
"• does not check or correct antenna rules for power and ground nets to check and correct antenna rules for power and ground nets, set the route.detail.check_antenna_on_pg application option to true."
.
.
.
.
.
"during standard pg augmentation, the signoff_create_pg_augmentation command performs the following tasks: 1. inserts pg augmentation shapes for the specified regions when the ic validator tool inserts the pg augmentation shapes, it considers the routing design rules to ensure that it does not create design rule violations."
.
.
.
.
a cut metal layer and the dimensions of the cut metal shapes inserted on that layer are defined in a layer section in the technology file.
"see also • using an ic validator parameter file viewing density heat maps in the gui after running the signoff_report_metal_density command, you can view heat maps in the gui for both the minimum density and gradient density reports."
.
"the following commands set a don't touch setting on a cell and a net: fc_shell> set_dont_touch [get_cells cell_name] true fc_shell> set_dont_touch [get_nets -segments net_name] true to report all the don't touch settings set on the current block, use the report_dont_touch command."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
the alignment of the tap wall depends on the number of corners of the edge segment encompassed by the bounding box.
fusion compiler™ user guide v-2023.12-sp3 808 chapter 10: physical datapath with relative placement performing placement and legalization of relative placement groups feedback you can control the size and shape of the relative placement group by using one of the following methods: • specify the maximum allowed manhattan distance between the sinks in one relative placement group by using the -distance option.
.
.
.
.
.
.
.
.
.
"to ensure accurate information, use the save_block command to save the current state of the block before running the fix_pg_wire command."
.
.
.
.
.
.
.
.
figure 121 default tap cell placement fusion compiler™ user guide v-2023.12-sp3 583 chapter 7: chip finishing and design for manufacturing inserting tap cells feedback you can modify the following aspects of the default behavior: • the library cell used for tap cell insertion on rows with a mirrored (mx) orientation use the -mirrored_row_lib_cell option to specify the library cell to use for mirrored rows.
"fusion compiler™ user guide v-2023.12-sp3 187 chapter 2: preparing the design setting up for power-related features feedback the following example reads in a saif file, enables scaling, scales the switching activity associated with clocks named clk1 and clk2 by a ratio of five, and scales the switching activity associated with clock named clk3 by a ratio of two: fc_shell> read_saif top.saif fc_shell> set_app_options -list \ {power.use_generated_clock_scaling_factor true} fc_shell> set_power_clock_scaling -ratio 5 {clk1 clk2} fc_shell> set_power_clock_scaling -ratio 2 {clk3} if you run the set_power_clock_scaling command again for the same clock, the tool scales the already scaled switching activity."
.
.
.
.
.
.
.
"to do so use the -ref_lib_analysis and -target_lib_analysis options, as shown in the following example: fc_shell> compare_libraries -ref_lib $rvt_lib -ref_lib_analysis sa \ -target_lib $lvt_lib -target_lib_analysis sa -verbose -plot when comparing libraries, you might encounter the following situations related to name matching between the cells of the reference and target libraries: ◦ the cell names in the reference and target libraries can be an exact match, as in the case when it is two different versions of the same library."
.
.
"to specify the qor metrics to improve, use the -metric option."
.
.
.
.
.
.
.
.
.
.
.
.
.
"to mark all clock networks as ideal, use the following command: foreach_in_collection mode [all_modes] { current_mode $mode set_ideal_network [all_fanout -flat -clock_tree] } to model the clock tree effects for placement, you should also define the uncertainty, latency, and transition constraints for each clock by using the set_clock_uncertainty, set_clock_latency, and set_clock_transition commands."
it also reports the five largest and five smallest local skew values and the corresponding endpoints.
.
.
.
.
.
.
"the supported constraint types are: • bus_style, which is specified by the create_bus_routing_style command • differential_group, which is specified by the create_differential_group command • differential_pair, which is specified by the create_differential_group command • matched_wire, which is specified by the create_wire_matching command • net_priority, which is specified by the create_net_priority command • shielding, which is specified by the create_net_shielding command • wire_length_limit, which is specified by the create_length_limit command fusion compiler™ user guide v-2023.12-sp3 763 chapter 9: routing using custom router using custom routing application options feedback the following example shows the default output of the report_constraint_groups command: fc_shell> report_constraint_groups **************************************** report : report_constraint_groups design : top_new version: date : **************************************** ------------------------------------------------------------------------ name type objects ------------------------------------------------------------------------ ndr_bus bus_style bus1 ndr_diff differential_pair clk0 clk1 shield_diff shielding clk0 clk1 matchl_con matched_wire match1 to remove the created constraint groups, use the remove_constraint_groups command and specify the constraint groups to remove."
.
685 running the signoff_fix_drc command .
.
"at the end of each rerouting phase, the tool recalculates the overflows."
.
"note: if you use the -mode add option, compression is not performed regardless of the setting of this parameter."
.
.
the default is false.
.
.
.
.
.
.
.
.63 enabling multicore processing .
.
.
x x opt-4012 design has 1 duplicate.
.
.
.
.
.
.
specify true to forbid off-grid routing and false to allow off-grid routing.
"this command issues errors for the unmapped modes, or corners, or clocks."
.
.
.
.
.
.
.
.
.
.
the absolute value of a negative value must be greater than the stub width.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 444 chapter 6: routing and postroute optimization defining vias feedback by default, when you define a simple via, it is a single-cut via."
.
"it then adds a cell named u0, which overrides the alignment of the group and cells named u1, u2, and u3, which honor the alignment of the relative placement group: fc_shell> create_rp_group rp1 -name rp1 -columns 1 -rows 4 fc_shell> set_rp_group_options rp1 -alignment right fc_shell> add_to_rp_group rp1 -cells u0 -column 0 -row 0 \ -override_alignment left fc_shell> add_to_rp_group rp1 -cells u1 -column 0 -row 1 fc_shell> add_to_rp_group rp1 -cells u2 -column 0 -row 2 fc_shell> add_to_rp_group rp1 -cells u3 -column 0 -row 3 the following figure shows the relative placement group after placement."
.
.
.
.
.
.
• specify a minimum distance between eco cells that are mapped to programmable filler cells by using the -min_filler_distance option.
.
.
.
.
.
985 placing group repeaters for multibit registers .
"for multivoltage designs, the power domains are defined in the upf specification."
place_group_repeat ers eco-239 info:%s.
.
.
"if there is no timing path between the registers with the longest and shortest clock paths, optimizing global skew does not improve the timing qor of the design."
"for more information, see the library manager user guide."
.
.
.
.
"4. update the routing by using the route_eco command, as described in performing eco routing, or by manually rerouting the affected nets."
.
.
.
"(rpgp-018) fusion compiler™ user guide v-2023.12-sp3 812 chapter 10: physical datapath with relative placement analyzing relative placement groups feedback analyzing the placeability of a relative placement group before you run placement and optimization, you can check if a specific relative placement group can be placed by using the check_rp_constraints -analyze_placement command."
.
.
.
.
.
"• -min_vertical_jog if a vertical edge of a macro, including its hard keepout margin, hard placement blockage, or voltage area, including its guard band, is less than the specified value, the compile_boundary_cells -add_placement_blockage command creates a placement blockage to prevent a violation."
.
.
.
.
.
.
.
.
.
.
sink pins are also referred to as balancing pins.
.
.
"to make the eco changes to a different design, use the -working_block option."
"when this feature is enabled, the tool disables mapping to sequential library cells with inverted outputs or unused ports."
.
this is due to graph connectivity differences between the two commands.
.
.
.
.
.
.
"the following example sets a limit of 0.2 for advancing and 0.1 for delaying clock latencies: fc_shell> set_app_options -list {ccd.max_prepone 0.2} fc_shell> set_app_options -list {ccd.max_postpone 0.1} excluding boundary paths by default, the tool performs concurrent clock and data optimization on all paths in a block."
.
.
.
.
.
"however, when you specify the -bg option with the analyze_rail command, you need to run the open_rail_result -back_annotate command to reconstruct rail database and create the new rail_database file from the latest analysis results."
.
.
.
.
.
.
.
"each user can output a tcl file that contains the layout changes they make by using the record_layout_editing command, and all the tcl files can be applied to the original layout."
.
.
.
.
.
.
.
.
.
.
.258 scan synthesis flow .
the report lists the filler cells with violations and reports the first violation for each filler cell.
.
.
"• by default, this command shows all user-defined via mappings."
.
"to perform regular multisource clock tree synthesis integrated with placement and optimization, use the following steps: 1. specify the placement and optimization constraints and settings."
.
"when you specify this setting, the filler cells that have violations are removed after legalizing eco cells."
"table 63 relative placement commands command described in section create_rp_group and remove_rp_groups creating relative placement groups add_to_rp_group and remove_from_rp_group adding objects to a group fusion compiler™ user guide v-2023.12-sp3 815 chapter 10: physical datapath with relative placement summary of relative placement commands feedback table 63 relative placement commands (continued) command described in section set_rp_group_options and remove_rp_group_options specifying options for relative placement groups modify_rp_groups changing the structures of relative placement groups legalize_rp_groups legalizing relative placement groups in a placed design check_rp_constraints checking relative placement groups before placement report_rp_groups reporting relative placement constraint violations get_rp_groups querying relative placement groups write_rp_groups saving relative placement information fusion compiler™ user guide v-2023.12-sp3 816 feedback 11 hierarchical implementation the following topics describe how to perform synthesis, placement, optimization, clock tree synthesis, routing, and postroute optimization on hierarchical designs."
.
.
.
.
.
.
.
.
.
"to control the names of the reference copies, use the design.uniquify_naming_style application option."
.
"in the implementation flow, you should use the strict policy for all checks."
.
.
.
.
.
.
"◦ stagger this pattern inserts tap cells in every row with the tap cells in even rows offset by half the offset value (-offset option) relative to the odd rows, which produces a checkerboard-like pattern."
.
.
.
.
.
.
.
.
• a register contains objects other than edge-triggered flip-flops in its transitive fanin.
.
.
"after clock tree synthesis, the latencies of the clocks constraining the i/o ports need to be updated to ensure that the boundary constraints are accurate."
.
.
.
.
.
-gap specifies the spacing between the outermost bus bits and other shapes in the block.
.
.
.
(optional) specify the fields in the path group section of the report by setting the shell.synthesis.logic_level_report_group_format application option.
• the library containing no registers with synchronous reset (or preset) pins the tool adds extra logic to the data input to generate the reset (or preset) condition on a register without a reset (or preset) pin.
"at a minimum, you must define the boundary of the routing blockage and the affected layers."
"this flow generates incremental design data from the fusion compiler tool, which enables you to perform incremental extraction in the starrc tool and incremental timing analysis and eco in the primetime tool, as shown in the following figure."
.
.
.
.
102 4 contents feedback mitigating design mismatches .
"to report the tool-identified library cell families, use the report_lib_cell_families -all_initial command."
"fc_shell> set_app_options \ -name route.common.concurrent_redundant_via_mode \ -value insert_at_high_cost to control the effort used to reserve space for the redundant vias, set the route.common.concurrent_redundant_via_effort_level application option."
.
.
.
.
.
.
run check_duplicates for more details.
.
"specify one or more of the following net types: analog_ground, analog_power, analog_signal, clock, deep_nwell, deep_pwell, ground, nwell, power, pwell, reset, scan, signal, tie_high, and tie_low."
.
.
.
.
.
120 merging voltage area shapes .
fc_shell> set_app_options \ -name custom.route.single_loop_match -value true fc_shell> set_app_options \ -name custom.route.single_loop_match_min_spacing -value 0.75 fc_shell> set_app_options \ -name custom.route.single_loop_match_max_spacing -value 10.0 fc_shell> set_app_options \ -name custom.route.single_loop_match_offset_layer -value true ◦ set the wire matching constraint for the group.
.
"the following topics describe settings for controlling coarse placement: • performing placement with inaccurate constraints at early stages • generating automatic group bounds for clock gating cells • controlling the placement density • controlling congestion-driven restructuring during placement • reducing congestion • considering wide cell density during placement • considering the effects of cell pins during placement • considering the congestion effects due to the nondefault routing rules of clock nets • considering the effects of clock gating cells of sequential arrays during placement • considering legalization effects during placement • considering dft connections during placement fusion compiler™ user guide v-2023.12-sp3 153 chapter 2: preparing the design specifying placement settings feedback • considering the dynamic power qor during placement • performing ir-drop-aware placement • spreading repeater cells during placement performing placement with inaccurate constraints at early stages during the early stages of a design cycle, placement constraints can be inaccurate causing the tool to exit during coarse placement."
4.
you can define a single width and spacing value per layer.
.
.
"figure 134 fixing a tap cell spacing violation random filler cell replacement to randomly replace existing filler cells, use the -replacement_rule random option with the replace_fillers_by_rules command."
"fusion compiler™ user guide v-2023.12-sp3 713 chapter 8: ic validator in-design inserting metal fill with ic validator in-design feedback 3. design views specified with the signoff.create_metal_fill.read_design_views application option if the ic validator tool cannot find a design view, it reads the frame view instead."
.
.
.
"to define targets for specific clocks, use the -clocks option."
.
.
.
the routing drcs identify the pin access issues after routing.
.
.
.
.
"this capability is called concurrent clock and data (ccd) optimization, which can reduce total negative slacks (tns), worst negative slacks (wns), area, and leakage power."
.
.
"fusion compiler™ user guide v-2023.12-sp3 199 chapter 2: preparing the design specifying the routing resources feedback • to change the constraints to hard constraints, set the route.common.global_min_layer_mode and route.common.global_max_layer_mode application options to hard."
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 117 chapter 2: preparing the design setting up multivoltage designs feedback the connect_pg_net command operates in two modes: • automatic in automatic mode, the command derives all power and ground nets, power and ground pins, tie-off pins, and connections from the upf specification."
.
.
.
.
.
.
"• local skew histogram to report the local skew in a histogram, use the -histogram_type local_skew option."
figure 154 receivers with individual wire length constraints from driver d syntax: fc_shell> create_length_limit - for objects [-min_valuefloat] [-excludepins or ports] [-driverpin or port] [-force] [intent_name] command or options description create_length_limit creates a length-limit constraint.
.
.
.
.
"to see the current settings, use the report_app_options command."
"a. create the relative placement groups by using the create_rp_group command, as described in creating relative placement groups."
.
"g. train the machine learning model for the collected features and label by using the estimate_delay -train_model command as shown in the following example: fc_shell> estimate_delay -train_model ""features_1 label_1"" \ -output_dir ./ml h. continue with postroute optimization and the rest of the steps in the implementation flow."
.
"the user-customized python script file is supported in rail analysis with multiple rail scenarios, as well as other ir-driven features, such as ir-driven placement or ir-driven concurrent clock and data optimization."
user_defined_options (none) specifies additional options for the ic validator command line.
.
.
.
.
.
.
"valid values are none, before (the default), and after."
.
"a design library uses instances of blocks defined in lower-level libraries, called reference libraries."
"to return only the fill shapes associated with specific fill cells, use the -of_objects option to specify the fill cells."
a top-level or macro pin is considered accessible if a legal path can be extended from the pin to a certain distance around it.
"note: when you run the eco_opt command, the fusion compiler tool specifies the primetime settings based on the fusion compiler timing analysis settings, such as derating factors, on-chip-variation settings, and so on."
.
.
.
.
.
.
.
.
.
"for information about eco routing, see performing eco routing."
.
.
◦ specify a percentage of spare cells to be placed based on the cell density distribution by using the -density_aware_ratio option.
"for more information about how to define routing constraints and application options, see defining routing constraints and using custom routing application options."
.
"• to remove the via mappings for specific replacement vias, use the -to option."
.
.
.
the default is horizontal.
.
"if you do not explicitly specify a multiple-port-net setting using the set_fix_multiple_port_nets command, but you set the opt.port.eliminate_verilog_assign application option to true, the tool issues the following message and uses the set_fix_multiple_port_nets -all -buffer_constants command setting to fix multiple-port nets during the logic_opto and initial_drc stages of the compile_fusion command: information: the opt.port.eliminate_verilog_assign application option has been set to true."
.
.
.
.
"to overwrite an existing via definition, use the -force option; otherwise, the command fails if the specified via definition already exists."
.
"it can be a positive value, zero, or a negative value."
.
.
.
.
"▪ -coordinates and -excluded_coordinates to restrict the regions on which to insert metal fill, use these options, as described in specifying the regions for metal fill insertion."
.
"• a clock spine, which can be either a one- or two-dimensional structures."
.
.
.
.
.
.
.
.
.
"◦ balance the levels of the local subtree by using the -balance_levels true option and specify a target number of levels, which applies to all sinks of the local subtree, by using the -target_level option."
you invoke eco routing and route verification by using task-specific commands.
.
.
"• to write out the rail analysis results, use the report_rail_result command."
.
.
"controlling specific types of boundary optimization to control the level of boundary optimization for hierarchical cell pins, hierarchical cells, or blocks, use the set_boundary_optimization command."
.
.
.
.
.
.
.
.
.
the data paths to these registers are not retained.
.
"when defining and applying attributes, observe the following rules: ◦ a blockage can only be controlled by a single attribute."
no twist style is specified and the shield placement is set to default.
.
.
"to remove existing global route information from the signal nets in the block, use the -global_route and -net_types signal options with the remove_routes command, as shown in the following example: fc_shell> remove_routes -global_route -net_types signal incremental global routing by default, the global router ignores existing global routes."
## open design ## open_block link_block ## specify taps ## create_taps ## specify redhawk fusion input files or variables ## set_app_options -name rail.enable_redhawk -value 1 set_app_options -name rail.redhawk_path -value set_app_options -name rail.disable_timestamps -value true set_app_options -name rail.display_eco_shapes -value true set_rail_command_options -script_file mesh.tcl -command \ setup_design ... ## analyze## analyze_rail -voltage_drop ... -nets {vdd vss} ## check gui ## open_rail_result the following script displays eco shapes in the gui by using a redhawk script.
1006 fixing buffers .
.
.
.
.
.
"information about which registers are being merged is stored in the .svf file, and the output log file shows information messages about register merging."
fusion compiler™ user guide v-2023.12-sp3 119 chapter 2: preparing the design setting up multivoltage designs feedback defining voltage areas a voltage area is a physical placement area for the cells associated with a power domain.
"fusion compiler™ user guide v-2023.12-sp3 308 chapter 4: clock gating controlling the number of clock-gate levels feedback figure 57 latency calculations with varying fanout the following commands specify the latency and fanout for figure 57. set_clock_gate_latency -stage 0 \ -fanout_latency {{1-inf 1.6}} set_clock_gate_latency -stage 1 \ -fanout_latency {{1-20 0.6} {21-inf 0.8}} set_clock_gate_latency -stage 2 \ -fanout_latency {{1-20 0.2} {21-inf 0.3}} set_clock_gate_latency -stage 3 \ -fanout_latency {{1-30 0.1} {31-65 0.8} {66-inf 0.18}} set_clock_latency ""0.4"" {uicg_a/ck} note that for the clock gate uicg_a, the latency value of 0.4 is assigned using the set_clock_latency command, which cannot be overwritten."
.
.
.
.
.
.
.
"if the cell does not meet these criteria, the cell is not a candidate for replacement."
.
.
.
"you can enable verification checkpointing at only one stage as shown in the following example: fc_shell> set_verification_checkpoints {ckpt_logic_opt} disabling checkpoint ""ckpt_pre_map"" enabling checkpoint ""ckpt_logic_opt"" at each verification checkpoint, the tool automatically generates a checkpoint netlist and the guide_checkpoint command in the .svf file that is used by the formality tool during verification."
.
.
386 generating interclock delay balancing constraints automatically .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"if you are using the freeze silicon eco flow, enable eco changes in the freeze silicon mode by setting the design.eco_freeze_silicon_mode application option to true, before you run the eco_netlist command."
"fixing signal electromigration violations before fixing signal electromigration violations, make sure that the block is detail routed, the signal electromigration constraints are defined in the design library, the switching activity is defined for all boundary nets, crosstalk analysis is enabled, and there are no timing or drc violations."
.
.
.
"when you enable the advanced legalization algorithms, by default, the tool aligns vertical pin shapes during pin access optimization to improve routability."
destination control statement all technical data contained in this publication is subject to the export control laws of the united states of america.
.
.
.
.
158 considering legalization effects during placement .
.
.
.
.
"figure 20 difference in the logical view after physical- and logical-feedthrough buffering to create a default rule that applies to all voltage areas that do not have a specific rule, use the create_voltage_area_rule command with the -default_rule option, as shown in the following example: fc_shell> create_voltage_area_rule -default_rule \ -allow_physical_feedthrough true if a voltage area does not have a specific rule, and there is no default rule, feedthrough buffering for that voltage area is controlled by the opt.common.allow_physical_feedthrough application option setting."
.
.
"• route.detail.allow_default_rule_nets_via_ladder_lower_layer_connection to allow nets with default routing rules to connect directly to the pin or to any layer of the via ladder, set this application option to true."
w is the width specified by the -width_nonpreferred option.
.
.
.
.
.
.
.
.
.
.
.
.
.
figure 171 shows the same cells aligned with and without compression.
.
.
.
.
.
.
.
.
.
.
.
.
• stream placement by setting the place.legalize.stream_place application option to true.
.
"▪ to reduce the local peak current in windows stepped across the design, where the optimization goal is to reduce voltage drop violations, set this application option to stepped_psgs, which is the default."
a power switch (or simply switch) is a device that turns on and turns off power for a supply net.
.
"before you start the command-line interface, ensure that the path to the bin directory is included in your $path variable."
.
"to enable this feature, set the route.detail.optimize_partition_size_for_drc application option to true."
.
.
.
.
"following are the new application options for variant cell support: • to set variant mode for different customers and different design flows, use the set_app_options -name eco.placement.variant_cell_group_mode -value command."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
both dirs: overflow = 3320 max = 3 grcs = 4405 (0.08%) phase3.
.
.
"figure 171 bottom-left alignment construction and compression rpa rpb rpc without compression with compression u3 u6 u2 u5 u1 u4 u1 u2 u3 u6 u5 u4 rp3 rp2 rp1 rp4 example 45 compression with hierarchical relative placement create_rp_group -name rp1 -columns 2 -rows 1 add_to_rp_group rp1 -cells u1 -column 0 -row 0 add_to_rp_group rp1 -cells u4 -column 1 -row 0 create_rp_group -name rp2 -columns 2 -rows 1 add_to_rp_group rp2 -cells u2 -column 0 -row 0 add_to_rp_group rp2 -cells u5 -column 1 -row 0 create_rp_group -name rp3 -columns 2 -rows 1 add_to_rp_group rp3 -cells u3 -column 0 -row 0 add_to_rp_group rp3 -cells u6 -column 1 -row 0 fusion compiler™ user guide v-2023.12-sp3 790 chapter 10: physical datapath with relative placement adding objects to a group feedback create_rp_group -name rp4 -columns 1 -rows 3 add_to_rp_group rp4 -rp_group rp1 -column 0 -row 0 add_to_rp_group rp4 -rp_group rp2 -column 0 -row 1 add_to_rp_group rp4 -rp_group rp3 -column 0 -row 2 alternatively, you can apply compression in the horizontal direction by using the -tiling_type option with the set_rp_group_options command, as described in controlling the tiling within relative placement groups."
.
.
.
.
"when specifying nets that will be constrained, use the get_nets -physical_context command to ensure the physical net is returned."
"fc_shell> set_synlib_dont_use \ {dw_foundation/dw_div/cla standard/dw_div/rpl} • compile.datapath.ungroup by default, all designware cells and datapath blocks are ungrouped during timing optimization."
.
.
.
.
.
.
"if a net identified as a root net is less than 10 microns, the tool uses internal-net routing rules for that net."
.
.
"• to verify the routing only for specific nets, specify the nets by using the -nets option."
fusion compiler™ user guide v-2023.12-sp3 190 chapter 2: preparing the design setting up for power-related features feedback enabling power optimization for the clock_opt command the fusion compiler tool can optimize both dynamic and static (leakage) power.
.
.
.
.
.
.
.
.
buffer or inverter added beyond exception removed.
.
x x opt-3006 current instance hierarchy is not the top.
the tool detects and responds to violations throughout the flow.
.
"cells with overlapping timing windows might switch at the same time, leading to high voltage drops."
.
.
.
.
.
.
.
• rp_location the anchor point of the relative placement group is the element in the relative placement group at the position specified by the -anchor_row and -anchor_column options.
eliminating such registers can improve area significantly.
.
.
.
.
.
the existing cells are untouched to minimize the impact to their placement.
"• the constraints for shielding styles and layer-specific requirements to define the net shielding constraints that are applied per layer to the trunk and override any settings on the individual bits, use the options listed in table 55. fusion compiler™ user guide v-2023.12-sp3 753 chapter 9: routing using custom router defining routing constraints feedback table 55 net shielding constraints option description -shield_net specifies the net you want to use as the shield."
.
you cannot use this method when performing incremental shielding.
.
"when routing a single signal net, the tool uses this net for the right and top shields."
.
.
.
.
you can change the default behavior of concurrent clock and data optimization during the clock_opt command by performing any of the following optional steps: 1.
.
.
.
.
"if you specify a relative path, it is relative to the current working directory."
.
.
.
.
.
"• for routing, you can use nondefault routing rules to define stricter wire width and spacing rules, to define the pin tapering distance, to specify the vias used when routing nets with nondefault routing rules, and to specify multiple-patterning mask constraints."
.
"when set to other values, the router limits matching routes to the area inside the box, which might result in connections that do not meet the matching constraint."
.
.
.
.
"if you have the redhawk signoff licenses, you can enable the following redhawk signoff analysis features in the fusion compiler environment by using the rail.allow_redhawk_license_checkout application option."
.
.
.
.
.
.
.
.
.
the default is false.
"to enable this feature, set the route_opt.flow.enable_multibit_debanking application option to true."
.
"to enable local skew optimization during the clock tree synthesis and clock tree optimization stages of the synthesize_clock_trees and clock_opt commands, set the cts.compile.enable_local_skew and cts.optimize.enable_local_skew application options to true."
.
the diode protection mode also affects the computation of the maximum antenna ratio for individual diodes.
.
.
this option is not valid with the -nets option.
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 418 chapter 5: clock tree synthesis implementing multisource clock trees feedback • to specify the direction of the spines, when creating a clock spine structure and the tool is not detecting and using existing spines, use the -spine_direction option."
.
"fc_shell> set_host_options -name for_tho -num_processes 4 -max_cores 16 -submit_command [list qsub -p queue -pe mt 16 -l mem_free=100g -cwd] fc_shell> set_hierarchy_options -host_option for_tho -blocks {list of blocks} 5. to enable tho, use the init_hier_optimization command."
.
.
.
this option defines the width threshold for inserting boundary cells on a row.
.
.
39 multiple-patterning concepts .
.
.217 controlling mapping and optimization .
255 controlling concurrent clock and data optimization .
.
.
.
.
.
.
.
.
"to meet this target when swapping power cells, the tool tries to find another cell with higher vt, but lower ron value, so that it can reduce the ir drop."
"◦ missing performance or electromigration via ladder on a pin that has the is_em_via_ladder_required attribute ◦ via ladder application options that do not have the required settings to enable these checks, use the -via_ladder true option."
supported file types are: • lef • def • spef • twf • ploc example: fc_shell> set_app_options \ -name rail.generate_file_variables -value \ {ploc ploc lef lef_files def def_files \ spef spef_files twf tw_files} rail.enable_new_rail_scena rio (optional) enables redhawk fusion or redhawk-sc fusion rail analysis with multiple rail scenario.
.
.
.
"• when you use the set_voltage_area -merge_regions command, the tool merges all existing shapes of the specified voltage area."
.
(optional) ignore specific scenarios during concurrent clock and data optimization as described in excluding specific scenarios.
"with this setting, the tool runs internal power analysis with a 20 percent probability of toggling a flip-flop and all flip-flops are effectively clocked every cycle."
.
.
.
"based on the types of boundary optimization you enable or disable, the tool sets the constant_propagation, unloaded_propagation, equal_opposite_propagation, and phase_inversion read-only attributes of the specified object to true or false."
"for example, fc_shell> set_app_options \ -name rail.instance_power_file\ -value {e1 file1 die2 file2 ...} rail.apl_files specifies the apache apl files, which contain current waveforms and intrinsic parasitics for performing dynamic rail analysis."
.
.
.
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 406 chapter 5: clock tree synthesis implementing multisource clock trees feedback to implement a structural multisource clock tree using the integrated subtree synthesis capabilities, perform the following steps: 1. specify your clock tree constraints and settings."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"for more information, see defining the bus routing style."
.
"if this automatic association is not correct, you can manually modify the associations by using the set_power_strategy_attribute command."
.
.
.
"to set or change the preferred routing direction for a layer, use the following syntax to set its routing_direction attribute: set_attribute -objects layers -name routing_direction -value vertical | horizontal specify the routing layers by using the layer names from the technology file."
.
.
.
.
"• to create a rectangular routing blockage, use the -boundary option to specify the lower-left and upper-right corners of the rectangle using the following syntax: { {llx lly} {urx ury} }."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
◦ design_name: the directory where redhawk or redhawk-sc writes analysis results for the fusion compiler tool to retrieve for map display and data query.
.
"the via ladder insertion flow during clock tree synthesis, optimization, and clock routing consists of the following steps: 1. ensure that the via ladder rules are defined as described in defining via ladder rules."
the following topics describe how to create the various types of move bounds: • defining move bounds • defining group bounds • querying placement bounds • removing placement bounds defining move bounds a move bound is a fixed region within which to place a set of cells.
.
.
.
.
"for information about specifying the default metal width for a layer, see the “default width rule” topic in the synopsys technology file and routing rules reference manual."
.
"by default, global routing is not timing-driven."
.
.
.
"4 diode protection is limited; if more than one diode is connected, the sum of the diode-protection values for all diodes is used to compute the maximum antenna ratio."
.
.
.
.
2. enable scaling by setting the power.use_generated_clock_scaling_factor application option to on.
295 enabling or disabling clock gating on design objects .
.
.
"after high- fanout synthesis, which is performed during the drc fixing stage of the compile_fusion command, the global routes are deleted."
.
.
.
.
"to change the prefix, set the compile.clockgate.clock_gate_name_prefix application option."
.
.
925 displaying block-level rail results .
"to include all layers, specify all."
.
"instead of specifying the routing layer, you can have the tool automatically detect the closest routing shape to that location by using the -detect_layer option."
.
"• specifying the preferred pin connections by setting the route.common.single_connection_to_pins and route.common.connect_within_pins_by_layer_name application options for example, to require a single connection to the secondary power and ground pins and require that the m1 connections use vias contained within the pin shapes, use the following command: fc_shell> set_app_options \ -name route.common.single_connection_to_pins \ -value standard_cell_pins fc_shell> set_app_options \ -name route.common.connect_within_pins_by_layer_name \ -value {{m1 via_standard_cell_pins}} • defining the maximum number of power or ground pins in a cluster by setting the route.common.number_of_secondary_pg_pin_connections application option a cluster is a set of connected secondary power or ground pins that has one connection to a pg strap or ring."
.
.
.
"in addition, when multiple users are working on a project, each user can have an individual checkpoint.config.tcl file with his or her preferred settings: the checkpoint system also allows you to • insert flow changes and reports with more precision than you could using a typical non- checkpointed flow script • reference a single source of truth where you can find all changes that have been applied to your default golden flow • report a history of the checkpoints that were run, including the flow changes or reports that were run at those checkpoints fusion compiler™ user guide v-2023.12-sp3 52 chapter 1: working with the fusion compiler tool adding changes to a script with checkpoints feedback • report runtime and memory information for each checkpoint that was run • generate unique and descriptive report names the general process for using the checkpoint system is as follows: 1. insert checkpoints in your script."
.
.
.
.
mx_via_enclosure derived from contactcode section specifies the minimum metal enclosure values for vias.
.
.
.
"to perform reordering, you must ▪ enable the scenarios used for structural multisource clock tree synthesis ▪ annotate the switching activity for the enable pins of the clock-gating cells you can prevent specific clock-gating cells from being reordered by using the set_multisource_clock_subtree_constraints command with the -cells and -ignore_for_icg_reordering options."
.
.
.
.
.
.
.
.
4. view the generated qorsum report by using the view_qor_data command.
"figure 42 displaying lower-utilization runs exploring the detailed comparison data when you launch the qorsum report, the application opens the qor summary table, which summarizes high-level timing, power, and congestion metrics for each of your runs."
.
.
.
#required.
.
note: you can use this option only if you have previously run the signoff_check_drc command and the percentage of change to the block since that run is less than the change threshold.
.
.
.
• -boundary coordinates use this option to restrict the reporting to a specific region of the block.
.
.
.
.
"for details, see using routing guides to prioritize routing regions."
.
.
"for more information about the ic validator parameter file, see using an ic validator parameter file."
example 30 shows an example of this report.
.
"note: the tool supports the repairs on subblocks, which are linked to the read_only abstracts rather than editable abstracts because managing the mismatched design data mechanism only aims to continue the top-level flow for exploration and as such no repair work performed on the subblock abstracts should get merged with the actual design view."
.
.
.
the dynamic power consumption is directly proportional to the number and frequency of transitions in the design.
.
"a legend is shown above the table with the flow id number in a gold box (for the baseline) or a blue box (for the test flows), followed by the flow name."
.
.
.
.
.
"when you use this option, the tool uses the following naming convention: prefix__library_cell_name_r#_c#_number • the side along which to insert the tap wall (the -side option) you can specify only a single side, top, bottom, right, or left."
.
.
362 reducing electromigration .
.
.
.
.
.
.
"if you use either of these options, the tool ignores all settings for the onwiretrack and ongrid attributes in the technology file and uses only the settings specified by these options."
.
"the hierarchical checks can detect different types of mismatched, incomplete, and inconsistent data in designs."
.
"verifying the boundary cell placement after inserting the boundary cells with the compile_boundary_cells command, verify the placement by using the check_boundary_cells command."
.
.
the derived keepout margin is always hard; the -type setting is ignored.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
the following example prevents new cells from being added to the top-level module: fc_shell> set_allow_new_cells \ [get_attribute [current_block] top_module] false the following example prevents new cells from being added to the m1 module: fc_shell> set_allow_new_cells [get_modules m1] false fusion compiler™ user guide v-2023.12-sp3 178 chapter 2: preparing the design specifying settings for preroute optimization feedback the following example prevents new cells from being added to the u22 hierarchical cell: fc_shell> set_allow_new_cells [get_cells u22] false the following example prevents new cells from being added to the va1 voltage area: fc_shell> create_voltage_area_rule -name va1_rule \ -allow_new_cells false -voltage_areas va1 specifying a cell name prefix for optimization you can specify a name prefix for the cells added on the data nets during optimization by using the opt.common.user_instance_name_prefix application option.
115 specifying upf constraints for physical-only cells .
"to apply the definition to specific corners, use the -corners option."
.
.
.
missing_vias overlaps of supply net routing on different layers that do not have vias connected.
"if you specify the clock balance groups to remove, they are removed from the current mode."
.
.
.
"by default, the command creates pin cutouts only in the preferred routing direction."
supports gate classes and calculation depends on whether the pin is connected to a diode.
.
.
.
"• certain endpoints by specifying a file containing the endpoints by using the ccd.targeted_ccd_end_points_file application option, as shown in the following example: fc_shell> set_app_options -name ccd.targeted_ccd_end_points_file \ -value endpoint_targets.tcl if you specify both path groups and endpoints, the tool optimizes only the specified endpoints that are in the specified paths groups."
"to legalize the placement of only the relative placement groups, but not nonrelative placement cells, use the legalize_rp_groups command."
reducing electromigration clock cells consume more power than cells that are not in the clock network.
.
fusion compiler™ user guide v-2023.12-sp3 617 chapter 7: chip finishing and design for manufacturing finding and fixing antenna violations feedback • performs layer hopping to fix antenna violations layer hopping decreases the antenna ratio by splitting a large metal polygon into several upper-level polygons.
.
.
.
.
.
.
.
.
.
.
.
.
the default is 0. the following example creates a bus routing constraint group for the nets that match the pattern pr*.
.
.
.
.
.
.
.
reducing signal integrity effects on clock nets the timing of a design can be improved by reducing signal integrity issues on clock nets.
.
note: the clock cell spacing rules are also honored by the balance_clock_groups command.
.
.
.
the actual via insertion is not done during routing; you must still perform postroute redundant via insertion by using the add_redundant_vias command.
"for more information, see defining minimum wire lengths."
.
this mode allows the best routability.
.
.
note: the conversion rate for unweighted vias is reported as “un-optimized.” • the total double via conversion rate for the block note: the redundant via rate reported by the report_design command differs from the redundant via rate reported by zroute during redundant via insertion or the check_routes command.
154 generating automatic group bounds for clock gating cells .
"to enable clock gate support for dft wrapper cells, set the following variable to true: compile.clockgate.enable_dft_wrapper_cell_support fusion compiler™ user guide v-2023.12-sp3 335 chapter 4: clock gating special naming and querying for dft wrapper clock gates feedback the following figures show how a clock gate can be split so that different clock gates can gate internal cells and wrapper cells separately: figure 69 splitting a clock gate to internal cells and wrapper cells figure 70 gating internal cells and wrapper cells separately fusion compiler™ user guide v-2023.12-sp3 336 chapter 4: clock gating special naming and querying for dft wrapper clock gates feedback note: the clock gates cloned to gate wrapper cells alone, inherit their names from parent clock gates and have dft_wrapper_ appended to their names."
.
.
.
.
.
this file contains the default settings for the supported parameters.
.
.
.
"for example, to route all clock nets, use the following command: fc_shell> route_group -all_clock_nets the route_group command runs global routing, track assignment, and detail routing on the clock nets."
.
.
"• when you run the compile_targeted_boundary_cells command, the tool places the boundary cells in their default orientation around the specified objects."
.
.
.
.
.
.
.
.
.
.
.
.
"implementing clock trees and performing post-cts optimization before you perform clock tree synthesis, you should save the block."
"for example, # this is a comment for more information about writing scripts and script files, see the using tcl with synopsys tools manual."
.
• delay-based automatic ungrouping the command ungroups hierarchies along the critical path and is used essentially for timing optimization.
.
"a soft congestion report includes the demand from the soft nondefault spacing rules, as well as tool-generated soft rules."
.
.
.
"the check_routes command reports the following drc violations: • spacing violations ◦ different-net wire spacing ◦ different-net nondefault wire spacing (note that the drc report refers to nondefault routing rules as variable rules) ◦ different-net via-cut spacing ◦ different-net nondefault via-cut spacing (note that the drc report refers to nondefault routing rules as variable rules) ◦ different-net fat extension spacing ◦ dog bone spacing ◦ end-of-line spacing ◦ enclosed via spacing ◦ same-net spacing ◦ same-net via-cut spacing ◦ same-net fat extension spacing ◦ special notch spacing ◦ u-shape spacing ◦ via-cut to metal spacing ◦ soft spacing fusion compiler™ user guide v-2023.12-sp3 570 chapter 6: routing and postroute optimization analyzing the routing results feedback • area violations ◦ less than minimum area ◦ less than minimum enclosed area ◦ fat wire via keepout area ◦ jog wire via keepout area • length and width violations ◦ less than minimum width ◦ less than minimum length ◦ less than minimum edge length ◦ protrusion length • contact violations ◦ needs fat contact ◦ needs poly contact ◦ needs fat contact on extension ◦ over maximum stack level • enclosure violations ◦ end-of-line wire via enclosure ◦ jog wire via enclosure ◦ t-shape wire via enclosure • others ◦ open nets, except when doing area-based drc by default, the check_routes command reports a maximum of 200 open nets."
"fc_shell> load_upf block.upf 2. if you are using the golden upf flow and have a name-mapping file, read the file by using the read_name_map command."
.
.
◦ the tap drivers among which the sinks are redistributed by using the -driver_objects option.
.
.
.
.
.
.
.
.
.
.
.
"to specify a different file name, use the -rule_file option."
.
zroute can fix only top-level violations; using this option ensures that signoff design rule checking reports only fixable violations.
796 aligning by the left edges .
.
.
.
.
.
.
"the input pin name and output pin name can be specified by using the -lib_cell_input and -lib_cell_output options if needed, or filter out invalid cells from input."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
the tool also rewires across the hierarchy because boundary optimization is enabled by default.
.
.
.
.
.
.
.
• specify the cells to consider by using the -cells option.
note: distance-based tapering and layer-based tapering are mutually exclusive.
.
• signoff.fix_drc.fix_detail_route_drc this application option controls the scope of drc fixing.
.
b. rerunning initial routing with the rebalanced routing layer settings.
.
.
.
.
.
.
.
.
.695 setting options for interactive design rule checking .
.
.
.
"if your block uses double-patterning technology, use the -output_colored_fill option to set mask constraints on the fill shapes."
.
.
.
"• for multivoltage designs with always-on buffering requirements, the list contains always-on cells • the library cells in the reference list do not have a dont_touch attribute if library cells have the dont_touch attribute set on them, they are not used by clock tree synthesis even if you specify them as clock tree references."
the write_qor_data command captures a standard set of qor data to disk from most of the common tool reports like the report_qor and report_power.
.
.
.
"in the fusion compiler environment, custom router provides the following features: • prerouting in the batch mode • tcl-based routing constraint management • automatic routing with custom routing constraints • hybrid flow for prerouting • double data rate (ddr) net routing flow custom router is fully integrated with the fusion compiler tool, and supports advanced design rules for 20 nm and below technologies."
.
.
.
.
"• user-defined via definitions you can define simple vias, simple via arrays, and custom vias."
.
.
"• to perform legalization only, use the -legalize_only option."
.
.
.
.
.
.
.
"by default, the tool expands the cells in the horizontal direction, which helps reduce congestion in the vertical routing layers."
.
.
.
.
.
.
.
.
you can also use this feature during the early design phases to get an idea of the quality of the rtl.
"fusion compiler™ user guide v-2023.12-sp3 260 chapter 3: physical synthesis specifying settings for performance, power, and area improvement feedback specifying settings for performance, power, and area improvement the following topics provide information settings you can use to improve performance, power, and area (ppa) of a design: • enabling high-effort timing mode • enabling enhanced delay optimization to improve total negative slack • enabling high-effort area mode • enabling the embedded area optimization flow enabling high-effort timing mode in most cases, you can achieve better timing qor by enabling high-effort timing mode for compile."
.
.
.
.
.
.
.
"valid styles are flush, full_width, and half_width."
.
.
"fc_shell> create_eco_bus_buffer_pattern -name top_left \ -first_buffer top -measure_from left -distance 2 -repeat_after 3 figure 219 buffer patterns for a horizontal bus 2 2 first buffer the following example creates the buffer pattern shown in figure 220 for a vertical bus, where the first buffer is placed on the rightmost net."
.
"routing rulenondefault, definedwide wires are represented by nondefault routing rules."
.
"to change the end cap style, use the -start_endcap and -end_endcap options."
you can write it out by using the write_saif command and use it in the subsequent steps of the design flow.
the command skips the specified non-od cells and measures to distance from the target tap cell to the first neighbor with an od layer.
"4. specify the required settings by using the set_regular_multisource_clock_tree_options command and fusion compiler™ user guide v-2023.12-sp3 402 chapter 5: clock tree synthesis implementing multisource clock trees feedback perform tap insertion and global clock tree (h-tree) synthesis by using the synthesize_regular_multisource_clock_trees command, as described in performing automated tap insertion and h-tree synthesis."
.
.
.
.
.
.
.
.
enable conditions are represented by boolean expressions for nets.
.
.
.
.
.
.
.
.
.
"to change the maximum routing layer from m7 to m8, but keep the other settings, use the following command: fc_shell> set_ignored_layers -max_routing_layer m8 reporting global layer constraints to report the ignored layers, use the report_ignored_layers command."
.
106 using automatic floorplanning .
"by default, the tool removes the configuration data when the command run is complete."
the default is low.
"-extra_gsr_option_file supported not supported -multiple_script_files supported not supported -submit_to_other_machines supported not supported before performing rail analysis using the redhawk-sc fusion capability, you must specify the location of the libraries and the required input files as described in preparing design and input data for rail analysis."
.
.
.
"you can control the naming style for parameterized modules using the following application options: hdlin.naming.template_naming_style, hdlin.naming.template_parameter_style, and hdlin.naming.template_separator_style."
.
.
.
"generate reports before compile to check that you have set attributes, constraints, and design rules properly."
.
"figure 146 settings used to display objects for design rule checking drc toolbar the drc toolbar provides buttons that you can use to configure and run interactive design rule checking with live drc, and to view the reported drc violations in the layout view."
.
the rule names are specified in the comment section in the runset file.
.
vertical routing guides and blockages have the specified x-width.
.
.
.
default is false.
.
"for example, to enable the use of the vl1, vl2, and vl3 via ladder templates for the u1/i1 and u2/i2 pins, use the following command: fc_shell> set_via_ladder_constraints -pins {u1/i1 u2/i2} \ {vl1 vl2 vl3} to report the via ladder constraints, use the report_via_ladder_constraints command."
.
check if the eco.placement.eco _enable_virtual_c onnection option is set to true and the place_group_repea ters -repeater_groups option is specified.
.
.
.
.
905 performing minimum path resistance analysis .
.
.
.
"specifying via ladder candidates for library pins to specify the valid via ladders that can be used for a given library pin during preroute optimization, use the set_via_ladder_candidate command."
.
.
.
.
.
494 removing routing corridors .
.
.
.
"• to remove a metal fill shape, use the remove_shapes command."
"when validation checking is enabled, the attribute value is true for the valid taps and false for the invalid taps."
.
"• to remove a specific label and all rules associated with that label, use the -label option to specify the label."
.
the command uses this information to select the filler cells with the lowest leakage current that meet the legalization requirements.
.
.
.
.
"create the ems database before you run the check_hier_design command, as shown in the following example: fc_shell> create_ems_database check_hier.ems fc_shell> check_hier_design -stage timing fc_shell> save_ems_database in the fusion compiler gui message browser, you can sort, filter, and link the messages to the corresponding man page, as shown in the following figure."
.
.
.
.
.
.
.
.
.
.
529 timing-driven global routing .
.
.
"6. perform tap assignment by using the synthesize_multisource_clock_taps command, which ◦ merges equivalent clock cells to remove any artificial boundaries between clusters of sinks ◦ assigns endpoints to the closest tap driver and splits cells along the path honoring any sink groups defined ◦ copies the upf and sdc constraints and the user-specified attributes onto the newly created cells across the active scenarios 7. synthesize the entire clock tree, from the clock root, by using the following command: fc_shell> clock_opt -from build_clock -to route_clock during this step, the tool builds the local subtrees that are driven by the tap drivers."
.
.
.
.
.
.
.
.
"to override the setup and hold values specified in the library, use the set_clock_gating_check command before compiling the design."
.
.
.
.
.
the register-to-register logic is discarded.
.
.
.
.
"if your block uses double-patterning technology, first perform signoff drc fixing for all other routing design rules, and then perform signoff drc fixing for only the double- patterning rules, as described in automatically fixing double-patterning odd-cycle violations."
.
.
.
.
.
.
"inserting boundary cells the fusion compiler tool provides several methods for inserting boundary cells, depending on where you want to insert the boundary cells."
.
.
.
.
• top_right the anchor point of the relative placement group is set to its top-right corner.
.
.
.
.
.
.
.
.
.
.
.
.
.
layer_map_file (none) specifies the name of the layer mapping file.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"the effective boundary of a voltage area shape includes its guard band; however, the effective placeable area of the shape does not."
783 adding objects to a group .
.
181 assigning nondefault routing rules to critical nets .
.
"in this case, the command verifies only that there are no gaps on these sides."
.
.
"modifying voltage areas after you have created voltage areas, you can make the following modifications to a voltage area: • change the power domains associated with the voltage area to change the power domains associated with a voltage area, use the -add_power_domains and -remove_power_domains options with the set_voltage_area command."
.
.
.
"it contains one wire access-preference area with coordinates of (0, 0) and (2, 1) and two via access-preference areas, one with coordinates of (0, 0) and (5, 5) and one with coordinates of (40, 40) and (45, 45)."
.
.
• short rows and edges this check verifies that each row of boundary cells is wider than the value specified by the set_boundary_cell_rules -min_row_width option and that the horizontal edges of each blockage are greater than the value specified by the set_boundary_cell_rules -min_horizontal_jog option.
.
.
* application option to enable the following pin access checks: • legalization • router • automatic derivation of cell spacing rule use the -mode option with the check_libcell_pin_access command to perform multiple checks by specifying different modes.
.
this option is not valid with the -nets option.
.
.
fusion compiler™ user guide v-2023.12-sp3 932 chapter 12: redhawk and redhawk-sc fusion displaying maps in the gui feedback table 70 analysis maps supported in redhawk fusion flow (continued) map type description rail instance peak current map shows peak current values for different instances or areas in the block.
.
2. legalize the spare cells by using the place_eco_cells -legalize_only -cells command.
.
.
"1. remove any existing timing constraints: fc_shell> remove_scenarios -all fc_shell> remove_modes -all fc_shell> remove_corners -all fusion compiler™ user guide v-2023.12-sp3 839 chapter 11: hierarchical implementation linking to subblocks with multiple labels feedback 2. use the change_abstract command to change from the abstract view to the design view: fc_shell> change_abstract -view design -references blk1 3. apply the full-chip scenario creation script: fc_shell> source full_chip_scenario_creation.tcl if the abstract view for a block has changed in its design library, you can reload the new abstract view by using the change_abstract -reload command."
.
.
.
.
"• to save the repair and its record to the subblock successfully, the following setup is required: 1. enable the reference libraries, containing the subblocks, for edit open_lib top.nlib -ref_libs_for_edit fusion compiler™ user guide v-2023.12-sp3 846 chapter 11: hierarchical implementation checking designs with abstracts for top-level-closure issues feedback 2. enable editability on the subblocks, on which repair has to be performed set_editability -blocks <> -value true the check_hier_design command checks for the required editability settings, if repair has to be performed."
"there are many violations, particularly where the routing connects to pins."
.
.
.
.
.
.
.
.
.
814 analyzing relative placement in the gui .
"specifying settings for multivoltage designs for multivoltage designs, to • ensure that primary and secondary voltage areas are honored and cells are added in logical hierarchies that are physically in the corresponding voltage areas, use the -respect_voltage_areas option with the add_buffer_on_route command."
"however, these nondefault routing rules require additional space, which can increase the congestion after clock routing."
.
.
.
.
.
.
"by default, the command inserts tcd structures on all metal and via layers for the entire block."
.
"to remove them, use the remove_boundary_optimization command."
.
.
"for each of these application options, use the following syntax to specify the spacing to use for each layer: { {layer1 value1} ... {layern valuen} } you can specify the spacing value either as a multiple of the minimum spacing (nx) or a distance in microns."
.
.
"fusion compiler™ user guide v-2023.12-sp3 46 chapter 1: working with the fusion compiler tool entering fc_shell commands feedback interrupting or terminating command processing if you enter the wrong options for a command or enter the wrong command, you can interrupt command processing and remain in fc_shell."
.
.
.
.
.
.
.
.
.
.
.
.
.
3. specify the nets to analyze.
.
.
.
.
.
"• to insert boundary cells only around one or more voltage areas, use the compile_boundary_cells command with the -voltage_area option."
.
.
"fusion compiler™ user guide v-2023.12-sp3 822 chapter 11: hierarchical implementation performing hierarchical synthesis using abstracts feedback 3. apply dft settings by using commands such as set_dft_signal, set_scan_configuration, and so on, and create a test protocol by using the create_test_protocol command."
"encouraging river routing to encourage river routing on specific layers, use a single-layer routing guide."
"controlling datapath optimization datapath design is commonly used in applications that contain extensive data manipulation, such as 3-d, multimedia, and digital signal processing (dsp)."
the width of the cut metal shapes is defined by the cutmetalwidth attribute.
.
.
.
.
.
.
.
• port_type this attribute must have a setting of power or ground.
.
the specified layers must be between the minimum and maximum routing layers.
.
fc_shell> legalize_placement -cells $ddr_buf fc_shell> check_legality -cells $ddr_buf fusion compiler™ user guide v-2023.12-sp3 779 chapter 9: routing using custom router using a ddr routing flow feedback note: using the -cells option with the legalize_placement and check_legality commands is supported only in the standard legalizer.
.
.
.
.
.
"to specify a different design scenario for rail analysis, use the rail.scenario_name application option."
"see figure 161. figure 160 pin-based length matching report fusion compiler™ user guide v-2023.12-sp3 760 chapter 9: routing using custom router defining routing constraints feedback figure 161 net-based length matching report in example 34, the commands create wire matching constraints for the scenario shown in figure 157. all receivers (r) have a matched length constraint from the balanced driver (d)."
.
.
370 reporting the clock tree settings .
"6. create the clock mesh by using the create_clock_straps command, as described in creating clock straps."
"in such cases, the tool maps to the opposite type of register and inverts all the data inputs and outputs."
.
.
.
• setup condition this condition applies to latch-free clock gating only.
.
"however, you can reduce fusion compiler™ user guide v-2023.12-sp3 551 chapter 6: routing and postroute optimization performing postroute optimization feedback the number of postroute optimization iterations by using a single iteration of the hyper_route_opt command."
.
"fusion compiler™ user guide v-2023.12-sp3 1003 chapter 13: eco flow swapping variant cell feedback table 73 group repeater placement and insertion troubleshooting (continued) command error code message troubleshooting tips place_group_repeat ers unplace_group_repeat ers eco-261 warning: the number of path loads is less than the number of cells in group (%d), so skip these path loads."
"perform the following steps for manual grouping: 1. group your cells by -cells, cell order intends the cell connection."
"fusion compiler™ user guide v-2023.12-sp3 737 chapter 8: ic validator in-design inserting metal fill with ic validator in-design feedback figure 151 minimum density heat map • to display the density gradient heat map, choose view > map > icv metal fill gradient."
.
.
.
.
.
this approach is not suitable for fixing top-metal layer antenna violations when the output pin can provide only limited protection because there is no way for the router to break antenna violations at the topmost metal layer.
.
"so, when you use this command, ensure that the current scenario is enabled for dynamic power optimization."
"valid arguments are xor (the default), or, nand, and auto."
724 timing-driven metal fill insertion .
.
the following example adds two cells named eco1 and eco2 on net n22.
.
.
.
.
.
instance_minimum_path_resistance the minimum path resistance value on each instance.
.
.
.
.
.
.
805 controlling the optimization of relative placement cells .
"by default, the command does not swap dual-rail and single-rail cells if the swap is not necessary to fix isolation violations."
h routing: overflow = 1759 max = 2 (grcs = 1) grcs = 2756 (0.10%) phase3.
.
.
.
.
"for information about routing guides, see defining routing guides."
.
.
.
.
.
"to specify the minimum spacing in microns in the • x-direction, set the -x_spacing option to a nonzero value this value is usually dependent on the library cell’s drive strength and clock frequency."
.
(optional) specify self-gating settings using the set_self_gating_options command.
"however, this can lead to area, power, and runtime overhead for low frequency clocks, which have relaxed skew and latency targets."
"fusion compiler™ user guide v-2023.12-sp3 140 chapter 2: preparing the design specifying physical constraints for placement and legalization feedback hard placement blockages can also be defined in the def as shown in example 13. example 13 placement blockages in def blockages 2 ; - placement rect ( 0 327600 ) ( 652740 327660 ) ; - placement rect ( 0 327600 ) ( 652740 327660 ) ; end blockages 1 defining a hard macro placement blockage to define a hard macro blockage, specify the boundary, type (-type hard_macro option), and optionally the name for the placement blockage."
.
.
.
.
.
.
.
the specified coordinates indicate the lower-left corner of the cell boundary.
.
.
.
check if the -first_distance or -last_distance option specified is shorter than the gap between pin and route for driver or load.
.
.
.
.
.
"◦ when either or both of power and ground nets are physically disconnected from ideal voltage sources, the format is unconnected_type {net_names} instance_name instance bbox fusion compiler™ user guide v-2023.12-sp3 927 chapter 12: redhawk and redhawk-sc fusion writing analysis and checking reports feedback ◦ when the power or ground nets are either floating or logically floating but physically connected to ideal voltage sources, the format is unconnected_type {net_names} instance_name:pin_name instance bbox the following example writes a file containing the top five pg pin power values to an output file called power.rpt."
.
.
.
"fc_shell> set_rp_group_options [get_rp_groups design::rp] \ -group_orientation my for designs with hierarchical relative placement groups, the orientation settings are propagated down to the lowest level in hierarchy."
"◦ to set a logic-level threshold for the entire design, enter fc_shell> set_analyze_rtl_logic_level_threshold threshold_value ◦ to set a logic-level threshold for a specific path group, enter fc_shell> set_analyze_rtl_logic_level_threshold \ -group path_group threshold_value the path group setting overrides the global threshold of the entire design."
.
.
.
.
.
.
"to limit the report to specific nondefault routing rules, specify the rule names as an argument to the command."
.
3.
.
.
"table 17 restricting clock-tree layer constraints to assign a layer constraint to use this option specific clock trees -clocks clocks nets connected to the clock root1 -net_type root nets connected to one or more clock sinks1 -net_type sink internal nets in the clock tree (all nets except the root and sink nets)1 -net_type internal specific clock nets -nets nets figure 27 shows the root, internal, and sink nets of a clock tree after clock tree synthesis."
.
.
"when the reported values differ, use the values reported by the report_shields command."
.
.989 performing auto grouping flow .
.
.
.
.
.
.
.
.56 3 contents feedback querying checkpoints and checkpoint behaviors .
.
.
.
.
lists the hotspot grid that contains the specified cell instance object.
.
.
.
.
"to specify that the tool derives a symmetric configuration of tap drivers, set the cts.multisource.tap_selection application option to symmetric."
.
.
.
"• to display the minimum density heat map, choose view > map > icv metal fill density."
.
.
.
.
"for example, fc_shell> save_lib lib_a saving library 'lib_a' 1 • close_lib fusion compiler™ user guide v-2023.12-sp3 74 chapter 2: preparing the design setting up libraries feedback when you no longer need access to data in a library, you can close it by using the close_lib command."
.
the supported tap file format is as follows: net_name layer_number [x-coord y-coord] lines starting with semicolon (;) or pound (#) symbols are treated as comments.
specify the rules by specifying a matching pattern for the rule names.
132 controlling the placement of multivoltage cells .
.
.
.
.
.
.
.
.
.
.
.
.
.
"pin_density_aware the tool does this 7, 7+, 5, s5, or s4 true true or false performs technology-specific pin-cost-aware placement 7, 7+, 5, s5, or s4 false true performs pin-density-aware placement 7, 7+, 5, s5, or s4 false false does not consider the effects of cell pins during placement any other setting true or false true performs pin-density-aware placement fusion compiler™ user guide v-2023.12-sp3 157 chapter 2: preparing the design specifying placement settings feedback table 11 settings for controlling the effects of pins during placement (continued) set_technology -node place.coarse."
the command analyzes the information about each library cell pin and its shapes to determine the via ladder rules to associate with that pin and then outputs a script file that defines the associations.
.
-target specifies the type of target sequential elements.
.
"however, you can also insert them using the fusion compiler tool."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"-enclose_vias specifies whether vias are enclosed by the shield.valid values are unset, true, and false."
.
.
510 preventing off-grid routing .
.
.
.
.
.
.
.
.
.
.
.
.
.
place_group_repeat ers eco-237 warning: some cell to be placed has no load for path driver (%s).
.
.
.
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 732 chapter 8: ic validator in-design inserting metal fill with ic validator in-design feedback viewing metal fill in the gui to view the metal fill shapes in the layout view of the gui, 1. display the view settings panel by clicking the view settings icon ( ) in the panel area."
it shows the resistance for any given shape of the net.
-percentage (optional) reports cell instances with voltage drop values that are greater than specified percentage of the ideal voltage drop value.
.
.
.
"fusion compiler™ user guide version v-2023.12-sp3, may 2024 copyright and proprietary information notice © 2024 synopsys, inc. this synopsys software and all associated documentation are proprietary to synopsys, inc. and may only be used pursuant to the terms and conditions of a written license agreement with synopsys, inc. all other use, reproduction, modification, or distribution of the synopsys software or the associated documentation is strictly prohibited."
the command searches the nearby layout shapes within the specified snap distance both horizontally and vertically on the same layer as defined by the -layer option.
.
fc_shell> create_routing_rule ddr -widths {layer value …} \ -spacings {layer value … } fc_shell> set_routing_rule -rule ddr -min_routing_layer m4 \ -max_routing_layer m5 $all_ddr_nets fusion compiler™ user guide v-2023.12-sp3 777 chapter 9: routing using custom router using a ddr routing flow feedback set two or more layers for initial routing and length matching.
"fusion compiler™ user guide v-2023.12-sp3 589 chapter 7: chip finishing and design for manufacturing inserting tap cells feedback by default, the tap cells are placed along all edges on the specified side of the standard cell placement area with no gaps between the tap cells."
.
"the lower you set the percentage, the more transparent the block becomes, as shown in figure 138 and figure 139. figure 138 completely filled block fusion compiler™ user guide v-2023.12-sp3 677 chapter 8: ic validator in-design performing signoff design rule checking feedback figure 139 you can adjust the range of colored squares by modifying the bins value, as shown in figure 140 and figure 141. figure 140 bins value set to 5 fusion compiler™ user guide v-2023.12-sp3 678 chapter 8: ic validator in-design performing signoff design rule checking feedback figure 141 bins value set to 8 you can select or unselect layers from the heat map, as shown in figure 142 and figure 143. figure 142 selecting layers fusion compiler™ user guide v-2023.12-sp3 679 chapter 8: ic validator in-design performing signoff design rule checking feedback figure 143 selecting layers in the icv heatmap you can modify the squares of the heat map by right-clicking the colored squares and selecting set style."
.
435 creating collections of clock network pins .
.
.
.
.
select_op cells are mapped to combinational logic.
.
.135 specifying physical constraints for placement and legalization .
"to report specific information, use the -type option with the appropriate keyword."
"to display block-level rail results from top-level rail_database for debugging purposes, use the-top_design and -block_instance options."
.
applying required settings for high performance cores you can apply tool settings required for achieving the best qor for high performance cores by using the set_hpc_options command.
.
.
.
6.
.
.
.
.
.
place_group_repeat ers eco-253 warning: the cutline information %s for cell %s is not on valid route.
.
.
.
.
signoff.check_drc.
.
.
"for example, analyze -vcs ""-verilog -y mylibdir1 +libext+.v -v myfile1 \ +incdir+myincludedir1 -f mycmdfile2"" top.v elaborate ${design_name} set_top_module ${design_name} to read systemverilog files with a specified file extension and verilog files in one analyze command, use the -vcs ""+systemverilogext+ext"" option."
.
"preventing off-grid routing by default, wires and vias need to be aligned to the wire track grid for a metal layer only if the onwiretrack or ongrid attribute is set to 1 in its layer section in the technology file."
"you can specify the process label, process number, voltage, and temperature of the analysis environment by using one of the following methods: ◦ specify the process label, process number, voltage, and temperature values by using the -ppvt option, as shown in the following example: fc_shell> create_environment -name env1 -libset mylibset \ -ppvt {{ss1p, 1.0, 0.6, 125}} fusion compiler™ user guide v-2023.12-sp3 93 chapter 2: preparing the design analyzing libraries feedback ◦ specify a predefined operating condition from the reference library by using the -op_conds option, as shown in the following example: fc_shell> create_environment -name env2 -libset mylibset \ -op_conds ss1p6125 ◦ specify corners from which to infer the process label, process number, voltage, and temperature values by using the -corners option, as shown in the following example: fc_shell> create_environment -name env3 -libset mylibset \ -corners nworst ◦ specify that the tool infers the process label, process number, voltage, and temperature values from the scenario and upf associated with the current design by using the -auto_infer_design option, as shown in the following example: fc_shell> create_environment -name env4 -libset mylibset \ -auto_infer_design 3."
.339 deriving the clock trees .
.
.
.
.
.
.
.
• a subset specified at a lower level supersedes any subset specified at a higher level.
.
.
.
.
.
.
"for more information about checking or removing constraint groups, see managing constraint groups."
check for missing vias or unconnected pins in the block during voltage drop analysis or in a separate run.
.
.
the tool issues an error message if you try to redefine an existing routing rule.
.
.
• open nets an open net occurs when the pins of a net are not connected by its net shapes.
"to report or remove the mapping rules you specify, use the report_programmable_spare_cell_mapping_rule command."
.
.
.
.
"• to move a voltage area shape to the bottom, use the -bottom option."
.
"fc_shell> set_app_options \ -name compile_flow.flow.enable_multisource_clock_trees -value true fc_shell> compile_fusion -initial_place 13. synthesize the entire clock tree, from the clock root, by using the following command: fc_shell> clock_opt -from build_clock -to route_clock during this step, the tool builds the local subtrees that are driven by the tap drivers."
.
.
.
.
.
.
.
.
.
.
"• stretch connected tool to activate the stretch connected tool, click the button or choose edit > stretch connected."
.
.
.
fusion compiler™ user guide v-2023.12-sp3 470 chapter 6: routing and postroute optimization routing constraints feedback defining routing blockages a routing blockage defines a region where routing is not allowed on specific layers.
.
.
signoff.fix_drc.
.
.
.
.
.
.
.
.
.
.
.
.
.
netlist changes that the tool makes as a result of the fix_mv_design command are not guaranteed to be placement or timing legal.
.
.
.
.
.
.
.
.
.
"when you set the -virtual_flat option to all_routing, zroute routes all the nets in the block and preserves the hierarchy and pin constraints."
.
.
"to prevent the extraction and timing update, use the following commands to disable the timing-driven and crosstalk-driven modes: fc_shell> set_app_options \ -name route.global.crosstalk_driven -value false fc_shell> set_app_options \ -name route.global.timing_driven -value false fc_shell> set_app_options \ -name route.track.crosstalk_driven -value false fc_shell> set_app_options \ -name route.track.timing_driven -value false fc_shell> set_app_options \ -name route.detail.timing_driven -value false fusion compiler™ user guide v-2023.12-sp3 558 chapter 6: routing and postroute optimization performing eco routing feedback • works on all open nets in the block to perform eco routing only on specific nets, use the -nets option to specify the nets."
"to perform concurrent hard-rule-based redundant via insertion, 1. enable nearly 100 percent via insertion by setting the route.common.concurrent_redundant_via_mode application option to insert_at_high_cost."
.
.
"◦ to specify multiple constrained cell groups and their replacement cells, use the following syntax with the -refill_table option: { {{refill_cell1 {constrained_cells1}} ... } you can use this syntax to fix violations for threshold-voltage-based filler cells."
.
.
"(cmd-013) adding a group of repeaters to add a group of repeaters, use the add_group_repeaters command as described in the following sections: • defining a group of repeaters • grouping a list of repeaters • setting constraints for a group of repeaters • adding voltage area aware group repeaters fusion compiler™ user guide v-2023.12-sp3 981 chapter 13: eco flow adding a group of repeaters feedback • reporting the constraints assigned to a group of a repeaters • removing constraints for a group of repeaters • placing group repeaters before routing • performing on route placement of repeaters • placing group repeaters for multibit registers • specifying locations for repeater groups • allowing repeater groups over macros • specifying cut space and cut distance for repeater groups • specifying horizontal and vertical spacing for repeater groups • specifying library cells as repeaters • avoiding overlapping repeaters with existing tap cells • avoiding crosstalk during group repeater insertion • previewing repeater groups • unplacing the repeaters • removing repeater groups defining a group of repeaters to define a group of repeaters for cutline support, use the set_repeater_group or create_repeater_groups command."
.
"to specify a switching activity file, use the -switching_activity option by using the following syntax: -switching_activity {type file_name [strip_path] [start_time end_time]} ◦ vcd: specifies a vcd file that is generated from a gate-level simulation."
"fusion compiler™ user guide v-2023.12-sp3 864 chapter 11: hierarchical implementation transparent hierarchy optimization feedback performing tho during compile_fusion final_opto stage the fusion compiler tool performs transparent hierarchical optimization during the final_opto stage, which ensures that all interblock and block-top paths are optimized as if the design were flat."
preroutes the tool extracts preroutes that are defined in the def file.
"at the end of detail routing, it reports the shielding space violations and the locations where shielding wires cannot be established."
.
there can be multiple reasons for the same netlist object.
.
.
.
you can ignore a path group for all scenarios or a specific scenario.
.
.
.
"summary report for automatic design rule fixing the signoff_fix_drc command writes a summary report file, result_summary.rpt, to the current working directory."
.
.
(optional) use the insert_dft command to insert test cells into the design.
.
.
.
b. specify the output directory for the machine learning data by using the new est_delay.ml_delay_opto_dir application option.
.
"the default minimum bitwidth is 3. after clock gating is complete, the status of clock-gating conditions for gated and ungated register banks appears in the clock-gating report."
.
.
blocks linked with mismatching data can be used only for feasibility analysis.
"in addition, they can be disjoint, nested, or overlapping."
"for example, to specify a spread distance of 1.5 times the layer pitch, use the following command: fc_shell> spread_wires -pitch 1.5 • uses twice the layer pitch as the minimum jog length to modify the minimum jog length, use the -min_jog_length option."
.
"for more information, see setting self-gating options."
.
201 specifying net-specific layer constraints .
"it performs rtl-to-rtl, rtl-to-gate, and gate-to-gate verifications."
.
444 defining custom vias .
.
the following example shows a portion of a report generated by the report_transformed_registers -multibit command.
.
.
.
.
"if you do not specify a value for a layer, zroute uses the default minimum length of four pitch lengths for that layer."
.
.
.
.
.
664 defining the layer mapping for ic validator in-design commands .
.
.
.
.
.
"to remove a group of constraint objects, use the following command: fc_shell> remove_objects [get_attribute \ [get_edit_groups pc__edit_group_blockname_n] objects] routing nets within a specific region to route one or more nets within a specific region, 1. define a routing corridor by using the create_routing_corridor command, as described in defining routing corridors."
"you can specify an integer between -128 and 128, inclusive."
.
"to perform custom routing with custom router in the fusion compiler environment, run the route_custom command."
.
.
for example: fc_shell> remove_repeater_group_constraints -type type_list placing group repeaters before routing use the preplace_group_repeaters command to place the group repeaters before the routing.
.
.
.
"◦ for a tiling type setting of compression, the height default to the height of site row and the width to the width of one site."
.
"unless otherwise specified, these parameters apply only to track-based metal fill insertion."
.379 performing dynamic-voltage-drop-driven concurrent clock and data optimization during the route_opt command .
.
.
"the default report (without using any options) shows the cell count and area based on the following groups: repeater, combinational, register, sequential, clock network, and physical-only cells."
.493 reporting routing corridors .
.
"fusion compiler™ user guide v-2023.12-sp3 730 chapter 8: ic validator in-design inserting metal fill with ic validator in-design feedback by default, the tool compares the current block to the version used for the previous signoff_create_metal_fill run."
.
.
"for information about using the error browser, see using the error browser see also • running the signoff_check_drc command displaying objects for design rule checking when you run interactive design rule checking, the ic validator tool performs design rule checking on what is displayed in the layout window, plus an extension of 1 micron."
.
.
.
.
.
.
.
.
964 adding buffers in a specified configuration .
"to ensure accurate information, use the save_block command to save the current state of the block before running the signoff_create_pg_augmentation command."
.
.
.
.
"for dynamic analysis, the map displays average electromigration values, peak electromigration values, or root mean square electromigration values."
.
.
.
.
"the following example removes all the supply pin taps that are of the type top_pg: fc_shell> remove_taps [get_taps -filter type==top_pg] to remove all the taps in the block, run the following command: fc_shell> remove_taps missing via and unconnected pin checking note: missing via and unconnected pin checking is supported in both redhawk fusion and redhawk-sc fusion analysis flows."
"the embedded area optimization flow consists of dedicated ungrouping, fast area- driven logic restructuring, and light timing optimization."
.
concurrent soft-rule-based redundant via insertion soft-rule-based redundant via insertion can improve the redundant via rate by reserving space for the redundant vias during routing.
.
"running commands in parallel to improve runtime, you can run checking and reporting commands in parallel and return to the parent process after the longest running command in the parallel execution list completes."
.
.
.
.
.
.
.
.
.
.
(optional) limit the latency adjustment values for concurrent clock and data optimization as described in limiting the latency adjustment values.
.
.
"964 specifying the net names, buffers types, and their locations ."
.
.
the antenna flow consists of the following steps: 1. define the antenna rules.
"the compile_boundary_cells and compile_targeted_boundary_cells commands determine the site definition based on the library cells specified with the set_boundary_cell_rules command, and insert boundary cells only in the regions that use this site definition."
.
.
.
.
.
.
.
.
.
.
.
.
.
this improves clock latency to the specified endpoints.
.
.
.
.
"-------------------------------------------------------------------------- q2_reg[0] | register contains object different than edge-triggered flip-flops in its transitive fanin | check the register transitive fanin q2_reg[4] | register contains object different than edge-triggered flip-flops in its transitive fanin | check the register transitive fanin u/reg1_reg[2] | register enable function is not a cover of the transitive fanin enable function | check the register enable condition -------------------------------------------------------------------------- total 7 fusion compiler™ user guide v-2023.12-sp3 320 chapter 4: clock gating reporting clock-gating results feedback reporting clock-gating results after compiling your design, you can check the results using the report_clock_gating command."
signoff analysis features not included in the following list can only be run with the redhawk standalone tool.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"to select this rule, use the -replacement_rule small_filler_stacking option with the replace_fillers_by_rules command."
.
.
.
.
.
.
.
.
.
.
.
.
.
"for example, fc_shell> signoff_create_pg_augmentation -node <nodename> -mode remove_by_drc_auto inserting metal fill with ic validator in-design after routing, you can fill the empty spaces in the block with fill shapes to meet the metal density rules required by most fabrication processes."
.
.
.
.
"by default, the tool does not fix multiple-port nets during optimization."
(optional) enable the insertion of global-route-based via ladders on pins with via ladder constraints by setting the route.global.insert_gr_via_ladders application option to true.
.
.
"• to assign mask constraints to the shapes, use the mask_one, mask_two, or mask_three keywords for the mask_constraint arguments when specifying the -shapes option."
.
.
.
.
.
.
"if you specify this option with the -coordinates option, the command does not fix design rules in the overlapping regions."
.
.
.
"to determine the effective placement areas and guard bands for overlapping shapes associated with different voltage areas, the tool uses the effective boundaries to resolve the shapes as described in resolving overlapping voltage areas."
.
.
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 895 chapter 12: redhawk and redhawk-sc fusion running rail analysis with multiple rail scenarios feedback figure 203 error status after inserting pg vias for missing vias the tool marks the error object as fixed the following example inserts pg vias for all error objects of the vdd nets reported by the analyze_rail -check_missing_via command: fc_shell> set errdm [open_drc_error_data rail_miss_via.vdd.err] fc_shell> set errs [get_drc_errors -error_data $errdm] fc_shell> fix_pg_missing_vias -error_data $errdm $errs running rail analysis with multiple rail scenarios to control scenarios for redhawk fusion or redhawk-sc fusion rail analysis: • use the rail.scenario_name application option to specify a different design scenario for rail analysis.
.
-layer_gaps specifies the layer-specific minimum spacing between route objects and shield objects.
.
"if a subblock has been saved with multiple labels, you can specify which label the top level should link to by using the set_label_switch_list command."
.
.
.
597 creating routing guides during boundary cell insertion .
"to never read the fill data, set this application option to discard."
.
.
◦ every_other_row this pattern inserts tap cells only in the odd-numbered rows.
.
.
.
.
the capacitance data is derived by the redhawk extraction engine.
.
.
.
.
linking of the design and setting the top-level module is done using the set_top_module command.
.
.
.
"in addition, the number of rerouting phases is reduced for medium-, high-, and ultra-effort global routing."
.
"first, define relative placement groups that contain the leaf cells: rp1 contains u1 and u4, rp2 contains u2, and rp3 contains u3 and u6."
-via_defs specifies the vias that can be used to connect to the shield.
.
.
.
"this capacitor is inserted between two regular metal layers, as shown in figure 127. figure 127 cross-section view of mim capacitor layers maskname = ""mimtop"" m9 m9 m9 m8 maskname = ""mimbottom"" via via via m9 layer m8 layer mbot layer mtop layer mim capacitor maskname = ""viamimtop"" maskname = ""viamimbottom"" fusion compiler™ user guide v-2023.12-sp3 635 chapter 7: chip finishing and design for manufacturing inserting filler cells feedback mim capacitors are typically connected between power and ground to help maintain a constant supply voltage in the presence of electrical noise."
.
.
.
.
.
.
"single-loop matching to create single-loops to extend wires for length matching, use the custom router single- loop matching application options."
.
"for example, for the netlist shown in figure 72, the tool considers the clk port to be the clock root for the genclk1 generated clock."
.
init_drc_error_db (none) specifies the location of the signoff drc results from the previous run.
.
.
"by default, the specified cell spacing requirements apply to all clock cells."
.
.
.
.
.
.
signoff.check_drc.
.
"the following example defines a checkpoint report named timing, which writes the output of the report_qor and report_timing commands to disk: create_checkpoint_report timing { set name [get_current_checkpoint -name] set pos [get_current_checkpoint -position] report_qor -nosplit > ./checkpoint/$name.$pos.qor.rpt report_qor -summary -nosplit >> ./checkpoint/$name.$pos.qor.rpt report_timing -nosplit -max_paths 10 \ > ./checkpoint/$name.$pos.path.rpt } notice the use of the get_current_checkpoint command with the -name and -position options to give the generated reports a meaningful name."
.
.
.
.
.
the command specifies a precedence-ordered list of labels to use during linking.
.
.
.
.
.
.
.
.
"• minimum grid violations this check verifies that all pins, including those within library cells, are on the minimum grid, as defined by the gridresolution attribute in the technology file."
.
.
"creating hierarchical relative placement groups to create a hierarchical relative placement group by adding a group to another group, use the -rp_group option with the add_to_rp_group command."
856 creating etms in the primetime tool .
"by default, the tool does not use page mode, so the output might scroll."
.
"fc_shell> signoff_create_metal_fill -mode add for a few advanced nodes, you can add foundry fill on top of track fill, which is the default methodology to create fill on some special layers."
.
"to fix open nets, you must run eco routing."
.
303 controlling clock-gate latencies .
.
.
controlling the number of clock-gate levels the number of clock-gate levels is the count of clock gates between a clock source and a register.
.620 inserting redundant vias .
.
.
.
.
"• to limit rerouting to minor changes, set the attribute to minor_change."
.
.
"for more information about the fusion compiler tool, see the following companion volumes: • library manager user guide • fusion compiler design planning user guide • fusion compiler data model user guide • fusion compiler timing analysis user guide • fusion compiler graphical user interface user guide • fusion compiler multivoltage user guide • fusion compiler power analysis user guide this user guide is for design engineers who use the fusion compiler tool to implement designs."
"for example, the following command creates the routing guides and blockages shown in figure 100. fc_shell> derive_pin_access_routing_guides -cells mymacro \ -layers {m2 m3} -x_width 0.6 -y_width 0.7 in the figure, the two red pins are on m2 and the green pin is on m3."
• -pin this option specifies the physical pin connected to the created via ladder.
.
.
.
.
.
.
.
"to enable size- only mode, set the route_opt.flow.size_only_mode application option to one of the following values: • true_footprint, which allows resizing a cell only to a library cell that is an exact physical match, as determined by the tool after analysis this ensures that legalization or eco routing is not required after resizing • footprint, which allows resizing a cell only to a library cell that has the same footprint attribute in the library • equal, which allows resizing a cell only to a library cell that is equal in size • equal_or_smaller, which allows resizing a cell only to a library cell that is equal or smaller in size to disable size-only mode, set the route_opt.flow.size_only_mode application option to none or """", which is the default."
"to ensure accurate information, use the save_block command to save the current state of the block before running signoff design rule checking."
"when you set mismatch configurations, the tool either ignores or fixes several different types of mismatching data and continues the linking process."
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 987 chapter 13: eco flow adding a group of repeaters feedback the flow to avoid crosstalk during group repeater insertion is as follows: 1. use the following command to query interleaving groups: create_group_repeaters_guidance -net -number_of_interleaving_groups number by default, the number argument is set to 1. for example, if the value of the number is 2, one net group is separated into two interleaving net groups."
.
684 creating an autofix configuration file .
"in this table, • dp represents the diode protection value specified for an output pin."
.
.
.
.
these settings are only used for the clock qor summary.
.
you can apply command filtering to both block-level and full-chip upf files.
.
.
.
.
"when you enable this feature, the tool performs the area recovery during the compile_fusion and clock_opt commands."
.
.
.
.
"for the best correlation with standalone primepower time-based analysis results, run the primepower tool after the route_opt command."
.
.
273 sorting and filtering the data .
.
"in this case, the object is either a named library cell or a library cell collection."
.
.
.
.
"by default, the generated xml file is named auto_perf_via_ladder_rule.xml."
"• specify the lsf configuration as described in running ic validator using a job scheduler, but use the -add_hosts option in addition to the other command options."
.
.
.
.
"use the derive_clock_balance_points command before clock tree synthesis, when the design has ideal clocks."
261 enabling enhanced delay optimization to improve total negative slack .
.
.
.
.
.
"to enable this feature, set the route_opt.flow.enable_irdrivenopt application option to true, in addition to setting the route_opt.flow.enable_voltage_drop_opt_ccd application option to true."
.
fusion compiler™ user guide v-2023.12-sp3 752 chapter 9: routing using custom router defining routing constraints feedback option constraint -shield_placement specifies how to shield the main bus trunk if one or more nets of the constraint group are shielded.
"by default, the fusion compiler tool synthesizes and optimizes all clocks in all active scenarios that are enabled for setup or hold analysis."
the congestion map displays the sum of the hard and soft congestion with a weight level of at least the selected rule level.
.
.
.
"• to disable tapering for certain types of pins, set one or more of the following application options to true: route.detail.use_wide_wire_to_input_pin, route.detail.use_wide_wire_to_output_pin, route.detail.use_wide_wire_to_macro_pin, route.detail.use_wide_wire_to_pad_pin, and route.detail.use_wide_wire_to_port."
860 accessing libraries .
the cli is always available during a fusion compiler session.
.
.
.
.
.
.
.
.
.
fc_shell> set_app_options -name compile.clockgate.self_gating \ -value true 2. apply switching activity by using the read_saif or set_switching_activity command.
.
.
.
.
370 performing standalone clock trees synthesis .
.
.
.
signoff.check_drc.
.
.
.
.
.
"if the design library contains global route information, the tool uses the global route information to calculate the net delays; otherwise, it uses virtual routing to calculate the net delays."
"fusion compiler™ user guide v-2023.12-sp3 191 chapter 2: preparing the design setting up for power-related features feedback performing dynamic-power optimization to set up for dynamic-power optimization during the preroute optimization stage, perform the following: 1. annotate switching activity on the design, as described in annotating the switching activity."
"fusion compiler™ user guide v-2023.12-sp3 355 chapter 5: clock tree synthesis setting clock tree design rule constraints feedback setting clock tree design rule constraints the fusion compiler tool supports the following design rule constraints for clock tree synthesis: • clock tre synthesismaximum capacitanceclock tre design rule constraintmaximum capacitancemaximum capacitance to specify maximum capacitance constraints for clock tree synthesis, use the -clock_path option with the set_max_capacitance command."
.
.
.
.
.
.
.
"fc_shell> set_app_options \ -name route.common.concurrent_redundant_via_mode \ -value reserve_space to control the effort used to reserve space for the redundant vias during initial routing, set the route.common.concurrent_redundant_via_effort_level application option."
.
doing this also removes the shielding created by the route_custom command.
.
.
.
"to remove clock drivers inserted by the create_clock_drivers command, use the remove_clock_drivers command."
.
.
.
.
.
"to exclude certain types of child cells from checking, use the -exclude_child_cell_types fusion compiler™ user guide v-2023.12-sp3 573 chapter 6: routing and postroute optimization analyzing the routing results feedback option to specify one or more of the following cell types: abstract, analog, black_box, corner, cover, diode, end_cap, fill, filler, flip_chip_driver, flip_chip_pad, lib_cell, macro, module, pad, pad_spacer, physical_only, and well_tap."
.
.
specify the following options when using the add_buffer command: • -new_net_names: specifies the names of the new nets to add.
.
.
.
.
.
.
"see also • pattern-based metal fill insertion • track-based metal fill insertion replacing existing metal and via fill to remove and insert metal and via fill only for the specified locations, use the -mode replace option with the signoff_create_metal_fill command."
.
.
.
"when opening rail results, the tool does not detect if the result is generated with or without the -bg option."
.
"◦ the command tries to insert the filler cells in the order that you specify; for the best results, specify them from the largest to the smallest."
.
"related products, publications, and trademarks for additional information about the fusion compiler tool, see the documentation on the synopsys solvnetplus support site at the following address: https://solvnetplus.synopsys.com you might also want to see the documentation for the following related synopsys products: • design compiler® • ic validator • primetime® suite • starrc™ conventions the following conventions are used in synopsys documentation."
.
"when you enable this feature, the tool considers all corners associated with the mode in which the subtree options are defined."
the get_attribute command reports the attributes of the group_repeater_driver or group_repeater_loads command.
.
.
824 running the hierarchical synthesis feasibility analysis flow using etms .
.
.
.
.
"when you use this option, you must also use the -lib_cell option."
2. place the design by using the create_placement -floorplan command.
.
.
.
fc_shell> create_rail_scenario -name t_low \ -scenario func_cbest fc_shell> set_rail_scenario -name t_low \ -voltage_drop dynamic -extra_gsr_option_file extra.gsr \ -nets {vdd vss} fc_shell> create_rail_scenario -name t_high \ -scenario func_cbest fc_shell> set_rail_scenario -name t_high \ -voltage_drop dynamic -extra_gsr_option_file extra2.gsr \ -nets {vdd vss} 4. specify the multicore processing setting with the set_host_options command.
"when you use this option, the ic validator tool assigns a data type of 235 for fill shapes with a mask_one mask constraint and 236 for fill shapes with a mask_two mask constraint."
.
.
.
"when using an existing script file for rail analysis, the tool honors the settings in this file and ignores all other currently enabled options."
.
"fusion compiler™ user guide v-2023.12-sp3 296 chapter 4: clock gating setting up clock gating feedback the -enable_source option can be one of the following: • none • enable_pin_only • feedback_loop_only • both (default) • prefer_enable_pin • prefer_feedback_loop for example, the following command inserts an always-enabled clock-gating cell: set_clock_gating_objects -force [get_cells u_dfx/input_b_reg*] \ -enable_source none the following command uses the enable signal from the synchronous enable pin, if there is one."
"the command considers only those timing paths with slack less than -0.2 ns, so it defines a single balance group that contains clocks c and d. clocks a and b are not constrained because the timing paths between them have slack greater than -0.2 ns."
11. specify options and settings for tap assignment as described in specifying tap assignment options and settings.
"because the shapes are added only in specific regions, guided pg augmentation inserts fewer metal shapes and uses less routing area, which decreases the coupling capacitance impacts."
.
.
"the following fusion compiler script creates an etm for every mode and corner of the design and then combines them with the corresponding physical information and creates the corresponding cell library: # open the design, create a frame view, and set the primetime options open block.nlib:block.design create_frame <options> ;# extract_model needs frame for library preparation set_pt_options -pt_exec_path <> -work_dir etm_work_dir \ -post_link_script <tcl script with extract_model* variables> \ # to use starrc for parasitic extraction set_app_options -name extract.starrc_mode -value true set_starrc_options -config <starrc_config_file> # create the etm and generate the etm cell library extract_model by default, the fusion compiler tool writes out the generated etm library into • [pwd]/etm_lib_work_dir/block_name/label_name/ for labelled blocks • [pwd]/etm_lib_work_dir/block_name/ for non-labelled blocks creating etms in the primetime tool you can create an etm for design by using the extract_model command in the primetime tool."
.
.
.
.
.
.
.
.
"however, each power domain can be restricted to limit its usage of supply sets within that power domain."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 957 chapter 13: eco flow automatically adding spare cells feedback automatically adding spare cells after placement and optimization, you can add spare cells and legalize them by using the following steps: 1. add spare cells by using the add_spare_cells command and specify the following information: ◦ a name prefix for the spare cells by using the -cell_name option ◦ the type and number of spare cells to insert by using one of the following two methods: ▪ specify the library cells to use for the spare cell and the number of instances of each library cell by using the -lib_cell and -num_instances options for example, to insert 250 instances each of the and2 and or2 library cells, use the following command: fc_shell> add_spare_cells -cell_name spare \ -lib_cell {and2 or2} -num_instances 250 ▪ specify the library cells and a different number of instances for each library cell by using the -num_cells option for example, to insert 200 instances of the nand2 library cell and 150 instances of the nor2 library cell, use the following command: fc_shell> add_spare_cells -cell_name spare \ -num_cells {nand2 200 nor 150} ◦ (optional) a repetitive placement window in which to add the spare cells by using the -repetitive_window option for example, to add 15 instances each of the and2 and or2 library cells in a 20 by 20 micron window that is repeated throughout the placement area, use the following command: fc_shell> add_spare_cells -cell_name spare \ -lib_cell {and2 or2} -num_instances 15 \ -repetitive_window {20 20} to add 20 instances of the nand2 and 15 instances of the nor2 library cells in a 25 by 20 micron window that is repeated throughout the placement area, use the following command: fc_shell> add_spare_cells -cell_name spare \ -num_cells {nand2 20 nor 15} -repetitive_window {25 20} fusion compiler™ user guide v-2023.12-sp3 958 chapter 13: eco flow automatically adding spare cells feedback by default, the add_spare_cells command distributes the spare cells evenly throughout the entire design."
please double check the cell status.
.
.
.
.
.
"to fix open nets, you must run eco routing."
.
.
.
.
.
"you can specify either a relative path, in which case the directory is created under the current working directory, or an absolute path."
.
.
.
.
.
zroute can insert redundant vias during signal routing.
"defining a hard placement blockage to define a hard placement blockage, specify the boundary and optionally a name for the placement blockage."
.
3. set up the ic validator environment as described in setting up the ic validator environment.
.
"the library should also contain xor, nand, and or gates for the comparator gate."
.
.
.
.
.
.
.
you can select which bins to display in the congestion map by selecting or deselecting them on the map mode panel.
.
the following example shows the report generated by the report_hier_check_description command: fc_shell> report_hier_check_description ********************************************* report : hier check description design : top version: r-2020.09 date : fri aug 21 00:08:32 2020 ********************************************* legend e - error r - repair t - tolerate top - top-design blk - respective block-ref -------------------------------------------------------------------------------------- --------------------------- check error tolerate repair allowed allowed description id id id policies references -------------------------------------------------------------------------------------- --------------------------- hier.block.missing_frame_view tl-101 tl-401 tl-501 e|r|t blk missing frame view hier.block.abstract_missing_design_view tl-101 tl-401 n/a e|t blk missing design view for abstract hier.block.reference_missing_port_location tl-126 tl-426 tl-526 e|r|t blk missing location of physical hierarchy boundary pin hier.block.reference_port_outside_boundary tl-127 tl-427 tl-527 e|r|t blk location of physical hierarchy boundary pin outside physical hierarchy boundary generating a report of early data check records you can generate a report of check records from a design by using the get_early_data_check_records command.
.
.
.
.
.
improving yield by limiting the percentage of low-threshold-voltage (lvt) cells the fusion compiler tool can perform percentage-lvt-based optimization.
note: a single machine has one or more cpus and each cpu has one or more cores.
each metal shape is placed on the closest track to the edge.
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 629 chapter 7: chip finishing and design for manufacturing inserting redundant vias feedback 2. route the block.
.
.
.
.
.
.
.
.
.
.
"using a hybrid routing flow in the hybrid flow, custom router is used to perform trunk routing without completing some pin connections, and then zroute is used to complete the pin connections."
.
"if you need to customize your routing flow or you need to run a large block step-by- step, you might want to use the standalone routing commands instead of automatic routing."
.
figure 157 and figure 158 show examples of pin-based wire length matching.
"to consider the timing eco changes, in addition to the functional eco changes, use the -extract_timing_eco_changes option."
.
"adding buffers at an interval that is a ratio of the net length to add buffers at an interval that is a ratio of the total net length, specify • a list of one or more library cells to select from by using the -lib_cell option • the distance between the driver and the first buffer as a ratio of the total net length by using the -first_distance_length_ratio option • the distance between the buffers as a ratio of the total net length by using the -repeater_distance_length_ratio option the following example adds the buf1 library cell on the nets n3, n21, and n41 at an interval that is 20 percent of the total net length."
.
.
.
"during frame view extraction, the tool removes the corridor routing blockage to allow top-level routing in this area."
3. enable cell electromigration fixing by setting the cts.multisource.cell_em_aware application option to true.
.
.
.
.
.
.
.
.
.
.
.
.
"• to report the clock tree design rule constraints, target skew, and target latency, use -type configurations."
.
368 improving the repeater levels in clock tree .
.
.
.
"when the tool performs clock tree synthesis, it can use library cells that have an included purpose of cts."
"for n3 and beyond designs, the distance between tap columns is calculated automatically."
.
.
.
.
.
"however, you can disable the feature for specific clock gates by setting a dont_estimate_clock_latency attribute on their clock pins."
.
.
.
fc_shell> create_wire_matching -for [get_bundles grp1] \ -match_type length -tolerance 20 -force match1 fc_shell> create_wire_matching -for [get_bundles grp2] \ -match_type length -tolerance 20 -force match2 ◦ set the bounding box for the wire matching routing constraint.
.
the created rail scenarios are saved in the design library.
.
.
the syntax for each pair of values is as follows: {{netname distance}} custom.route.balance_mode reduces the skews caused by wire length and via cut count differences in interposer designs.
.
.
.
"the first click performs an ascending sort, while the second click performs a descending sort."
.
"for more information about the clock_opt command, see synthesizing, optimizing, and routing clock trees with the clock_opt command."
.
.
.
"in these cases, if both are specified, the ic validator parameter setting overrides the application option setting."
.
.
.
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 596 chapter 7: chip finishing and design for manufacturing performing boundary cell insertion feedback • insertion of boundary cells on short rows use the -min_row_width option with the set_boundary_cell_rules command to prevent insertion of boundary cells on short rows.
(optional) create multisource sink groups for tap assignment by using the create_multisource_clock_sink_group command.
.
.
.
"by default, the detail router performs a maximum of 40 iterations search and repair iterations."
.
.
.
"figure 192 a design with multiple levels of physical hierarchy bot mid top fusion compiler™ user guide v-2023.12-sp3 835 chapter 11: hierarchical implementation reporting abstract inclusion reasons feedback to create an abstract for the block named bot, use the following commands: fc_shell> open_block bot fc_shell> create_abstract to create an abstract for the block named mid, use the following commands: fc_shell> open_block mid fc_shell> change_abstract -view abstract -references bot fc_shell> create_abstract by default, the create_abstract command preserves all levels of the physical hierarchy."
you can control the placement of the spare cells as follows: ◦ specify an area within which to place the spare cells by using the -boundary option.
836 reporting abstract inclusion reasons .
.
.
"reducing critical areas a critical area is a region of the block where, if the center of a random particle defect falls there, the defect causes circuit failure, thereby reducing yield."
.
.
.
.
"fc_shell> set_rp_group_options rp1 \ -anchor_corner rp_location -anchor_column 1 -anchor_row 2 \ -x_offset 100 -y_offset 100 figure 174 using an object within the relative placement group for anchoring the relative placement group is anchored by placing the cell at column 1 row 2 at location (100, 100) 0 0 1 1 2 3 3 4 2 4 fusion compiler™ user guide v-2023.12-sp3 795 chapter 10: physical datapath with relative placement specifying options for relative placement groups feedback aligning leaf cells within a column you can align the leaf cells in a column of a relative placement group by using the following alignment methods: • left alignment (default) • right alignment • pin alignment controlling the cell alignment can improve the timing and routability of your design."
.
.
.
.
you must specify ◦ the clock for synthesizing the subtrees by using the -clock option.
vx_min_spacing minspacing 9 specifies the minimum spacing between vias.
.
accessing solvnetplus the solvnetplus site includes a knowledge base of technical articles and answers to frequently asked questions about synopsys tools.
"to select clocks from a specific mode, use the get_clocks -mode command to select the clocks."
"the metal shapes on the multiple-patterning layers must meet the multiple-patterning spacing requirements, whether they are routing shapes or metal within the standard cells and macros."
.
.
.
.
.
.
.
.
.
2. perform design planning and power planning.
.
.
.734 viewing density heat maps in the gui .
"fusion compiler™ user guide v-2023.12-sp3 733 chapter 8: ic validator in-design inserting metal fill with ic validator in-design feedback figure 150 settings used to display fill shapes in the gui reporting the metal density to report the metal density information, run the signoff_report_metal_density command."
.
.
.
.
7. perform timing-driven power grid augmentation by using the signoff_create_pg_augmentation command with one or both of the following options: ◦ -nets this option explicitly specifies the critical nets.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 886 chapter 12: redhawk and redhawk-sc fusion specifying ideal voltage sources as taps feedback use existing instances for creating taps when analyzing a top-level design where pad cells are instantiated physically.
.
.
.
"to insert boundary cells, 1. specify the boundary cell insertion requirements by using the set_boundary_cell_rules command, as described in specifying the boundary cell insertion requirements."
"to specify a different design library, use the -golden_lib option."
.
"to report the changes, use the -report_changed_nets true option."
.
.
you must either specify which relative placement groups to analyze or specify the -all option to analyze all relative placement groups.
.
../libs ../blocks fc_shell> set_ref_libs -rebind ../reflibs/lib_c ../reflibs/lib_d ../clibs/stdhvt.ndm} rebinding a library does not affect the bindings of blocks already existing in the design library.
.
• use automatic routing (the route_auto command).
.
.
"by default, the cut pattern is a full array of cuts."
.
.
.
.
.
.
"by default, when you use this option, the command considers the fixed cell as a blockage and breaks the row at the fixed cell, which can result in a tap cell being inserted on each side of the fixed cell."
.
.
"for more information, see illegal abutment rule."
.
• compile.auto_floorplan.initialize (default: auto) ◦ auto: creates missing floorplan information.
.
.
"if necessary, you can modify the clock balance groups as described in defining the interclock delay balancing constraints."
.
.
.
.
.
.
.
.
.
.
• display the hierarchy settings panel by clicking the hierarchy settings icon ( ) in the view settings panel or the menu bar.
.663 running ic validator using hybrid multicore processing .
2. run the analyze_rail command with the following options: option description -submit_to_other_machines enables redhawk job submission to the target farm machines.
.
.
.
table 30 user-defined routing guides purpose option route all nets in the preferred direction within the routing guide boundary.
.
.
4. proceed to other steps in the analysis flow.
.131 inserting isolation cells .
.
.
929 generating instance-based analysis reports .
.
.
.
.
.
.
.
.
.
.
.
default is false.
.
.
"• which metal segments are considered for the calculation (the antenna recognition mode) to tool supports the following antenna recognition modes: ◦ single-layer mode in single-layer mode, the tool considers only the metal segments on the current layer; the metal segments on all lower layers are ignored."
.
.
"fusion compiler™ user guide v-2023.12-sp3 661 chapter 8: ic validator in-design preparing to run ic validator in-design commands feedback you can enable multicore processing on specific hosts, by using a job scheduler such as the load sharing facility (lsf), or by using a combination of these methods."
.
.
.
.
.
.
.
.
.
.
.
.
the redhawk dump icc2_result command works only within the fusion compiler session.
"therefore, n1 and n2 nets are assigned with internal nondefault routing rule while net n3 is assigned to a sink nondefault routing rule."
.
.
.
.
in total 703 placement blockages created.
.
fusion compiler™ user guide v-2023.12-sp3 400 chapter 5: clock tree synthesis implementing multisource clock trees feedback 3. perform the following steps for multivoltage designs: a. enable multivoltage support by setting the cts.multisource.enable_full_mv_support application option to true.
.
.
check the place and connection mode.
.
.
.
.
.
"• via rotation by default, pin connections can use rotated vias."
.
.
.
.
"• to enable pin tapering only when required to avoid drc violations, set the route.detail.use_wide_wire_effort_level application option to either low or high."
.
.
.
.
.
.
991 swapping variant cell .
.
"• to create the routing guide in a different physical cell, use the -cell option."
"• stores the ic validator results in the signoff_fix_drc_run directory to use a different run directory, set the signoff.fix_drc.run_dir application option."
.
.
• the -max_tool_inserted_levels option specifies the maximum number of levels for tool-inserted clock gates.
.
"therefore, these upf constraints are ignored by any tool that does not have the snps_handle_physical_only variable set to true."
"to specify one or more library subset restrictions, use the define_libcell_subset command followed by the set_libcell_subset command."
.
.
.
• it inserts the filler cells immediately next to the standard cells; it does not consider the intercell spacing rules.
a self-gating cell is inserted for the registers if • there is enough timing slack available in the register's data pin.
.
"coaxial shielding provides even better signal isolation than same-layer shielding, but it uses more routing resources."
"removing target library subsets to remove a target library subset restriction from a top block or hierarchical cell, use the remove_target_library_subset command."
.
.
.
the specified rule must be a rule that you previously defined with the create_routing_rule command.
"by default, the route_detail command • performs detail routing on the whole block you can restrict the routing to a specific area of the block by using the -coordinates option (or by specifying or selecting the bounding box in the gui)."
figure 163 splitting bus trunk to route through power and ground rails fusion compiler™ user guide v-2023.12-sp3 768 chapter 9: routing using custom router using custom routing application options feedback tapoffs two custom router application options allow you to control tapoff operations: • custom.route.bus_tap_off_enable • custom.route.bus_tap_off_shielding the custom.route.bus_tap_off_enable application option connects pins to the bus trunk.
.
2. specify the clock tree constraints and settings.
.
.
.
.
.
.
"for example: module test (en1, en2, en3, in, clk, dataout); input en1, en2, en3, clk; input [5:0] in; output [5.0] dataout; reg [5.0] dataout; wire enable; assign enable = (en1 | en3) & en2; always @( posedge clk ) begin if( enable ) dataout <= in; else dataout <= dataout; end endmodule in this example, the enable condition for the register bank dataout_reg* can be expressed as en1 en2 + en3 en2."
.
.
following is an example of the report_cell_groups command.
.
.
.
.
.
.
you define the rules by specifying the filler cells to insert based on the threshold- voltage types of the cells on the left and right of the gap being filled.
.
(edc-001) error: no valid scan def found.
"to overwrite an existing mapping definition, use the -force option."
.
.
.
.
.
.
.
.
.
• insertion of boundary cells in child blocks use the -insert_into_blocks option with the set_boundary_cell_rules command to recursively insert boundary cells in the child blocks.
.
.
"when you specify clocks, the tool automatically constrains the paths between the registers driven by these clocks."
.
.
.
.
.
.
.
.
.
.
.
the following example specifies that the tool should be strict when checking for the scandef information.
.
.
.
"to resolve the balancing conflict, the tool defines the internal sink pins as ignore pins."
.
.
.
.
.245 creating a multibit register bank from specific single-bit registers .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"therefore, use it during the prototyping stages of the design flow when you are developing relative placement groups."
"to consider only specific drc violations, use the -drc_rules option."
.
.
"when you write a def file for a block with cut metal shapes, you must use the -version 5.8 option with the write_def command."
.
"to remove clock cell spacing rules, use the remove_clock_cell_spacings command."
.
.
"deriving metal cut routing guides if your technology file defines metal cut allowed and forbidden preferred grid extension rules and your block already contains boundary cells, you can create routing guides for these rules by using the -add_metal_cut_allowed option with the derive_metal_cut_routing_guides command."
.
.
.
.
.
.
"table 72 commands associated with bus patterns to do this use this command create bus patterns create_eco_bus_buffer_pattern fusion compiler™ user guide v-2023.12-sp3 967 chapter 13: eco flow adding buffers on routed nets feedback to do this use this command report information about bus patterns report_eco_bus_buffer_patterns get a collection of buffer patterns get_eco_bus_buffer_patterns remove bus patterns remove_eco_bus_buffer_patterns the following example creates the buffer pattern shown in figure 219 for a horizontal bus, where the first buffer is placed on the topmost net."
"note: when you create a routing blockage to prevent via insertion, you must use the -zero_spacing option; otherwise, frame view extraction does not use the route guide to trim the via region."
◦ -min_distance_repeater_to_load specifies the minimum distance between the last repeater group and the load.
.
.
"this type of architecture, a multiplexed flip- flop, incorporates a 2-input mux at the input of the d flip-flop."
.
"for example, fc_shell> set_auto_floorplan_constraints -core_utilization 0.8 • report_auto_floorplan_constraints the command reports the constraints set by the set_auto_floorplan_constraints command."
.
.
.
"using nondefault routing rules for critical nets during optimization to improve timing qor, the tool can use nondefault routing rules on timing critical nets during preroute optimization."
.
.
.
.
fix_isolated_via.
"to ensure accurate information, use the save_block command to save the current state of the block before running the signoff_create_pg_augmentation command."
"by default, the tool focuses on all active scenarios."
.
.
.
.
.
.
.
.
.
.
"to set it for only the clock or data paths, use the -clock or -data option."
.
.
.
.
.
.
.
.
.
• regular the top and bottom boundaries of a regular standard cell are at the full-height location of the cell rows.
.
.
.
.
.
.
• insertion of dense tap arrays a dense tap array is a tap cell array whose tap distance is smaller than the tap distance used by the create_tap_cells command.
.
.
.
.
"to control the file name extensions, use the following application options: hdlin.autoread.verilog_extensions, hdlin.autoread.sverilog_extensions, hdlin.autoread.vhdl_extensions, and hdlin.autoread.exclude_extensions."
.
.
.
.
the tool inserts one more level of clock-gating cells at the leaf level.
.
.
• -merge_equivalents setting this option to true allows a clock gate to be merged with an equivalent clock gate.
.
.
"by default, the check_routes command checks for routing drc violations, unconnected nets, antenna rule violations, and voltage area violations on all routed signal nets in the block, except those marked as user nets, frozen nets, and pg nets."
.
.
note: this feature is supported only for the in-compile dft flow.
.
.
.
the following example specifies that the tool should replicate the rega and regb registers by creating one additional copy of each register: fc_shell> set_register_replication -num_copies 2 rega fc_shell> set_register_replication -num_copies 2 regb figure 33 shows the rega and regb registers before and after optimization.
mx_excluded_cells {} specifies the macros that use the spacing defined in the mx_excluded_cells_oversize_value parameter.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
◦ static: performs static voltage drop analysis.
• -new_cell_names: specifies the names of the new cells to be added.
.
.
.
note that you cannot specify this effort level for the low weight level.
.
711 track-based metal fill insertion .
"fusion compiler™ user guide v-2023.12-sp3 783 chapter 10: physical datapath with relative placement creating relative placement groups feedback for example, to create a relative placement group named rp1 that has six columns and six rows, use the following command: fc_shell> create_rp_group -name rp1 -columns 6 -rows 6 figure 167 shows the relative placementpositions for datapositions of columns and rows in a relative placement group."
specify the routing layers by using the layer names from the technology file.
.
.
.
.
-switch_preferred_direction limit the number of occurrences of a specific routing pattern within the routing guide boundary.
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 33 chapter 1: working with the fusion compiler tool formal verification feedback figure 1 fusion compiler physical synthesis flow rtl/ netlist design (ndm) ref.
.
.
fusion compiler™ user guide v-2023.12-sp3 222 chapter 3: physical synthesis controlling mapping and optimization feedback carry-save arithmetic does not fully propagate carries but stores results in an intermediate form.
"depending on your standard cell library, you follow either an uncolored or precolored multiple- patterning flow."
.
.
.475 using routing guides to limit edges in the nonpreferred direction .
.
.
.
.
.
.
.
.
"to select this rule, use the -replacement_rule max_vertical_constraint option with the replace_fillers_by_rules command."
.
.
"the tool can identify a family of library cells based on • user-identified library cells properties, such function, threshold voltage, and so on • user-defined library cells lexical attributes and settings • user-specified custom library cell families the following figure shows the high-level flow for performing library analysis."
.
.
.
.
.
.
.
"the grid offset is 0 or pitch/2, whichever permits more pins on the grid."
.
"when you use ctrl+c, keep the following points in mind: • if a script file is being processed and you interrupt one of its commands, the script processing is interrupted and no further script commands are processed."
this is a mandatory input.
.
set the option to -1 to disable voltage check filtering.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 630 chapter 7: chip finishing and design for manufacturing inserting redundant vias feedback • the optimized via conversion rate for each layer the optimized via conversion rate includes both double vias and dfm-friendly bar vias, which have a single cut but a larger metal enclosure."
.
.
.
• the type of checks to perform by using the -stage option as follows: ◦ use the -stage timing option to perform timing related checks.
.
you can either remove specific clock balance groups by specifying the clock balance groups or all clock balance groups by using the -all option.
"if you use the -mapped option with the create_mv_cells command, the command inserts cells only from the user-provided logic library and issues an error if a suitable cell is not available."
-threshold sets a voltage threshold that triggers a missing via check.
.
.
.
"for example, in figure 6, if the spacing, x, between segments b and c is greater than the multiple-patterning minimum spacing, there is no odd cycle and the layout can be decomposed."
.
"if you specify a weak driving cell, the tool might insert extra buffers to try to meet the clock tree design rule constraints, such as maximum transition time and maximum capacitance."
.
.
.
.
"to delete an existing constraint, use the -force option."
.
6. remove the metal filler cells with drc violations by using the remove_stdcell_fillers_with_violation command.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"• -coordinates or -excluded_coordinates, which restrict the regions on which to perform metal fill insertion for more information about these options, see specifying the regions for metal fill insertion."
x x opt-4009 design has no tracks defined.
.
"• -relative_distance specifies the distance between the driver and the first repeater group, the distance between the first and second repeater groups, the distance between the second and third repeater group, and so on."
63 configuring multithreading .
fc_shell> create_eco_bus_buffer_pattern -name right_top \ -first_buffer right -measure_from top \ -user_specified_distance {2 3 2} fusion compiler™ user guide v-2023.12-sp3 968 chapter 13: eco flow adding buffers on routed nets feedback figure 220 buffer patterns for a vertical bus 2 3 first buffer 2 2. add buffers on the nets of the bus by using the add_buffer_on_route -user_specified_bus_buffers command.
this is useful in interactive sessions when you want to continue your work while the tool generates a report.
.
.
.
.
.
.
these offsets need to also be made block-context-specific so that the clock tree synthesis step can take them into account.
"see also • defining checkpoints • defining checkpoint behaviors • querying checkpoints and checkpoint behaviors querying checkpoints and checkpoint behaviors to return a list of all the checkpoints or checkpoint behaviors in the current session, or to return detailed information for any checkpoint or checkpoint behavior, use the get_checkpoint_data command."
.
.
.
.
.
.
.
.
.
.
• the cells considered for the check these cells are called constrained cells.
"for example, you can • use the current and output loading capacitance information to determine if a cell’s high peak is caused by too much load."
.
the tool routes the net pair the closest to each other with the most similar routing patterns.
.
the default is medium.
.
.
.
.
"to prevent this, you can use the fusion compiler™ user guide v-2023.12-sp3 372 chapter 5: clock tree synthesis implementing clock trees and performing post-cts optimization feedback redhawk fusion feature to analyze the pg network and use this information with the clock_opt command, as shown in the following flow: 1. use the redhawk fusion feature to analyze the pg network by using the analyze_rail -min_path_resistance command."
.
"together, the clock balance groups and their delay offset settings are referred to as interclock delay balancing constraints."
.
.
"◦ to specify the power net, set the signoff.create_pg_augmentation.power_net_name application option."
.
.
.
.
.
.
"by default, the tool does not perform timing-driven metal fill insertion."
661 running ic validator on specific hosts .
.
.
.
.
.
.
.
.
.
.
.
"when route-driven estimation is enabled, the tool ignores the setting of the opt.common.use_route_aware_estimation application option, which enables global- route-layer-based (grlb) rc estimation."
.
126 modifying voltage areas .
the report provides the ◦ track pattern of the variant cell group ◦ variant site ids ◦ honor cell group not sharing timing ◦ first track alignment 3. use the remove_repeater_group_constraints command to remove the constraints and reset the settings based on the report.
.
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 159 chapter 2: preparing the design specifying placement settings feedback 4.
.
.
"◦ minimum_physical_impact when you specify this setting, the tool first legalizes the eco cells that have available free sites within the specified displacement threshold."
.
fc_shell> get_attribute [get_pins cella/vdd] effective_voltage_drop -0.02812498807907104 the following example retrieves the static_power attribute for the cella cell.
.
.
.
"you can perform the following tasks for via rules: • create a collection of via rules by using the get_via_rules command • remove via rules by using the remove_via_rules command • display detailed information about the via rules by using the report_via_rules command • set or query via rule attributes to see the attributes supported on via rule objects, use the list_attributes -application -class via_rule command."
.
.
"for more information, see the man page for the set_pt_options command."
.
.
.
.
.
the set_top_module command links the specified top-level module.
.
"fusion compiler™ user guide v-2023.12-sp3 975 chapter 13: eco flow placing eco cells feedback if the displacement of an eco cell exceeds this threshold, the tool does not legalize the cell."
.
.
.
.
.
"in addition, the tool can guide the router to honor these nondefault rule assignments as soft constraints."
.
.
.
.
the following example shows how you can read a mix of netlist and rtl files.
.
.
you can automatically derive equivalent cells for all the preexisting clock tree cells and specify them as clock references by using the derive_clock_cell_references command.
.
.
the tool assigns the overlapped region to the voltage area associated with the top shape.
.
"• insert_via_ladders • route_auto, route_global, route_track, route_detail, and route_eco note: when you run routing with a single thread, the result is deterministic; if you start with the same block, you always get the same result."
.
.
.
.
.
.
.
"to compare the current block to a different block, use the -pre_eco_design option to specify the comparison block."
use the -index option to specify the index used to report voltage hotspot grids.
.
.
.
.
.
.113 applying the multivoltage power intent .
table 50 shows the commonly used parameters supported in the parameter file.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 155 chapter 2: preparing the design specifying placement settings feedback information: automatic density control has selected the following settings: max_density 0.60, congestion_driven_max_util 0.77."
.
.
"defining custom vias to define a custom via, use the following create_via_def syntax: create_via_def -shapes { {layer {coordinates} [mask_constraint]} ... } [-lower_mask_pattern alternating | uniform] [-upper_mask_pattern alternating | uniform] [-force] via_def_name in the -shapes option, you must specify shapes for one via layer and two metal layers, which are the enclosure layers for the via."
.
.
"to define a routing guide, use the create_routing_guide command."
.
.
.
.
.
.
3. scale the switching activity by using the set_power_clock_scaling command.
.
.
.
.
.
6.
"also, only the cells added by the add_group_repeat ers command and placed by the placed_group_repe aterscommand can be unplaced by the unplace_group_rep eaters command."
.
the vias listed in these options must be either vias defined in the technology file or design-specific vias created by the create_via_def command.
.
.
.
.
.
.
.
.
.
-corner_type specifies how the tool routes the bus trunks at corners.
.
.
"• stdcell custom router completes the pin connections for all pins in the block, except for standard cell pins."
.
.
.
.
.
.
.
.
"at the same time, we are working to ensure that our web content and software applications are usable to people of varying abilities."
.
.
.
.
.
"this is the default setting, and is preferred for top-level design closure."
hard move bound the tool must place the cells in the move bound within a specified region.
.
.
.
.
"• to remove all routing rules, specify the -all option."
.
.
.
.
.
"note: any filler cells that are not identified as constrained, unconstrained, or exception cells are considered constrained cells."
.
the default is true.
.
.
.
.
.
.706 inserting metal fill with ic validator in-design .
.
(optional) enable flexible h-tree synthesis by setting the cts.multisource.flexible_htree_synthesis application option to true.
.
.
.
"the mx or vx prefix in the parameters refers to the mask name, which can be found in the layer section of the technology file."
.
.
.
.
check_only_visible_layers all_layers controls whether live drc includes the rules defined on non-displayed layers.
.
.
"to report the implementation overview, specify the -summary with the report_resources command."
.
"to restrict the reported application options, provide a pattern string as an argument to the command."
.
.
"• -include_soft_congestion_maps fusion compiler™ user guide v-2023.12-sp3 565 chapter 6: routing and postroute optimization analyzing the routing results feedback use this option to output soft congestion reports, if they exist."
.
.
.
.
.
.
.
.
"• for the place_group_repeaters command, use the -check_prerequisites option with the following options to provide necessary information for the check: place_group_repeaters -cells | -repeater_groups [-lib_cell_input] [-lib_cell_output] -check_prerequisites • for the add_group_repeaters command, use the -check_prerequisites option with the following options to provide necessary information for the check: add_group_repeaters -nets | -bundles [-lib_cell_input] [-lib_cell_output] -check_prerequisites fusion compiler™ user guide v-2023.12-sp3 980 chapter 13: eco flow adding a group of repeaters feedback • the prerequisite check validates the following in a design and search region: ◦ site rows are present in the design."
.
.
.
.
.
.
.
.
.
.
691 checking signoff design rules interactively in the gui .
.
.
.
.
.
.
.
9. preserve the route shapes of the clock nets by setting the shape_use attribute of the clock nets to user_route.
.
.
.
.
.
.
.
.
.
.
.
"to specify a name prefix for the new cells and nets, use the -cell_prefix and -net_prefix options, respectively."
.
.
this is a required option of the define_antenna_rule command.
"2. enable real metal fill extraction by using the following command: fc_shell> set_extraction_options \ -real_metalfill_extraction floating for more information about performing extraction in the fusion compiler tool, see the fusion compiler timing analysis user guide."
185 using rtl switching activity with a name-mapping file .
"this command incorporates the primetime eco into the design library, tracks all the changes made to the design, and generates the incremental files that are required to run starrc incremental extraction and primetime incremental timing analysis and eco."
using flattened abstracts reduces the netlist size at the top level.
.
.
.
"the following example analyzes all the library cells that have instances in the current block: fc_shell> analyze_lib_cell_placement -lib_cells [add_to_collection \ -unique """" [get_attribute [get_cells -physical_context] ref_phys_block]] analyzing 215 lib cell(s)."
.
.
"fusion compiler™ user guide v-2023.12-sp3 431 chapter 5: clock tree synthesis analyzing the clock tree results feedback figure 97 detail fishbone routes and global comb routes global comb route fishbone trunk fishbone finger you can run specific steps of the synthesize_multisource_clock_subtrees command by using the -from and -to options and specifying merge, optimize, route_clock, or refine."
"when inserting the tap mesh, the command does not honor the standard cell rows or sites."
.
.
.
.
.
.
"to perform voltage drop analysis, use the analyze_rail -voltage_drop command or choose rail > analyze rail and select “voltage drop analysis” in the gui."
"figure 153 basic custom router flow define routing constraints perform custom routing block with routed power nets and unrouted clock trees technology file with design rule definitions perform postroute optimization analyze routing results before using custom router before you run custom router, you must • ensure the necessary design rules are correctly defined in the technology file, such as layer and via definitions."
.
"for incremental metal fill insertion, the command removes metal and via fill only from the specified layers."
.
• the endpoints of the global clock structure by using the -leaves option.
.
.
the command outputs an xml file that provides information about the via ladder rules and a script file that defines the via ladder rules.
.
.
.
density calculation parameters exclude_bounding_box_ blockage_for_density_ computation 1 controls whether the regions specified by the -excluded_coordinates option are excluded from the density computation.
note: the multicore configuration specified with the set_host_options command applies to all fusion compiler commands that support multicore processing.
304 10 contents feedback user-specified clock-gate latency .
the grid box with the smallest index number has the highest effective voltage drop values.
.
.
"• to enable the action to run before one or more checkpoints, specify the checkpoint names with the -before option."
"for example, to define a nondefault routing rule named new_spacing_rule2 that uses the default routing rule as the reference rule and defines nondefault spacing rules for the m1 and m4 layers, use the following command: fc_shell> create_routing_rule new_spacing_rule2 \ -spacings { m1 {0.12 0.24} m4 {0.14 0.28} } \ -spacing_weight_levels { m1 {hard medium} m4 {hard medium} } • if you specify both with -multiplier_spacing option and the -spacings option, the tool uses the -spacings option to determine the base spacing, and then applies the multiplier to that value to determine the minimum wire spacing requirement."
.
"note: user-defined routing guides are honored by zroute; however, they are not honored by the advanced route tool."
.
.
.
see using custom routing application options.
(eco-331) error: 0 use error_info for more info.
.
"• to specify the minimum and maximum routing layers, use the -min_routing_layer and -max_routing_layer options."
.
.
.
.
.
◦ -excluded_coordinates this option prevents design rule fixing in the specified regions.
586 17 contents feedback inserting exterior tap walls .
.
.
.
"note: before previewing the repeater groups again, you must first remove the annotation objects using either the gui_remove_annotations or gui_remove_all_annotations command."
.
.
.
.
.
.
.
.
"in addition, the command ignores corridor routing blockages (which are created when you use the -reserve_for_top_level_routing option with the create_routing_blockage command) and boundary routing blockages (which are created when you use the -boundary_internal or -boundary_external options with the create_routing_blockage command)."
.
"• to freeze the net and prevent rerouting, set the attribute to locked."
specify the application option with a list of paired values.
.
"for more information, see controlling the selection of self-gating objects."
two types of length-matching methods are available: • pin-based: wire lengths between pins must match.
.
.
.
a simple via array is a multiple-cut simple via.
.
.
.
.
.
.
.
signoff.fix_drc.
"optionally, you can customize the power analysis performed during dynamic power shaping optimization by using the ccd.dps.use_case application option."
.
.
.
• use the -clear option to remove all routing rules and net-specific layer constraints from the nets.
.
.
.
"to get the switching probability of a supply net, use the get_supply_net_probability command, and to reset the value, use the reset_supply_net_probability command."
.
.
"removing net-specific routing layer constraints to remove net-specific routing layer constraints, use the set_routing_rule -clear command."
.
.
.
.
.
"mapping of scan cells during test-ready compile, the tool replaces regular flip-flops with flip-flops that contain logic for testability."
"by default, the tool excludes all sinks with a negative slack."
.
.
.
.
.
.
.
.
for example: fc_shell> create_net_shielding \ -for [get_nets -physical_context pr*]\ -disabled_layers {m5 m6} -sharing true \ -layer_gaps {m2 3 m3 5} {shielding_4} table 52 lists the commands to define the custom router constraints by creating constraint groups.
.
"if so, you can prevent the tool from creating the temporary placement blockages by setting the cts.multisource.enable_pin_accessibility_for_global_clock_trees application option to false."
.
.
.
.
.
.
.
.
.
.
.
.
"for example, fc_shell> get_attribute [get_pins u_gs_pro_65/vdd] \ effective_resistance fusion compiler™ user guide v-2023.12-sp3 914 chapter 12: redhawk and redhawk-sc fusion performing distributed redhawk fusion rail analysis feedback see also • specifying redhawk and redhawk-sc working directories • writing analysis and checking reports performing distributed redhawk fusion rail analysis note: the distributed rail analysis feature is supported only in the redhawk fusion analysis flow."
... successfully deleted all temporary placement blockages and the cell map.
.
.
.
.
.
.
.
.
"• add cells within gas stations of specified supply nets, use the -respect_gas_station option and specify the supply net."
.
"if the command or script includes a redirect -bg command, the -bg option is ignored."
.
.
performing postroute optimization using the hyper_route_opt command the recommended flow for performing postroute logic optimization consists of multiple iterations of the route_opt command with different settings.
"specifying a keepout margin to prevent other relative placement groups from being placed close to a specific relative placement group, you can specify a keepout margin that applies only to other relative placement groups."
.
"• clock-balance groups qor to report a clock qor summary for each clock-balance group, use the -type balance_groups option."
signoff.create_metal_fill.
.
.
.
.
.
"for example, fc_shell> set_app_options -name rail.database \ -value rail_database_static_run otherwise, the redhawk/redhawk-sc tool overwrites the previously generated rail data with the new data, and issues the following warning message: warning: rail result still open!"
.
.
fusion compiler™ user guide v-2023.12-sp3 991 chapter 13: eco flow swapping variant cell feedback the following topics describe the steps in this flow • setting constraints of variant cell • setting application option • grouping variant cell • running and placing group repeaters • troubleshooting setting constraints of variant cell to set the constraints of variant cell: 1. use the set_repeater_group_constraints -type variant_cell_swapping command to set the variant for cell swapping.
"fusion compiler™ user guide v-2023.12-sp3 386 chapter 5: clock tree synthesis implementing clock trees and performing post-cts optimization feedback for example, to define a clock balance group named group1 that contains the clocks named clk1 and clk2 in the current mode, use the following command: fc_shell> create_clock_balance_group -name group1 \ -objects [get_clocks {clk1 clk2}] to define a clock balance group named group2 that contains all the clocks in the mode named m2, use the following command: fc_shell> create_clock_balance_group -name group2 \ -objects [get_clocks -mode m2] by default, the tool has a goal of zero delay offset between clocks."
.
.
.
.
.
432 reporting clock tree power .
.
.
.
.
.
.
.
.
"by using the compile_fusion command to synthesize and optimize the local subtrees of a structural multisource clock tree, you can improve the timing qor of the design."
"if your design contains unmapped instances, the tool issues an information message to indicate that only mapped instances are connected."
"• parasitic information for rc estimation and extraction, see the “performing parasitic extraction” topic in the fusion compiler timing analysis user guide."
"you can use this type of routing guide to allow routing over macros, which might reduce congestion for a block that contains much detour routing."
.
.
the application options are applied globally.
.
"-all disable drc on all clock, constant, scan enable, and scan clock nets."
"to disable this check, use the -check_via_cut_blockage false option."
.
.
mode is one of the following: • on: snaps routes and shields to tracks.
"for example, to specify that any clock net with a transitive fanout of more than 300 sinks be considered as a root net, use the following command: fc_shell> set_clock_tree_options -root_ndr_fanout_limit 300 figure 28 shows the root, internal, and sink nets of the same clock tree when a transitive fanout limit of 300 is specified for identifying the clock root nets."
"warning: routing direction of metal layer po is neither ""horizontal"" nor ""vertical""."
"none for hierarchical relative placement groups, you can use the set_rp_group_options -place_around_fixed_cells command and specify different settings for the top-level and the lower-level relative placement groups."
.
"to determine the error data files attached to the current block, use the get_drc_error_data command."
figure 213 shows how to display a rail map for the switch cells in the block and examine the voltage information of the selected switch cell.
"otherwise, it reads the frame view."
.
"by default, the tool sorts by the average delta voltage between defined layers."
.
"for example, fc_shell> report_ignored_layers **************************************** report : ignored layers design : my_design version: j-2014.12 date : wed oct 22 15:58:23 2014 **************************************** layer attribute value ----------------------------------------------------------------------- min routing layer m2 max routing layer m7 rc estimation ignored layers po m1 m2 m8 m9 mrdl 1 fusion compiler™ user guide v-2023.12-sp3 200 chapter 2: preparing the design specifying the routing resources feedback removing global layer constraints to remove the global layer constraints, use the remove_ignored_layers command."
.
.
.
"2. clock tree optimization before clock tree optimization, the tool performs global routing on the clock nets and uses rc extraction to determine the clock net timing."
.
.
.
"◦ to create a multiple straps in a single direction, specify an iterator list consisting of the start distance to the first strap, the end distance to the last strap, and the incremental distance between straps."
"figure 77 clock pins that cannot be balanced simultaneously verifying the clock trees before you synthesize the clock trees, use the check_clock_tre comandcomandscheck_clock_trecheck_clock_trees command to verify that the clock trees are properly defined."
.
signoff.create_metal_fill.
.
"◦ the ic validator tool does not set mask constraints on the fill shapes if your block uses double-patterning technology, use the -output_colored_fill true option to set mask constraints on the fill shapes."
.
.
.
"for example, fc_shell> close_lib closing library 'lib_a' 1 in addition, you can use the current_lib, get_libs, and report_lib commands to query design libraries."
.
providing block-level test models you can provide test model of the subblocks for the top-level design implementation when running hierarchical synthesis.
creates a shield via at each intersection of a shield path segment and a power strap.
.
.
.
"8. identify gaps in library cell families by using the find_library_gaps command, as shown in the following example: fc_shell> find_library_gaps -analysis mylibset_run1 the name of the analysis you specify with the -analysis option must correspond to the name of an analysis you previously performed by using the run_library_analysis command."
"by default, zroute • checks antenna rules and corrects violations for all clock and signal nets to disable fixing of antenna violations on specific nets, set the route.detail.skip_antenna_fixing_for_nets application option."
.
"to reduce the effort level, set the option to low."
.
this is also known as leakage power and depends on the device characteristics.
.
.
.
.
.
.
.
.
.
217 ungrouping or preserving hierarchies during optimization .
.
.
.
.
.
.
you must also specify the options required for the specific type of bound you want to create.
.518 setting the rerouting mode .
999 troubleshooting .
.
.
.
.
.99 reading designs using the -autoread option .
.
.
.
.
"by default, the tool uses ◦ the net connected to the clock root to insert the tap drivers and build the clock structure you can specify a different net of the clock network by using the -net option."
the placement of newly added buffers in exclusive move bounds is controlled by the opt.buffering.exclusive_hard_bound_buffering_mode application option.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 195 chapter 2: preparing the design setting up for power-related features feedback to set up for the recommended power integrity flow, perform the following steps: 1. enable the power integrity flow by setting the opt.common.power_integrity application option to true."
.
"fusion compiler™ user guide v-2023.12-sp3 841 chapter 11: hierarchical implementation preparing for top-level closure with abstracts feedback preparing for top-level closure with abstracts before you can perform synthesis, placement, optimization, clock tree synthesis, and routing at the top level, you must perform the following tasks: • apply the top-level-timing constraints and settings."
.
.
"when the -redhawk_script_file option is not specified, you must specify the nets to analyze by using the -nets option."
.
.
.
.
.
.
.
.
rail instance effective resistance map shows effective resistance values of a given instance in the block when effective resistance analysis is complete.
.
.
.
.
.
table 19 prechecks performed during the compile flow code message default compile prechecks compile_fusion -check_only opt-3000 design is not linked or has link issues.
"the higher the effort level, the more eco routing iterations are performed, which can reduce the number of drc violations at the expense of runtime."
.
.
.
.
.
.
"for more information about how to determine why multibit register banking is not performed for specific cells, see identifying why multibit banking is not performed."
the clock latency specified using the set_clock_gate_latency command is annotated on the registers during the compile_fusion command when the clock-gating cells are inserted.
"for all other objects, the resulting area includes the area of each object."
"to change the default name separator, use the multibit.naming.multiple_name_separator_style application option."
"by default, the fusion compiler tool writes the command log to a file named fc_command.log in the directory from which you invoked fc_shell."
.
.
.
.
note: synchronous reset and preset signals are not inferred for level-sensitive latches.
.
"stripes connected to one spine do not connect to stripes of a different spine and the minimum distance between the stripes of different spines is called the backoff, as shown in figure 90 fusion compiler™ user guide v-2023.12-sp3 415 chapter 5: clock tree synthesis implementing multisource clock trees feedback figure 89 clock mesh structure boundary of clock mesh start distance for incremental step for subsequent straps (0,0) start distance for incremental step for subsequent straps first vertical strap first horizontal strap end distance for last vertical strap end distance for last horizontal strap fusion compiler™ user guide v-2023.12-sp3 416 chapter 5: clock tree synthesis implementing multisource clock trees feedback figure 90 clock spine structure boundary of clock spine (0,0) backoff stripes spine the horizontal and vertical start, end, and step distances are applicable for clock spine structures too."
.
.
.
.
• compile.auto_floorplan.keep_placement_blockages (default: auto) ◦ auto: removes existing placement blockages if either of the following two application options is set to all.
.
.
.
.
"the script in example 43 creates a hierarchical group (rp4) that contains three included groups (rp1, rp2, and rp3)."
.
.
.
.
.
"in such cases, in addition to creating skew groups, you must also completely isolate the skew group endpoints from the rest of the clock tree by cloning the gates along the path to these endpoints."
.
report_logic_levels report logic levels of the design.
nondefault via spacing rules are hard constraints that must be met.
.
"• performs a maximum of 40 detail routing iterations to change the maximum number of detail routing iterations, use the -max_detail_route_iterations option."
.
.
.
.
990 performing manual grouping flow .
.
.
.
.
.
.
.
.
.
.
.
"note: after you modify the clock-gate latency using the set_clock_gate_latency command, if you compile your design using the compile_fusion command, it is not necessary to use the apply_clock_gate_latency command to apply the latency values."
.
• signoff.fix_drc.target_clock_nets this application option controls whether drc fixing targets data nets or clock nets.
.
.
.
.
.
.
• the width of a column is the width of the widest cell in that column.
.
.
.
.
• derive cut mask constraints for the specified nets or vias.
"however, to prevent the tool from seeing a very large delay through the clock mesh when synthesizing the local subtrees, annotate a realistic delay and transition value on the clock mesh net."
(optional) fix any remaining route drc violations by using the route_detail -incremental command.
.
.
.
.
.
752 inserting shields on the nets .
.
.
.
.
.
.
.
.
.
user_defined_options (none) specifies additional options for the ic validator command line.
.
.
.
768 trunk splitting .
"to run automatic routing, use the route_auto command."
"• to disable this feature, use the -not_spare_cell_aware option."
.
.
"to insert a dense tap array, use the create_dense_tap_cells command."
.
.
.
.
max_fanout specifies the maximum number of cells gated by the same clock-gating cell.
.
"◦ to ignore metal spacing rules on the pin layer when the via ladder shape is fully enclosed within the pin, use the -relax_pin_layer_metal_spacing_rules true option."
this topic describes how to insert redundant vias during clock routing.
"for example, the tool can combine eight 1-bit registers or four 2-bit register banks and replace them with one 8-bit register bank or two 4-bit register banks."
.
.
.
river routes the bits so that they do not overlap at the corner.
755 defining minimum wire lengths .
"fc_shell> eco_opt -pba_mode exhaustive -types {timing drc} \ -write_change_file_only for more information, see the man page for the eco_opt command."
.
multiplexers are commonly modeled with if and case statements.
sequential clock gates are inserted by the compile_fusion command.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 993 chapter 13: eco flow swapping variant cell feedback figure 221 cell group with two variants based on the first track offset of library cells and the pitch value, you can define and derive the variant library cell types, which start from 0. figure 222 shows variant type id definition."
"• to honor nondefault spacing rules between signal nets and shield wires for pg nets ◦ for all signal nets, set the route.common.ignore_var_spacing_to_shield application option to false ◦ for specific signal nets, use the -ignore_spacing_to_shield false option when you define the nondefault spacing rule with the create_routing_rule command • to ignore nondefault spacing rules between signal nets and pg nets ◦ for all signal nets, set the route.common.ignore_var_spacing_to_pg application option to true ◦ for specific signal nets, use the -ignore_spacing_to_pg true option when you define the nondefault spacing rule with the create_routing_rule command note: when you ignore nondefault spacing rules between signal nets and pg nets, the rules are also ignored between the signal nets and the shield wires regardless of the setting of the route.common.ignore_var_spacing_to_shield and create_routing_rule -ignore_spacing_to_shield options."
.
.
.
.
.
"by default, the tool uses a margin of zero and only creates the strap if it can do so at the exact position it derives."
• -max_bitwidth bitwidth controls the maximum size for self-gating banks.
321 reporting clock-gate enable signals .
.
.248 reporting multibit registers .
"for example, to enable design rule checking for all clock, constant, scan enable, and scan clock nets, specify the -none option: fc_shell> set_auto_disable_drc_nets -none to disable design rule checking on nets connecting to clocks and constants, set the -on_clock_network and -constant options to true, as shown in the following example and figure: fc_shell> set_auto_disable_drc_nets \ -on_clock_network true -constant true fusion compiler™ user guide v-2023.12-sp3 173 chapter 2: preparing the design controlling the optimization of cells, nets, pins, and ports feedback figure 25 drc disabled clock and constant nets highlighted clka clkb clkc clksel clkd in logic 1 const_sel clke drc disabled clock net drc disabled constant net preserving pin names during sizing by default, optimization can change the pin names of leaf cells during sizing if the functionality of the resulting circuit is equivalent."
.
"short nets tend to slow down due to increased capacitance, whereas long nets tend to speed up due to decreased resistance."
.
.
.
.
.
.
the set_clock_gate_transformations command provides the following options: • -split_fanout setting this option to false prevents fanout splitting even if the fanout is larger than the maximum allowed.
.198 specifying the routing resources .
.
.
.
"◦ splits multibit register banks, if it improves total negative slack (tns), during the initial_opto and final_opto stages to disable this feature, set the compile.flow.enable_multibit_debanking application option to false."
"it also fixes drc violations beyond ignore exceptions of the multisource clock tree, if applicable."
"for more information, see defining the net priority."
.
(optional) report the technology-node settings by using the set_technology -report_only command.
.
-min_segment specifies the minimum length of wiring to shield.
.
.
.
.
.
.
.
.
235 controlling sequential output inversion .
.
.208 applying required settings for advanced technology nodes .
.
"to specify the maximum number of cores to use when running the parallel_execute command, use the -max_cores option."
.
.
.
.
.
.
.
.
"a context model depicts the relationship between the block and the full-chip design, including both physical and electrical information, and enables you to verify the fixes by running block-level analysis rather than full-chip analysis."
.
.
.
.
.
.
.
"• when you use the -vias option, you explicitly specify the nondefault via definitions, including the allowed cut numbers and rotation for each via definition."
.
.
.
.
.
.
.
.
.
these checkpoints enwrap the commands associated with the given steps.
valid values are pos_edge_flip_flop and neg_edge_flip_flop.
.
.
this difference might result in unfillable gaps after filler cell insertion even though the check_legality command did not report any issues.
.
.
"(optional) enable distributed processing by using the set_host_options command, as described in enabling ic validator multicore processing."
.
.
.
.
ground_net_name (required) (none) specifies the name of the ground net.
.
"see also • pattern-based metal fill insertion • track-based metal fill insertion • timing-driven metal fill insertion performing metal fill insertion only in modified regions if you have previously run the signoff_create_metal_fill command on a block, you can use the -auto_eco true option to restrict the metal fill insertion to those regions of the block that have been modified since the last run."
.
.
.
.
.
.
"when inserting clock drivers to lower-level blocks, the tool reuses existing clock ports."
.
.
.
.
.
.
.
.
.
.
these reason codes correspond to the valid reasons for inclusion in the abstract.
.
"use the fixed information from def files or a tcl floorplan, and use the set_fixed_objects command to modify."
"when you use the -prefer_type_ordering option, the tool selects the library cells in each group specified in the -type_utilization option in priority order, from left to right."
316 fanin-based sequential clock gating .
"by default, the tool combines the congestion information of all layers during placement."
.
.
64 configuring distributed processing .
.
"◦ to specify a name to identify the run in the qorsum report, use the -run_name option."
.
.
.
.
.
"• viewing the default via mapping table • defining a customized via mapping table • postroute redundant via insertion • concurrent soft-rule-based redundant via insertion • near 100 percent redundant via insertion • preserving timing during redundant via insertion • reporting redundant via rates viewing the default via mapping table by default, zroute reads the default contact codes from the technology file and generates an optimized via mapping table."
.
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 765 chapter 9: routing using custom router using custom routing application options feedback table 56 application options for running custom routing (continued) application option description custom.route.single_loop_match custom.route.single_loop_match_max_spacing custom.route.single_loop_match_min_spacing custom.route.single_loop_match_offset_layer specifies how to extend the wire.
.
.
.
"(optional) provide a switching activity by using the read_saif command if you do not provide switching activity, the tool uses default switching activity for dynamic power recovery."
.
.
.
.
.
.
.
.
.
.
.
"• clock tre synthesismaximum transition timeclock tre design rule constraintmaximum transition timemaximum transition time to specify maximum transition time constraints for clock tree synthesis, use the -clock_path option with the set_max_transition command."
the following example sets the design.enable_via_ladder_protection application option to true and attempts to remove a collection of shapes: fc_shell> set_app_options -name design.enable_via_ladder_protection \ -value true ... fc_shell> sizeof_collection [get_shapes -of net1] 77 fc_shell> remove_shapes [get_shapes -of net1] -verbose warning: cannot edit path_32_7403 because it is part of via_ladder.
.
.
4. save the block to disk.
.
.
the string that you specify in this option is added to the command line used to invoke the ic validator tool.
.
.
"note that when you use this command, it also removes any nondefault routing rules assigned to the specified nets."
.
"setting sequential clock gating options sequential clock gates inserted by the tool honor the settings in the set_clock_gating_style command, which applies to all clock gates."
.
.
.
"in addition, you must specify the name of the library analysis runs, performed by using the run_library_analysis command in the previous step, for each of these libraries."
.
mx_min_density_window 10 windowsize 9 specifies the window size used for minimum density checking.
.
.
.
.
• set_sense -stop_propogation constraint on a downstream pin • dangling pin in the downstream path • downstream path goes to a data pin of a register or a subblock • downstream path has an unconstrained output port without any set_clock_balance_point -consider_for_balancing true setting • downstream path has a constrained set_output_delay output port • pins on the path to cascaded create_clock definition note: this implicit or explicit ignore does not essentially mean that the clock endpoints are excluded from clock tree calculations.
.
all other logic is removed.
.
.
.
.
• specify where to add the clock drivers as exact locations by using the -location option.
.
.
.
.
.
.
.
.
.
"• to create a rectilinear routing blockage, use the -boundary option to specify the coordinates of the polygon using the following syntax: { {x1 y1} {x2 y2} ... }."
.
"• when the insertion operation modifies the enable signal of a clock gate, the gate retains its original designation of being either preexisting or tool-inserted."
3.
.
.
.
.
.
the report lists the clock balance groups for all modes in all active scenarios.
.
.
-verbose prints a detailed report.
.
.
.
"fc_shell> create_bus_routing_style \ -for [get_nets -physical_context pr*] \ -shield_placement interleave \ -layer_spacings {m2 3 m3 5} {bus_style_1} fusion compiler™ user guide v-2023.12-sp3 751 chapter 9: routing using custom router defining routing constraints feedback creating differential groups to create a differential group or a differential pair for the nets, bundles, or topology edges, use the create_differential_group command."
.
.
.
.
.
x fusion compiler™ user guide v-2023.12-sp3 215 chapter 3: physical synthesis performing unified physical synthesis feedback table 19 prechecks performed during the compile flow (continued) code message default compile prechecks compile_fusion -check_only opt-1006 library analysis failure - cannot find buffers and inverters.
- information is based on physical libraries.
.
.
.
.
.
.
.
"if the number of available licenses is less than the number of script files at the time when the analyze_rail command is run, the command stops with an error message."
.
.
.
the global routing results can vary depending on whether the initial net delays were calculated by using global route information or virtual routing.
.
.
each tap belonging to the pg nets is checked against the extracted shape.
"• to report the clock tree references, use -type references."
.
.
the set_repeater_group_constraints command has a lower priority than the corresponding command options in the add_group_repeaters and place_group_repeaters commands.
.
.
ensure that appropriate set_clock_latency constraints are set for all clocks for all modes used for clock tree synthesis in at least the worst corner.
.
.
.
.
table 28 clock tree removal behavior object impact on clock tree removal boundary cell removed.
.
"soft group bound the tool tries to place the cells in the group bound within a floating region; however, there is no guarantee that the cells are placed inside the bounds."
.
.
.
example 9 def site row information row row_0 core 0 0 n do 838 by 1 step 560 0; routing tracks the track information in the def file defines the routing grid for designs based on standard cells.
.
the default is both.
.
.
.
.
the process removes the original design from memory after it creates the new and unique designs.
.
.
"to change the scope, increase the number of the initial repair loop by using the -start_repair_loop option."
.
the following topics describe how to use the user interfaces of the fusion compiler tool: • starting the gui • closing the gui fusion compiler™ user guide v-2023.12-sp3 44 chapter 1: working with the fusion compiler tool working with the 3dic compiler user interfaces feedback starting the cli the cli interface is a text-only environment in which you enter commands at the command-line prompt.
.
.
.
the dimensions of a mim capacitor are usually customized to fit the power strap geometry of a specific power plan.
.
.
• signoff.create_metal_fill.space_to_clock_nets_on_adjacent_layer this application option defines the adjacent-layer minimum spacing requirements between metal fill and a net shape of a user-defined clock net that is specified in the -nets option.
.
.
.
.
.
.
"improving routability of hard macro pins to improve the routability of hard macro pins, use pin access routing guides, as described in deriving pin access routing guides."
.
.
"to specify a different name for the error data file, use the -error_view option see also • removing perimeter constraint objects inserting metal shapes in the preferred direction to insert rectangular metal shapes along the preferred-direction edges of the current block, use the derive_perimeter_constraint_objects command with the -perimeter_objects metal_preferred option."
.
you can optionally assign a name to a placement blockage by using the -name option.
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 163 chapter 2: preparing the design specifying legalization settings feedback enabling advanced legalization algorithms to enable advanced legalization algorithms for 2d rule checking and cell interaction, which can reduce legalization runtime, set the place.legalize.enable_advanced_legalizer application option to true."
.
.
.
.
table 68 lists the commonly used options for the set_missing_via_check_options command.
.
.
.
.
.
.
.
"by default, the tool ignores the following: • differences in the physical-only cells to consider the differences in the physical-only cells, use the -compare_physical_only_cells option."
you must specify the location of the output of each of the write_qor_data runs from the previous step by using -run_locations option.
.
.
.
.
.
• the number of via cuts is the same in all related μbump-c4 bump connections.
.
.
.
.
3. select violations from the error browser to automatically highlight them on the heat map.
.
.
the following example opens the rail result named redhawk_result in the ./ rail_database directory; the result is the rail analysis result for the top design named bit_coin.
6. save the block to disk.
.
"to merge the initial drc violations with the drc violations detected during the incremental run, set the signoff.check_drc.merge_incremental_error_data application option to true before running the signoff_check_drc -auto_eco command."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
▪ route.auto_via_ladder.connect_within_metal_for_via_ladder this application option controls the via enclosures only for performance and electromigration via ladders.
.
"• the initial_opto and final_opto stages, which are later stages of the compile_fusion command, by setting the opt.port.eliminate_verilog_assign application option to true this application option is false by default."
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 365 chapter 5: clock tree synthesis specifying the clock tree synthesis settings feedback to reduce the wire delays in the clock trees, you can use wide wires and higher metal layers instead."
.
report_qor report qor information and statistics for the current design.
"when you augment the power grid, the added metal shapes act as parallel resistors, which reduces the resistance of the power grid as seen by the standard cells."
"merging clock gates by merging clock gates, the tool attempts to minimize the number of clock gates while maximizing clock-gating coverage."
one-dimensional spines are straps in a single direction.
.
.
.
.
.
.
.
.
.
.903 viewing pg electromigration analysis results .
.
.
"the added gating logic can be an and or or gate, depending on the polarity of the asynchronous pins on the scan registers."
.
"cells beyond clock tree exceptions are considered part of the clock tree, but cells beyond a clock-to-data pin are considered part of the data path and are fusion compiler™ user guide v-2023.12-sp3 394 chapter 5: clock tree synthesis implementing clock trees and performing post-cts optimization feedback not removed."
.
.
.
clock input pin is inverted.
rail.enable_parallel_run_r ail_scenario (optional) enables distributed redhawk fusion or redhawk sc fusion analysis within the analysis flow.
.
.
.
◦ use the following application options to set the single-loop constraints.
... successfully deleted all temporary placement blockages and the cell map.
.
"for example, the following command replaces fill1 cells with one of fill1a, fill1b, or fill1c and replaces fill2 cells with one of fill2a or fill2b: fc_shell> replace_fillers_by_rules -replacement_rule random \ -random_replace { {fill1 {fill1a fill1b fill1c}} {fill2 {fill2a fill2b}} } abutting standard cells with specific filler cells if your technology requires specific filler cells on the left or right sides of certain standard cells, use the create_left_right_filler_cells command to insert these filler cells."
"for example, to define a nondefault routing rule named via_spacing_rule that defines nondefault spacing rules between vias on the v1 layer and between vias on the v1 and v2 layers, and uses the minimum spacing rules defined in the technology file between vias on all other layer combinations, use the following command: fc_shell> create_routing_rule via_spacing_rule \ -via_spacings {{v1 v1 2.3} {v1 v2 3.2}} specifying nondefault vias by default, when routing nets with nondefault routing rules, zroute selects vias based on the design rules."
.
.
.
.
note: the overflow and global routing cell numbers reported by the report_congestion command might look slightly more optimistic than those reported by the route_global command because the tool rounds down the congestion information before saving it with the design.
.
.
(optional) control multibit register optimization using application options as shown in the following table.
during optimization the tool tries to ensure that data path cells do not drive more than the specified maximum fanout.
.
.
.
.
.
.
.
.
"creating skew groups during clock tree synthesis, you might want to balance a group of sinks only among each other, and not the rest of the sinks."
.
"when this option is specified, the rtl language used to analyze the rtl files is automatically determined by the file name extension."
.
.
"this command creates the logical power and ground connections for leaf cells, hierarchical cells, and physical-only cells in both single- voltage and multivoltage designs."
you can also specify layer-specific antenna rules by using the define_antenna_layer_rule command.
.
"after running check_routes, you can use the following command to run incremental detail routing that uses the check_routes results as input: fc_shell> route_detail -incremental true \ -initial_drc_from_input true note: incremental detail routing does not fix open nets."
.
.
• use the source command from the fc_shell command line.
.
.
.
594 specifying boundary cell placement rules .
.
.
.
.
.
.
.
.
.
"when the ic validator tool performs metal fill insertion, it creates an internal subdesign named block.fill in the design view of the block and inserts the fill cells in this internal fusion compiler™ user guide v-2023.12-sp3 707 chapter 8: ic validator in-design inserting metal fill with ic validator in-design feedback subdesign."
"more information about specifying reference libraries and linking to abstract views at the top level, see solvnet article 2436119, setting up designs for hierarchical place and route."
.
.
.
.
.
"to display maps in the fusion compiler gui, 1. to load the rail analysis result using the gui, choose task > rail analysis > 2d rail analysis."
.
.
.
.
"controlling clock-gate latencies during synthesis, the fusion compiler tool assumes that clocks are ideal."
.
.
.
.392 performing postroute clock tree optimization .
"with this command, you can set specific constraints on each integrated clock gate and control which operations can be performed on the clock gate."
.
.
124 defining gas stations .
.
"you could restrict your analysis to your lower-utilization runs by turning off the fusion compiler™ user guide v-2023.12-sp3 278 chapter 3: physical synthesis performing design analysis feedback visibility of your higher-utilization runs as shown in figure 42, leaving you with a manageable subset of exploration runs that better meet your timing and congestion goals."
"• to ignore high-fanout nets connected to eco cells that exceed a specific threshold, use the -max_fanout option with the place_eco_cells command."
.
track-based metal fill insertion supports three modes: • sparse this is the default mode.
.
.
.
"to restrict the library cells used for clock tree synthesis and optimization, 1. specify the library subset by using the set_target_library_subset command."
.
.
.
.
868 an overview for redhawk fusion and redhawk-sc fusion .
.
.
.
.
.
.
"◦ the optimized via conversion rate based on the total routed via count this value is computed based only on the routed via count, which includes only those vias that can be optimized by the router."
.
.
.
.
.
.
.
"fc_shell> analyze_rail -voltage_drop static -nets {vdd vss} \ -extra_gsr_option_file add_opt.gsr viewing voltage drop analysis results when analysis is complete, the tool saves the analysis results and logs in the working directory."
all optimization on i/o paths and latencies for boundary registers will not be adjusted to improve register to register timing.
x compile precheck examples the following two examples show the compile logs with and without compile prechecks.
.
.
.
.
"for example, assume that you have a module that contains a combinational path in the clock network, as shown in figure (a) in figure 76, which is represented by the extracted timing model (etm) shown in figure (b)."
.
.
672 viewing the violations in an icv heat map .
.
.
"such an abstract also contains feedthrough data paths, feedthrough combinational clock paths, and internal clock logic driving output ports."
.
.
.
.
.
.
"• -transform by default, zroute can rotate or flip the via arrays during redundant via insertion (the -transform all option)."
.
.
.
.
.
.
658 removing the threshold-voltage filler cell information .
"valid values are all_layers, visible_involved, and visible_only."
"fusion compiler™ user guide v-2023.12-sp3 405 chapter 5: clock tree synthesis implementing multisource clock trees feedback 6. build the global clock tree structure by using the synthesize_multisource_global_clock_trees command, as described in synthesizing the global clock trees."
.
"if you run the create_clock_drivers command multiple times, to reduce runtime, run the legalize_placement command one time, after you complete all the create_clock_drivers command runs."
.
.700 19 contents feedback setting options for power grid augmentation .
"for example, to examine the current value of one specific net, deselect all the nets and then select the net to display from the list."
"• for shielding, you can use nondefault routing rules to define the minimum width and spacing rules."
.
.
.546 reporting shielding information .
"to query the size_only attribute, use the report_attributes, get_attribute, or report_cells command."
"for multicorner-multimode designs, you must create an etm for each scenario by applying the appropriate corner and mode constraints for each scenario."
.
.
.
.
.
.
.
this option creates long ties that might block future routing.
"instance_power the power value on each instance, in watts."
.
.
.
the tool saves the mappings defined by the add_via_mapping command in a via mapping table in the design library.
.
.
.
.
.
"in addition, you can use the signoff_fix_drc command to automatically fix the drc violations detected by the signoff_check_drc command."
"for example, to get all the routing guides in your block, use the following command: fc_shell> get_routing_guides * to find the routing guides in a specific location, use the get_objects_by_location -classes routing_guide command."
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 137 chapter 2: preparing the design specifying physical constraints for placement and legalization feedback figure 21 placement keepout margins left bottom right top outer keepout margin fixed cell left bottom right top inner keepout margin fixed cell an outer keepout margin is a region outside the cell boundary, while an inner keepout margin is a region inside the cell boundary."
.
.
.
.
.
"when you select this rule, you must specify • the maximum horizontal length to specify the maximum length, use the -max_constraint_length option."
.
.
.
.
.
.
.
.
.
"if the manhattan distance between sinks is more than the specified distance, they are put into separate relative placement groups."
.
.
.
.
.
.
.
check if there are placed cells that are not qualified.
"when true, the command uses current waveform based duration."
.
.
.
.
.960 making eco changes using the eco_netlist command .
"if only one type of cell is available, the tool inserts inverters on both sides of the clock-gating cell."
.
.
.
check the format of the cutline.
.
.
.
.
.
.
.
horizontal_compression vertically compress the objects in each column and preserve the column alignment vertical_compression fusion compiler™ user guide v-2023.12-sp3 800 chapter 10: physical datapath with relative placement specifying options for relative placement groups feedback figure 180 bit-slice placement versus horizontal or vertical compression 4 3 2 1 0 0 1 3 4 2 bit-slice placement 4 3 2 1 0 0 1 3 4 2 4 3 2 1 0 0 1 3 4 2 vertical compression horizontal compression the setting of the -tiling_type option is not propagated from a parent group to child groups.
.
.
.
.
.
.
.
.
"use the route_auto command when you run routing to verify convergence, congestion, and design rule quality-of-results (qor)."
.
"for example, when a family is ordered in terms of increasing drive strength, the area of cells should be monotonically increasing, power should be increasing, and delay (for the same output load and input slew) should be decreasing."
.
see bus routing options.
.
.
.
"to enable these checks, use the -check_shield true option."
"• to read the layout view for specific reference cells, specify the cells by setting the signoff.create_metal_fill.read_layout_views application option."
.
isolation cell preserved.
.
.
.
.
.
.
.
.
.
.
.
.
• the number of cores use the -num_processes or -max_cores options to specify the number of cores.
.
.
.
"each metal shape has a width of w, the default width for the layer and the specified length, l. the spacing between metal stubs is the specified spacing, sp."
.
.
.
.
.
.
"deriving mask colors at advanced technology nodes, mask colors must be assigned to wires and vias to ensure correct processing of the net shapes during mask synthesis."
.
.
.
.
.
.
.
"when you use the -type option, you can generate the output as a comma separated values (csv) file by using the -csv option and specifying the output file name using the -output option."
.378 excluding specific scenarios .
.
.
.
"after inserting the via ladders, the command reports statistics on the inserted ladders and any drc violations caused by the insertion."
.
"for more information, see clock-gating enable condition."
.
.
.
"however, it restricts the lower-level block named tsk_blk to use only the cells from the lvt_lib library for its clock nets."
.
"application option setting fixed objects placed objects unplaced objects all placed and shaped placed and shaped placed and shaped unfixed kept placed and shaped placed and shaped unplaced, unshaped kept kept placed and shaped none kept kept kept • compile.auto_floorplan.keep_bounds (default: auto) fusion compiler™ user guide v-2023.12-sp3 112 chapter 2: preparing the design setting up multivoltage designs feedback ◦ auto: removes existing bounds if either of the following two application options is set to all."
"in this case, the tool collapses clock-gate levels if the specified limit is less than the number of clock-gate levels that exist after the initial_map stage."
.
.
.
.376 limiting the latency adjustment values .
you must specify the nets to which to assign the nondefault routing rule.
50 adding changes to a script with checkpoints .
the gate area calculation is done separately for the input and output pins.
.
.
"• for metal fill on the same layer as the net shape, the default minimum spacing is two times the minimum spacing value specified for the layer in the technology file."
"creating a via definition to create a via definition, use the create_via_def command."
.
.
.
.
"to save the design views, you must set the lib.workspace.save_design_views application option to true during library preparation, as described in the library manager user guide."
.
.
"fc_shell> report_early_data_checks -hierarchical -verbose ****************************************************** design check policy strategy checked comment object ------------------------------------------------------------------------------------ blk hier.block.missing_leaf_cell_location repair eco_cell instance location updated to x:150145 y:69620 ------------------------------------------------------------------------------------- while running the top-level early flow, you might run into top-level errors or warnings because of the design data violations in the subblocks or top-level design."
.
.
"for more information about dft insertion, see the testmax dft user guide."
no changes are made to the design or setup.
.
.
.
.
"after engineering change orders (eco), use either method to perform incremental signoff design rule checking on the modified portions of the block."
.
"note: if the def file does not contain port-location information, the tool inherits the port locations from the locations of the pad cells, as described in ."
.
.
.
.
.
.
.
"if you specify a single power domain, the name of the voltage area is derived from the name of the power domain."
the tool can use the global router during the initial clock tree synthesis stage of the synthesize_clock_trees and clock_opt commands.
.
.
.
.
.
.
.
.
.
"the report_repeater_groups command reports group information for specified groups or all groups, and reports repeater paths for all groups if -verbose is on."
.
a check mark (x) indicates the precheck is performed.
.
.
.
"this example specifies not to merge registers that have the u1/count_reg string in the instance names: fc_shell> set_register_merging ""u1/count_reg*"" false this example specifies not to merge all flip-flops of u1 instance name: fc_shell> set_register_merging ""u1"" false selectively removing or preserving constant and unloaded registers to optimize the design by reducing area, the tool can automatically detect and remove constant registers and unloaded registers."
• does not add buffers on a route segment if it is necessary to create new ports because of a difference in the logical and physical topology of the net.
.
.
"fusion compiler™ user guide v-2023.12-sp3 453 chapter 6: routing and postroute optimization inserting via ladders feedback constraint-based via ladder insertion to use the constraint-based method to insert via ladders, 1. ensure that the via ladder rules are defined, as described in defining via ladder rules."
.
.
.
.
check if the cells are not placed.
.
"the tool calculates the demand for wire tracks in each global routing cell and reports the overflows, which are the number of wire tracks that are still needed after the tool assigns nets to the available wire tracks in a global routing cell."
.
.
.
"for details see, track assignment."
.
"• to control the routing direction in a specific region, use either a preferred-direction-only routing guide or a switch-preferred-direction routing guide."
fusion compiler™ user guide v-2023.12-sp3 995 chapter 13: eco flow swapping variant cell feedback figure 224 cell group definition for mapping id and flipped mapping id there are two sub flows for siteid_based mode: 2-variants and n-variant.
.
.
.
.
.
the fusion compiler tool uses gate classes to represent the various gate oxide thicknesses.
.
.
.
.
.
.
.
the subspan is measured orthogonal to the direction of the subfinger.
note: you can use the set_clock_routing_rules command only before clock tree synthesis.
.
.
.
.
.
fc_shell> set_attribute [get_lib_cells fill_lib/fill1x] \ psc_type_id 1 fc_shell> set_attribute [get_lib_cells stdcell_lib/buf1] \ psc_type_id 1 fc_shell> set_attribute [get_lib_cells stdcell_lib/inv1] \ psc_type_id 1 fc_shell> set_attribute [get_lib_cells fill_lib/fill2x] \ psc_type_id 2 fc_shell> set_attribute [get_lib_cells stdcell_lib/nand2] \ psc_type_id 2 fc_shell> set_attribute [get_lib_cells stdcell_lib/nor2] \ psc_type_id 2 2. insert the programmable spare cells by using the create_stdcell_fillers command.
"to avoid errors during subsequent track assignment and detail routing, do not change any global route shapes after you run the clock_opt command."
.
fusion compiler™ user guide v-2023.12-sp3 960 chapter 13: eco flow making eco changes using the eco_netlist command feedback making eco changes using the eco_netlist command you can make eco changes to a block by using the eco_netlist command.
.
.
.
"for more information about nondefault routing rules, see using nondefault routing rules."
.
.
apply_nondefault_rules false controls whether metal fill insertion honors nondefault routing rules.
2. apply any block-specific constraints and settings required for synthesizing the block.
.
-exclude (optional) excludes the specified pins or ports from the length matching constraint.
"however, if you instantiate the spare cells in a block that is optimized, placed and legalized, you must place and legalize the spare cells by using the following steps: 1. spread the spare cells by using the spread_spare_cells command."
.
.
.
.
.
.
.
.
"when analysis is complete, the fusion compiler tool generates analysis reports and maps using the results calculated by the redhawk or redhawk-sc tool."
.
.
.
.
.
.
.
"• to create straps on the boundary specified with the -boundary option, use the -create_ends option."
.
.
placement area placement area is computed based on the site array information.
"3. in the gui, choose view > map > icv heatmap."
.
.
.
.
.
.
.
.
.
.
"by default, when you use the -clocks option, the clocks are selected from the current mode."
"• the routing blockages are offset from the boundary edges by the minimum spacing specified for the routing layer in the technology file to specify a different offset in microns tor preferred-direction routing blockages, use the -spacing_preferred option."
the check-only mode provides diagnostic information about the correctness and integrity of the def file.
the tool determines the top-level module of the block by identifying the module that is not instantiated by any other modules in the specified files and uses the top-level module name as the block name.
"for example, to generate interclock balancing constraints only for paths with slack less than -0.2 ns, use the following command: fc_shell> derive_clock_balance_constraints -slack_less_than -0.2 assume you run this command on a block for which clock a has a timing relationship only with clock b and the worst negative slack (wns) of this group of timing paths is -0.1 ns and clock c has a timing relationship only to clock d and the wns of this group of timing paths is -0.3 ns."
103 reading def files .
.
.
.
.
.
.
.
.
the preexisting category also includes registers that are gated by a tool-inserted clock gate.
.
.
6.
.
.
833 creating abstracts with power information .
.
.
"fusion compiler™ user guide v-2023.12-sp3 261 chapter 3: physical synthesis performing design analysis feedback enabling the embedded area optimization flow during the logic_opto stage of the compile_fusion command, as an initial step, the tool performs timing optimization and designware reselection and ungrouping."
"fc_shell> signoff_fix_isolated_via -check_only true fusion compiler™ user guide v-2023.12-sp3 743 chapter 8: ic validator in-design automatically fixing isolated vias feedback when run you run the signoff_fix_isolated_via command in check-only mode, it generates a summary report that specifies the number of isolated vias detected on each via layer."
.
.
.
.
.
.
.
.
"however, if you use multiple threads, the routing results are not deterministic; the final routing is slightly different between runs due to the varying division of tasks between threads."
.
.
.
.
.
.
.
.
"in this example, the scan-in pin is si, the scan-enable pin is se, and the scan-out pin, so, is shared with the functional output pin, q. fusion compiler™ user guide v-2023.12-sp3 232 chapter 3: physical synthesis controlling mapping and optimization feedback d si d clk se 1 0 q/so when you run the compile_fusioncommand, • the tool maps all sequential cells directly to scan registers in your library • the scan pins, such as scan enable and scan out, are unconnected • the scan output pin of a scan register is used for scan connections use the seqmap.bind_scan_pins application option to hold the scan enable pin inactive if the library contains no scan registers, the tool uses nonscan cells for mapping and issues a warning."
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 528 chapter 6: routing and postroute optimization routing signal nets feedback before proceeding to detail routing, display the congestion map in the gui and check the overflow distribution."
.
373 controlling multibit optimization performed during the clock_opt command .
.
.
.
figure 121 shows the default tap cell placement for a block that uses the every-row insertion pattern.
.
.
.
.
.
"by default, only the hard congestion data is saved in the design library."
"for more information, see querying attributes."
.
.
.
.
.
"to report all violations, specify the maximum number of violations as zero (-max_errors 0)."
.
.
.
.
"• to raise a voltage area shape one position, use the -raise option."
.
(optional) control the power analysis and optimization performed during dynamic power shaping as follows: ◦ specify the scenarios to focus on by setting the ccd.dps.focus_power_scenario application option.
"when you use this option, the tool uses the following naming convention: prefix__library_cell_name_r#_c#_number fusion compiler™ user guide v-2023.12-sp3 587 chapter 7: chip finishing and design for manufacturing inserting tap cells feedback inserting exterior tap walls an exterior tap wall is a row or column of tap cells that is placed outside the boundary of a block, macro, or hard placement blockage."
.
.
.
.
.
.
.
.
.
.
.
"to display the congestion map for a subset of layers, select (or deselect) the layers on the map mode panel."
.
.
.
.
.
.
.
.
running commands in parallel on your local host you can improve runtime by running checking and reporting commands in parallel on your local host.
.
.
"• to control whether zroute can reuse filler cell locations, set the route.detail.reuse_filler_locations_for_diodes application option."
"◦ to enable concurrent soft-rule-based redundant via insertion during initial routing, set the route.common.concurrent_redundant_via_mode application option to reserve_space."
.
"making changes to a block after creating an abstract when you create an abstract view for a block with the create_abstract command, by default, the tool saves both the abstract and design views of the block and changes the design view to read-only."
.
.
.
.
the tool can automatically insert via ladders for cell pins on timing-critical paths during the compile_fusion and clock_opt commands.
.
.
"figure 47 shows a simple circuit with two preexisting clock gates (p1 and p2) and three tool-inserted clock gates (t1, t2, and t3)."
.
.
.
.
.
.
.
"when not specified, the command reports data for all power nets."
.
.
each scope in the design has supply nets and supply ports at the defined hierarchical level of the scope.
.
• (optional) use the -redhawk_script_file option to specify an existing redhawk script file generated in an earlier analyze_rail run.
.
.
.
read_design_views {} specifies the reference cells for which the ic validator tool reads the design view instead of the frame view.
"to specify a buffer tree, use the -from option with the name of a net or driver pin."
the endpoints must also be created as part of the user skew group using the create_clock_skew_group command.
.
.
.
.
.
.
.
.
.
.
"because a detailed table may show hundreds or even thousands of lines of data, it is not possible to view more than six datasets at a time."
.
.
.
"the following example script inserts tap drivers in four columns and two rows and builds the h-tree: ## include only tap driver and h-tree library cell for cts set cts_references [get_lib_cells -filter valid_purposes=~*cts*] set_lib_cell_purpose -exclude cts [get_lib_cells $cts_references] set_lib_cell_purpose -include cts { lib1/buf1 lib1/buf2} ## set up and insert tap drivers and build h-tree set_regular_multisource_clock_tree_options \ -clock clk -topology htree_only -tap_boxes {4 2} \ -tap_lib_cells [get_lib_cells */ckbuf*] \ -htree_lib_cells [get_lib_cells */ckinv*] \ -htree_layers ""m9 m10"" -htree_routing_rule ""htree_ndr"" synthesize_regular_multisource_clock_trees ## reapply cts library cell list as required for the subsequent steps set_lib_cell_purpose -include cts [get_lib_cells $cts_references] specifying tap assignment options and settings before you can perform automated tap assignment by using the synthesize_multisource_clock_taps command, you must perform the following steps: 1. remove dont_touch, size_only, fixed, and locked attributes setting on the clock cells that are not required."
.
.
.
"you should specify each weight level only one time; if you specify a weight level multiple times, the router uses the last specification."
.
.
.
"for information about defining a customized mapping table, see defining a customized via mapping table."
.
.
"to prevent placing clock drivers under these preroutes, which can cause pin accessibility issues, the synthesize_multisource_global_clock_trees command creates temporary placement blockages for the preroutes on the same layers it uses for routing."
.
.
.
.
.
the load can be a net or a set of pins or ports connected to the same net.
.
.
.
.
4. specify settings for dynamic power shaping as described in setting up for dynamic power shaping.
"note that zroute analyzes the antenna rules and reports the antenna violations on these nets, but does not fix the violations."
"you can also try to increase the postroute redundant via rate by setting the route.detail.optimize_wire_via_effort_level application option to high, which reduces the number of single vias and makes more room for redundant vias by reducing wire length."
.
.
"when the -redhawk_script_file option is not specified, you must specify the nets to analyze by using the -nets option."
.
.
.
.
7. compare libraries by using the compare_libraries command.
.
.
.
.
doing so can reduce the congestion caused by the clock nets.
"when not specified, the tool generates one using the data in the design library."
"fusion compiler clock tree synthesis and embedded optimization solve complicated clock tree synthesis problems, such as blockage avoidance and the correlation between preroute and postroute data."
.
.
you can specify both single- rail and dual-rail library cells.
.
note: redhawk fusion does not support results that are generated by the redhawk tool outside of the fusion compiler environment.
.
.
.
.
.
.
.
the placer treats a voltage area the same as an exclusive move bound; it must place the cells in a voltage area within a specified region and it must place all other cells outside of the voltage area.
.
.
.
"◦ to enable the fixing of soft drc violations, such as bridge rule violations, after the final detail routing iteration, set the route.common.post_eco_route_fix_soft_violations application option to true."
"to enable the following application options, set the place.legalize.enable_multi_cell_pnet_checks application option to true: • place.legalize.enable_multi_cell_access_check: considers impact on a cell's pin access due to presence of abutting neighbor cells and any prerouted net pg net shapes in the vicinity."
.
you can specify the clocks to be built by using the -clock option.
.
.
.
.
the rule names are specified in the comment section in the runset file.
fc_shell> create_differential_group -for {net1 net2} \ -valid_layers {m3 m4} -layer_widths {m3 0.4 m4 0.4} \ -layer_spacings {m3 0.4 m4 0.4} \ -twist_style diagonal -twist_interval 80.0 -force diff fc_shell> set_app_options\ -name custom.route.diffpair_twist_jumper_offset -value 10 fc_shell> route_custom -nets {net1 net2} shielding the nets shielding is needed around sensitive nets to reduce noise and crosstalk.
.
"to store the quality information in a different directory, use the time.snapshot_storage_location application option."
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 744 chapter 8: ic validator in-design automatically fixing isolated vias feedback 3. inserts fixing vias within the specified range by using one of the following methods, in order of priority: a. inserting a via between an existing non-wide net shape and a fill shape b. extending the line end of an existing non-wide net shape and inserting a via between the extension and a fill shape c. inserting a via between a wide metal shape and a fill shape when inserting the fixing vias, the tool considers the routing rules, including double- patterning rules and nondefault spacing rules, to prevent the introduction of drc violations."
"• for diode mode 4, the maximum antenna ratio for the net is computed by using the formula from table 37 using the sum of the diode-protection values of the diodes, (0.5+1.0+1.5) * 200 + 2000 = 2600. example for diode modes 5 and 6 assume that the antenna area is calculated using surface area in single-layer mode (antenna mode 1), the diode ratio vector for the m1 layer is {0 0 1 0} (the default diode ratio vector), the layermaxratio value for the m1 layer is 400, and the following diodes are connected to a single m1 net: diode a with a diode-protection value of 0.5, diode b with a diode-protection value of 1.0, and diode c with a diode-protection value of 1.5. in this example, the v4 value is not specified so a value of 0 is used."
"11. synthesize the entire clock tree, from the clock root, by using the clock_opt -from build_clock -to route_clock command."
.
.
4. create the abstract for the block by using the create_abstract command.
.
.
222 datapath extraction .
.
.
.
.
.
.
.
"when you select this rule, you must specify • the maximum vertical length to specify the maximum vertical length, use the -max_constraint_length option."
.
.
you must specify ◦ the clock for tap assignment by using the -clock option.
.
.
.
.
.
"to disable checks for voltage area violations, set the -voltage_area option to false."
.
"by default, the command reads the initial drc violations from the signoff_check_drc.err file."
"• the naming convention used to identify the inserted filler cell instances by default, the command uses the following naming convention for inserted filler cells: xofiller!filler_library_cell_name!number to identify the filler cells inserted in a specific run, use the -prefix option to specify a prefix string."
.
.
.
"• density gradient, which specifies the maximum percentage difference between the fill density of adjacent density checking windows this rule is checked if it is defined in the technology file and you enable density error fixing by setting the signoff.create_metal_fill.fix_density_errors application option to true."
.
"this command reports the user-defined sink pins, the derived sink pins with user-specified insertion delay, and the user-defined ignore pins."
.
.
you can generate the spice files as a standalone step by using the -create_spice_deck option.
.
"• if the clock root is an input port without an i/o pad cell, you must accurately specify the driving cell of the input port."
you can specify different library cells for each boundary cell type.
.
.
.
.
841 preparing for top-level closure with abstracts .
.
.
.
.
.
it sets the is_high_performance attribute of the created via ladder to true.
.
.
.
"when you run the fix_pg_wire command, the ic validator tool uses the on- disk information for the block, not the information in memory."
.
"for example, to specify a shielding rule that uses spacing of 0.1 microns and width of 0.1 microns for metal1 through metal5 and spacing of 0.3 microns and width of 0.3 microns for metal6, use the following command: fc_shell> create_routing_rule shield_rule \ -shield_widths {m1 0.1 m2 0.1 m3 0.1 m4 0.1 m5 0.1 m6 0.3} \ -shield_spacings {m1 0.1 m2 0.1 m3 0.1 m4 0.1 m5 0.1 m6 0.3} for more information about the create_routing_rule command, see using nondefault routing rules."
.
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 193 chapter 2: preparing the design setting up for power-related features feedback figure 26 the primepower in-design flow use the set_indesign_primepower_options command to set primepower analysis options for the in-design flow.
.
.
.
.
.
.
"to create a category blockage, 1. create the cell category by defining a user attribute for the category by using the define_user_attribute command and applying it to the affected cell references or instances by using the set_attribute command."
.
.
"optionally, you can specify the following: • a clock or generated clock for which to create the skew group by using the -clock option."
.
"to specify additional advanced legalization rules that are not automatically detected, set the place.legalize.enable_advanced_legalizer_rules application option."
this command returns a collection of clock-gating or self-gating cells.
.
.
.
.
.
.
.
.
"• save the via rules in a technology file by using the write_tech_file command see also • generating via ladder rules for electromigration via ladders generating via ladder rules for electromigration via ladders instead of explicitly defining via ladder rules for electromigration via ladders, you can use the generate_via_ladder_template command to generate via ladder rules and constraints based on a configuration file."
.
check if the cells were placed before and added by the add_group_repeat ers command or placed the by place_group_repea ters command.
"• inserts a single via ladder on each target pin if the constraints specify more than one via ladder template for a pin, the command inserts the via ladder using the first template that does not cause a drc violation."
.
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 1005 chapter 13: eco flow fixing multivoltage violations feedback table 73 group repeater placement and insertion troubleshooting (continued) command error code message troubleshooting tips eco-274 warning: you are deleting cell %s with eco_repeater_group_id %d.
.
.
.
.
.
mx_fill_datatype vx_fill_datatype 0 specifies the data type of the inserted fill shapes.
"you can analyze the effects latency adjustments performed during concurrent clock and data optimization by increasing or decreasing the clock arrival of a specific endpoint using the -prepone or -postpone option with the -pins option as shown in the following example: fc_shell> report_ccd_timing -pins reg11/clk -postpone 0.02 you can also see the effects of changing specific cell and net delay values by using the -annotate_cell_delay and -annotate_net_delay options, as shown in the following example: fc_shell> report_ccd_timing -annotate_cell_delay {{u1/a u1/y 0.2}} \ -pin i2/d -type stage the delay values you specify with these options are used only for analyzing and reporting the concurrent clock and data timing."
.
"2. enable the use of the target library subset by setting the opt.common.enable_target_library_subset_opt application option to 1. when you set target library subsets, remember the following points: • the subset restriction applies to hierarchical cells but not to leaf cells."
.
.
◦half_interleave: inserts shared shielding every two wires.
.
shows the design rule being highlighted.
.
.
.
"to achieve a fast clock tree to certain endpoints, use the split_clock_cells -to < $sinks> -latency_driven command."
.
.
.
.
.
.
.
"figure 154 shows an example of a single driver with multiple receivers, where each receiver has an individual length constraint."
.
.
"because this value represents only the resistance on a single path, it is not necessarily same as the effective resistance value from the node to the supply or ground; instead, it represents an upper bound on the effective resistance of a node to the supply or ground."
.
.
.
.
.
.
"these commands restrict all clock gating optimization by preventing removal, merging, and splitting of all clock gates."
.
.
"to enable the tool to infer synchronous reset or preset flip-flops or preserve the synchronous reset or preset logic close to the flip-flop, use either of the following two methods: • the sync_set_reset directive specify the //synopsys sync_set_reset directive in the rtl."
.
.
.
.
"the supported analysis types are: effective_voltage_drop, current, effective_resistance, min_path_resistance, and power."
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 870 chapter 12: redhawk and redhawk-sc fusion an overview for redhawk fusion and redhawk-sc fusion feedback • minimum path resistance analysis to perform minimum path resistance analysis, use the analyze_rail -min_path_resistance command."
"fusion compiler™ user guide v-2023.12-sp3 475 chapter 6: routing and postroute optimization routing constraints feedback for example, to force the router to use only the preferred direction on the m4 layer within the rectangle with its lower-left corner at (0, 0) and its upper-right corner at (100, 100), use the following command: fc_shell> create_routing_guide -boundary {{0.0 0.0} {100.0 100.0}} \ -layers {m4} -preferred_direction_only • to switch the preferred routing direction within the routing guide boundary, use the -switch_preferred_direction option with the create_routing_guide command."
zroute considers voltage areas when inserting diode cells and also observes the logic hierarchy assignments for diode cells.
.
.
"for example, to set a maximum track utilization of 50 percent for all layers with a horizontal preferred direction and a maximum track utilization of 30 percent for all layers with a vertical preferred direction within the rectangle with its lower-left corner at (0, 0) and its upper-right corner at (100, 100), use the following command: fc_shell> create_routing_guide -boundary {{0.0 0.0} {100.0 100.0}} \ -horizontal_track_utilization 50 -vertical_track_utilization 30 using routing guides to prioritize routing regions you can use a routing guide to prioritize regions within the routing guide boundary for routing."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
• floating net shapes a floating net shape occurs when a net shape is not physically connecting to a pin of its net.
.
.
.
.
.
.
.
.
the set of clocks considered during delay balancing is referred to as a clock balance group.
.
.
figure 169 hierarchical relative placement group with straddling u3 u4 u6 u1 u2 u7 fusion compiler™ user guide v-2023.12-sp3 788 chapter 10: physical datapath with relative placement adding objects to a group feedback figure 170 shows the process of using hierarchical relative placement to build this structure.
.
.
"if the custom.route.bus_split_ignore_width requirement is met, you can use the custom.route.bus_split_even_bits application option to control whether automatic bus splitting routes an even number of nets between pre-routes (power stripes)."
.
.
the height of the cut metal shapes is defined by either the cutmetalheight or cutmetalextension attribute.
.
707 setting options for signoff metal fill insertion .
.
.
.
.
"note that increasing the initial loop number might cause a greater disturbance to the block, which would require additional design rule checking and fixing by zroute."
.
"when you use wildcards, the order of the cells is the same as that returned by the get_lib_cells command."
.
.
.
"fc_shell> synthesize_multisource_global_clock_trees \ -roots [get_ports clk1] -leaves [get_pins mesh_buf*/a] \ -use_zroute_for_pin_connections when routing the h-trees, the tool uses the highest routing layers available, based on the routing rules specified for the clock nets."
.
.
"figure 41 comparison report you could look at your tns numbers first and sort the data from best tns to worst tns, as shown in the following figure: notice that the best tns runs have the m9 top layer, and the worst have the m7 top layer."
.
"for example, fc_shell> current_lib {lib_a} fc_shell> set_app_var search_path {."
.
.
.
.
tho provides an option to refine pin locations based on global placement.
.
.
"to report the power • only for specific clocks, use the -clocks option • only for specific modes, use the -modes option • only for specific corners, use the -corners option • only for specific scenarios, use the -scenario option • on a per-segment or per-subtree basis, use the -type per_segment or -type per_subtree option ◦ a segment is the clock buffer tree from one integrated-clock-gating (icg) cell to the next icg cells or sinks in its fanout for example, in the following figure, the buffer tree from the output of the icg1 cell to the inputs of the icg2, icg3, and ff2 cells is considered a segment."
.
.
.
.
.
.
.
.
.
.158 considering the effects of clock gating cells of sequential arrays during placement .
.
.
.
.
.
.
.
.
.
.
.
this command reports only the user-specified settings; it does not report any default settings.
.
.
"fc_shell> create_custom_shields -nets {net1 net2} to remove the shielding created by the create_custom_shields command, use the remove_custom_shields command."
"in addition, any late ecos can be easier to implement as well."
fc_shell> set_app_options -name signoff.check_drc.enable_icv_explorer_mode \ -value true 2. perform signoff design rule checking as described in running the signoff_check_drc command.
the fusion compiler tool derives the clock trees based on the clocks defined in the block.
.
.
"for example, when the -prefer_type_ordering option is used with the previous example, the tool ◦ first tries to insert the ulvt decoupling capacitors to a utilization of 70 percent, first trying to insert */dcap16*ulvt cells, then */dcap8*ulvt cells, and so on ◦ then tries to insert the lvt decoupling capacitors to a utilization of 30 percent, first trying to insert */dcap16*lvt cells, then */dcap8*lvt cells, and so on ◦ then filling the remaining gaps using the remaining cells specified in the -lib_cells option # insert 70 percent ulvt cells, 30 percent lvt cells fc_shell> create_stdcell_fillers -lib_cells $filler_cells \ -type_utilization { {*/dcap16*ulvt */dcap8*ulvt */dcap4*ulvt */dcap2*ulvt */dcap1*ulvt} 70 {*/dcap16*lvt */dcap8*lvt */dcap4*lvt */dcap2*lvt */dcap1*lvt} 30 } \ -prefer_type_ordering \ -fill_remaining • the region in which to insert the filler cells ◦ use the -bboxes option to restrict filler cell insertion to the specified bounding boxes."
.
"fc_shell> check_routes by default, the tool checks for drc violations between signal shapes."
.
818 hierarchical synthesis flow when floorplans are not available .
.
.
"the layout view is identical to the gdsii or oasis data that was used to create it, but reduces the runtime for signoff design rule checking."
"zroute uses the wire width from the reference rule, which is either the default routing rule or the reference rule specified in the -reference_rule_name option, for any layers not specified in the -widths option."
.
"• -top_boundary_cells and -bottom_boundary_cells these options specify a list of library cells that are used for the end-cap cells for the top and bottom boundaries, respectively."
"if your block has scenarios that were not set as active before clock tree synthesis, set these scenarios as active by using the set_scenario_status -active true command and mark all clocks as propagated by using the synthesize_clock_trees -propagate_only command, as shown in the following example: fc_shell> set_scenario_status -active true [all_scenarios] fc_shell> synthesize_clock_trees -propagate_only the synthesize_clock_trees -propagate_only command removes the ideal setting from the clocks; it does not perform clock tree synthesis."
note: the bounding box coordinates passed to the ic validator tool in the metal_fill_select_window parameter are enlarged by 1 um to avoid drc violations on the boundary of the specified regions during metal fill insertion.
.
.
.
.
.
.
.
.
"note: by default, the compile_boundary_cells command checks the specified rules, but does not create the placement blockages."
◦ dynamic_vcd: performs dynamic voltage drop analysis with vcd inputs.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 926 chapter 12: redhawk and redhawk-sc fusion writing analysis and checking reports feedback table 69 supported data and error types for report_rail_result (continued) type description voltage_drop_or_rise the dynamic voltage drop or rise violations, in volts."
"to implement a structural multisource clock tree, perform the following steps: 1. specify your clock tree constraints and settings."
.
.
.
.
.
.
"the valid weight values are low, medium, high, and hard."
.
.
.
.
"you must specify the name of the library cell to use for tap cell insertion (-lib_cell option), and the x- and y-pitches."
.
.
.
.
the default is the bottom-left corner.
.
.
"a supply port is a power supply connection point between two adjacent levels of the design hierarchy, between the parent and child blocks of the hierarchy."
.
.
.
.
options that apply only to track-based metal fill insertion fusion compiler™ user guide v-2023.12-sp3 709 chapter 8: ic validator in-design inserting metal fill with ic validator in-design feedback table 49 application options for signoff metal fill insertion (continued) application option default description signoff.create_metal_fill.
.
the set_clock_gating_objects command specifies the design objects on which clock gating should be enabled or disabled during the compile_fusion command.
.
.
.
.
.
.
.
"you can use redhawk fusion and redhawk-sc fusion to perform the following types of checking and analysis in the fusion compiler environment: • missing via and unconnected pin shape checking to check for missing vias or unconnected pin shapes in the design, you first configure the checking-related settings by using the set_missing_via_check_options command, and then perform the check by using the analyze_rail -check_missing_via command."
"• to save the block after each routing step, set the -save_after_global_route, -save_after_track_assignment, and -save_after_detail_route options to true."
.
.
.
.
.
.
"to view multibit components in the gui, you must complete the following requirements: • ensure the library contains multibit components in .ndm format."
.
"for the flipped rows in a double-back block, the top boundary cells are used on the bottom boundaries and the bottom boundary cells are used on the top boundaries."
.
"to query the resistance value, use the get_attribute command."
.
.
.
.
.
.
.
.184 setting up for power-related features .
.
.
.
a cut metal layer corresponds to the metal layer with the same mask number.
243 performing multibit optimization .
.
.
.
.
.
"to set up for percentage-lvt-based optimization, 1. specify the lvt library cell group as shown in the following example: fc_shell> remove_attributes -quiet \ [get_lib_cells -quiet */*] threshold_voltage_group fc_shell> set_attribute [get_lib_cells -quiet *lvt*/*] \ threshold_voltage_group lvt fusion compiler™ user guide v-2023.12-sp3 192 chapter 2: preparing the design setting up for power-related features feedback fc_shell> set_threshold_voltage_group_type \ -type low_vt lvt ensure that the lvt library cells you specify ◦ have a valid purpose defined by using the set_lib_cell_purpose command and are included in the appropriate target-library subsets defined by using the set_target_library_subset command ◦ do not have a dont_touch or dont_use attribute setting 2. specify the percentage limit for lvt cells by using the set_multi_vth_constraint -low_vt_percentage command."
.
this topic describes how to set the custom.route.balance_mode application option and provides examples to demonstrate its use.
.
.
.
.
.
the default is true (scaling is performed).
.
.
.
.
.
.
.
.
.
"early data checks, policies, and strategies the tool can identify issues and violations in data during the early stages of design."
.
.
.
.
.
5 diode protection is limited; the maximum diode-protection value for all diodes is used to calculate the equivalent gate area.
.
.
.
you can restrict this sizing capability so that the constraints remain unchanged through optimization by setting the opt.common.preserve_pin_names application option.
.
.
"if a clock tree contains a single inverter, it is not removed."
.
.
.
.
.
.
.
133 specifying logical design rule constraints .
"if you set it to • auto, the feature is enabled only when there is a variation in the per-unit resistance value of the different routing layers • true, the feature is enabled irrespective of the variation in the per-unit resistance value of the different routing layers if you enable this feature, use the remove_route_aware_estimation command to remove all global route based estimation before you perform routing."
.
"fusion compiler™ user guide v-2023.12-sp3 972 chapter 13: eco flow placing eco cells feedback you can revert the nonoptimal eco changes made by the size_cell, add_buffer, and add_buffer_on_route commands by using the revert_eco_changes command."
.
.
.
.
2. model the clock mesh net with a realistic annotated delay and transition values using the set_annotated_delay and set_annotated_transition commands.
"• if the pre-clock tree implemented blocks, which have undergone ccd optimization, are used for top-level placement and optimization, then the ideal clock latencies adjusted dynamically by different engines such as ccd and clock-gate estimation on the clock pins of registers or integrated clock gating (icg) cells inside the blocks might not be seen at the top-level leading to timing inaccuracies at the top-level."
◦ maximum density rules (max_density_threshold) this rule applies only to track-based metal fill.
.
"• latency fusion compiler™ user guide v-2023.12-sp3 432 chapter 5: clock tree synthesis analyzing the clock tree results feedback to report the longest and shortest path for each clock, use the -type latency option."
.
.
"for example, the clock cells in the previous example are placed at least 5 microns apart in the x-direction, instead of 10 microns."
.
.
.
.
.
"• r180 the column position of the relative placement group is from right to left, and the row position is from top to bottom."
this example sets the size_only attribute on a specific cell.
.
.
863 performing tho during compile_fusion final_place stage .
"## specify redhawk/redhawk-sc based options set_app_options -name rail.enable_redhawk -value true set_app_options -name rail.enable_redhawk_sc -value false set_app_options -name rail.redhawk_path -value /test/bin set_app_options -name rail.tech_file -value design_data/tech/rh.tech set_app_options -name rail.lib_files -value { inputs/test/ccsp_test.lib } set_host_options -submit_protocol sge -submit_command {qsub -v \ -notify -b y -cwd -j y -p bnormal -l mfree=16g} ## specify options for running optimization on multiple rail scenarios set_app_options -list { rail.enable_new_rail_scenario true rail.enable_parallel_run_rail_scenario true } ## enable ir drop flag for a given scenario set_scenario_status [current_scenario] -ir_drop true ## create a rail scenario and specify associated options create_rail_scenario -name t_low -scenario func_cbest set_rail_scenario -name t_low -voltage_drop dynamic \ fusion compiler™ user guide v-2023.12-sp3 899 chapter 12: redhawk and redhawk-sc fusion performing voltage drop analysis feedback -extra_gsr_option_file extra.gsr -nets {vdd vss} create_rail_scenario -name t_high -scenario func_cbest set_rail_scenario -name t_high -voltage_drop dynamic \ -extra_gsr_option_file extra2.gsr -nets {vdd vss} ## enable power integrity flow set_app_options -name opt.common.power_integrity -value true performing voltage drop analysis note: before running the analyze_rail command to calculate voltage drops and current violations, ensure you have provided the input files required by each analysis mode."
.
.
the compile_fusion command and the compile_fusion -check_only command perform the prechecks listed in the following table and issue error messages accordingly.
(the default is false.)
placement keepouts from different def files are accumulated and the final keepout geometry is computed internally during synthesis.
.
.
place_group_repeat ers eco-255 warning: gap %s between driver and nearest route is larger than placing distance %s check if the route to the nearest pin distance is larger than placing distance for driver or load.
.
.
.
"to place the cells with a different orientation, use the -orientation option."
"use the following commands to specify, rebind, and report reference libraries: • create_lib -ref_libs you can specify a relationship between a new design library and its lower-level reference libraries by using the create_lib command."
.
.
.
.
.
.
.
.
.
the default is 0.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
-enclose_pins specifies whether pins are enclosed by the shield.
.
.
.
.
.
"if a net is assigned more than one nondefault routing rule, the tool uses the following priority to determine the effective routing rule: 1. nondefault routing rule set by the set_routing_rule command 2. net-specific clock routing rule set by the set_clock_routing_rules -nets command fusion compiler™ user guide v-2023.12-sp3 508 chapter 6: routing and postroute optimization routing constraints feedback 3. clock-specific clock routing rule set by the set_clock_routing_rules -clocks command 4. global clock routing rule set by the set_clock_routing_rules command assigning nondefault routing rules to signal nets to assign a nondefault routing rule to a net, use the -rule option with the set_routing_rule command."
"• to specify the layers on which create the straps, use the -layers option."
.
"if it is unable to find such a spare cell, the eco cells remains unmapped."
.
you can select errors in the error browser and then fix them interactively.
valid values are: ◦default (default): uses the value from custom.route.bus_intra_shield_placement.
"• to specify the minimum and maximum routing layers for the routing corridor, use the -min_layer_name and -max_layer_name options."
.
2.
.
.
.
.
"if you logic library is not variant ready, you can define the equivalent cell variants during the library preparation stage in the library manager tool."
"to specify a delay offset between clocks in the group, use the -offset_latencies option."
"when you specify both of these options, the command creates rectangular metal shapes parallel to each preferred-direction boundary edge based on the parameters you specify with the -stub option."
.
.
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 366 chapter 5: clock tree synthesis specifying the clock tree synthesis settings feedback figure 79 faster clock tree to specific endpoints if a gate drives both skew group and non-skew group endpoints, the skew group endpoints might be delayed due to the balancing requirements of the non-skew group endpoints."
.
.716 using an ic validator parameter file .
"to specify the limit as a percentage of the ◦ cell count, use the -cost cell_count option ◦ cell area, use the -cost area option to reset this constraint, use the reset_multi_vth_constraint command, and to report it, use the report_multi_vth_constraint command."
"for information about using the error browser, see the fusion compiler graphical user interface user guide."
.
this option is mutually exclusive with the -snap option.
set_em_options comandcomandset_em_optionsyou can specify settings for electromigration analysis by setting the application options shown in the following table.
.
.
.
.
.
.
.
.
"for repeater group input mode, place_group_repeaters applies cutline based placement."
.
.
these areas used for buffering nets that go through power domains that are powered down.
"fc_shell> preplace_group_repeaters \ -repeater_group_locations { { $cellgroup1, m2, {720 363.5}, \ north, descending} {$cellgroup2, m2, {920 363.5}, east, ascending} \ fusion compiler™ user guide v-2023.12-sp3 984 chapter 13: eco flow adding a group of repeaters feedback {$cellgroup3, m2, {1230 328.5}, east, ascending} \ {$cellgroup4, m2, {1430 328.5}}, east} the following example places group repeaters when the group id is specified."
.
"to perform these optimizations, use the route_opt command, as described in performing postroute logic optimization."
.
.
.
"you must specify the group name and at least one option; otherwise, this command has no effect."
required.
806 handling tap columns and relative placement group overlaps .
.
.
2. optimize the endpoints by using the route_opt command.
106 validating def files .
.
intent_name (optional) name of the constraint.
.
.
"the tool generates two missing via reports: rpt.missing_vias.no_threshold includes all missing vias found in the geometry, while rpt.missing_vias includes the vias whose voltage difference across two ends is less than 0.001 and 0.002. viewing error data redhawk or redhawk-sc fusion saves the checking error data file, named missing_via.supplynetname.err, in the working directory."
.
.
.
"inserting additional clock gates might improve power, area, or other metrics, depending on the design."
.
.
.
.
.
.
it also allows the tool to improve the timing of clock-gating paths.
.
.
.
.
.
.
.
.
implementing a regular multisource clock tree using integrated tap assignment a regular multisource clock tree has tap drivers that are driven by a clock mesh and drive clock-gating cells and sinks.
.
.
.
.
.
.
"fc_shell> derive_clock_cell_references -output cts_leq_cells.tcl you can edit the output file, source it, and then run clock tree synthesis, as shown in the following example: fc_shell> set_lib_cell_purpose -include cts \ {tech_lib/clk_buf* tech_lib/clk_inv*} fc_shell> source cts_leq_cells.tcl fc_shell> synthesize_clock_trees restricting the target libraries used you can restrict the libraries used during clock tree synthesis for the top level or a lower level of the logical hierarchy of a design by using the set_target_library_subset -clock command."
.
.
"to specify the location of the configuration file you created, use the signoff.fix_drc.config_file application option."
.
.
.
the select line of the mux enables two modes—functional mode (normal data input) and test mode (scanned data input).
• -submit_command or -host_names: use either of these options to specify the configuration of host machines.
.
.
.
.
"for example, analyze -format vhdl -hdl_library bot_hdl_lib bot.vhd analyze -format vhdl -hdl_library mid_hdl_lib mid.vhd analyze -format vhdl -hdl_library top_hdl_lib top.vhd elaborate -hdl_library top_hdl_lib top set_top_module top you can optionally specify the location of the hdl template libraries on disk by using the define_hdl_library command."
.
.
.
.
.
.
example 1 shows how the custom.route.balance_mode option is used when routing μbumps to a c4 bump.
.
.
.
.
.
.
.
.
.
.
.
.
"if you use the set_boundary_optimization command multiple times on the same object, the effect is additive."
excluded_cell_types application option.
.
.
.
.
defining placement bounds a placement bound is a constraint that controls the placement of groups of cells.
.
.
"the design objects can be hierarchical instances, power domains, and designs."
.
.
.
"define a checkpoint action to execute any kind of flow change before, fusion compiler™ user guide v-2023.12-sp3 54 chapter 1: working with the fusion compiler tool adding changes to a script with checkpoints feedback after, or in place of the code block enwrapped by a checkpoint."
.
you should also pay attention to the number of unoptimized single vias.
.
.
.
"in addition, you can constrain the boundary timing paths by specifying input and output delays for input and output ports."
.
signoff.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
a net is considered frozen when its physical_status attribute is set to locked.
.
.
.
.
.
.
.
.
the tool uses ignore pins only in calculations and optimizations for design rule constraints.
.
.
.
.
.
.
.
.
.
.
modifying the stacking order you can modify the stacking order of the voltage area shapes by using the set_voltage_area_shape command.
"when you use this option, the command generates a report but does not move any cells."
"when a license becomes available, the tool reuses it."
"◦ route ends must not be more than 5 μm away from the driver, load pins, or ports in the search region."
"• to query the results stored in the current rail results cache, use the get_attribute commands."
check if all the input cells are placed successfully.
.
193 enabling the power integrity features .
.
.
.
.
"defining a soft placement blockage to define a soft blockage, specify the boundary, type (-type soft option), and optionally the name for the placement blockage."
.
"* to generate a report of application options, use the report_app_options command."
"to learn about using these ic validator in-design functions, see the following topics: • preparing to run ic validator in-design commands • performing signoff design rule checking • automatically fixing signoff drc violations • improving instance voltage drop by augmenting the power grid • inserting metal fill with ic validator in-design • automatically fixing isolated vias fusion compiler™ user guide v-2023.12-sp3 660 chapter 8: ic validator in-design preparing to run ic validator in-design commands feedback preparing to run ic validator in-design commands the following topics describe the tasks you must perform before you run the ic validator in-design commands: • setting up the ic validator environment • enabling ic validator multicore processing • defining the layer mapping for ic validator in-design commands setting up the ic validator environment to run an ic validator in-design command, you must specify the location of the ic validator executable by setting the icv_home_dir environment variable."
.
.
.
.
.
"to restrict the allowed types of pin connections on a per-layer basis, use the following fusion compiler™ user guide v-2023.12-sp3 513 chapter 6: routing and postroute optimization routing constraints feedback syntax to set the route.common.connect_within_pins_by_layer_name application option: set_app_options -name route.common.connect_within_pins_by_layer_name -value { {layer mode} ... } valid values for the mode argument are • off (the default) there are no restrictions on pin connections."
.
"for example, assume your block contains the layout shown in figure 120. by default, the check_lvs command reports two opens for this layout."
.
• the regions in which to insert tap cells use the -voltage area option to restrict the tap cell insertion to the specified voltage areas.
.
.
740 eco-aware removal of track based metal fill shapes .
.
the physical_variant_cells attribute in the liberty source defines the variants of a cell.
.
the analyze command automatically creates hdl template libraries on disk based on the name of the library provided by the -hdl_library option.
.
"when enabled, the tool performs route-driven parasitic estimation during the final_opt stage of the compile_fusion and clock_opt commands."
.
.
-timeout specifies the job submission timeout value.
.
"controlling clock latencies, path groups, and boundary paths to specify a maximum delayed latency for useful skew computation, set the ccd.max_postpone application option to a specific value, as shown in the following example: fc_shell> set_app_options \ ccd.max_postpone 50 fusion compiler™ user guide v-2023.12-sp3 256 chapter 3: physical synthesis running concurrent clock and data optimization feedback to specify a maximum advanced latency for useful skew computation, set the ccd.max_prepone application option to a specific value, as shown in the following example: fc_shell> set_app_options \ ccd.max_prepone 100 to omit useful skew computation for specific path groups, specify one or more path groups with the ccd.skip_path_groups application option as follows: fc_shell> set_app_options ccd.skip_path_groups path_group_list to disable concurrent clock and data optimization for boundary timing paths, set the ccd.optimize_boundary_timing application to false, changing it from its default of true."
.
"for information about the density design rules, see defining the density design rules."
.
.
.
• -interaction_with_clock_gating interaction_type registers gated by user-instantiated clock-gating cells are candidates for self-gating.
.
.
.
.
.
.
.
.
"in general, the tracing terminates when it finds a clock pin of a sequential cell or macro; however, the tool traces through sequential cells if they are integrated clock-gating (icg) cells or their fanout drives a generated clock."
.
.
"fc_shell> analyze_rail -rail_scenario {t_high t_low} \ -submit_to_other_machines note: to use the multi-rail-scenario rail analysis capability for ir-driven placement or ir-driven concurrent clock and data optimization, you must set the following application option before the clock_opt -from final_opto or route_opt command: fc_shell> set_app_options \ -name opt.common.power_integrity -value true for more information about power integrity analysis, see the enabling the power integrity features section."
"by default, the settings apply to the entire design."
.
"by default, the tool writes the report to a directory named compare_qor_data."
.
◦ the specified filler cells must meet the following requirements: ▪ they must have a design_type attribute of lib_cell or filler.
.
.
.
.
.
.
"• to query the fill cells in the block, use the get_fill_cells command."
.
.
.
"if the default sink and ignore pins are correct, you are done with the clock tree definition."
.
.
.
.
"to specify the library cells, use the following options with the set_boundary_cell_rules command: • -left_boundary_cell and -right_boundary_cell these options specify a single library cell that is used for the end-cap cells for the left and right boundaries, respectively."
.
.
"to disable the checking of minimum grid violations, use the -check_min_grid false option."
"◦ specify a maximum total wire delay from any subtree driver to any of its sinks by using the -max_total_wire_delay option and the corner it applies to by using the -corner option ◦ enable the reordering of clock-gating cells by using the -enable_icg_reordering true option when you enable this feature, the tool swaps the position of a clock-gating cell with the buffer that is driving the clock-gating cell."
.
(optional) enable multithreaded filler cell insertion by using the set_host_options command to specify the multicore configuration.
.
.
.
.
.
"in this case, zroute ignores the setting of the -open_net_driven option."
.
.
.
"to weight the priority toward wire widening and reduced critical area open faults, set this option to a value between 0.0 and 0.5. to weight the priority toward wire spreading and reduced critical area short faults, set this option to a value between 0.5 and 1.0. after widening, the widen_wires command performs detail routing iterations to fix any drc violations caused as a result of widening."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
use the -supply_net option to explicitly associate a tap to the supply (either power or ground) net connected to the object from which the tap was defined.
.
.
note: the signoff_report_metal_density command generates the heat maps only when the signoff.report_metal_density.create_heat_maps application option is set to true.
.
.
.
"hard move bounds are honored during both coarse placement,and legalization."
801 specifying the orientation of relative placement groups .
"to insert an exterior tap wall, use the create_exterior_tap_walls command."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 61 chapter 1: working with the fusion compiler tool using setup files feedback • to clear a portion of the data in your checkpoint_history.rpt file, use the -from option to specify the name of a checkpoint."
controlling placement when using the place_eco_cells command the place_eco_cells command places and legalizes each eco cell based on the connectivity and the delays associated with the cell.
"in addition, you can specify via ladder candidates for specific pins by using the set_via_ladder_candidate command."
.
.
.
111 setting up multivoltage designs .
signoff.create_metal_fill.
.
.
.
.
.
"to change the leakage power calculation mode, set the power.leakage_mode application option."
.
"for more information, see displaying block-level rail results."
.
.
"the following example generates a compatible library cell report for rtl banking and debanking: fc_shell> check_multibit_library -stage rtl \ -banking -debanking **************************************** report : check_multibit_library flow : rtl banking **************************************** ---------------------------------------------------------------- single bit lib cell compatibility multi bit lib cell ---------------------------------------------------------------- sb_reg1 pin order mismatch mb_reg1 sb_reg2 compatible mb_reg2 ---------------------------------------------------------------- singlebit with no multibit equivalents ---------------------------------------------------------------- sb_reg3 fusion compiler™ user guide v-2023.12-sp3 251 chapter 3: physical synthesis performing multibit optimization feedback **************************************** report : check_multibit_library flow : rtl debanking **************************************** ---------------------------------------------------------------- multi bit lib cell compatibility single bit lib cell ---------------------------------------------------------------- mb_reg2 compatible sb_reg2 mb_reg1 pin order mismatch sb_reg1 ---------------------------------------------------------------- multibit with no singlebit equivalents ---------------------------------------------------------------- mb_reg3 improving the banking ratio during the initial_mapping stage, the tool can prioritize the use of sequential library cells that have functionally equivalent multibit library cells."
.
.
.
.
.
.
.
.
.
.
.
rail parasitics map shows parasitic resistance of a given supply net in the block when voltage drop analysis is complete.
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 754 chapter 9: routing using custom router defining routing constraints feedback the following example creates a constraint group and specifies constraints for adding shields on the nets whose names start with pr.
.
this feature increases the runtime of the compile_fusion command.
.
.
.
.
.
.32 physical synthesis design flow overview .
.
.
"when you specify the regions for metal fill insertion, the signoff_create_metal_fill command 1. removes all existing metal and via fill from the block for standard metal fill insertion, the command removes all existing metal and via fill."
.
.
fusion compiler™ user guide v-2023.12-sp3 759 chapter 9: routing using custom router defining routing constraints feedback command or options description -match_type (optional) type of length matching.
.
.
880 supporting redhawk-sc customized python script files .
.
.
.
• (optional) use the -switching_activity option to specify a switching activity file.
.
.
.
"to preserve the relative placement structures during various postplacement optimization processes, use the -optimization_restriction option with the set_rp_group_options command and specify the appropriate setting as shown in table 60. table 60 settings for the -optimization_restriction option to do this use this setting allow unrestricted optimization of the relative placement cells all_opt allow only sizing of the relative placement cells size_only allow only in-place sizing of the relative placement cells size_in_place prevent any optimization of the relative placement cells no_opt for a hierarchical relative placement group, the -optimization_restriction option setting applied to the top level is propagated to the lower-level groups and any settings applied to the lower-level groups are ignored."
"fusion compiler™ user guide v-2023.12-sp3 80 chapter 2: preparing the design using pin access checker utility feedback note: the library subset restrictions apply to leaf cells, but not to hierarchical cells."
.
.
.
"restricting the extent of rerouting for information about restricting the extent of rerouting for specific nets, see setting the rerouting mode."
.
.
.
"the following commands support multithreading configured by the set_host_options command: • place_opt • clock_opt fusion compiler™ user guide v-2023.12-sp3 64 chapter 1: working with the fusion compiler tool enabling multicore processing feedback • check_legality, when advanced legalization is enabled by setting the place.legalize.enable_advanced_legalizer application option to true."
.
.
.
.
.
.
"to specify a different offset in microns tor nonpreferred- direction routing blockages, use the -spacing_nonpreferred option."
.
.
.
.
.
.
.
.
.
"by default, the check_lvs command reports a maximum of 20 violations for each type of error."
.
.
.
.
.
.
.
.
"when you set the compile.flow.boundary_optimization application option to false, • the tool disables propagation of equal-opposite logic and phase inversion."
.
.
.
.
"for each group of buffers that you add on the bused nets, use the {buffer_pattern_name library_cell_name x y .... } format with the -user_specified_bus_buffers option to specify the ◦ name of the buffer pattern that you defined using the create_eco_bus_buffer_pattern command ◦ library cell to use ◦ coordinates of the location of the first buffer in the pattern the following example adds a group of buffers of type buf2 on the bus named data_a, using a buffer pattern named bp1."
.
"9. route the connections between the clock mesh and the local subtrees by using the route_clock_straps command, as described in routing to clock straps."
.
.
2. perform the following steps for multivoltage designs: a. enable multivoltage support by setting the cts.multisource.enable_full_mv_support application option to true.
.
"enabling route-driven estimation (rde) for preroute optimization to improve correlation with the postroute stage of the design flow, the tool can perform global routing, perform extraction based on the global routes, and use this parasitic information when performing optimization."
.
.
.
.
.
.
this command derives the placement of each eco cell based on the connectivity and the delays associated with the cell.
.
.
"• have access to a spice simulator such, as nanosim, finesim, or hspice."
.
.
.
.
.
.
.
"during timing-driven metal fill insertion, the signoff_create_metal_fill command 1. performs timing analysis, including multicorner-multimode analysis, to minimize timing impact 2. identifies timing-critical nets based on the options you specify 3. removes existing metal and via fill by default, the command removes the metal and via fill from the entire block."
.
.
"you can specify one or more of the following options: option description -submit_protocol specifies the protocol to submit jobs, such as lsf, grd, or sge.note: before job submission, run the rsh command to check if the target farm machine supports the rsh protocol to accept distributed processing from on a remote machine."
.
.
.
.
.
.
-gap specifies the global minimum spacing between route objects and shield objects.
.
.
.
user_defined_options (none) specifies additional options for the ic validator command line.
.
.
.
.279 reporting logic levels in batch mode .
the following section describes library requirements to implement multiplexer cells for multiplexer optimization or to implement multiplexing logic from the cell library to control mux mapping: • understanding library cell requirements for multiplexer optimization • implementing multiplexing logic from cell library understanding library cell requirements for multiplexer optimization the multiplexer optimization requires the presence of at least a 2:1 multiplexer cell in the logic library.
.
.
.
.
.
.
.
.
signoff.physical.
.
.
.
"via ladders reduce the via resistance, which can improve performance and electromigration robustness."
.
.
.
clock gating applied to synchronous load enable registers reduces the power needed when reloading the register banks.
.
.
.
.
"• the orientation of the filler cells by default, the command uses the allowable orientations of the row to place the filler cells."
.
.
.
.
use the -boundary option to restrict the tap cell insertion to the specified region.
.
.
.
.
.
"if multiple power domains exist in a single voltage area, the tool picks one of the available power domains."
.
-gap specifies the spacing in microns between the outermost bus bits and other shapes in the block.
.
.
.
.
.
"(optional) specify name prefixes and suffixes to use when merging and splitting clock cells during tap assignment by using the following application options: ◦ cts.multisource.subtree_merge_cell_name_prefix ◦ cts.multisource.subtree_merge_cell_name_suffix ◦ cts.multisource.subtree_split_cell_name_prefix ◦ cts.multisource.subtree_split_cell_name_suffix ◦ cts.multisource.subtree_split_net_name_prefix ◦ cts.multisource.subtree_split_net_name_suffix fusion compiler™ user guide v-2023.12-sp3 428 chapter 5: clock tree synthesis implementing multisource clock trees feedback building the local clock subtree structures in a structural multisource clock tree, the local subtrees are directly driven by the clock mesh."
specifying settings for clock latency adjustments i/o ports are usually constrained using real or virtual clocks.
.
.
962 reverting changes made during resizing .
.
.
.
.
.
.
.
the place_opt command placement and optimizationaddresses and resolves timing closure for your design.
"to define guard bands, use the -guard_band option with the create_voltage_area or create_voltage_area_shape command to specify the horizontal and vertical guard band width for each shape specified in the -region option."
.
365 using the global router during initial clock tree synthesis .
.
table 24 commands and their expected return values command expected return value get_clock_gates -gating_wrapper_cells_only (returns all clock gates that drive wrapper cells only) dft_wrapper_icg and dft_wrapper_clock_gate_reg get_clock_gates -gating_wrapper_cells_only -origin tool_inserted (returns only tool inserted clock gates that drive wrapper cells only) dft_wrapper_clock_gate_reg only get_clock_gates -gating_wrapper_cells_only -origin pre_existing (returns only pre-existing clock gates that drive wrapper cells only) dft_wrapper_icg only get_clock_gates {icg clock_gate_reg} -gating_wrapper_cells_only empty string denoting that both the clock gates are not gating the wrapper cells get_clock_gates {icg dft_wrapper_clock_gate_reg} -gating_wrapper_cells_only (returns clock gates that only drive wrapper cells from given cells within the { } brackets) dft_wrapper_clock_gate_reg get_clock_gates {*clock_gate_reg} -gating_wrapper_cells_only (returns clock gates that only drive wrapper cells and match the given pattern within the { } brackets) dft_wrapper_clock_gate_reg this feature works only when you enable clock gate support for dft wrapper cells.
"to specify the vias to use when routing nets with nondefault routing rules, use the create_routing_rule command."
these nets leave the discontinuous nondefault routing rules applied at different levels.
"fusion compiler™ user guide v-2023.12-sp3 804 chapter 10: physical datapath with relative placement specifying options for relative placement groups feedback assume a hierarchical relative placement group named top-rp contains three lower-level relative placement groups named rp1, rp2, and rp3."
.
.
.
the tool makes no distinction among clock gates.
"note: if the repeater cell is an inverter, you are responsible for ensuring logical correctness."
.
.
"the fusion compiler tool can select the filler cells to use based on • an ordered list of filler cell references in the standard filler cell insertion flow, you specify an ordered list of filler library cells and the tool inserts the first cell that fits in each gap."
.
.
the reported soft rule violations help you to understand the shielding rate.
.
.
.
.
"zroute determines which method to use, based on which is closest to the required location: an empty location for a new diode or an existing spare diode."
.
"to remove shapes from a voltage area, use the remove_voltage_area_shapes command."
"when you run the signoff_fix_drc command, the ic validator tool uses the on- disk information for the block, not the information in memory."
.
.
.
.
.
.
.
187 specifying switching probability for supply nets .
.
"fc_shell> report_cells [get_cells *reg_state_reg* -hierarchical] ... cell reference library attributes --------------------------------------------------------------- reg_state_reg[2:0] mb_dff my_mb_lib n mapping combinational multibit cells combinational multibit cells are library cells, where a single cell implements multiple logic functions."
.
"controlling timing optimization effort by default, the tool focuses on improving the timing and power qor during concurrent clock and data optimization."
.
.
• -max_cores: use this option to specify the maximum number of cores.
.
.
"then, define repeater group by using the set_repeater_group -group_id -cutline command, after placing group repeaters, you can query repeater groups using the report_repeater_groups command and repeater paths info using the get_repeater_paths_info command."
.
.
.
.
.
.
.
.
.
.
the mode use for both latency values is the mode for which the report is being generated.
.
.
.
a value of 0 results in no keepout margin for that side.
.
.
.
.
the electromigration constaints are stored in the design library as a lookup table.
.
"fusion compiler™ user guide v-2023.12-sp3 644 chapter 7: chip finishing and design for manufacturing inserting filler cells feedback • the orientation modification ◦ to change the orientation for the leftmost filler cells, use the -left_end option."
this option is mutually exclusive with buffer_lib_cell.
.
the default minimum is 2 sinks and the default maximum is 128 sinks.
.
prerequisites for handling early design data the tool performs the repairs and saves the records in the subblocks within the check_hier_design command itself.
.
.
.
.
2. ensure that at least one scenario is enabled for dynamic-power optimization by using the set_scenario_status -dynamic_power true command.
.
.
.
"before you run clock tree synthesis on a block, it should meet the following requirements: • the clock sources are identified with the create_clock or create_generated_clock commands."
.
• the register under analysis is multibit and its slices do not share the same enable signal.
.
.
"to define a routing blockage, use the create_routing_blockage command."
2.
.
.
.
"to produce optimal leakage power optimization, use libraries with multithreshold voltage group cells."
.
.
"to create an electrical model for the specified block, specify the -electric_model_file option with the create_context_for_sub_block command."
.
.
"at the beginning of each subsequent iteration, the router checks the distribution of the drc violations."
"to save eco shapes along with rail results and display them in the gui, enable the rail.display_eco_shapes application option, like set_app_options -name rail.display_eco_shapes -value true note: the mesh add command is available only in redhawk, not in redhawk sc."
.
.
.
"• the region in which to check for violations to restrict filler cell check to specific regions, use the -boundary option."
.
.
the fusion compiler tool writes power intent changes into a separate “supplemental” upf file.
"enabling high-effort area mode on designs that need further reduction of area, set the compile.flow.high_effort_area application option to true."
.
.
.
"when you specify this object type, the command creates one or more rectangular metal shapes parallel to each preferred-direction boundary edge."
this helps to preserve mpw pins that might not be violating but have a slightly positive slack.
.
.
.
.
"to disable the checking of out-of-boundary pins, use the -check_out_of_boundary false option."
.
.
"◦ ports the tool creates the signal, clock, and tie ports that exist only in the def file and connects them to the nets specified in the def pins section."
.
.
"in general, the technology file and the foundry runset file used by the ic validator tool use the same layer numbers."
this includes the maximum level of clock- gating cells in the design.
.
.
.
.
.
.
.
(optional) specify that the tool should not reduce the voltage drop at the expense of the timing qor by reducing the power integrity effort level by setting the opt.common.power_integrity_effort application option to low.
"therefore, surround the upf constraints for physical-only cells with the syntax shown in the following example: if {[info exists snps_handle_physical_only] && \ $snps_handle_physical_only} { /* supply net connections for filler cells */ connect_supply_net vdds -ports [get_pins filler*/vdd] } by default, the snps_handle_physical_only variable is set to true in the fusion compiler tool."
.
.
"in the map, problem areas are highlighted in different colors."
note: this feature requires version p-2019.06 or later of the ic validator tool.
.
.
.
.
-group_orientation specify the utilization (default is 100 percent).
.
.
.
.
.
.
.
.
.
.
.
.
-driver (optional) name of the driver pin or port.
.
"if the primetime tool reports setup or hold violations during signoff timing analysis, you can use the following process to fix these violations: 1. specify the target endpoints and their primetime timing information by using the set_route_opt_target_endpoints command with the -setup_timing and -hold_timing options."
"checking for isolated vias to check for isolated vias without fixing them, run the signoff_fix_isolated_via command with the -check_only true option."
.
.
.
"after you run the add_buffer_on_route command with this option, update the supply net and power domain setting for the added buffers by using the set_eco_power_intention command."
.
"if you do not use these options for a voltage area, the well bias values are assumed to be the same as the domain supply values."
.
.
"figure 102 metal stub perimeter constraint objects s s s w w sp sp sp w sp sp sp sp sp o o o l fusion compiler™ user guide v-2023.12-sp3 485 chapter 6: routing and postroute optimization routing constraints feedback inserting short metal shapes perpendicular to nonpreferred-direction edges to insert additional short metal shapes in the preferred direction perpendicular to the nonpreferred-direction boundary edges, • specify the length of the metal shapes by using the -short_metal_length option • specify the distance between the metal shapes by using the -metal_spacing option for both of these options, you use the following format to specify the value for each layer: {{layer_name value} ...} figure 103 shows the short metal shapes inserted for an l-shaped block on a layer whose preferred direction is horizontal."
659 removing filler cells .
.
.
.
.146 defining group bounds .
.
"◦ minimum_physical_impact when you specify this setting, the tool first legalizes the eco cells the can be legalized to a free site nearby without moving preexisting cells."
.
.
.372 using nondefault routing rules for critical nets during optimization .
.
.
.
.
the default is one half of the value specified for the -repeater_distance option.
.
.
.
.
.766 corner type .
typically this information is defined in the cell library.
.
.
.
you can further restrict the target library subset setting as follows: ◦ specify a list of cells from the libraries that should not be used by using the -dont_use option.
.
.
116 saving upf information .
.
.
.
.
.
.
.
"the set_clock_gate_latency command when you use the compile_fusion command, clock gates are inserted during the compilation process."
.
.
.
.
.
the tap cells in the tap wall are placed linearly without any gaps between cells.
"• the cells considered for the check to specify the small filler cells to consider for the check, use the -small_fillers option."
.
.
.
"before you create the abstract view, ensure that the scenarios needed at the top level have been created and are active."
.
.
.
.
"use the following options to refine the via mapping: • -weight by default, all mappings have the same priority, and zroute selects the redundant vias to use based on routability."
.
.
.
◦ use the -voltage_area option to restrict filler cell insertion to the specified voltage areas.
.262 performing design analysis .
"this allows you to refine the clock tree synthesis goals and rerun clock tree synthesis with the same starting point, if necessary."
.
.
.
.
.
.
.
.
888 finding invalid taps .
.
.
.
.
.
figure 129 fixing an illegal abutment violation fusion compiler™ user guide v-2023.12-sp3 647 chapter 7: chip finishing and design for manufacturing inserting filler cells feedback maximum horizontal edge length rule the maximum horizontal edge length rule restricts the horizontal length of a sequence of abutted objects on a specific layer.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"reporting shielding information after you run the create_shields command, you can • query the shield shapes associated with a shielded net by using the get_shapes -shield_only command, as described in querying shield shapes • report the shielding statistics by using the report_shields command, as described in reporting shielding statistics querying shield shapes to query the shield shapes associated with a shielded net, use the get_shapes command with the -shield_only option, as shown in the following example: fc_shell> get_shapes -shield_only -of_objects [get_nets myclk] {path_19_4317 path_19_4318 path_19_4319 path_19_4320 path_19_4322 fusion compiler™ user guide v-2023.12-sp3 546 chapter 6: routing and postroute optimization shielding nets feedback path_17_11590 path_17_11591 path_17_11592 path_17_11593 path_17_11594 path_17_11595 path_17_11596 path_17_11597 path_17_11599 path_17_11600 path_17_11601 path_17_11602 path_17_11604 path_17_11605 path_17_11606 path_17_11607 path_17_11608 path_17_11609 path_17_11610 path_17_11611 path_17_11612 path_17_11613 path_17_11614 path_17_11615 path_17_11616 path_17_11617 path_17_11618 path_17_11619 path_17_11620 path_17_11621 path_17_11622 path_17_11623 path_17_11624 path_17_11625 path_17_11626} reporting shielding statistics to report the shielding statistics, use the report_shields command."
.
this option applies only to pattern-based metal fill insertion.
.
(place-083) warning: overutilized regions for move_bound_0 are modified by removal of partial and full blockages.
.
"implementing multiplexing logic from cell library during logic synthesis, the tool implements multiplexing logic from the cell library using one of the following methods: • and, or, and inv gates • mux gates the tool evaluates the area effect of both methods and selects the solution with the smallest area."
.
.
.
.
.
.
.
.
.
note: the tool shows all the layers in the lef or def file on the voltage drop map even if the layers are absent in the fusion compiler library file.
.
"a switch has an input supply net, an output supply net that can be switched on or off, and at least one input signal to control switching."
.
you can allow new ports to be added to a block by using use the set_freeze_ports command.
use the -nwell and -pwell options of the create_voltage_area command to specify n-well and p-well supply nets for a voltage area.
.
.
5. report the list of mismatching nets.
.
application options have either a global scope or a block scope.
this command identifies any issues and reports the changes that are made to resolve these issues when you commit the power intent.
.
"◦ to ignore the line-end cut enclosure rule, use the -relax_line_end_via_enclosure_rule true option."
.
2. find logically equivalent spare cells for these eco cells by using the create_freeze_silicon_leq_change_list command.
.
.
.
soft shielding rules during signal routing zroute considers shielding rules as soft rules during signal routing.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 457 chapter 6: routing and postroute optimization inserting via ladders feedback • honors nondefault width rules for the wires on all layers of the via ladder to use the default width for wires on lower layers of the via ladder and honor the nondefault width only for the top layer, use the -ndr_on_top_layer_only true option."
.
.
integrated clock-gating (icg) cell preserved.
.
.
.
"to prevent the command from inserting filler cells that leave a gap, specify the smallest cell size as a multiple of the unit site by using the -smallest_cell_size option."
"to override the default, define the mx_min_density parameter in the ic validator parameter file."
"2. insert the boundary cells based on the specified rules by using the compile_boundary_cells or compile_targeted_boundary_cells command, as described in inserting boundary cells."
.
"it also fixes drc violations beyond ignore exceptions of the multisource clock tree, if applicable."
.
.
.
.
.
.
.
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 67 chapter 1: working with the fusion compiler tool enabling multicore processing feedback running tasks in parallel to efficiently run the same task on several blocks in your design, you can use the run_block_script command to enable distributed processing and perform the tasks in parallel."
.
"to insert redundant vias only on specific nets, use the -nets option to specify the nets."
.
.
.
.226 selecting and multiplexing logic .
.
.
.
"by default, the route_auto command ignores existing global routes and sequentially invokes global routing, track assignment, and detail routing."
.
.
.
.
.
.
.
.
.
.
.
.
492 verifying routing corridors .
.
"when you use this option, the density report has the specified file name, while the gradient density report adds a .gradient file extension."
.
.
.
477 using routing guides to encourage river routing .
.
"by default, the tool reports the available sites in the entire block."
.
.
.
.
you can also check if the current reference is legal or illegal.
• the total overflow value is the total number of wires in the block that do not have a corresponding track available.
.
"• tolerate: when you apply this policy, the tool makes predictable and explainable assumptions to continue with the flow."
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 203 chapter 2: preparing the design specifying the routing resources feedback for example, to use layers m4 through m7 when routing the root nets of the clk1 clock, use the following command: fc_shell> set_clock_routing_rules -clocks clk1 -net_type root \ -min_routing_layer m4 -max_routing_layer m7 to specify a transitive fanout limit to use when identifying root nets, use the set_clock_tree_options -root_ndr_fanout_limit command."
.
.
.
.
.
.
.
.
.
.
.
.
77 restricting the target libraries used .
.
.
.
.
.
.
.
.
it is also used in the name of the output files and the directory where the output is stored.
"if you do not specify this constraint, the clock tree synthesis default is 0.6 pf."
.
.
.
.
.
.
.
.
see specifying net-specific layer constraints.
"for details, see using routing guides to encourage river routing."
.
.
.
.
.
.233 specifying synchronous input types for library cell pins .
.
add routing blockages to prevent custom router from routing in the area that is covered by placement blockages.
"in this case, the underflow of 3 for the metal4 layer is used in the calculation."
"◦ to assign shielding rules to clock nets, use the set_clock_routing_rules command."
"• reports a maximum of 1000 errors for each rule, including both top-level and child- level violations ◦ to override the maximum error count, set the signoff.check_drc.max_errors_per_rule application option."
"the following command applies a margin of 15 on the left and right and a margin of 10 on the top and bottom of the relative placement group named rp1: fc_shell> set_rp_group_options rp1 \ -rp_only_keepout_margin {15 10 15 10} handling fixed cells during relative placement to specify how to handle fixed cells in the floorplan during legalization of relative placement groups, use the -place_around_fixed_cells option with the set_rp_group_options command."
"for information about viewing the heat maps, see viewing density heat maps in the gui."
"see also • working with the 3dic compiler user interfaces • using application options • using variables • using tcl scripts using the command log file the command log file records the commands processed by the fusion compiler tool, including setup file commands and application option settings."
.
.
.
.
a design library can serve as a reference library for another design library.
.
.
"to insert an array of mim capacitors into a block and connect them to the power rails, use the create_mim_capacitor_array command."
.
.
"to also save the soft congestion data, set the route.global.export_soft_congestion_maps application option to true before performing global routing."
.
.
.
.
.
"to perform this optimization, use the optimize_routability command, as described in fixing drc violations caused by pin access issues."
.
.
.
.
.
.
.
custom.route.diffpair_twist_jumper_interval specifies the distance between each twist.
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 337 feedback 5 clock tree synthesis to learn how to perform clock tree synthesis in the fusion compiler tool, see the following topics: • prerequisites for clock tree synthesis • defining the clock trees • verifying the clock trees • setting clock tree design rule constraints • specifying the clock tree synthesis settings • implementing clock trees and performing post-cts optimization • implementing multisource clock trees • analyzing the clock tree results prerequisites for clock tree synthesis this topic details the prerequisites required before running the clock tree synthesis."
.
"the following example illustrates a typical command sequence for clock using default settings: fc_shell> read_verilog design.v fc_shell> create_clock -period 10 -name clk fc_shell> compile_fusion fc_shell> insert_dft fusion compiler™ user guide v-2023.12-sp3 302 chapter 4: clock gating replacing clock gates feedback fc_shell> report_clock_gating fc_shell> report_power replacing clock gates if you want to replace all the technology-independent clock gates in your rtl with integrated clock-gating cells from the libraries, use the replace_clock_gates command before executing the compile_fusion command."
.
.
.
check if the top port or macro pin has shape.
"for example, assume that you use the following commands to define guard bands for the voltage areas shown in figure 15: fc_shell> create_voltage_area -power_domains pd1 \ -region {{0 0} {30 30}} -guard_band { {2 2} } {pd1} fc_shell> create_voltage_area -power_domains pd2 \ -region {{10 10} {20 20}} -guard_band { {2 2} } {pd2} fusion compiler™ user guide v-2023.12-sp3 125 chapter 2: preparing the design setting up multivoltage designs feedback in this case, the effective placement area of pd1 is reduced by the effective boundary of pd2, which includes its guard band, as shown in figure 17. figure 17 effective boundaries of overlapping voltage areas defining gas stations gas stations are small voltage areas that are created for the purpose of minimizing the use of dual-rail buffers on physical feedthrough paths."
.
.
.
.
"after running this command, use the report_clock_balance_groups command to report the generated interclock delay balancing constraints, as described in reporting clock balance groups."
"the power unit in the report file is watts, the current unit is amperes, and the voltage unit is volts."
"to create etms and etm cell libraries in the primetime and the library manager tools respectively, see the following topics: • creating etms in the primetime tool • creating etm cell libraries in the library manager tool fusion compiler™ user guide v-2023.12-sp3 855 chapter 11: hierarchical implementation creating etms and etm cell libraries feedback creating etms and etm cell libraries in the fusion compiler tool rather than creating an etm for each mode and corner combination using the extract_model command in the primetime tool and then using the library manager tool to combine the etms with the corresponding physical information to create a cell library, you can perform both steps together by using the extract_model command directly in the fusion compiler tool."
.
.
the repeater distance is same for all net groups.
the tool inserts the isolation shifters using the cell mapping and strategy defined in the upf specification.
fusion compiler™ user guide v-2023.12-sp3 806 chapter 10: physical datapath with relative placement changing the structures of relative placement groups feedback this helps in better placement and structures of relative placement groups in the design.
.
.
.
.
.
.
"note: if you specify both the create_shields -with_ground option and the route.common.shielding_nets option, the tool issues a warning message and uses the route.common.shielding_nets setting."
note that the upf specification for a single-voltage design is the default power domain generated by the read_verilog command.
.
the tool also attempts to map the logic as close as possible to the data pin.
"◦ the range of invalid spacings, in number of unit tiles for example, to specify that there must be at least one unit tile between labels x and y (they cannot abut), use the following command: fc_shell> set_placement_spacing_rule -labels {x y} {0 0} to specify that there must be at least one unit tile between x labels and any boundary, use the following command: fc_shell> set_placement_spacing_rule \ -labels {x snps_boundary} {0 0} to specify that two x labels cannot have a spacing of two unit tiles, use the following command: fc_shell> set_placement_spacing_rule -labels {x x} {2 2} to specify that labels x and z must have a spacing of less than two unit tiles or more than four unit tiles, use the following command: fc_shell> set_placement_spacing_rule -labels {x z} {2 4} fusion compiler™ user guide v-2023.12-sp3 152 chapter 2: preparing the design specifying placement settings feedback caution: the cell spacing constraints are not saved with the block; they apply only to the current session and must be redefined in each session."
855 creating etms and etm cell libraries in the fusion compiler tool .
.
"to query the fill cells, use the get_fill_cells command."
"5. insert pg vias to fix the reported missing vias, as described in fixing missing vias."
.
.
.
"if you enable this feature, you should enable it for all subsequent preroute optimization steps in the design flow."
.
.
.
.
.
"you must specify your own queue parameters such as the qsub parameters as shown in the following example: note: if host options are not specified, the tool runs the operations for the subblocks serially in the main process."
◦ add routing blockages as needed.
.
.
.
information.
"each rule uses the following format: {standard_cells} {left_filler_cells} {right_filler_cells} • for the standard_cells argument, ◦ you must specify a list of one or more standard cells ◦ you can use wildcards to specify the cell names ◦ if you specify multiple rules for the same standard cell, the command uses only the last rule specified for that cell."
.
.
.
.
.
there is no default for these application options.
.
.
.
you cannot disable these checks.
"analyzing multivoltage information to ensure that the design does not have any multivoltage design violations, use the check_mv_design command."
the default settings are suitable for most designs.
.
.
tho does not change the subblock shape and physical hierarchy.
mx_ignore_route_guide 0 controls whether the ic validator tool honors (0) or ignores (1) routing guides on the specified layer during metal fill insertion.
"for example, if all the surrounding grids have bigger index numbers and only a few central grids have much smaller numbers, this voltage drop hotspot is assumed to be an island."
.
.
.
.
"when you enable this rule, metal fill removal honors the maximum density threshold set by the signoff.create_metal_fill.max_density_threshold application option."
.
.
.
.
.
"the following figure shows how constants, equal-opposite logic, logic phase, and unloaded ports are propagated through the logical boundaries without and with boundary optimization."
.
"this can be used to supplement the standard qor data captured by the write_qor_data command, or to create fully custom qorsum reports."
.
"grouping variant cell in the same variant cell group, the library cell variants differ from the master-variant only in mask color (or small geometry), while the timing data is same for these variants."
.
.
3. fix the placement of the hard macro cells in the relative placement groups by using the set_placement_status fixed command.
"to avoid tap rule violations, specify the same tap cell insertion pattern as was used by the create_tap_cells command."
.
.
.
.
"for example, to create a hard inner keepout margin with a margin of 10 on each side for a hierarchical cell named my_hcell, use the following command: fc_shell> create_keepout_margin -inner {10 10 10 10} my_hcell defining area-based placement blockages an area-based placement blockage is a rectangular region in which cells cannot be placed or in which the types or number of cells is limited."
.
.
.
.
.
.
.
.
.
.
.
• -pattern_must_join this option specifies that the via ladder is a pattern-must-join via ladder.
.
.
.
.
.
.
.
"when you use the -blocks or -all_blocks option, if a specified block has an abstract view, by default, the tool does not re-create it."
.
relative placement is also called physical datapath and structured placement.
.
.
"similarly, if you do not specify the -to option, the tool continues until the final_opto stage is completed."
"fc_shell> get_attribute [get_cells cell_name] size_only fusion compiler™ user guide v-2023.12-sp3 171 chapter 2: preparing the design controlling the optimization of cells, nets, pins, and ports feedback this example reports all the size_only information on design objects in the current design."
.
.
.
.
◦ specify a maximum total wire delay from any subtree driver to any of its sinks by using the -max_total_wire_delay option and the corner it applies to by using the -corner option.
.
"to apply the delay offset to a specific corner, use the -corner option."
.
"if you set this application option to 0, the tool honors the exclusive hard move bound."
.
"if a neighboring via is not found within this distance, a via is considered an isolated via and the command tries to add a fixing via within the specified distance."
.
.
"for details, see using routing guides to limit edges in the nonpreferred direction."
.
example 14 compile log with compile prechecks ------------------------- begin compile flow ----------------------- (flw-3001) ->compile in progress: 1.0% (flw-3778) error: layer m1 does not have a preferred direction (opt-1008) ... error: layer mrdl does not have a preferred direction (opt-1008) ... warning: technology layer 'm1' setting 'routing-direction' is not valid (nex-001) ... warning: technology layer 'mrdl' setting 'routing-direction' is not valid (nex-001) example 15 compile log without compile prechecks ---------------------- end logic optimization -------------------- (flw-3001) ->compile in progress: 27.0% (flw-3778) ->compile in progress: 28.0% (flw-3778) ->compile in progress: 28.5% (flw-3778) information: corner max_corner: no pvt mismatches.
.
.
.
.
.
.
"when you use this option, the compile_boundary_cells command creates the following routing guides: • metal cut allowed routing guides, which cover the area taken up by all the placeable site rows reduced by the vertical shrink factor, which is 50 percent of the smallest site row height • forbidden preferred grid extension routing guides, which cover the remaining area up to the block boundary note: this feature is supported only by the compile_boundary_cells command; it is not supported by the compile_targeted_boundary_cells command."
.
.
.
"◦ uses staggering only when it is defined for the via ladder rule via ladder staggering extends the row metal of a via ladder level in the preferred direction of the upper layer for the level to avoid obstructions above or near the pin, which can increase the success rate of via ladder insertion."
.
.
.
.
2. configure your checkpoints by ◦ defining the flow changes or reports you want to associate with the checkpoints ◦ associating the flow changes or reports you defined with your checkpoints 3. run your script.
.
.
.
.
"the following example runs the compile_fusion command until it completes the initial_opto stage, performs analysis, changes an application option setting, and restarts by running the initial_opto stage again."
.
.
"to report self-gating objects, use the report_self_gating_objects command."
"for more information, see performing pg electromigration analysis."
.
.
.
"to display the settings for all routing options, not only those that have been set, set the route.common.verbose_level application option to 1. fc_shell> set_app_options \ -name route.common.verbose_level -value 1 fusion compiler™ user guide v-2023.12-sp3 519 chapter 6: routing and postroute optimization routing clock nets feedback routing clock nets to route clock nets before routing the rest of the nets in the block, use the route_group command with the appropriate option to select the nets."
"• high-fanout nets, such as scan enables, are synthesized with buffers."
.
.
.
.
.
.
see anchoring relative placement groups.
.
• reads the gate-level saif back into the fusion compiler tool.
.
.
.
"then, the buffer is gated by the clock- gating cell, thereby reducing the dynamic power consumption."
.
4. enable the automatic assignment of nondefault routing rules during optimization by setting the compile.flow.optimize_ndr application option.
.
.
.
.
.
.
.
.
you can manually control the name mapping in the database by using the saif_map command as shown in the following table.
.
"if this attribute is not specified or is incorrectly specified in the logic library, you can manually specify it by using the set_attribute command, as shown in the following example: fc_shell> set_attribute [get_lib_pins my_lib/dffsrst/rn] \ nextstate_type clear controlling sequential output inversion by default, the compile_fusion command can map a register to a sequential library cell with an output that is opposite to that of the register, if it improves qor."
.
• a name for the skew group by using the -name option.
.
.
.
"when you select this rule, you must specify • the filler cells considered for the check and their replacements the filler cells considered for the check are called target cells."
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 437 feedback 6 routing and postroute optimization this topic describes the routing capabilities of zroute, which is the router for the fusion compiler tool."
.
.
this flow is typically used only for established foundry nodes.
.
exclude_system_metal_ blockages_for_density_ computation 0 controls whether system metal blockages are excluded from the density computation.
.
the tool saves the settings of the predetermined list of timer application options during the create_abstract command.
.
"fusion compiler™ user guide v-2023.12-sp3 507 chapter 6: routing and postroute optimization routing constraints feedback to specify a transitive fanout limit to use when identifying root nets, use the set_clock_tree_options -root_ndr_fanout_limit command."
.
.
.
.
.
"performing placement and legalization of relative placement groups the following topics provide information related to the placement and legalization of relative placement groups: • relative placement in a design containing obstructions • legalizing relative placement groups in a placed design • creating new relative placement groups in a placed design relative placement in a design containing obstructions during placement, relative placement groups avoid placement blockages (obstructions) that are defined in the def file or created by the create_placement_blockage command."
.
check errors for compatible issues between the candidate and current reference of cell.
.
.
"therefore, in the next clock cycle, the registers in bank r1 do not change their values and consequently they are candidates for clock gating."
.
"by default, the tool does not insert boundary cells in the child blocks."
987 avoiding crosstalk during group repeater insertion .
.
.
.
"• whether to check for power net violations by default, the command does not check for power net violations, as this check increases runtime and is required only for metal filler cell insertion."
.
.
"nondefault minimum width rules are hard constraints, which must be met during routing."
.
"for example, to disallow the use of a set of library cells for all uses, use the following command: fc_shell> set_lib_cell_purpose -include none lib_cells to allow a set of library cells to be used only for clock tree synthesis, use the following commands: fc_shell> set_lib_cell_purpose -include none lib_cells fc_shell> set_lib_cell_purpose -include cts lib_cells to allow a set of library cells to be used for all uses except clock tree synthesis, use the following command: fc_shell> set_lib_cell_purpose -exclude cts lib_cells to use the asterisk wildcard character (*) to query a collection of cells, you must use the get_lib_cells command."
.
.
.
.
.
.
.
.
.
.
the following table lists the options used to specify the replacement half-height filler cells.
.
.
.
.
.
.
.
.
.
.
.
figure 128 shows the replacement of the half-height filler cells using the half row adjacency rule.
.
.
.
"the fusion compiler™ user guide v-2023.12-sp3 711 chapter 8: ic validator in-design inserting metal fill with ic validator in-design feedback command uses the metal fill mode specified in the runset file, which is either hierarchical or flat."
.
.
.
"defining antenna rules antenna rules define how to calculate the maximum antenna ratio for the nets in a block, as well as the antenna ratio for a pin."
you can also use the -last_distance option with the -first_distance option.
.
.
.
.
.
.
.
.
.
"the command names the constraint group bus_style_1, because no name is assigned to the constraint group."
.
◦ report the lengths of the ddr nets and the eco nets.
fusion compiler™ user guide v-2023.12-sp3 540 chapter 6: routing and postroute optimization shielding nets feedback 2. assign shielding rules to the nets to be shielded.
.
.
.
.
.
.
.
it does not contain any placement or routing information.
.
.
.
• ignore pins clock tre synthesisexclude pindefinedexceptions for clock tre synthesisexclude pinsclock tre exceptionsexclude pinignore pins are clock endpoints that are excluded from clock tree timing calculations and optimizations.
.
.
.
"example 20 track assignment report wire length and via report: --------------------------- number of m1 wires: 215327 : 0 number of m2 wires: 1124740 via12sq_c: 1067462 ... total number of wires: 2508734 vias: 2769482 total m1 wire length: 924480.9 total m2 wire length: 4147032.0 ... total wire length: 21281278.0 longest m1 wire length: 1541.7 longest m2 wire length: 926.0 ... fusion compiler™ user guide v-2023.12-sp3 532 chapter 6: routing and postroute optimization routing signal nets feedback detail routing before you run detail routing, • define the common routing application options for information about the common routing application options, see the route.common_options man page."
.
.
.
"you can specify a different margin for the left, bottom, right, and top sides of the group."
"for the best performance during distributed processing, you should limit the number of processes to the number of available cores, which is the sum of the number cpus times the number of cores per cpu for each host machine."
set_app_options -list { rail.enable_new_rail_scenario true rail.enable_parallel_run_rail_scenario true } #required.
.
.
.
.
.
.
.
.
.
"however, by optimizing the local skew, which is the worst skew between launch and capture registers of timing paths, you can improve the timing qor of the design."
.
.
"f. disable the machine learning model after you complete all the detail routing steps by using the estimate_delay -disable_model command, as shown in the following example: fc_shell> estimate_delay -disable_model -output_dir ./ml g. continue with postroute optimization and the rest of the steps in the implementation flow."
.
.
.
"by default, the tool considers all timing paths when identifying the timing relationships between the clocks."
.
.
.
.
.
register outputs can become unloaded because of redundancy in the circuit or as a result of constant propagation.
.
.
.
.
.
"however, designs often contain preexisting clock gates, in which case the design might contain multiple levels of clock gates."
"◦ to perform global routing, use the route_global command."
.
.
.
.
fc_shell> derive_mask_constraint -derive_cut_mask \ [get_vias -within {{600 600} {700 700}}] • derive mask constraints from overlapping or touching pins or ports.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 314 chapter 4: clock gating setting routing rules for clock gates feedback example using clock gating transformations for the example in figure 60, suppose you set the following restrictions: set_clock_gating_options -minimum_bitwidth 6 set_clock_gate_transformations [get_cells uicg_b*] true \ -ungate_fanout false set_clock_gate_transformations [get_cells uicg_c*] false figure 60 example of clock gating restrictions during optimization, the tool removes the uicg_a clock gate because of a minimum bitwidth violation (minimum bitwidth is 6)."
"to manually define library cell families, use the define_lib_cell_family command."
.
.
.
.
.
.
.
.
.
.
"to see the current settings, use the report_app_options command."
"when you use this option, you can specify a list of macro cells over which buffers are allowed by using the -allow_insertion_over_cell option."
.
"to report the user-defined preferred routing direction for one or more routing layers, use the get_attribute command."
"see also • defining via ladder constraints • verifying via ladders • updating via ladders • querying via ladders • removing via ladders protecting via ladders to prevent via ladders from being edited, set the design.enable_via_ladder_protection application option to true."
.
.
.
.
.
.
the example then creates an excerpt of rail analysis data for the block instance slice_5.
"fusion compiler™ user guide v-2023.12-sp3 445 chapter 6: routing and postroute optimization inserting via ladders feedback if you are using double-patterning technology, you can assign mask constraints to the shapes or the enclosure layers, but not both."
"a value smaller than the default can cause drc violations, while a value larger than the default negatively impacts the via density."
.
.
.
.
4. fix any signal electromigration violations by using the fix_signal_em command.
"to remove the attribute, use the remove_attributes command or the set_size_only command set to false."
.
513 controlling pin tapering .
.
.
.
.
.
library configuration library configuration allows you to specify which vendor libraries to use as reference libraries for the current design.
.
.
.
.
.
.
"in some designs where the registers have been instantiated, the outputs might already be unloaded."
.
.
.
.
.
.
.
.
.
.
.
.
259 minimizing glitches on asynchronous set and reset lines of scan registers .
.
.
fc_shell> route_eco -nets $all_nets -reroute modified_nets_only 12. run incremental detail routing to fix the drc violations by running the route_detail -incremental true command.
"regardless of any settings made with the set_fanin_sequential_clock_gating_options and set_fanin_sequential_clock_gating_objects commands, the following conditions prevent fanin-based sequential clock-gate insertion: • a register has asynchronous state changes."
.
.
"therefore, to analyze a clock mesh structures, use the analyze_subcircuit command, which performs transistor level circuit simulation for the clock mesh and back-annotates accurate timing information."
.
.
.402 implementing mscts multiple h-tree .
.
.
you can use the redhawk fusion and redhawk-sc fusion feature for rail analysis at different points in the physical implementation flow after power planning and initial placement are completed.
the tool uses the clock name and scenario you specify to generate the high-level summary of the clock qor in the qorsum report.
.
.
you specify the minimum jog spacing in microns for each layer.
634 inserting metal-insulator-metal capacitors .
"for the repeater, register, and clock network cell groups, you can obtain additional information by using the -detailed option."
.
.
"to prevent the clock tree fanin of boundary registers from changing, set the ccd.optimize_boundary_timing_upstream application option to false."
.
.
.
"you can use the add_group_repeaters command with specific options to add voltage area aware group repeaters in three different ways, depending on the design methodology: • when the design is single-rail buffer only, use the -va_aware option fc_shell> add_group_repeaters -lib_cell <lib_cell> -va_aware • when the design is single-rail buffer based on voltage area, use the -voltage_area_specific_lib_cell option fusion compiler™ user guide v-2023.12-sp3 983 chapter 13: eco flow adding a group of repeaters feedback fc_shell> add_group_repeaters -lib_cell <default_lib_cell> \ -voltage_area_specific_lb_cell {{va1 libcell1}} {{va2 libcell2}} • when the design is single- and dual-rail buffers, use the -select_mv_buffer option fc_shell> add_group_repeaters -lib_cell <default_lib_cell> \ -select_mv_buffer {{va1 singlerail1 dualrail1}} \ {{va1 singlerail2 dualrail2}} voltage area aware group repeaters help resolve multivoltage violations by choosing the library cell based on voltage area and repeater location."
.293 clock-gating setup condition .
.
.
.
.
.
.
.
.
.
.
.
.
the tool maps the bused registers to multibit components during compile.
.
.
"to perform clock tree synthesis and optimization, use the clock_opt command."
.
.
.
.
.
.
.
"to connect the reset signal close to the register, set the compile.seqmap.honor_sync_set_reset application option to true."
.
.
.
.
"when a relative placement cell is removed during optimization, the relative fusion compiler™ user guide v-2023.12-sp3 805 chapter 10: physical datapath with relative placement specifying options for relative placement groups feedback placement information of the instance is also removed, disrupting the relative placement structure."
"3. the final_opto stage, during which the tool performs further optimization, timing- driven placement, and legalization."
.
"the tool tries to insert the filler cells in the order that you specify; for the best results, specify them from the largest to the smallest."
.
"the following topics describe the different methods available for implementing clock trees: • performing standalone clock trees synthesis • synthesizing, optimizing, and routing clock trees with the clock_opt command • controlling concurrent clock and data optimization fusion compiler™ user guide v-2023.12-sp3 370 chapter 5: clock tree synthesis implementing clock trees and performing post-cts optimization feedback • splitting clock cells • balancing skew between different clock trees • performing global-route-based optimization using machine learning data • routing clock trees • inserting via ladders during clock tree synthesis, optimization, and clock routing • marking clocks as propagated after clock tree synthesis • performing postroute clock tree optimization • performing voltage optimization • marking clock trees as synthesized • removing clock trees performing standalone clock trees synthesis to perform standalone clock tree synthesis, use the synthesize_clock_trees command, as shown in the following example: fc_shell> synthesize_clock_trees when you use this command, the tool performs the following tasks: 1. clock tree synthesis before clock tree synthesis, the tool performs virtual routing of the clock nets and uses rc estimation to determine the clock net timing."
.
the top-level module must be a module that was previously elaborated with the elaborate command.
.
374 performing power or area recovery on the clock network .
.
.
.
.
table 18 early data check manager commands to do this use this command specify the policy for handling one or more data checks set_early_data_check_policy obtain a report about data check violations report_early_data_checks get a tcl collection of violations that can be used in other commands get_early_data_check_records save the settings in a file for future use write_early_data_check_config clear the data check settings in preparation for another iteration remove_early_data_check_records you should specify the policies for handling the data checks before you begin implementation.
"• for information about the application options that affect all three routing engines, see the route.common_options man page."
.
.
.
.
valid values are: • diagonal: applies 45-degree twists to the wires.
"instead, it generates a file containing the eco changes."
.
.
.
.
.
"• pg electromigration analysis to perform pg electromigration analysis, use the analyze_rail -electromigration command."
.
.
.
.
.
"◦ for pins on standard cells, the standard cells are placed."
.
.
"to perform standard power grid augmentation, 1. ensure that the block is fully routed with very few or no drc violations."
"by default, the command fixes signal electromigration violations on all nets."
.
"there are many detailed table panels in the qorsum report, that shows information like statistics about each library cell instantiated in the design (number of instances, type of cell, total, area), or information about how much wirelength is on each routed metal layer."
"during clock tree synthesis, the tool adds guide buffers and isolates ignore pins from the rest of the clock network."
.
.
max_density_threshold (none) specifies the maximum density threshold value for a track fill layer.
.
.
controlling the routing direction you can specify the preferred routing direction for specific layers or for specific regions.
.
.
.
.
• -tree_type combinational_logic_type uses the specified logic type to build the gated enable tree.
.
.
"some foundries have additional design rules, which you enable by setting the appropriate track_fill_foundary_name ic validator variable."
.
.
this can significantly simplify and reduce the overall size of the upf files.
.
.
.
.
.
run the create_rail_scenario command to create a rail scenario and associate it with a design scenario in the current design.
"if the tool cannot create a strap within the specified margin, due to obstructions or keepouts, it does not create the strap."
.
"if the shielding wires can be tied to multiple power or ground nets, specify the nets by setting the route.common.shielding_nets application option before running the create_shields command."
.
.
"when you synthesize multisource clock subtrees, by default, the tool considers the maximum transition, capacitance, and fanout constraints of the clock drivers you specify."
• the tool adjusts the register latencies within the delayed and advanced latency settings for the most critical sequential elements in the design.
.
.
.
"if you are using a hierarchical flow and create a block abstraction for a block, you must use the derive_hier_antenna_property command to extract the antenna information from the block to use at the next level of hierarchy."
.
.
"if there is no available location, the command issues a warning and does not place a tap cell in that mesh window."
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 853 chapter 11: hierarchical implementation performing top-level closure with abstract views feedback for example, fc_shell> get_early_data_check_records \ -filter ""checked_object_class==port"" {place.port_type_mismatch@clk route.missing_layer_direction@feed_in route.layer_name_mismatch@out} performing top-level closure with abstract views you can perform top-level closure by implementing the blocks first, and then implementing the top level, as shown in the following flow diagram: figure 195 top-level implemented after blocks are completed abstract and frame views for each block clock tree synthesis routing postroute optimization postroute optimization synthesis, placement and optimization synthesis, placement and optimization clock tree synthesis routing block-level flow top-level flow fusion compiler™ user guide v-2023.12-sp3 854 chapter 11: hierarchical implementation creating etms and etm cell libraries feedback alternatively, you can implement the blocks and top-level in parallel, as shown in the following flow diagram: figure 196 top and block levels implemented in parallel clock tree synthesis routing postroute optimization postroute optimization synthesis, placement and optimization synthesis, placement and optimization clock tree synthesis routing block-level flow top-level flow abstract and frame views for each block when using abstracts at the top-level, you can perform top-level synthesis, placement, optimization, clock tree synthesis, routing, and postroute optimization using the commands supported at the block level."
.
.
.
.
.
.
.
.
.
"when you use these options with the -mode add option, the tool does not fix density errors regardless of the setting of the signoff.create_metal_fill.fix_density_errors application option."
custom.route.routing_area defines an area within which the custom router creates routes.
.
.
.
.
.
.
.
.
.
.
the tool also does not create new hierarchical cells; any hierarchy specified in the def file must already exist in the block.
"by default, the command analyzes timing paths across all active scenarios and reports the worst d and q slacks across scenarios."
.
"fusion compiler™ user guide v-2023.12-sp3 408 chapter 5: clock tree synthesis implementing multisource clock trees feedback fc_shell> set_app_options \ -name compile_flow.flow.enable_multisource_clock_trees -value true fc_shell> compile_fusion -from initial_place 11. route the connections between the clock mesh and the local subtrees by using the route_clock_straps command, as described in routing to clock straps."
.
.
.
.
"• effective placement area of a voltage area to display the effective placement area of a voltage area, query the effective_shapes attribute of the voltage area."
.
.
• specify a list of cells that can be used as clock drivers by using the -lib_cells option.
"for example, the following command returns a collection consisting of all the relative placement groups: fc_shell> get_rp_groups {rp_ta rp_tco rp_ho_1 rp_ho_2 rp_ho_3 rp_ho_4 rp_tho} the following command returns only the top-level relative placement groups: fc_shell> get_rp_groups -top {rp_ta rp_tco rp_tho} the following command returns the relative placement group that contains the leaf cell named u129: fc_shell> get_rp_groups -of_objects u129 {rp_ho_4} analyzing relative placement in the gui the fusion compiler gui provides tools to help you visualize and analyze the relative placement groups in your design: • relative placement (rp) groups visual mode • relative placement (rp) net connection visual mode for more information about analyzing relative placement groups in the gui, see the using map and visual modes topic in the fusion compiler graphical user interface user guide."
.
.
.
.
.486 inserting routing blockages along the boundary edges .
.
.
.
.
.
.
.
.
.
.
.
.
.
"throughout placement, the tool prints place-027 information messages indicating the values it uses for these settings."
"the command flags a violation in the following situations: • an enclosure of the via ladder base touches a different pin, unless the pins are must- join pins that belong to the same must-join set • an enclosure of the via ladder base does not touch any pin • an enclosure of the via ladder touches a pin that is not of the same net as the via ladder by default, the verify_via_ladders command reports the via ladder insertion status for each target pin, which can result in a very large report."
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 290 chapter 4: clock gating introduction to clock gating feedback figure 47 design with multiple clock gates table 23 clock-gate levels and stages object type level (all clock gates) level (tool-inserted clock gates) stage (all clock gates) stage (tool-inserted clock gates) p1 preexisting clock gate 1 0 4 2 p2 preexisting clock gate 2 0 3 2 t1 tool-inserted clock gate 3 1 2 2 t2 tool-inserted clock gate 4 2 1 1 t3 tool-inserted clock gate 3 1 1 1 fusion compiler™ user guide v-2023.12-sp3 291 chapter 4: clock gating clock-gating prerequisite conditions feedback clock-gating prerequisite conditions before gating the clock signal of a register, the fusion compiler tool checks to see if certain clock-gating conditions are satisfied."
.
"• to report the nondefault routing rule used for the clock nets, use -type routing_rules."
.
.
.
"to insert isolation cells in the current block, use the create_mv_cells command."
.
fusion compiler™ user guide v-2023.12-sp3 802 chapter 10: physical datapath with relative placement specifying options for relative placement groups feedback figure 182 orientation of relative placement groups col 0 col 1 col 2 col 2 col 1 col 0 r0 my u3 u1 u23 u24 u21 u22 u1 u3 u4 u5 u6 u7 u8 u9 u7 u8 u9 u4 u5 u6 u24 u22 u23 u21 row 2 row 2 row 1 row 1 row 0 row 0 col 0 col 1 col 2 col 2 col 1 col 0 r180 mx u3 u1 u23 u24 u21 u22 u1 u3 u4 u5 u6 u7 u8 u9 u7 u9 u4 u6 u24 u22 u23 u21 u5 u8 row 0 row 0 row 1 row 1 row 2 row 2 the orientation of relative placement groups is automatically set by the tool to minimize wire length.
.
.
• static (leakage) power this is the energy dissipated even when there are no transitions in the circuit.
.
.
.
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 879 chapter 12: redhawk and redhawk-sc fusion preparing design and input data for rail analysis feedback table 66 application options for specifying design and input data (continued) application option description rail.scenario_name (optional) specifies the scenario for redhawk or redhawk-sc fusion rail analysis.
.
.
.
.
.
.
"when you use this option, the tool creates the routing blockage in the cell's reference block using the coordinate system of the cell's top-level block."
.
you can also remove routing corridors in the gui by using the delete tool.
.
.
keep_enclosing_results false specifies whether to keep drc violations that are outside of the checking region.
"to check for and fix missing vias or unconnected pins, 1. define configuration options by using the set_missing_via_check_options command, as described in setting checking options."
.
removing filler cells filler cells inserted by the fusion compiler tool have instance names that start with the string xofiller.
.
.
"to prevent the tool from merging specific clock tree cells, specify the instance names using the -dont_merge_cells option."
"◦ to specify a preference for using a new diode or using an existing spare diode, set the route.detail.diode_preference application option to new or spare, respectively."
.
"for example, the following command identifies and fixes maximum horizontal edge length violations where the horizontal length on the m2 layer exceeds 30 um: fc_shell> replace_fillers_by_rules \ -replacement_rule horizontal_edges_distance \ -max_constraint_length 30 -layer m2 \ -refill_table { {{vt1_fill1} {vt1_decap4 vt1_decap2}} {{vt2_fill1} {vt2_decap4 vt2_decap2}} } fusion compiler™ user guide v-2023.12-sp3 648 chapter 7: chip finishing and design for manufacturing inserting filler cells feedback maximum horizontal length rule the maximum horizontal length rule restricts the horizontal length of a sequence of abutted filler cells."
.
.
.
.
.
.
"to select the mode, select either “sum of overflow for each layer” or “total demand minus total supply” in the “congestion calculation” section of the map mode panel."
"when you use this option, the command combines the specified regions when reporting the metal density; it does not report the metal density individually for each specified region."
.
fusion compiler™ user guide v-2023.12-sp3 702 chapter 8: ic validator in-design improving instance voltage drop by augmenting the power grid feedback table 48 application options for power grid augmentation (continued) application option default description signoff.
.
.
.
"also, specify the constraint option."
.
.
.
.
.
.
"based on the intended usage, the tool applies appropriate internal settings to the abstract."
.
specify the same layers in the -layers option as those specified in the -max_patterns option.
"for example, to perform coaxial shielding below the shielded net segment layer on the clock nets, prevent signal routing below the shielded net segment layer, and tie the shielding wires to vss, use the following command: fc_shell> create_shields -nets $clock_nets \ -coaxial_below true -coaxial_below_skip_tracks 0 \ -with_ground vss when you run the create_shields command, it reports both the net-based and length- based average shielding ratios, as shown in the following example: shielded 82% side-wall of (reset) shielded 96% side-wall of (clk) shielded 2 nets with average ratio as follows."
.
.
.
.
.
.
.
"to restrict the cell usage, use the set_lib_cell_purpose command after the block is in memory."
"when you enable crosstalk-driven global routing, the tool calculates the net delays before invoking the global router."
.
"by default, the tool includes stacked vias during analysis."
.
.
140 defining a hard macro placement blockage .
.
.
.
"for example, to restrict the signoff_check_drc command to route validation, select the metal layer rules and exclude the metal density rules."
"to specify the illegal cells, use the -illegal_abutment option."
"fc_shell> add_buffer_on_route [get_net data_a*] \ -user_specified_bus_buffers {bp1 buf2 100 70} fusion compiler™ user guide v-2023.12-sp3 969 chapter 13: eco flow adding buffers on routed nets feedback controlling how buffers are added by default, the add_buffer_on_route command • adds buffers over all placement blockages, soft macros, and hard macros."
.51 defining checkpoints .
93 reading the design .
the following topics describe how to set these options: • specifying the clock tree references • setting skew and latency targets • enabling local skew optimization • specifying the primary corner for clock tree synthesis • preventing specific clocks from being synthesized • preserving preexisting clock trees • enabling clock tree power reduction techniques • enabling wire length aware power-driven relocation • reducing electromigration • handling inaccurate constraints during clock tree synthesis • defining clock cell spacing rules • creating skew groups • defining a name prefix for clock cells • using the global router during initial clock tree synthesis • specifying constraints for clock nets • constructing faster clock tree to specific endpoints • improving latency-driven clock-gate splitting • improving the repeater levels in clock tree • reducing signal integrity effects on clock nets • specifying settings for clock latency adjustments • timing driven sink transition target • reporting the clock tree settings fusion compiler™ user guide v-2023.12-sp3 357 chapter 5: clock tree synthesis specifying the clock tree synthesis settings feedback specifying the clock tree references the buffer and inverter cells that can be used to build a clock tree and the reference cells of the preexisting gates of the clock tree are referred to as clock tree references.
the tool uses the following formula to derive the delay values for the corresponding set_clock_balance_points commands: (clock balance point delay value at the sink) = (reference latency of the clock) - (total ideal clock latency at the sink) the total ideal clock latency at the sink is the sum of the source latency of the clock and the ideal network latency for the sink.
.
.
.
"to specify the design library that contains the design specified by the -working_block option, use the -working_lib option."
.
.
.
5. configure the rules to use for design rule checking by choosing edit > options > icv- live or by clicking the gear icon ( ) in the drc toolbar.
.
.
"this reduces the number of stacked vias, as compared to the comb topology."
.
.
each soft congestion report contains the sum of the hard and soft congestion with a weight level of at least the current soft level.
.
"fusion compiler™ user guide v-2023.12-sp3 979 chapter 13: eco flow recording the changes made to a layout feedback recording the changes made to a layout you can record the changes you make to a layout and generate a tcl file containing the changes by using the record_layout_editing command, as shown in the following example: fc_shell> record_layout_editing -start fc_shell> remove_shapes rect_32_0 fc_shell> record_layout_editing -stop -output layout_changes1.tcl you can make the following layout changes: • create or remove layout objects by using tcl commands • set attributes by using the set_attribute command • move or resize objects by using the gui with this feature, multiple users can make eco changes to different parts of a layout in parallel."
.
"if you are using the freeze silicon eco flow, enable eco changes in the freeze silicon mode by setting the design.eco_freeze_silicon_mode application option to true, before you run the netlist editing commands."
"to examine how the datapath blocks will be extracted from your rtl before compile, use the analyze_datapath_extraction command."
.
"by default, zroute does not fix soft routing rule violations."
.
.
signoff.check_drc_live.
.
.
.
.
.
.
.
signoff.
.
"timing-driven power grid augmentation timing-driven power grid augmentation inserts pg augmentation shapes in the specified regions of the block, except around timing-critical nets."
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 599 chapter 7: chip finishing and design for manufacturing finding and fixing antenna violations feedback figure 124 check for missing boundary or corner cells note: for established nodes, boundary cells are inserted only on the left and right sides."
.
place_group_repeat ers eco-244 warning: the %s %s has no shape.
"creating routing guides for the metal cut allowed and forbidden preferred grid extension rules you can use the following methods to create these routing guides: • automatic creation during boundary cell insertion, as described in creating routing guides during boundary cell insertion • manual creations by using the derive_metal_cut_route_guides command, as described in controlling the pin connections you can control both the allowed types of pin connections and the pin tapering."
.
.
"this changes the design view from being read-only to editable, and you can save the block by using the save_block or save_lib command."
.
.
the clock specified with the -clock option should pass through each drivers specified with the -driver_objects option.
.
.
.
"if so, use routing guides to encourage river routing over the macros with shorted nets and rerun detail routing."
.
.
the following example maps the eco cell named eco1 to the spare cell named spare_1: fc_shell> map_freeze_silicon -eco_cell eco1 -spare_cell spare_1 you can specify the eco cell to spare cell mapping by using a map file and specifying this map file name by using the -map_file option with the map_freeze_silicon command.
.
.
.
.
.
◦ ignore specific types of placement blockages by using the -ignore_blockage_types option.
.
.
.
.
"when you use this option, the gdsii or oasis data replaces the cell library view for the cells defined in the specified stream files, except for cells in the cell libraries specified in the signoff.physical.merge_exclude_libraries application option."
.
.
.
.
.
.
.
.
.
819 hierarchical synthesis flow when floorplans are available .
"8. route the connections between the clock mesh and the tap drivers by using the route_clock_straps command, as described in routing to clock straps."
.
.
any_mask this constraint means that the shape is not colored.
.
"this command is used by preroute optimization to insert via ladders on timing-critical paths, as described in specifying automatic via ladder insertion settings for preroute optimization."
.
.
.
"(optional) performs track-based metal fill insertion to insert dummy fill shapes within the specified range around each detected isolated via ◦ by default, the signoff_fix_isolated_via command ignores the existing fill data and performs track-based metal fill insertion to insert the fill shapes to use for fixing the isolated vias."
.
figure 182 shows how the column and row positions in a relative placement group are placed for the four orientations.
.
"with the required input files, the fusion compiler tool creates the redhawk run script and the global system requirements (gsr) configuration file for invoking the redhawk tool (or the redhawk-sc python script for invoking the redhawk-sc tool) to run pg net extraction, power analysis, voltage drop analysis, and pg electromigration analysis."
.
.
.
the query_qor_snapshot command analyzes the qor timing reports previously generated and displays the results in html format according to the specified filters.
"to place taps outside a shape without issuing a warning message, disable the checking by using the -nocheck option."
.
.
"fusion compiler™ user guide v-2023.12-sp3 908 chapter 12: redhawk and redhawk-sc fusion performing minimum path resistance analysis feedback to perform minimum path resistance analysis, run the analyze_rail -min_path_resistance command."
.
.
.
.
.
suppose you open the comparison report shown in figure 41 and set the util60_aspect1%1_layerm9 run as the base run.
890 setting checking options .
see the save_upf command man page for the complete list of arguments.
.
.
.
.
.
"• if necessary to resolve a naming conflict between clock gates, the tool adds an underscore separator character and an integer index number beginning with 0. for example, if the tool inserts a clock gate that gates a register named out_reg, the clock gate is named clock_gate_out_reg."
.
"for example, when the tool combines the single-bit bused registers named rega[1] and rega[3], the multibit register is named rega[3,1]."
.
.
.
.
.
.
.
.
defining a name prefix for clock cells you can specify a name prefix for the cells added on the clock network during clock tree synthesis by using the cts.common.user_instance_name_prefix application option.
.
.
.
"for more information, see writing analysis and checking reports."
"within a template section, you specify the via ladder structure by specifying the number of cuts per row for each metal layer involved in the via ladder."
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 419 chapter 5: clock tree synthesis implementing multisource clock trees feedback to specify a topology for connecting the clock drivers and sinks to the clock straps, use the -topology option as follows: • to create a fishbone routing topology, the default topology, use the -topology fishbone option."
.
.
.
.
.
"saving upf information during physical implementation, the tool updates the power intent of the design."
.
• limit the amount that the clock latencies are delayed by using the ccd.max_postpone application option.
.
"2. use the following command to manage crosstalk during group repeater insertion: add_group_releaters -nets | -bundles -first_distance_of_net_groups { {group_id1 $first_dist1} {group_id2 $first_dist2} …} -repeater_distance $dist or add_group_releaters -nets | -bundles -cutlines_of_net_groups { {group_id1 $cutline_list1} {group_id2 $cutline_list2} …} ◦ if the option -first_distance_of_net_groups is specified, the command groups the nets based on the existing group ids on nets and inserts repeaters based on the specified first distance for the various net groups."
.
180 enabling global-route-layer-based (grlb) preroute optimization .
• allows sizing of relative placement cells while maintaining relative placement.
.
"when you specify the nets to optimize, you can also use the -reroute_all_shapes_in_nets option to control whether zroute must reroute all the associated net shapes."
.
.
.
.
.
.
.
.
.
the signoff_fix_drc command processes only those rules that are specified in the configuration file.
.
.
.
.
.
"when routing a single signal net, the tool uses this net for the left and bottom shields."
"during placement and legalization, these structures, which are placement constraints called relative placement structures, are preserved and the cells in each structure are placed as a single entity."
.
.
.
.
some types of routing guides are user-defined; others are derived from the block data.
.
.
.
.
"removing cell spacing constraints to remove spacing rules, use the remove_al_spacing_rules comandcomandsremove_al_spacing_rulesremove_placement_spacing_rules command."
.
.
.
place_group_repeat ers unplace_group_repeat ers eco-260 warning: the number of cells from repeater group (%d) is not consistent with the number of loads from load group (%s).
.
.
.
.
.
the syntax to define the insertion delay requirement for one or more sink pins is set_clock_balance_points [-clock clock] -delay delay [-rise] [-fall] [-early] [-late] -balance_points pins [-corners corners] the -clock option is not required.
"for example, fc_shell> set_attribute ""a1/b/reg[30] mid/sub1/q_reg[0]"" \ -name map_sync_enable_to_mux -value true fc_shell> set_attribute ""mid3/apbif_reg/q_reg[4]"" \ -name map_sync_enable_to_mux -value true fc_shell> compile_fusion identification of shift registers during compile, the tool can automatically identify shift registers in the design."
.
violations that are fully outside the trim region are always discarded.
.
.
.
"to report the changes that the tool recommends without making any netlist changes, use the -report_only option."
.
.
you might be linking to abstract views at the top.
"for details about this method, see threshold-voltage-based filler cell insertion."
"if a location is occupied by a fixed cell, hard macro, soft macro, or power-switch cell, the command does not insert a tap cell at that location."
"• to specify the routing layers affected by the routing guide, use the -layers option."
.
.
use the appropriate command to check if the current reference of cell is legal or illegal for the reported issue.
.
.
.
.
.
.
latency estimates are most accurate if the relative locations of the clock gates and their gated registers do not change during clock tree synthesis.
.
.
.
.
.
.
"if you do not set these options, the default is 1 for both the number of columns and rows."
.
.
.
.
define a checkpoint report to generate one or more reports supported by the tool or custom reports you create yourself.
.
.
.
this concurrent antenna rule correction architecture reduces total runtime by minimizing the iterations.
.
.
.
.
.
.
the default value is 0 um.
.
.
.
.
figure 185 shows the placement of relative placement cells in a design containing obstructions that are either defined in the def file or created by create_placement_blockage.
.
.
.
.
.
"in this state, the circuit uses the multiplexer to feed the q output of each storage element in the register bank back to the d input."
.
.
.
"by default, the write_qor_data command captures data relevant to a placed and optimized design."
490 defining routing corridors .
2. set the threshold_voltage_group attribute on the reference library cells.
.
.
"the tool implements the changes only during the initial clock tree synthesis and assigns nondefault routing rule in the following ways: • nets connected to pure sink carry sink nondefault routing rule • nets connected to both sink and intermediate cells (repeaters or clock gates) must receive internal nondefault routing rule • nets at root level until the branching point downstream must get root nondefault routing rule figure 29 level-based clock nondefault routing rule fusion compiler™ user guide v-2023.12-sp3 205 chapter 2: preparing the design specifying the routing resources feedback as shown in the figure, after clock tree synthesis: • without the level-based clock nondefault routing rule: the n1 and n3 nets must get sink nondefault routing rule after compiling the clock tree because they are connected to at least one sink."
.
.
"at a minimum, you must specify the source via and its replacement vias by using the -from and -to options."
582 using the create_cell_array command .
"• to control this distance, use the -max_distance_to_spare_cell option."
748 defining routing constraints .
these options must be used with the -hierarchy option.
829 performing prechecks for hierarchical synthesis flows .
"by default, this command lists all application options."
.
.
fc_shell> set_voltage_area pd1 -merge_regions information: merging abutted and overlapping shapes in voltage_area 'pd1'.
.
.
.
.
the following script uses custom router for trunk routing and zroute for all pin connections.
"in addition, when the tool detects existing spine, you can specify a minimum length for the spine, by using the -detect_length option."
.
.
.
the detailed information reports the following types of violations: ◦ internal drc violations these are drc violations internal to a via ladder.
the rules of variant reference swapping differ in various variant cell flows.
"when the place.legalize.enable_advanced_legalizer application option is set to true, the command uses the advanced legalization algorithms for 2d rule checking and cell interaction, which can reduce filler cell insertion runtime."
.
.
.
"example 29 redundant via report total optimized via conversion rate = 96.94% (1401030 / 1445268 vias) layer v01 = 41.89% (490617 / 1171301 vias) weight 10 = 9.64% (112869 vias) weight 5 = 32.25% (377689 vias) weight 1 = 0.01% (59 vias) un-optimized = 58.11% (680684 vias) fusion compiler™ user guide v-2023.12-sp3 631 chapter 7: chip finishing and design for manufacturing optimizing wire length and via count feedback layer v02 = 76.20% (1567822/ 2057614 vias) weight 10 = 43.51% (895270 vias) weight 5 = 28.62% (588805 vias) weight 1 = 4.07% (83747 vias) un-optimized = 23.80% (489792 vias) layer v03 = 81.87% (687115 / 839297 vias) weight 10 = 64.50% (541369 vias) weight 5 = 10.75% (90224 vias) weight 1 = 6.62% (55522 vias) un-optimized = 18.13% (152182 vias) layer v04 = 81.60% (226833 / 277977 vias) weight 10 = 81.45% (226418 vias) weight 1 = 0.15% (415 vias) un-optimized = 18.40% (51144 vias) ... layer v09 = 85.47% (1329 / 1555 vias) weight 10 = 85.47% (1329 vias) un-optimized = 14.53% (226 vias) total double via conversion rate = 46.69% (2158006 / 4622189 vias) optimizing wire length and via count during detail routing, zroute optimizes wire length and via count in the areas where drc violations occur; however, it does not optimize the layout in areas where no drc violations occur."
.
.
"◦ to specify the width for cut layer routing blockages along the horizontal edges, use the -width_cut_layer_horizontal option."
"therefore, you should enable it only for designs with highly congested routing channels."
.
"creating relative placement groups a relative placement group is an association of cells, other relative placement groups, and blockages."
.
.
.
.
.
.
.
.
.
.
specify the routing layers by using the layer names from the technology file.
.
.
.
.
"the default contains five fields: ""slack ll llthreshold startpoint endpoint""."
.
unplace_group_repeat ers eco-267 error: input and output routes are not merged after unplacing repeater %s since the routes are not aligned or not at the same layer.
.
.
.
.
.
.
.
.
a supply set is an abstraction of the supply nets and supply ports needed to power a design.
.
.
"for designs with mutiple scenarios, the algorithm uses the average internal dynamic power among active scenarios enabled for dynamic power."
.
.
.
.
defining placement attractions a placement attraction is a constraint that you can use to specify that a large group of cells be placed together in the same vicinity of the placement area.
.
.
fusion compiler™ user guide v-2023.12-sp3 885 chapter 12: redhawk and redhawk-sc fusion specifying ideal voltage sources as taps feedback you can create taps in any of the following ways: • treating top-level pg pins as taps use the -top_pg option when the block does not have physical pad or bump information available.
.
the unit for the slack threshold setting is the library time unit.
480 deriving metal cut routing guides .
"by default, the generated script file is named auto_perf_via_ladder_rule.tcl."
"• the naming convention used to identify the inserted filler cell instances by default, the command uses the following naming convention for inserted filler cells: xofiller!filler_library_cell_name!number to identify the filler cells inserted in a specific run, use the -prefix option to specify a prefix string."
.
.
.
.
.
.
.
"to perform standalone global routing, use the route_global command."
.
"this capability is on by default, but these checks can also be enabled by the compile_fusion -check_only command."
.
"to do so, use the following settings: fc_shell> set_target_library_subset -objects {top/sub1} \ -only_here [get_lib_cells lvt_lib/*] [get_libs lvt_lib] fc_shell> set_app_options \ -name opt.common.enable_target_library_subset_opt -value 1 in addition to these settings, assume you specify the following setting: fc_shell> set_lib_cell_purpose -include cts \ {hvt_lib/buf1 hvt_lib/buf2 lvt_lib/buf1 lvt_lib/buf2} then, when adding buffers on the clock network during clock tree synthesis, the tool uses • the buf1 and buf2 cells from the lvt_lib library for the block named sub1 and its subblocks • the buf1 and buf2 cells from the hvt_lib library for the rest of the design reporting target library subsets to find out which target library subsets have been defined for a top block or hierarchical cell, use the report_target_library_subset command."
.
.
.
.
.
"to ensure qor improvements, the self-gating algorithm takes timing and power into consideration."
.
.
.
.
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 770 chapter 9: routing using custom router using custom routing application options feedback application option description custom.route.shield_min_open_loop specifies the minimum total length of an open shield-loop placed on the same layer.
.
.
.
.
.
.
.
"if you specify a net or pin with the -through option, the report lists the power domains and related supplies for the driver and load sides of the net or pin, along with error messages that indicate why a level-shifter cell was not inserted."
.
.
.
.
"to fix the drc in the areas that have changes, set the route.common.eco_fix_drc_in_changed_area_only application option to on."
.
.
.
.
the new clock-gating cell is inferred with the following name: rep_clock_gate_+<instance_name_of_combinational_cell> the tool reports replaced clock gates as tool-inserted clock gates.
.
see also • reporting routing corridors fusion compiler™ user guide v-2023.12-sp3 490 chapter 6: routing and postroute optimization routing constraints feedback defining routing corridors a routing corridor restricts zroute global routing for specific nets to the region defined by a set of connected rectangles.
you can prevent this by setting the cts.compile.remove_existing_clock_trees application option to false.
.
it stores the quality information into a set of snapshot files in a directory named snapshot under the current working directory.
4.
.
.
.
.
.
.
the default is true.
.
.
.
.
.
.
.
.
"routing signal nets by using automatic routing before you run automatic routing, • set the common routing application options for information about the common routing application options, see the route.common_options man page."
.
.
"setting up for voltage-drop-aware placement to set up for voltage-drop-aware placement, perform the following steps: 1. specify the voltage-drop-analysis type by using the rail.analysis_type application option."
.
"to run rail analysis with the generated macro models, set the rail.macro_models -value {cell1 path1} application option before running the analyze_rail command."
.
.
"during subsequent data path optimization, the tool fixes any existing drc violations beyond the guide buffers."
.
"by default, the signoff_fix_drc command automatically generates the configuration."
.
.
.
.
"to control datapath gating, use the set_datapath_gating_options command."
.
.
.
.
.
.
"846 early data checks, policies, and strategies ."
.
.
"to prevent the tool from inserting filler cells that would leave a one-unit-tile gap, use the -rules no_1x option."
.
.
it is a soft constraint that the tool considers during initial placement.
.
.
"if you do not specify a diode ratio, the tool uses {0 0 1 0 0}."
.
.
.
.
773 shielding the nets .
.
"for more flexibility, you can use the -widen_widths_by_layer_name option to define up to five possible wire widths to use for each layer."
.
"for example, if two adjoining clock cells both have a minimum cell spacing of 5 microns in the x-direction, they are placed at least 10 microns apart in the x-direction."
.
"for example, to remove the ignore pin definition from pin u2/clk for the clk clock, use the following command: fc_shell> remove_clock_balance_points -clock [get_clocks clk] \ -balance_points [get_pins u2/clk] ensuring clock tree exceptions are valid to identify pins on the clock network, the tool checks if the is_clock_is_used_as_clock pin attribute is true during clock tree synthesis."
.
.
"◦ to specify the filler cells whose left side can be used to break a continuous edge of constrained cells, use the -non_constraint_left_fillers option."
.
.
.
.702 timing-driven power grid augmentation .
.
"reporting relative placement constraint violations after you run placement and optimization, use the report_rp_groups command to identify placement issues and relative placement violations."
.
.
"• staggered power and ground vias that block the routing tracks to enable this check, use the -check_routing_track_space true option."
.
.
table 56 lists the application options for custom routing.
.
.
.
.
.
.
.
.
.
.
.
.
the top-level module is given as an argument to the set_top_module command.
"cell spacing constraints are implemented by attaching labels, which are similar to attributes, to the left and right sides of library cells, assuming that the cell is in its north orientation, and specifying the invalid spacings between these labels."
.
.
.
.
.
register inferencing is the process by which the rtl description of a register is translated into a technology-independent representation called a seqgen.
◦ use the -voltage_areas option to restrict filler cell insertion to the specified voltage areas.
"by default, the command inserts cells only from the generic library."
"when using a via connection, the via’s metal enclosure must be contained within the pin shape."
.
"fc_shell> add_buffer_on_route {n3 n21 n41} -lib_cell mylib/buf1 \ -first_distance_length_ratio 0.1 \ -repeater_distance_length_ratio 0.2 by default, the tool uses eco_cell and eco_net ad the name prefix of all new cells and nets."
.
.
.
• internal dynamic power of the circuit is reduced.
"when you define a via access-preference area, you are defining a preference fusion compiler™ user guide v-2023.12-sp3 477 chapter 6: routing and postroute optimization routing constraints feedback area for the via surrounds on the specified metal layer for vias coming from both above and below that metal layer."
.
"to save the change you make to a read-only block, use one of the following methods: • save it as a different block by using the save_block -as command."
.
.
.
.
.
.
you can control the placement of a top-level relative placement group by anchoring it.
.
"figure 126 wire spreading results fusion compiler™ user guide v-2023.12-sp3 633 chapter 7: chip finishing and design for manufacturing reducing critical areas feedback in the following example, the minimum jog length is set to three times the layer pitch, the minimum jog spacing for the m1 layer is set to 0.07 microns, and the minimum jog spacing for the m2 layer is 0.08 microns."
.
.
.
"for detailed information about application options, see application options in the fusion compiler data model user guide."
.
.
.
.
"it uses the original “golden” upf file throughout the synthesis, physical implementation, and verification steps, along with supplemental upf files generated by the fusion compiler tool."
.
.
this second voltage drop analysis run measures the voltage drop after power grid augmentation.
.
.
the tool uses all clocks to generate the detailed clock qor information in the qorsum report.
.
.
.
.
.
.
.
.
.
.
.
.
.
.235 preventing connections to register qn pins .
.
"these supply set handles let you synthesize a design even before you create any supply sets, supply nets, and supply ports for the power domain."
.
"in this case, the reference and target libraries have the same lexical attributes, which have similar but not the same values, as shown in the following table."
.
.
.
you can specify multiple cut names per layer.
"when inserting the tap wall, the command honors the standard cell rows and sites; if the rows and sites are not defined, the command does not insert tap cells."
.
"then, the buffer is gated by the clock- gating cell, thereby reducing the dynamic power consumption."
note: you can use this option with the -select_rules option to customize the set of rules checked by the signoff_check_drc command.
.
.
.
.
"to insert redundant vias on clock nets during clock routing, 1. specify the redundant vias in a nondefault routing rule by using the create_routing_rule command, as described in specifying nondefault vias."
.
"to insert programmable spare cells, use the following steps: 1. specify the programmable spare cell that a standard cell can map to by setting the same psc_type_id attribute setting on the corresponding library cell for the standard cell and the programmable spare cell."
.
.
.
.
.
.
.
"if there are no existing clock ports, the tool creates new ports, if it is allowed."
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 480 chapter 6: routing and postroute optimization routing constraints feedback figure 100 pin access routing guides and blockages if a hard macro already has pin access routing guides and their associated blockages, the command removes these existing objects and creates new routing guides and blockages."
.
.
.
.
# specify options for multi-rail-scenario rail analysis set_app_options -list { rail.enable_new_rail_scenario true rail.enable_parallel_run_rail_scenario true } set_host_options -submit_protocol sge \ -submit_command {qsub -v -notify -b y -cwd -j y \ -p bnormal -l mfree=16g} # custom redhawk-sc fusion python script to specify user-defined # toggle rate for scenario t_custom create_rail_scenario -name t_custom -scenario func_cbest set_rail_scenario -name t_custom -custom_script_file custom_sc.py # default redhawk-sc fusion toggle rate for scenario t_def create_rail_scenario -name t_def -scenario func_cbest set_rail_scenario -name t_def -voltage_drop dynamic -nets {vdd vss} # run redhawk-sc fusion rail analysis on the specified rail scenario analyze_rail -rail_scenario {t_custom t_def} -submit_to_other_machines # (optional) open and examine the generated rail results open_rail_result {t_custom t_def} the following example runs multi-rail-scenario rail analysis in the power integrity flow.
"• to show the via mappings for specific source vias, use the -from option."
"for each cell you add, use the {instance_name library_cell_name x y layer_name... } format with the -user_specified_buffers option to specify the • instance name • library cell to use • coordinates of the exact location • layer at that location with an existing routing shape to connect to instead of specifying the routing layer, you can have the tool automatically detect the closest routing shape to that location by using the -detect_layer option."
.
.
.
.
853 performing top-level closure with abstract views .
"to associate via ladder rules only with specific pins, use the -lib_pins option."
.
.
.
"for example, if you run the fusion compiler™ user guide v-2023.12-sp3 901 chapter 12: redhawk and redhawk-sc fusion performing voltage drop analysis feedback analyze_rail -voltage_drop static -redhawk_script_file myscript.tcl command, the tool ignores the -voltage_drop option setting."
"in addition, the supernets must belong to the same block as the routing corridor."
.
the tool adds the specified delay (positive or negative) to the calculated insertion delay up to the specified sink pin.
.
.
.
.
.
.
.
the tool then legalizes each eco cell to the closest unoccupied site.
.
.
.
"to specify a name prefix for the new cells and nets, use the -cell_prefix and -net_prefix options, respectively."
.
.
.
fusion compiler™ user guide v-2023.12-sp3 1001 chapter 13: eco flow swapping variant cell feedback table 73 group repeater placement and insertion troubleshooting (continued) command error code message troubleshooting tips place_group_repeat ers unplace_group_repeat ers eco-240 error: the option -cells cannot be used when the app option eco.placement.eco_enable_ virtual_connection is true.
"for example, to see the man page that summarizes all timer application options, use the following command: fc_shell> man timer_options • subcategory summaries to view a man page the summarizes all of the application options for a specific subcategory, enter the man command followed by category.subcategory_options."
.
.
"identifying and reverting nonoptimal eco changes you can identify if eco changes made with the size_cell, add_buffer, and add_buffer_on_route commands can cause large displacements during eco placement and legalization by using the report_eco_physical_changes command."
.
.
.
"to report the via ladder constraints, use the report_via_ladder_constraints command."
(optional) specify a maximum voltage drop threshold by using the opt.common.ir_drop_threshold application option.
.
.
"therefore, when subsequently run any routing command, such as the route_auto,route_global, or route_group command, the tool skips global routing."
.
.
.
.
.
.
.
.
.
.
.
"to select this rule, use the -replacement_rule od_tap_distance option with the replace_fillers_by_rules command."
.
.
.
.
.
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 333 chapter 4: clock gating special naming and querying for dft wrapper clock gates feedback clock gating summary ------------------------------------------------------------------ | number of clock gating elements | 5 | | | | | number of tool-inserted clock gates | 5 (100.00%) | | | | | number of pre-existing clock gates | 0 (0.00%) | | | | | number of gated registers | 48 (100.00%) | | | | | number of tool-inserted gated registers | 48 (100.00%) | | | | | number of pre-existing gated registers | 0 (0.00%) | | | | | number of ungated registers | 0 (0.00%) | | | | | total number of registers | 48 | | | | | max number of clock gate levels | 2 | | | | | number of multi level clock gates | 4 | ------------------------------------------------------------------ self gating summary --------------------------------------------------------- | number of self-gating cells | 3 | | | | | number of self gated registers | 20 (41.67%) | | | | | number of registers not self-gated | 28 (58.33%) | | | | | total number of registers | 48 | ---------------------------------------------------------- self-gating cells are also counted as clock gates in the clock gating summary table.
.
"6. analyze the libraries by using the run_library_analysis command, as shown in the following example: fc_shell> run_library_analysis -name mylibset_run1 -environment env1 the name of the environment you specify with the -environment option must correspond to an environment you previously created by using the create_environment command."
.
.
"to obtain detailed information in the report, use the -verbose option."
.
.
.
the following attributes are required for secondary power and ground pins: • is_secondary_pg this attribute must have a setting of true.
.
.
(optional) enable high-performance and electromigration via ladder insertion for critical paths by setting the opt.common.enable_via_ladder_insertion application option to true.
.
.
.
"for a cell instance that links to a moded etm, you must specify the required mode by using the set_cell_mode command, as shown in the following example: fc_shell> current_mode m1 fc_shell> set_cell_mode m1 u1 for a cell instance that links to a moded etm, if you do not specify a mode, the tool does not activate the timing arcs, timing checks, generated clocks, and case values."
.
.
"fusion compiler™ user guide v-2023.12-sp3 121 chapter 2: preparing the design setting up multivoltage designs feedback for example, assume that you use the following command to create a voltage area comprising three rectangle shapes, as shown on the left side of figure 14. fc_shell> create_voltage_area -power_domains {pd1} \ -region { {{0 0} {10 10}} {{10 0} {30 10}} {{15 5} {35 15}} } {pd1} fc_shell> get_voltage_area_shapes -of_objects pd1 {voltage_area_shape_1 voltage_area_shape_2 voltage_area_shape_3} after you use the -merge_regions option to merge these shapes, the voltage area consists of a single rectilinear shape, as shown on the right side of figure 14. the merged voltage area shape is named voltage_area_shape_3, which was the last voltage area shape defined when the voltage area was created."
the routing layer information you specify is used for rc estimation during timing analysis.
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 612 chapter 7: chip finishing and design for manufacturing finding and fixing antenna violations feedback setting the antenna mode the antenna mode controls the antenna ratio calculation by determining • how the antenna area is calculated (the antenna area mode) the tool supports the following area calculation modes: ◦ surface area, which is calculated as w x l ◦ sidewall area, which is calculated as (w + l) x 2 x thickness note: if you use sidewall area calculation, you must define the metal thickness by specifying the unitminthickness, unitnomthickness, and unitmaxthickness attributes in each layer section of the technology file."
.
.
.
the following table shows the messages printed out during the different types of register optimization.
.
.
"fusion compiler™ user guide v-2023.12-sp3 671 chapter 8: ic validator in-design performing signoff design rule checking feedback • performs design rule checking for all routing layers ◦ to perform design rule checking only on specific routing layers, use the -select_layers option."
"to create the placement blockages, you must use the -add_placement_blockage option with the compile_boundary_cells command."
.
.
.
.
"to calculate effective resistance for the specified power and ground nets, use the analyze_rail -effective_resistance command."
.
.
.
.
.
.
.
.
.
you can continue your signoff flow with hierarchical blocks because you do not have to flatten the design.
.
.
.
.
.
.
.
.
.
.
.
.
199 reporting global layer constraints .
.
.
.
.
.
.
148 removing placement bounds .
.
"alternatively, you can add the clock drivers in an x by y grid pattern over the entire core area by using the -boxes option."
.
.
.
.
.
.
"to create a upf file that contains commands only for specific types of cells, use the -include or -exclude option with the save_upf command."
.
.
.
.
the following table summarizes the timing-driven global routing behavior based on the effort level settings.
.
"◦ to specify the most critical power scenarios in your design, use the -leakage_scenario and -dynamic_scenario options."
.
.
.
.
.
.
.
.
.
.
.
.
"to minimize the area and power overhead, a self-gating cell can be shared across a few registers by creating a combined enable condition with a tree of comparator cells."
.
.
.
.
.
the fusion compiler tool does not perform any checking on the specified string.
"to enable this feature, set the comple.clockgate.fanin_sequential application option to true (the default is false)."
"fusion compiler™ user guide v-2023.12-sp3 916 chapter 12: redhawk and redhawk-sc fusion performing distributed redhawk fusion rail analysis feedback option description -submit_command specifies the full path name of the lsf, grd, sge, or custom job submission program along with other options as needed, such as qsub or bsub."
"the following example shows a datapath report: cell : dp_op_123_2304_10297_j1 -------------------------------- current implementation : str(area,speed) contained operations : add_30(test.v:30) add_30_2(test.v:30) mult_36(test.v:36) multiplier arch : benc_radix4 data var type class width expression ------------------------------------------------------------------------- pi_0 pi unsigned 6 pi_1 pi unsigned 1 pi_2 pi unsigned 24 t16 ifo unsigned 7 pi_0 + pi_1 (test.v:30) po_0 po unsigned 30 pi_2 * t16 (test.v:36) fusion compiler™ user guide v-2023.12-sp3 225 chapter 3: physical synthesis controlling mapping and optimization feedback to report the resources and datapath blocks used in the design, use the report_resources command."
.
.
.
"• the metal shapes have the default metal width specified for the routing layer in the technology file for information about specifying the default metal width for a layer, see the “default width rule” topic in the synopsys technology file and routing rules reference manual."
.
.
.
.
set the type of the script file to python.
"by default, the tool honors the pin locations, but provides an option to reassign pin locations to improve qor."
"when you insert mesh drivers, to specify that the outputs of all the clock drivers must be connected together to drive the mesh net, use the -short_outputs option."
.
.
.
.
"for example, in figure 119, the red highlight on the edge of the global routing cell shows 18/9."
.
.
.
.
.
"with this feature, the tool uses global routes for all nets and identifies the layers with the most appropriate per-unit resistance values."
.
.
.
.
.
"by default, the power and ground structure is not included in the shielding ratio calculation."
"to reduce memory usage and total runtime, use the distributed processing method to run redhawk fusion on a machine other than the one on which the fusion compiler tool is run."
.
.
.
.
"to perform automatic fixing of the signoff drc violations, 1. set up the ic validator environment as described in setting up the ic validator environment."
.
.
.
.
.
.
.
.
an included group can be used only in a group of the same design and only one time.
.
"during timing-driven global routing, the global router considers the impact of layer resistance by minimizing the usage of pin access layers, even if this increases wire length."
"the following example creates virtual connections for the inputs and output of the cell named eco17 and performs eco placement using these virtual connections: fc_shell> create_virtual_connection -name vc_0 \ -pins {u1/y eco17/a} fc_shell> create_virtual_connection -name vc_1 \ -pins {u2/y eco17/b} fc_shell> create_virtual_connection -name vc_2 \ -pins {eco17/y d17_out} -weight 3 fc_shell> place_eco_cells -cells eco17 -use_virtual_connection to remove virtual connections you have created, use the remove_virtual_connections command."
fusion compiler™ user guide v-2023.12-sp3 781 chapter 10: physical datapath with relative placement introduction to physical datapath with relative placement feedback the relative placement constraints that you create and annotate implicitly generate a matrix structure of the instances and control the placement of the instances.
.
.
.
.
.
.
.
.
.
.
.
"the check_routability command also supports the following optional checks: • blocked power or ground ports to enable this check, use the -check_pg_blocked_ports true option."
.
.
.
.
synopsys tools are designed to follow the official ieee 1801 upf standard.
.
.
.
the tool exits with an error when encountering missing or inconsistent information.
this is the default setting for all registers in the design.
.
.
.
"• to enable the report to run after one or more checkpoints, specify the checkpoint names with the -after option."
.
.
379 controlling the adjustment of i/o clock latencies .
custom.route.shield_connect_to_supply connects shields to the nearest power mesh.
.
.
the low setting can reduce runtime at a cost of increased violations.
"adding buffers on nets to add buffers on nets connected to specified pins, use the add_buffer command."
.
"to infer registers with synchronous reset or preset pins, use the sync_set_reset synopsys compiler directive in the rtl."
.
.
.
.
.
.
"for details see, global routing."
"to enable this feature, set the route_opt.flow.enable_voltage_drop_opt_ccd application option to true."
"• allows reuse of a repeating placement pattern, such as an adder."
"use the voltage hotspot analysis capability to generate hotspots for a power or ground net by dividing the whole chip into small grid boxes, and report rail-related information for the generated grid boxes."
.
.
.
.
.
"by default, the delay offset applies to the current corner."
.
.
.
.
.
you must provide minimum three inputs by using the following application options with the create_pin_check_lib command: • technology file: use the -technology option to provide the technology file information.
"place.coarse.no_split_rp_width_threshold <value> for example, place.coarse.no_split_rp_width_threshold 46 changing the structures of relative placement groups to modify the structures of existing relative placement groups, use the modify_rp_groups command as follows: • to add a row or column to a relative placement group, use the -add_rows or -add_columns option respectively."
.
you cannot use the -coordinates or -excluded_coordinates options to restrict the metal fill insertion regions.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
note that you cannot specify this effort level for the low weight level.
.
.
.
591 inserting dense tap arrays .
◦ false: removes existing bounds.
.
.
.
.
.
.
.
.
.
.
.
"for more information about the clock_opt command, see synthesizing, optimizing, and routing clock trees with the clock_opt command."
.
.
.
fusion compiler™ user guide v-2023.12-sp3 553 chapter 6: routing and postroute optimization analyzing and fixing signal electromigration violations feedback analyzing and fixing signal electromigration violations signal electromigration problems result from an increase in current density caused by the use of smaller line widths and higher operational speeds in ic designs.
the -ztdb option of the set_indesign_primepower_options command sets up primepower in-design to create a script using the update_indesign_activity command.
this is a high-level optimization technique that can save a significant amount of power by adding clock gates to registers that are not always enabled and have synchronous load- enable or explicit feedback loops.
.
.
"to enable or disable clock-gate level expansion for specific clock gates, use the set_clock_gate_transformations -expand_levels command."
.
.
.
.
"fc_shell> get_drc_error_data -all fusion compiler™ user guide v-2023.12-sp3 577 chapter 6: routing and postroute optimization saving route information feedback to load an error data file, use the open_drc_error_data command."
.
.
.
.
.
.
.
.
.
.
.
"to prevent the tool from doing so, use the set_freeze_ports command and set the freeze_clock_port attribute to true on the corresponding cell instance."
.
"7. build the global clock tree structure by using the synthesize_multisource_global_clock_trees command, as described in synthesizing the global clock trees."
.
.
.
.
the latency that you specify is annotated on the clock-gating cells when they are inserted by the compile_fusion command.
.
.
.
.
.
.
.
.
.
.
detail routing works to correct those violations.
.
the minimum via spacing for vias between any unspecified layer combinations is determined from the technology file.
.
"to control the relative amount of various types of filler cells, such as ulvt and lvt decoupling capacitor cells, use the -type_utilization option to specify the insertion percentage for each type of cell."
.
.
"1. use the place_group_repeaters -cells -blockage_aware command, to internally enable auto grouping ."
"custom router pairs the closest pins, one from each net, and routes from a common gather point between the pins."
.
.
.
.
the tool can also self-gate a group of multibit registers or a group of single-bit registers.
.
.
.
939 generating hotspots .
"advanced technology designs often use cells and macros with different gate oxide thicknesses, which affect the antenna rule calculations."
.
.
.
.
.
.
.
.
.
.
.
.
c. run the check_mv_design command and fix all multivoltage issues.
.
.
.
.
.
"◦ hard drc violations these are drc violations between a via ladder and a fixed shape, such as a pin, preroute, or obstruction."
.
.
.
.
"for example, the following command replaces tap cells named tap that have a separation distance of three sites: fc_shell> replace_fillers_by_rules -replacement_rule od_tap_distance \ -tap_cells {tap} -tap_distance_range {3 3} \ -left_violation_tap {tapl} -right_violation_tap {tapr} \ -both_violation_tap {tapb} figure 134 shows the original row, which violates this rule, and the resulting row, which uses the replacement filler cells to fix the violations."
"◦ bus notations { [ ] __ ( ) } for example, a cell named a [4] [5] is automatically matched with the string a_4__5_ in the def file."
.
.
.
.
.
.
.
.
.
.
.
.
.
the default is 1 v. this option is valid only when the checking is run during voltage drop analysis.
"◦ stage 1 refers to a clock gate that only drives registers directly or across buffers, inverters, or hierarchical transitions."
.
.
.
.
.
.
.
"kepout marginscel-specific, setingto define a keepout margin, use the set_kepout_margin comandcomandset_kepout_margincreate_keepout_margin command."
.
.
664 performing signoff design rule checking .
.
.
.
.
.
.
fix_isolated_via.
.
.
.
.
"if you do so, the clock must be specified as propagated by using the set_propagated_clock command."
.
.
.
.
.
.
.
.
.
.
.
merge_exclude_libraries (none) specifies the cell libraries whose cells are excluded from replacement with the cell data in the stream files specified in the signoff.physical.
.
"table 39 antenna mode settings antenna mode value area calculation mode antenna recognition mode 1 surface single-layer 2 surface accumulated-ratio 3 surface accumulated-area 4 sidewall single-layer 5 sidewall accumulated-ratio 6 sidewall accumulated-area antenna recognition mode example figure 125 shows a layout example with a lateral view, which is used to explain the antenna recognition modes."
modifying routing corridors you can make the following modifications to an existing routing corridor: • add new shapes to the routing corridor.
.
.
.
.
.
.
3. synthesize the top-level as described in synthesizing the top-level.
.
fc_shell> set_application_option \ -name est_delay.ml_delay_opto_dir -value ./ml c. enable integrated feature extraction by setting the new est_delay.ml_delay_gre_mode application option to feature.
"• to remove all via mappings, use the -all option."
x x opt-4002 macro does not have placement.
.
.
"to create this type of routing guide, use the -access_preference option with the create_routing_guide command."
.
.
.
.
.
.
.
.
.
"if your design contains more than one power net, you must perform pg augmentation once for each power net."
.
.
.
-force (optional) overwrites the existing constraint.
"for single-voltage designs, the tool creates a default power domain when you read the verilog netlist and associates it with a default voltage area, which comprises the core area of the block."
.
• change the nets and supernets associated with the routing corridor.
.
last_run_full_chip false controls whether the signoff drc checking in the final repair loop runs only on those portions of the block affected by signoff drc fixing (false) or on the whole block (true).
.
.
.
.
.
.
the tool provides comprehensive reports about the data checks.
.
.
.
"for information about creating user-defined via definitions, see creating a via definition."
.
.
.
.
.
.
"to specify the maximum number of tracks allowed for staggering on each level, set the route.auto_via_ladder.pattern_must_join_max_number_stagger_tracks application option."
.
.
.
.
you can expand or collapse the legend by clicking the legend button.
340 identifying the clock roots .
.
.
.
"6. final_place during this stage, the tool performs final placement to improve timing and congestion."
.
exclude layer parameters fusion compiler™ user guide v-2023.12-sp3 721 chapter 8: ic validator in-design inserting metal fill with ic validator in-design feedback table 50 ic validator metal fill insertion parameters (continued) parameter default description mx_exclude_layer_ datatype -1 creates an exclude layer with the specified data type.
.
.
.
.
.
.
"• to set the cost of violating soft constraints for all net-specific layer constraints, set the route.common.net_min_layer_mode_soft_cost and route.common.net_max_layer_mode_soft_cost application options."
.
.
.
.
.
"for example, for flip-flops inferred by hdl constructs of rising-edge clocks, the clock gate forces the gated clock to 0 after the falling edge of the clock."
.
"figure 131 fixing maximum stacking violation by replacement fill1 vt1 fill3 vt1 fill1 vt1 fill2 vt1 fill1 vt1 fill1 vt1 fill1 vt1 10um fill2 vt1 figure 132 shows the original stack, which violates this rule, and the resulting stack, which uses reordering to fix the violation."
.
.
.
.
.
.
.
.
.
.
you can modify the size of the extension by setting the signoff.check_drc_live.halo application option.
2. select the error data generated from the drc run.
"to keep the data in the cache for running other custom router commands in the current session, set the -keep_session option to true."
• -policy: specifies the type of policy depending on what is supported by the check.
.
.
.
• assigns tracks in vertical partitions.
.
you can also control the window size by setting the signoff.report_metal_density.density_window application option.
fc_shell> check_routing_corridors rc_0 you can view the errors detected by the check_routing_corridors command in the message browser.
.
.
.
.
.
.
.
.
◦ medium (-effort_level medium) medium effort is the default effort level and runs a maximum of three rerouting phases.
.
.
.
.
.
.
.
.
.
.
using eco scripts for netlist editing the fusion compiler tool supports using eco scripts to make changes in the netlist during design planning.
"when you enable this rule, do not include filler library cells with a width of one- unit tile in the -lib_cells option; otherwise, the tool ignores this rule."
.
.
.
.
.
.
.
.
◦ the locations of the sinks to determine the boundary within which to insert the tap cells you can control this boundary by using the -tap_boundary option.
.
.
.
"• the interval between the buffers by using the -repeater_distance option optionally, you can scale the distance between the buffers by ◦ specifying a different scaling factor for each layer using the -scaled_by_layer option ◦ using the ratio between the default width for the layer and the actual route width as the scaling factor by specifying the -scaled_by_width option the following example adds the buf1 library cell on the nets n2 and n5 at an interval of 150 microns."
interleave inserts shared shielding between adjacent wires.
.
"to define a minimum wire width rule, use the create_routing_rule command."
.
.
.
.
.
.
.755 defining matching wire lengths .
.
.
.
.
the enable condition of a register represents the states for which a clock signal must be passed to the register.
"for example, you might define a tool-derived ignore pin as a clock sink."
"to enable the fixing of soft drc violations after the final detail routing fusion compiler™ user guide v-2023.12-sp3 521 chapter 6: routing and postroute optimization routing secondary power and ground pins feedback iteration, set the route.common.post_group_route_fix_soft_violations application option to true."
.
"enabling post-clock-tree-synthesis multibit debanking to improve the timing qor, the clock_opt command can debank multibit registers during the final_opt stage, if doing so does not introduce hold timing violations."
.
"when you define an outer keepout margin, you can either specify the keepout distance explicitly or, for hard macros, you can have the tool derive the keepout distance based on the macro pin count."
2. reads and executes the setup files.
.
.
.
"(bge-004) reporting background jobs to report the background jobs submitted with the redirect -bg command, use the report_background_jobs command."
.
.
.
.
.
.
.
.
"fc_shell> set_app_options -name design.enable_via_ladder_protection \ -value true when the design.enable_via_ladder_protection application option is true, the following commands process only objects that do not belong to via ladders: • remove_shapes • remove_vias fusion compiler™ user guide v-2023.12-sp3 459 chapter 6: routing and postroute optimization inserting via ladders feedback • remove_objects • set_attribute • set_via_def • add_to_edit_group if an object belongs to a via ladder, these commands issue a warning message and do not process the object."
.
".29 related products, publications, and trademarks ."
.
.
.
the default is 0. custom.route.diffpair_twist_jumper_style specifies the twist style.
.
"to determine the filler cells available in a cell library, use the following command: fc_shell> get_lib_cells ref_lib/* -filter ""design_type==filler"" to sort the filler cells by decreasing size, use the sort_collection command, as shown in the following example: fc_shell> set filler_cells \ [get_object_name [sort_collection -descending \ [get_lib_cells ref_lib/* -filter ""design_type==filler""] area]] for more information, see controlling standard filler cell insertion."
.
you can assign multiple nondefault routing rules to a net.
controlling concurrent clock and data optimization applying useful skew techniques during datapath optimization to improve the timing qor by taking advantage of the positive slack and adjusting the clock arrival times of registers is referred to as concurrent clock and data (ccd) optimization.
.
.
.
.
.
.
"defining sink pins to define one or more pins as sink pins, use the following syntax: set_clock_balance_points -clock clock -consider_for_balancing true -balance_points pins [-corners corners] the -clock option is not required."
.
.
.
.
.
.
.
"for example, fc_shell> set_app_options -name rail.em_only_tech_file \ -value em_only.rule an overview for redhawk fusion and redhawk-sc fusion both redhawk fusion and redhawk-sc fusion support gate-level rail analysis capabilities, including static and dynamic rail analysis."
.
.
3.
.
fusion compiler™ user guide v-2023.12-sp3 375 chapter 5: clock tree synthesis implementing clock trees and performing post-cts optimization feedback 4.
"to disable resistance- based routing layer preferences, set the option to off."
.
the default is off.
952 eco fusion flow .
.
.
.
fc_shell> synthesize_multisource_global_clock_trees \ -nets [get_nets clka] -lib_cells [get_lib_cells my_lib/ckbuf8x] \ -use_zroute_for_pin_connections you can also use the synthesize_multisource_global_clock_trees command to only perform clock detail routing for an h-tree style clock structure that has already been synthesized.
"• mx the column position of the relative placement group is from left to right, and the row position is from top to bottom; that is, the group is flipped with respect to the r180 orientation."
"you can repeat a stage; however, ensure that you run all stages in the correct sequence."
.
.
"when you change the orientation, it affects all mim capacitor cells in the inserted array."
.
"fusion compiler™ user guide v-2023.12-sp3 906 chapter 12: redhawk and redhawk-sc fusion performing pg electromigration analysis feedback figure 205 opening generated errors in the error browser • to write errors to an ascii file, use the following script: set filename ""errors.txt"" set fd [open $filename w] set dm [open_drc_error_data rail_pg_em.vdd.err] set all_errs [get_drc_errors -error_data $dm *] foreach_in_collection err $all_errs { set info [ get_attribute $err error_info]; puts $fd $info } close $fd fusion compiler™ user guide v-2023.12-sp3 907 chapter 12: redhawk and redhawk-sc fusion performing minimum path resistance analysis feedback here is an example of the output error file: m1 (414.000,546.584 414.344,546.584) em ratio 23585.9% width 0.06 blech length 0.000 um current 0.0024963 m1 (414.344,546.584 416.168,546.584) em ratio 23401.3% width 0.06 blech length 0.000 um current 0.0024768 m1 (416.168,546.584 416.776,546.584) em ratio 23241.7% width 0.06 blech length 0.000 um current 0.0024599 m1 (416.776,546.584 417.992,546.584) em ratio 23082.2% width 0.06 blech length 0.000 um current 0.0024430 m1 (417.992,546.584 419.208,546.584) em ratio 22897.7% width 0.06 blech length 0.000 um current 0.0024235 m1 (419.208,546.584 419.512,546.584) em ratio 22731.1% width 0.06 blech length 0.000 um current 0.0024059 m1 (419.512,546.584 421.184,546.584) em ratio 22564.4% width 0.06 blech length 0.000 um current 0.0023882 m1 (421.184,546.584 421.488,546.584) em ratio 22349% width 0.06 blech length 0.000 um current 0.0023654 m1 (421.488,546.584 423.160,546.584) em ratio 22133.5% width 0.06 blech length 0.000 um current 0.0023426 m1 (423.160,546.584 423.616,546.584) em ratio 21967.2% width 0.06 blech length 0.000 um current 0.0023250 performing minimum path resistance analysis note: minimum path resistance analysis is supported in both redhawk fusion and redhawk-sc fusion analysis flows."
.
the tool uses the enable condition of the registers for clock-gate insertion.
.
.
.
.
.
"the first time that you run live drc, the tool performs the following initialization steps, which can take a couple of minutes: • processes the ic validator runset to get the list of available rules and caches the runset • processes the gdsii or oasis files specified in the signoff.physical.merge_stream_files application option unless the layers, rules, or stream files change, subsequent runs do not perform this caching and therefore are much quicker."
.
the syntax for each pair of values is as follows: {{layername mode}} where layername is the name of the layer.
fc_shell> set_app_options \ -name route.common.post_detail_route_fix_soft_violations \ -value true you can run additional detail routing iterations on a routed block by running incremental detail routing (the -incremental option).
.
.
.
.
"to report multivoltage information for your design, use the commands shown in the following table."
.
.
.
.
.
.
.
.
.
.
.
.
place_group_repeat ers eco-258 info: the app option about virtual connection is turned on.
"3. to run the final_place stage with tho, use the following commands: fc_shell> init_hier_optimization -flow pre_route fc_shell> compile_fusion -from final_place -to final_place fc_shell> commit_hier_optimization the init_hier_optimization command issues messages similar to the following message to confirm which blocks are available for optimization: information: sub-block u1/a/i1 (reference: ablock.design) is treated as modifiable."
.
.
.
891 checking missing vias and unconnected pins .
.
.
.
.
.
.
.
.
.
"activity-based optimization if you load a saif file, the fusion compiler tool analyzes the switching activity to evaluate whether to expand a tool-inserted clock gate."
.
.
.
.
"for example, to create a custom via definition, use a command similar to the following: fc_shell> create_via_def design_h_shape_via \ -shapes { {via12 {0.035 -0.035} {0.100 0.035}} {via12 {-0.100 -0.035} {-0.035 0.035}} {metal1 {-0.130 -0.035} {0.130 0.035}} {metal2 {-0.100 -0.065} {-0.035 0.065}} {metal2 {0.035 -0.065} {0.100 0.065}} {metal2 {-0.100 -0.035} {0.100 0.035}} } to overwrite an existing via definition, use the -force option; otherwise, the command fails if the specified via definition already exists."
.
419 analyzing the clock mesh .
.
.
.
.
.
.
.
.
.
"for example, each of the following methods creates an identical via ladder rule: • define the rule in the technology file."
.
you can use concurrent soft-rule-based redundant via insertion during both initial routing and eco routing.
"for example, cutmetal1 corresponds to metal1."
.
.
.
.
"to balance multiple clocks, perform the following steps: 1. generate the interclock delay balancing constraints either by manually defining the clock balance groups and their delay offsets, as described in defining the interclock delay balancing constraints having the tool generate them as described in generating interclock delay balancing constraints automatically 2. balance the interclock delays as described in running interclock delay balancing."
.
.
.
.
.
.
.
you should make any changes to this variable before you start the fusion compiler tool.
.
.
.
generating rail analysis script files you can run the analyze_rail -script_only command to generate the settings required for running rail analysis based on the information in the design library without actually executing the analysis run.
"2. specify settings required to perform redhawk voltage drop analysis, as described in performing voltage drop analysis."
.
mask_three this constraint means that the shape has the mask3 color.
.
.
"to clear the last three checkpoints from your checkpoint_history.rpt file before rerunning that portion of your flow, use the following command: fc_shell> reset_checkpoints -from incr_placement after clearing the checkpoints, your checkpoint_history.rpt file lists only the first two checkpoints in your flow: checkpoints memory starttime ... remove_buffers 32290.86 2020-03-23_14:34:17 ... place_opt_to_initial_drc 36389.15 2020-03-23_17:21:56 ... similarly, the get_checkpoint_data -list_names command returns only the remove_buffers and place_opt_to_initial_drc checkpoints: fc_shell> get_checkpoint_data -list_names remove_buffers place_opt_to_initial_drc using setup files when you start the fusion compiler tool, it automatically executes the commands in the .synopsys_fc.setup file."
.469 defining routing blockages .
.
.
.
.
"when you use the -anchor_corner rp_location setting, the position specified with the -anchor_row and -anchor_column options must contain a cell, keepout, or a relative placement hierarchy."
.
.
fc_shell> split_clock_cells -to $endpoints the fusion compiler tool enables you to construct a faster clock tree by identifying the optimal cloning solution to achieve the best latency for the group of specified sinks.
.
.
"by default, zroute performs a maximum of 40 detail routing iterations to fix drc violations that exist after the optimization."
"when you remove objects from a group, the space previously occupied by the removed objects is left unoccupied."
.
.
3. associate a set of related library panes to form a scaling group by using the define_scaling_lib_group command.
multivoltage designs typically have power domains that are shut down and powered up during the operation of the chip while other power domains remain powered up.
.
"to convert the calibre drc error file to an fusion compiler error data file, use the read_drc_eror_file comandcomandsread_drc_eror_fileread_drc_error_file command."
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 598 chapter 7: chip finishing and design for manufacturing performing boundary cell insertion feedback removing boundary cell insertion requirements to remove one or more of the boundary cell insertion requirements specified by the set_boundary_cell_rules command, use the remove_boundary_cell_rules command."
• -objects object_list specifies that the options should be applied to the listed objects.
.
3. apply the filter by clicking the green check mark.
.
.
you can specify up to eight fields.
.
.
.
.
.
.
.
.
.
.
◦ high (-effort_level high) high effort runs up to four rerouting phases.
.
.
"• during the route_group command, the updates are restricted to only those nets specified in the route_group command by setting the route.auto_via_ladder.update_on_route_group_nets_only application option to true."
.
.
"you can use the command log file to • produce a script for a particular implementation strategy • record the physical implementation process • document any problems you are having enabling multicore processing several functions in the fusion compiler tool support multicore processing, whether through multithreading, distributed processing, or parallel command execution."
.
.
.
.
• the power.scale_leakage_power_at_power_off option controls whether leakage power is scaled.
785 adding leaf cells .
.
.
.
.
you can also specify to report only the top-level cells that contain more than a specified number of constituent cells by using the -hier_threshold option.
.
signoff.check_drc.
.
.
.
.
.
.
.
.
.
.
.
.
signoff.fix_drc.
.
.
"however, to use the clock-gate level expansion capability, you must set this application option to a nonzero value (in addition to setting the compile.clockgate.enable_level_expansion application option to true)."
.
"in addition, if your floorplanning tool creates a def file with def version 5.6, you need to manually add the #snps_soft_blockage pragma to specify a soft blockage, as shown in example 7. example 5 def hard placement blockage information blockages 50 ; ... - placement rect ( 970460 7500 ) ( 3247660 129940 ) ... end blockages example 6 def version 5.7 soft placement blockage information blockages 50 ; ... - placement + soft rect ( 970460 7500 ) ( 3247660 129940 ) ; ... end blockages example 7 def version 5.6 soft placement blockage information blockages 50 ; ... - placement rect ( 970460 7500 ) ( 3247660 129940 ) ; #snps_soft_blockage ... end blockages fusion compiler™ user guide v-2023.12-sp3 108 chapter 2: preparing the design importing the floorplan information feedback example 8 def partial placement blockage information blockages 50 ; ... - placement + partial 80 rect ( 970460 7500 ) ( 3247660 129940 ) ; ... end blockages site rows site row information in the def file defines the placement area."
.
.
.
.
.
.
.
"specifying mapping rules for programmable spare cells you can define mapping rules for programmable spare cells to control the • overlapping of spare cells and pg nets • splitting of multiple-height and merging of single-height spare cells • compatibility of the different types of spare cells to do so, use the set_programmable_spare_cell_mapping_rule command before you run the place_freeze_silicon command."
.
"by default, the width of the cut layer routing blockages is the maximum width for the preferred-direction and nonpreferred-direction routing blockages."
.
.
.
.
.
.
.
.
.
"fc_shell> signoff_create_metal_fill -track_fill true \ -track_fill_parameter_file file_name when you run track-based metal fill insertion, the ic validator tool writes a parameter file named track_fill_params.rh into the run directory."
.
"figure 3 upf-prime (traditional) and golden upf flows the golden upf flow maintains and uses the same, original “golden” upf file throughout the flow."
"• extreme_power, which is recommended for further improvement of total power at the expense of runtime."
.
.
.
.
.
.
.
.
"• creates the shielding wires such that they surround the shielded routing shape to trim the shielding wires so that they align with the shielded routing shape ends, set the -align_to_shape_end option to true."
.
.
.
.
.
.132 specifying timing constraints and settings .
.
.
you can also set the value to in-design or none.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"for example, fc_shell> set_app_options -name rail.product -value redhawk|redhawk_sc fc_shell> set_app_options -name rail.redhawk_path \ -value /tools/redhawk_linux64e5_v19.0.2p2/bin you must ensure that the specified executable is compatible with the fusion compiler version that you are using."
"(mpn-0004) however, if you explicitly specify a multiple-port-net setting using the set_fix_multiple_port_nets command, the tool honors it."
.
.
.432 generating clock tree qor reports .
.
.
.
.
.
.
classification is based on the threshold_voltage_group attribute from the reference library cells or the default_threshold_voltage_group attribute on the library.
.
.
.
"to automatically generate the interclock delay balancing constraints, use the following command: fc_shell> derive_clock_balance_constraints this command identifies clocks that have interclock timing paths and places them in the same balance group."
.
.
.
.
"if you do not specify a name, the command assigns a name."
.
.
.
.
.
.
.
.
.
"by default, this command reports all of the nondefault routing rules for the current block."
.
fusion compiler™ user guide v-2023.12-sp3 618 chapter 7: chip finishing and design for manufacturing finding and fixing antenna violations feedback inserting diodes during detail routing one way to protect gates from antenna effects is to provide a discharge path for the accumulated charge to leave the net.
"for example, in a path-group based timing detailed table, you might want to focus on the information only for path_group1 in scenarioa."
.
.
"when you run the signoff_create_pg_augmentation command, the ic validator tool uses the on-disk information for the block, not the information in memory."
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 585 chapter 7: chip finishing and design for manufacturing inserting tap cells feedback • the naming convention used to identify the inserted tap cell instances by default, the tool uses the following naming convention for inserted tap cells: tapfiller!library_cell_name!number use the -separator option to change the separator character from its default of “!.” to identify the tap cells inserted in a specific run, use the -prefix option to specify a prefix string."
• the circuit satisfies the setup condition.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 509 chapter 6: routing and postroute optimization routing constraints feedback controlling off-grid routing you can prevent off-grid routing of wires or vias by requiring them to be aligned to the wire track or discourage off-grid routing of vias by increasing the cost associated with off-grid routing.
"when the clk input of the 2-input and gate is at logic state 1, any glitching of the en signal could, without the latch, propagate and corrupt the register clock signal."
.
.
.
.
10 diode protection is limited; scaling is based on total diode protection.
.
.
this application option helps the relative placement engine know about the distance between the tap columns.
.
.
the buffer cells are added at an interval that is 20 percent of the total net length.
.
.
.
.
"◦ does not require the via inserted above the pin layer to be contained within the pin shape to prevent changes to the pin shape boundary, you can require that the via inserted about the pin layer be fully contained within the pin shape boundary, which includes fusion compiler™ user guide v-2023.12-sp3 461 chapter 6: routing and postroute optimization inserting via ladders feedback the pin shape and its extensions."
.
.
"to change this limit, use the -max_errors option."
"when you enable this feature, the tool swaps the position of a clock-gating cell with the buffer that is driving the clock-gating cell."
.
.
.
the report_hier_check_description command provides the required information about the checks associated with each top-level error.
"to allow staggering if the maximum number of stagger tracks is not defined for the via ladder rule, the route.auto_via_ladder.auto_stagger application option is set to true by default."
.
"◦ by default, if all of the via ladder templates cause a drc violation, the command inserts the via ladder with the lowest drc cost."
.
"inserting clock drivers for designs with multiple levels of physical hierarchy to insert clock drivers from the top level of a design with multiple levels of physical hierarchy, 1. enable the lower-level physical blocks for editing by using the set_editability command."
.
.
.
.
.
wildcards are supported.
.
.
.
• the next state function of the register under analysis or of the registers in its transitive fanin depends on logic that contains a dont_care condition in the rtl.
the cost setting controls the effort expended by the router to avoid violations.
.
946 13. eco flow .
243 performing integrated multibit-register optimization .
fc_shell> create_taps -supply_net vdd -top_pg • creating taps at absolute coordinates use the -layer and -point options to create taps at the specified coordinates.
.
.
.
.
.
.
.
.
.
.
.
.
the default is high.
.
".98 reading rtl files in systemverilog, verilog, or vhdl format ."
(sqm-4101) register merging information: the register 'a_reg[1] { {/user/testcases/top.v:113} }' is removed because it is merged to 'a_reg[0]'.
"when variant-aware legalization is enabled, the tool tries to fix legalization drc violations by swapping the violating cell with a variant, rather than moving it."
.
.
.
.
.
5. identify all library cell families by using the identify_lib_cell_families command.
"to remove a specific multicore configuration, specify the configuration name with the -name option."
.
.
.
"after insertion, the command fixes the placement of the inserted tap cells."
"if you specify a value that is not a multiple of the site width, the command rounds it down to a multiple of the site width."
.
.
"however, advanced process nodes are very sensitive to jogs and fat metal, and sometimes the tapering distance is not sufficient to fix the routing drc violations on nets with nondefault routing rules."
intra-shield placement the custom.route.bus_intra_shield_placement application option specifies how the bus trunk will be shielded.
.
"for example, fc_shell> report_resources -hierarchy controlling datapath gating the following figure shows signal transitions of the inputs of a dp_op cell that is generated during datapath gating optimization."
.
.
.
.
.
.142 defining blockages that exclude registers .
.
.
.
.
.
.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 591 chapter 7: chip finishing and design for manufacturing inserting tap cells feedback inserting dense tap arrays a dense tap array is a tap cell array whose tap distance is smaller than the tap distance used by the create_tap_cells command.
.
.
"when doing so, ensure that the scenarios you specify or the scenarios corresponding to the modes and corners you specify are enabled for dynamic power optimization."
.
.
.
.
.
.
.
.
.
"• if all of the clock gates are preexisting clock gates, the tool uses the name of the preexisting clock gate with the largest fanout and appends _ml_pe."
.
.
note: the spacing rules defined in the technology file are always considered hard constraints.
* fc_shell> create_placement information: policy for early data check 'place.coarse.missing_scan_def' is 'tolerate'.
2. ensure that at least one scenario is enabled for dynamic-power optimization by using the set_scenario_status -dynamic_power true command.
.
.
.
815 11. hierarchical implementation .
there are six scripts to submit to the farm machines with only two available snps_indesign_rh_rail licenses.
.
table 1 shows the supported values for these attributes.
.
.
.
"table 64 top-level closure checks, policies, and strategies check description strategy supported policies supported references hier.block.miss ing_frame_view checks whether the frame view is missing for a hierarchical block re-create frame views from the bound view error, tolerate, repair mid, bot hier.block.refe rence_missing_p ort_location checks whether the location of a physical hierarchy boundary pin is missing assign a location for the block pin on the block boundary based on connectivity error, tolerate, repair mid, bot hier.block.refe rence_port_outs ide_boundary checks whether the location of a physical hierarchy boundary pin is outside the physical hierarchy boundary reassign a location for the block pin on the block boundary based on connectivity error, tolerate, repair mid, bot fusion compiler™ user guide v-2023.12-sp3 847 chapter 11: hierarchical implementation checking designs with abstracts for top-level-closure issues feedback table 64 top-level closure checks, policies, and strategies (continued) check description strategy supported policies supported references hier.block.refe rence_missing_p ort checks whether a port is missing in the physical hierarchy reference create missing ports in the reference block and update its location error, tolerate, repair mid, bot hier.block.inst ance_bound_to_f rame checks whether a physical hierarchy instance is bound to a frame view error, tolerate top hier.block.inst ance_with_desig n_type_macro checks whether a physical hierarchy instance is bound to a macro error, tolerate top hier.top.estima ted_corner checks whether the estimated corner is at top level error, tolerate top hier.block.miss ing_leaf_cell_l ocation checks whether the location of a leaf cell of a physical hierarchy is missing assign an approximate location inside the block boundary for the leaf cell (legality not considered) error, tolerate, repair mid, bot hier.block.leaf _cell_outside_b oundary checks whether the location of a leaf cell of a physical hierarchy is outside the physical hierarchy boundary reassign the leaf cell location to the nearest location inside the block boundary (legality not considered) error, tolerate, repair mid, bot hier.block.miss ing_child_block _instance_locat ion checks whether the location of a child physical hierarchy instance is missing in the specified physical hierarchy assign an approximate location for the lower-level subblock based on connectivity inside the block boundary (overlap removal not considered) error, tolerate, repair mid fusion compiler™ user guide v-2023.12-sp3 848 chapter 11: hierarchical implementation checking designs with abstracts for top-level-closure issues feedback table 64 top-level closure checks, policies, and strategies (continued) check description strategy supported policies supported references hier.block.chil d_block_instanc e_outside_bound ary checks whether the location of a child physical hierarchy instance is outside the specified physical hierarchy boundary move the subblock to the nearest location inside the block boundary (overlap removal not considered)."
.
a group is defined by the number of rows and columns it uses.
.
"◦ stage n refers to a clock gate that drives at least one clock gate of stage n-1, either directly or across buffers, inverters, or hierarchical transitions."
.
"• ignores existing global routes to honor the existing global routes and perform incremental global routing, set the -reuse_existing_global_route option to true."
.
.
.
.
.
.
.
.
.
.
"define these behaviors in your checkpoint.config.tcl file, which is automatically sourced by the checkpoint system."
.
.
.
"for example, fc_shell> set_app_options -name rail.tech_file \ -value design_data/tech/test.tech fusion compiler™ user guide v-2023.12-sp3 903 chapter 12: redhawk and redhawk-sc fusion performing pg electromigration analysis feedback 2. run the analyze_rail command with the following options: ◦ use the -voltage_drop and -electromigration options to enable electromigration analysis."
.
.
.
ignore_child_cell_errors false controls whether the ic validator tool reports both top-level and child-level errors to the error data file (false) or only top-level errors (true).
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 552 chapter 6: routing and postroute optimization performing postroute optimization feedback if your postroute design has drc violations, analyze the violations to determine if they are caused by pin access issues."
.
.
.
"the following example disables concurrent clock and data optimization for all boundary paths except for those connected to the ports named in_a and out_a: fc_shell> set_app_options -name ccd.optimize_boundary_timing \ -value false fc_shell> set_app_options \ -name ccd.ignore_ports_for_boundary_identification \ -value {in_a out_a} even when you disable concurrent clock and data optimization on boundary registers, the tool can still optimize the clock tree fanin cone of these boundary registers, when doing so improves the timing qor of other internal registers that share the same clock paths."
.
"by default, the route_opt.flow.enable_multibit_debanking application option is set to false."
.
"the following is an example of the configuration file: lef_file { ./lef/saed32sram.lef } gds_file ./gds/sramlp2rw128x16.gds gds_map_file ./redhawk.gdslayermap output_directory sramlp2rw128x16_output use_lef_pins_for_tracing 1 vdd_nets { vdd } gnd_nets { vss } top_cell sramlp2rw128x16 examples the following example generates redhawk macro models for the sramlp2rw128x16, sramlp2rw32x4, sramlp2rw64x32 and sramlp2rw64x8 memories: ## specify the path to the redhawk executable ## set_app_options -name rail.redhawk_path -value $env(redhawk_image)/bin ## specify one configuration file per memory ## exec_gds2rh -config_file sramlp2rw128x16.config exec_gds2rh -config_file sramlp2rw32x4.config exec_gds2rh -config_file sramlp2rw64x32.config exec_gds2rh -config_file sramlp2rw64x8.config the following example runs top-level rail analysis with the macro models that are generated in the previous example: ## run rail analysis at top level ## open_lib open_block top link_block ## specify rail analysis setting ## create_taps set_app_options -name rail.tech_file -value test.tech set_app_options -name rail.lib_files -value test.lib … ## set macro model file ## set_app_options -name rail.macro_models \ fusion compiler™ user guide v-2023.12-sp3 921 chapter 12: redhawk and redhawk-sc fusion working with macro models feedback -value { sramlp2rw128x16 ./data_ sramlp2rw128x16 sramlp2rw32x4 ./data_sramlp2rw32x4 sramlp2rw64x32 ./data_sramlp2rw64x32 sramlp2rw64x8 ./data_ sramlp2rw64x8 } ## run rail analysis ## analyze_rail -voltage_drop static -all_nets ## check rail results ## open_rail_result gui_start creating block contexts macro models are used to reduce total turnaround time for designs with advanced process technology."
.
.
.
.
.
.
.
"to add virtual pg meshes and display the created eco shapes in the gui, 1. prepare a script file (such as, mesh.tcl) that contains the mesh add command."
860 transparent hierarchy optimization .
.
.
"when the -index option is set to 2, the grid 2 is reported with large total current."
.
"other options allow you to specify details about the fsdb file, settings for distributed or concurrent processing, settings for scenarios and libraries, and output files."
.
.
.
.
.
.
.
.
.
.
2. create the via ladder by using the create_via_ladder command.
.
the grid qsub command must be in your linux path.
"if your technology requires specific filler cells abutting the standard cells, you can insert these required filler cells first, and then use standard filler cell insertion to fill the remaining space."
.
"note: if you use the -shift_vias_on_transition_layers true option when you insert the via ladders, you must also use this option when you verify the via ladders; otherwise, the command reports false violations."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
635 inserting filler cells .
"for more information about the congestion report, see generating a congestion report."
.
this file is called runset.dp.log and is located in the run_details subdirectory of the signoff_drc_run directory (or the directory specified by the signoff.check_drc.run_dir application option.
valid values are true and false.
.
.
.
.
.
the shapes added during pg augmentation have a shape_use attribute of pg_augmentation.
.
refer performing voltage drop analysis for more information.
.
.
you must specify one or more of the following options: • -min_routing_layer this option removes the minimum routing layer setting.
.
.
.
.
"to resolve the balancing conflict, the tool defines the parent clock pin as an ignore pin."
"when you perform custom routing by using the route_custom command, the tool automatically creates shields for the nets based on the constraints you specify by using the create_net_shielding command."
"therefore, limiting the number of lvt cells reduces leakage-power dissipation."
the eco_change_legal_reference command checks whether the current reference of the cell is legal or illegal for the placed location.
.
.
.
"you can insert different types of buffers or inverter pairs by using this option, but you cannot combine both buffers and inverter pairs."
.
.
.
.
.
.
.
.
.
"because these constraints affect rc estimation and congestion analysis as well as routing, you should set these constraints before performing placement on the block."
.
.
.
.
unplaced and unshaped objects will always be placed and shaped.
"the following example generates a logic-level report of the clk_i path group: fc_shell> report_logic_levels -group clk_i fusion compiler™ user guide v-2023.12-sp3 283 chapter 3: physical synthesis performing design analysis feedback querying specific message ids to query specific information, warning, or error message ids that occurred during the previous command step, you can use the check_error command."
.
.
.
.
.
.
.
.
.
.
"for example, the tool generates the following report files in the rail_checking_dir directory when static rail analysis is run: ◦ libcell.apl_current ◦ libcell.apl_cap ◦ libcell.missing_liberty • rail_database: the directory where the tool saves and retrieves results and log files that are generated during power calculation and rail analysis."
specify rail attributes for the created rail scenario with the set_rail_scenario command.
.
.
.
"• only the cells that have changed due to eco operations, use the -eco_changed_cells option."
.
.
"note: if you enable the route.common.concurrent_redundant_via_mode option before running the place_opt command, the redundant vias are considered during congestion estimation."
.
.
.
select the instance to choose the type of map to display the tool shows the switch cells display on the selected power domain in the map.
.
.
.
.
.
.
.
.
.
.
"by default, the remove_redundant_shapes does not report the changes it makes."
.
.
.
.
5. run the final optimization stage of the clock_opt command by using the clock_opt -from final_opto command.
"to remove the existing floorplan information before annotating the floorplan information from the def file, use the -no_incremental option."
.
.
.
.
.
.
"figure 26 shows the primepower in- design flow in the fusion compiler tool, indicating points in the flow where you can run the primepower tool."
◦cross: routes the bit so that they overlap at the corner.
.
the options and syntax of the set_clock_gating_enable command are identical to the corresponding design compiler command.
.
.
.
.
.
.
"for example, to specify a shielding rule that uses spacing of 0.1 microns and a width of 0.1 microns for m1 through m5 and spacing of 0.3 microns and a width of 0.3 microns for m6, use the following command: fc_shell> create_routing_rule shield_rule \ -shield_widths {m1 0.1 m2 0.1 m3 0.1 m4 0.1 m5 0.1 m6 0.3} \ -shield_spacings {m1 0.1 m2 0.1 m3 0.1 m4 0.1 m5 0.1 m6 0.3} reporting nondefault routing rule definitions to report the nondefault routing rules defined by the create_routing_rule command, use the report_routing_rules -verbose command."
"to enable this feature, use the opt.common.use_route_aware_estimation application option."
.
"to report design objects marked with the dont_touch attribute, use the report_dont_touch command."
.
.
• length_per_layer: compares the per-layer length.
.
.
"for example, to specify a distributed processing configuration that uses the qsub command to submit the parallel processes, use the following command: fc_shell> set_host_options -name dp_config \ -submit_command [list qsub -p bnormal -cwd] reporting multicore configurations to report the values set by the set_host_options command, use the report_host_options command."
-optimization_restriction control the movement of the group during legalization.
.
.
"for example, to define a nondefault routing rule named new_width_rule that uses the default routing rule as the reference rule and defines the nondefault width as two times the default width, use the following command: fc_shell> create_routing_rule new_width_rule -multiplier_width 2.0 • to specify the minimum width values for each layer, use the following syntax: create_routing_rule rule_name [-default_reference_rule | -reference_rule_name ref_rule] -widths {layer1 width1 layer2 width2 … layern widthn} specify the routing layers by using the layer names from the technology file."
.
.
.
.
.
-preferred_direction_only switch the preferred routing direction within the routing guide boundary.
.
"• the metal shapes abut the nonpreferred-direction edges to specify an offset from the nonpreferred-direction edges, use the -spacing_from_boundary option."
.
.
"fusion compiler™ user guide v-2023.12-sp3 873 chapter 12: redhawk and redhawk-sc fusion an overview for redhawk fusion and redhawk-sc fusion feedback figure 200 required steps for a basic rail analysis using redhawk and redhawk-sc fusion run rail analysis analyze_rail -voltage_drop run pg electromigration analysis check current violations check rail analysis results set application options set_app_options read design data open_lib, open_block specify ideal voltage sources create_taps analyze_rail -electromigration running redhawk fusion commands in the background by default, when you execute the analyze_rail command to perform rail analysis, the redhawk or redhawk-sc tool is invoked to perform the specified analysis types with the input data and then load the analysis results back to the rail database when rail analysis is finished."
the maximum open area rule is defined in an ic validator parameter file.
.
.
.
the create_clock_drivers command does not legalize the design.
"for example, fc_shell> report_transformed_registers **************************************** report: report_transformed_registers version: ... date: ... **************************************** legend: c0p - constant 0 register preserved c1p - constant 1 register preserved c0r - constant 0 register removed c1r - constant 1 register removed ulp - preserved unloaded register ulr - removed unloaded register mrg - merged register srh - shift register head srf - shift register flop mb - multibit rep - replicated inv - inverted register optimization --------------------------------------------------------- ------------ i_risc_core/i_data_path/pswl_carry_reg c0r i_risc_core/i_stack_top/i3_stack_mem/stack_mem_reg[0][0] c0r i_risc_core/i_stack_top/i3_stack_mem/stack_mem_reg[1][0] c0r to report the count of each type of register transformation, specify the -summary option as shown in the following example: fc_shell> report_transformed_registers -summary **************************************** report: report_transformed_registers version: ... date: ... fusion compiler™ user guide v-2023.12-sp3 266 chapter 3: physical synthesis performing design analysis feedback **************************************** legend: c0p - constant 0 register preserved c1p - constant 1 register preserved c0r - constant 0 register removed c1r - constant 1 register removed ulp - preserved unloaded register ulr - removed unloaded register mrg - merged register srh - shift register head srf - shift register flop mb - multibit rep - replicated inv - inverted register count ---------------------------------------------------------------------- constant registers deleted 12 constant registers preserved 1 unloaded registers deleted 101 unloaded registers preserved 38 shift registers 170 merged 12 multibit 10 inverted 15 replicated 4 measuring quality of results to measure the quality of results (qor) of the design in the current state and store the quality information in a set of report files, use the create_qor_snapshot command."
.
.
16 {v01 v11 v21 v31 v41 v51 v61 v71} {v02 v12 v22 v32 v42 v52 v62 v72} {v03 v13 v23 v33 v43 v53 v63 v73} {v04 v14 v24 v34 v44 v54 v64 v74} you specify one 8-value vector for each of the four gate classes.
"if the resulting area resolves to multiple, noncontiguous polygons, the command creates multiple routing blockages, one corresponding to each polygon."
.
.
"for more information about clock tree synthesis and optimization, see clock tree synthesis."
.
"tho is available during compile_fusion in the final_place and final_opto stages, as well as during route_opt and hyper_route_opt."
the default setting of -1 prevents the creation of an exclude layer.
.
807 generating relative placement groups for clock sinks .
"• to remove specific routing blockages, specify the routing blockages, either as a list or collection, such as that returned by the get_routing_blockages command."
.
.
.
.
"when the calculation is complete, the tool saves the results in the working directory."
.
.
fusion compiler™ user guide v-2023.12-sp3 563 chapter 6: routing and postroute optimization analyzing the routing results feedback analyzing the routing results you can analyze the routing results by reporting on the cell placement and routing statistics.
.
.
.
"if you do not use this option, the tool uses the value of the -max_cores option from the set_host_options command."
.
.
.
.
.
.
"• to remove all spacing rules, use the -all option."
"• to allow straps that are unconnected to orthogonal straps, use the -allow_floating true option."
"to save the layout views, you must set the lib.workspace.save_layout_views application option to true during library preparation, as described in the library manager user guide."
-force (optional) overwrites the existing constraint.
you can specify only a single region.
"to report the information for the entire physical hierarchy, use the -hierarchical option."
375 controlling concurrent clock and data optimization .
.
"skewing latch and discrete clock gates to skew latches and discrete clock gates together, set the ccd.skew_opt_merge_dcg_cells_by_driver application option to true before compile_fusion or place_opt final_opto."
.396 introduction to multisource clock trees structures .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
this directory contains the following sub-directories: ◦ in-design.redhawk or in-design.redhawk_sc: the directory that contains the following sub-directory: design_name.result: the directory where redhawk or redhawk-sc saves the analysis result files.
use the report_power command to get information about the dynamic power used by the design after clock-gate insertion.
.
.
.
.
.
.
.
.
merge_stream_files application option.
.
.
.
.
.
.
.
.
.
"to stop the routes at the highest available metal layer close to the pin shape, use the -skip_pin_connections option."
"to reduce the initial runtime, you can perform this initialization before running live drc by using the signoff_init_live_drc command."
.
588 inserting interior tap walls .
.
.
• the upper category consists of the top one percent of the total number of cells with the highest voltage drop values.
.
.
.
.
"alternatively, you can specify a value only for tool-inserted clock gates."
.
.
381 enabling buffer removal at the postroute stage .
.
.
.
.
.
.
.
.
.
.
.
use the read_verilog command to read the verilog netlists.
(mbit-068) specifying naming styles for multibit registers fusion compiler allows you to customize the naming styles for multibit registers.
the extent is the set of logic elements that belong to the power domain and share the same power supply needs.
.
.
.
"• the tap insertion region (the -bbox option) you specify the tap insertion region by specifying the lower-left and upper-right corners of its bounding box: -bbox {{llx lly} {urx ury}} the create_dense_tap_cells command first removes the existing tap cells that are completely within the tap insertion region, and then reinserts the tap cells with the specified tap distance to create a denser array in the specified region."
.
this control port must be a predefined port in the rtl that is not connected to any other net.
.
"for example, to switch the preferred routing direction for the m1 and m2 layers within the rectangle with its lower-left corner at (0, 0) and its upper-right corner at (100, 100), use the following command: fc_shell> create_routing_guide -boundary {{0.0 0.0} {100.0 100.0}} \ -layers {m1 m2} -switch_preferred_direction note: if a switch-preferred-direction routing guide overlaps with a preferred- direction-only routing guide, the switch-preferred-direction routing guide takes precedence."
you should use this method only when needed to improve the redundant via rate beyond that provided by concurrent soft-rule-based redundant via insertion and the soft-rule-based approach resulted in a redundant via rate of at least 90 percent.
.
"note the following when relinking a block: • if none of the labels in the switch list are available in a subblock, or if you specify an empty switch list, the tool links the subblock to the label it was previously linked to • if you have removed all the labels for a subblock, the tool links the subblock to the label of its parent block specifying the editability of blocks from the top-level for designs with physical hierarchy, you can specify if changes can be made to lower-level blocks by using the set_editability command at the top level."
.
.
.
.
.
"these routing layer constraints are used during rc estimation, congestion analysis, and routing."
.
.
you should use this method only when needed to improve the redundant via rate beyond that provided by postroute redundant via insertion and the postroute approach resulted in a redundant via rate of at least 80 percent.
.
traversal (and clock tree removal) continues past the integrated clock-gating cell.
.
.
.
.
.
.
.
.
.
6. stop tracking the eco changes and complete the incremental signoff eco flow by using the record_signoff_eco_changes -stop command as shown in the following example: fc_shell> record_signoff_eco_changes -stop eco fusion flow the fusion compiler eco fusion flow allows you to use the primetime physically aware eco capabilities and the starrc extraction capabilities (in-design signoff extraction) within the fusion compiler tool.
.
.
.
.
"2. update the placement by using the place_eco_cells command, as described in placing eco cells."
.
"12. after completing the design planning operations, rebuild the subblock and top-level design by opening the elaborated rtl ndm, loading floorplan, feedthroughs and budgets."
.
you can use the stretch connected tool to move and stretch unfixed wire shapes while optionally maintaining their physical connections.
.
.
"to require preferred direction routing only for specific layers, use the -layers option to specify the affected layers."
• -electromigration this option specifies that the via ladder is an electromigration via ladder.
.
.
.
.
.
.
.
.
.
"when routing a single-signal net, the tool uses this net for the left and bottom shields."
.
.
.
"the next example defines a checkpoint report named app_options, which writes all your non-default application options to disk: create_checkpoint_report app_options { set name [get_current_checkpoint -name] set pos [get_current_checkpoint -position] report_app_options -non_default \ > ./checkpoint/$name.$pos.app_options.rpt } defining checkpoint actions to define a checkpoint action, use the create_checkpoint_action command in your checkpoint.config.tcl file."
.
.
rail.pad_files (optional) specifies a list of pad location files.
.
.
.
the command writes data and log files to the my_work_dir directory.
.
"when you create the abstract view as read-only, the design view of the block is editable, and you can make changes to it."
"if you do not specify the v4 value, it is assumed to be 0, which means there is no upper limit."
.
.
.
.
"figure 152 density gradient heat map removing metal fill the method you use to remove metal fill depends on the extent of the metal fill removal: • to remove all metal fill from a block, specific layers of a block, or specific regions of a block, use the signoff_create_metal_fill command with the -mode remove option."
"by default, the remove_clock_trees command removes the detail route shapes of the clock nets it removes."
.
.
.
"report_clock_gating_options -objects {design, obj1, obj2, obj3, obj4} figure 53 command output with the same option set to multiple objects figure 54 shows the same scenario as figure 53, but with the -nosplit parameter: report_clock_gating_options -objects {design, obj1, obj2, obj3, obj4} -nosplit figure 54 clock gating flows the fusion compiler tool inserts clock-gating cells during the compile_fusion command."
.
.
.
.
the inputs or outputs of this cell can be inverted.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"to do so, use the following application option settings before you run the compare_libraries command: fc_shell> set_app_options -name libra.complib.match_full_cell_name -value false fc_shell> set_app_options -name libra.complib.match_lexical_device_threshold_voltage -value false fc_shell> compare_libraries -ref_lib $rvt_lib -ref_lib_analysis sa \ -target_lib $lvt_lib -target_lib_analysis sa -verbose -plot note: for a complete list of application options you can use to control name matching during library comparison, see the man page for the compare_libraries command."
303 integrated clock-gate latency estimation .
.
.
"the latch eliminates this possibility because it blocks signal changes when the clock is at logic 1. fusion compiler™ user guide v-2023.12-sp3 287 chapter 4: clock gating introduction to clock gating feedback in latch-based clock gating, the and gate blocks unnecessary clock pulses by maintaining the clock signal’s value after the trailing edge."
"to enable timing-preservation mode for wire widening, define the timing preservation constraints by using the following options with the widen_wires command: • -timing_preserve_setup_slack_threshold threshold • -timing_preserve_hold_slack_threshold threshold • -timing_preserve_nets nets the threshold values are floating-point numbers in library units."
.
.
you can set the compile.clockgate.max_number_of_levels application option without enabling clock-gate level expansion.
"figure 131 shows the original stack, which violates this rule, and the resulting stack, which uses a replacement filler cell to fix the violation."
.
522 setting the routing constraints .
use the following options to specify the pins to which to apply the mapping: • -all_instances_of this option explicitly specifies library cell pins to which to apply the mapping.
.
.
.
.
.
.
.
2. specify placement constraints as described in setting up multivoltage designs.
mx_ignore_system_blockage 0 controls whether the ic validator tool honors (0) or ignores (1) system blockages on the specified layer during metal fill insertion.
.
.
.
"7. build the global clock tree structure by using the synthesize_multisource_global_clock_trees command, as described in synthesizing the global clock trees."
"if a shield does not intersect with any power strap, the default four-pass connecting process is followed."
.
.
.
.
.
.
"in some design methodologies, you must insert a tap cell in empty spaces in the checkerboard pattern that are above or below specific cells, such as critical area breaker cells or boundary cells."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"for example, to use layers m2 through m7 for routing, rc estimation, and congestion analysis, use the following command: fc_shell> set_ignored_layers \ -min_routing_layer m2 -max_routing_layer m7 • to allow the use of layers beyond the minimum or maximum routing layer only for pin connections, set the route.common.global_min_layer_mode and route.common.global_max_layer_mode application options to allow_pin_connection."
.
"at a minimum, you must specify the minimum spacing in the x-direction or the y-direction; typically you would specify the minimum spacing in both directions."
"fc_shell> open_rail_result fc_shell> report_rail_minimum_path -cell u19 -net vdd -error_cell shown in figure 206, each geometry is classified by layer in the error browser."
you can further control stream placement by using the place.legalize.stream_effort and place.legalize.stream_effort_limit application options.
.
"4. examine the checking results by opening the generated error files in the error browser or writing the checking results to an output file, as described in viewing error data and writing analysis and checking reports."
.
.
.
"for example, a power feedthrough net created during power planning is a floating supply net."
"to consider the congestion effects of soft routing rules, set the route.global.export_soft_congestion_maps application option to true."
.
.
.
.
"to set this variable, set the signoff.create_metal_fill.user_defined_options application option, as shown in the following example: fc_shell> set_app_options \ -name signoff.create_metal_fill.user_defined_options \ -value {-d track_fill_foundary_name} ◦ if you have already performed track-based metal fill insertion, you can use the existing fill shapes to fix isolated vias by using the -update_track_fill true option."
"during this step, the tool fixes drc violations beyond ignore exceptions of the multisource clock tree, if applicable."
.
.
.
.
.
.
.
.
.
"• optimizing datapaths datapath extraction datapath extraction transforms arithmetic operators, such as addition, subtraction, and multiplication, into datapath blocks to be implemented by a datapath generator."
.
.
.
the following example performs voltage drop analysis and minimum path resistance calculation at the same time.
.
.
.
.
.
.
.
.
.
"set the -voltage_drop option to static, dynamic, dynamic_vcd, or dynamic_vectorless to choose the type of analysis you want to perform."
"to report the cell modes for specific cell instances, use the report_cell_modes command."
.
.
the check reports the filler cells that could be replaced with a specified filler cell with lower leakage current without causing legalization errors.
.
"before global placement (during the floorplanning stage), you can insert tap cells in the block to form a two-dimensional array structure to ensure that all standard cells placed subsequently comply with the maximum diffusion-to-tap distance limit."
.
.
"◦ to specify the spacing for cut layer routing blockages along the vertical edges, use the -spacing_cut_layer_vertical option."
.
"fusion compiler™ user guide v-2023.12-sp3 810 chapter 10: physical datapath with relative placement performing placement and legalization of relative placement groups feedback figure 186 legalizing the rp3 relative placement group over other groups rp1 rp2 rp1 rp2 rp3 after you legalize one or more relative placement groups by using the legalize_rp_groups command, there might be overlaps with cells in other relative placement groups or cells that are not in relative placement groups."
.
.
"specifying constraints for clock nets by default, the fusion compiler tool uses the default routing rule and any available routing layers to route the clock trees."
.
837 creating a frame view .
.
"you can also use the tcl lappend command to add your directories to the default search path, which is the directory from which you invoked the tool."
.
.
.
no warning message is issued.
.
.
.
.
.
.
"preparing design and input data for rail analysis before analyzing voltage drop and current density violations in a design using the redhawk/redhawk-sc fusion capability, use the set_app_options command to specify the location of the libraries and the required input files."
.
.
.
.
"zroute includes the following main features: • multithreading on multicore hardware for all routing steps, including global routing, track assignment, and detail routing • a realistic connectivity model where zroute recognizes electrical connectivity if the rectangles touch; it does not require the center lines of wires to connect • a dynamic maze grid that permits zroute to go off-grid to connect pins, while retaining the speed advantages of gridded routers • a polygon manager, which allows zroute to recognize polygons and to understand that design rule checks (drcs) are aimed at polygons • concurrent optimization of design rules, antenna rules, wire optimization, and via optimization during detail routing • concurrent redundant via insertion during detail routing • support for soft rules built into global routing, track assignment, and detail routing • timing- and crosstalk-driven global routing, track assignment, detail routing, and eco routing • intelligent design rule handling, including merging of redundant design rule violations and intelligent convergence • net group routing with layer constraints and nondefault routing rules • clock routing • route verification fusion compiler™ user guide v-2023.12-sp3 439 chapter 6: routing and postroute optimization introduction to zroute feedback • optimization for dfm and design-for-yield (dfy) using a soft rule approach • support for advanced design rules, such as multiple patterning fusion compiler™ user guide v-2023.12-sp3 440 chapter 6: routing and postroute optimization basic zroute flow feedback basic zroute flow figure 99 shows the basic zroute flow, which includes clock routing, signal routing, dfm optimizations, and route verification."
.
.
"for example, if you use the following command (or use the default settings), all of the connections shown in figure 113 are valid and no drc violations are reported: fc_shell> set_app_options \ -name route.common.connect_within_pins_by_layer_name \ -value {{m1 off}} fusion compiler™ user guide v-2023.12-sp3 514 chapter 6: routing and postroute optimization routing constraints feedback figure 113 unrestricted pin connections if you set the mode for m1 to via_all_pins, as shown in the following example, the via enclosures must be inside the pin shape."
you can set multiple threshold values in a missing via check.
.
.
"fusion compiler™ user guide v-2023.12-sp3 803 chapter 10: physical datapath with relative placement specifying options for relative placement groups feedback note: when the orientation of a relative placement group is changed, the constraints on the relative placement group, such as alignment and utilization, are preserved according to the specifications that you provide."
.
the tool tries to preserve the parent (upstream) clock gate.
.
.
.
"the create_dense_tap_cells command supports the following options to control the tap cell insertion: -offset, -pattern, -skip_fixed_cells, and -at_distance_only."
.
473 querying routing blockages .
.
"em.net_violation_rule_types """" specifies the type of constraint rules to use."
.
.
generating automatic group bounds for clock gating cells the tool can automatically generate group bounds for integrated clock gating cells and the sequential cells they drive.
.
.
.
.
.
.
.
.990 cell input mode .
333 reporting and querying self-gating cells .
.
"• to remove specific routing rules, specify the routing rules."
"if the specified region, including the margins, is too small to fit a tap wall, the command does not insert tap cells."
.
.
avoiding overlapping repeaters with existing tap cells use the -honor_special_cell option to avoid overlapping with existing tap cells when inserting repeaters.
"when you run the signoff_create_pg_augmentation command, the ic validator tool uses the on-disk information for the block, not the information in memory."
.
.
.
2.
.
.
"fc_shell> report_congestion by default, the report_congestion command uses the congestion map stored with the block to report an overflow summary for the entire block."
.
.
.
.
.
.
.
.
all other metal layers use the default minimum jog spacing.
.
.
.
.
835 creating abstracts for minimum pulse width analysis .
"• to specify the clock trees in the group, use the -objects option with the get_clocks command."
"for more information, see clock tree synthesis."
.
.
.
.
749 defining the bus routing style .
.
.
.
◦ -voltage_drop_threshold this option enables the tool to automatically determine the cells to process based on a voltage drop threshold.
.
.
.
.
.
.
"note that you can specify one or more shapes when using the create_bound command, but only a single shape in each create_bound_shape command."
2.
.
"the following topics describe how to perform these tasks: • generating a congestion report • generating a congestion map • performing design rule checking using zroute • performing signoff design rule checking • performing design rule checking in an external tool • performing layout-versus-schematic checking • reporting the routing results • reporting the wire length • using the drc query commands generating a congestion report to generate a congestion report, run the report_congestion command."
.
"to report the settings you specified, use the report_multisource_clock_subtree_options command."
table 71 rail result object attributes object attributes cell static_power fusion compiler™ user guide v-2023.12-sp3 946 chapter 12: redhawk and redhawk-sc fusion querying attributes feedback table 71 rail result object attributes (continued) object attributes pin static_current peak_current static_power switching_power leakage_power internal_power min_path_resistance voltage_drop average_effective_voltage_drop_in_tw max_effective_voltage_drop (=effective_voltage_drop) max_effective_voltage_drop_in_tw min_effective_voltage_drop_in_tw effective_resistance the following example retrieves the effective_voltage_drop attribute for the cella/vdd pin.
.
.
the default file name is input_files.py.
.
.
.
.
"restricting routing to specific regions to restrict routing to a specific region, use a routing corridor, as described in routing nets within a specific region."
.
.
.
mx_max_open_area_rule 10 specifies the maximum size of a square area that contains no polygons and does not interact with any polygons.
you can specify any startpoint in the fanin or endpoint in the fanout of the register.
.
.
.
.
"note that the write_routes command reproduces routes, but not routing blockages."
.
"however, if the manhattan distance from a pin to the nearest stripe is more than the comb distance, the tool routes the pin to the nearest net shape using a steiner topology, as shown in figure 94. the default comb distance is two global routing cells."
.
.
a level shifter must be present where a logic signal leaves one power domain and enters another at a substantially different supply voltage.
.
.
104 fixing site name mismatches .
.
.
.
the tool creates a new register rd1 to generate a delayed version of enable signal en0.
fusion compiler™ user guide v-2023.12-sp3 367 chapter 5: clock tree synthesis specifying the clock tree synthesis settings feedback improving latency-driven clock-gate splitting the latency-driven clock-gate (cg) splitting now automatically identifies and evaluates different cg cloning moves.
.
.
.
.
"to save a command log file, move it or rename it."
.
.
.
.
.
.
.
.
• the base name is the most frequent instance name among the registers gated by the clock gate.
157 considering the congestion effects due to the nondefault routing rules of clock nets .
.
"to define a configuration that applies only to the ic validator in-design commands, use the -target icv option."
.
you use the configuration name to select the configuration to use for specific commands and to remove a configuration.
"the default is 0.1, meaning 10% of the ideal supply voltage."
.
.
.
.
.
.
.
.
.
(optional) specify endpoints to target by using the set_route_opt_target_endpoints command and optimize these endpoints by using the route_opt command if there are any violating endpoints remaining after the hyper_route_opt command.
"to use simple package rlc models for rail analysis, you need to specify the pad location file which defines the simple rlc model by using rail.pad_files application option."
"to report all changed nets, set the -max_reported_nets option to -1. see also • routing nets in the gui routing nets in the gui to route nets interactively in the active layout view, draw the routes with the layout editing tolscreate route tolcreate route tool."
.
"for example, read_verilog -top my_top -design desa ../my_data/my_des.v set_top_module my_top reading mixed gate-level netlists and rtl files you can read a combination of verilog netlists and rtl files."
.
.
.
.
.
.
.
.
.
"to see the current settings, use the report_app_options command."
.
.
-exclude_regions specifies rectangular regions to exclude from the missing via check.
.
"you need to specify the following information: • the name of the constraint group if you do not specify a name, the command names the constraint group bus_style_n, where n is a unique integer."
.
.
.
.
"fc_shell> remove_licenses snps_indesign_rh_rail fusion compiler™ user guide v-2023.12-sp3 915 chapter 12: redhawk and redhawk-sc fusion performing distributed redhawk fusion rail analysis feedback in figure 210, the rail.license_checkout_mode application option is set to wait."
.
.
"when you perform design planning and power planning, you create a floorplan to determine the size of the design, create the boundary and core area, create site rows for the placement of standard cells, set up the i/o pads, and create a power plan."
616 analyzing and fixing antenna violations .
.
place_group_repeat ers eco-246 warning: skip the path driver (%s) since the driver or load for the path has no shape.
.
.
.
.
.
.
771 balance mode option .
625 postroute redundant via insertion .
"regardless of the command options used, the tool always creates connections required to build a complete pg netlist structure, such as top-level pg ports and intermediate hierarchical pg pins."
.
.
"• invalid real metal via cut blockages in the library cells to enable this check, use the -check_lib_via_cut_blockage true option."
.
.
.
.
.
.
.
.
.
.
"to perform power switch cell swapping, you can use the size_power_switches command to set the maximum ir drop target."
.
.
"when the -check_only option is set, the compile_fusion command issues error messages for any failed precheck condition."
• filtering the pins based on their attributes by using the -filter option.
.
.
.
fusion compiler™ user guide v-2023.12-sp3 293 chapter 4: clock gating setting up clock gating feedback clock-gating optimization uses the following defaults: • the maximum fanout is infinite.
.
.
.
.
.
"note that you can specify one or more shapes when using the create_voltage_area command, but only a single shape in each create_voltage_area_shape command."
.
.
.
.
.
.
.
"if the power.clock_network_include_clock_sink_pin_power application option is set to off, the sink power is not reported."
signoff.create_metal_fill.
the command creates error cells for the grids with voltage drop values greater than the specified percentage of the ideal voltage drop.
.
.
"fusion compiler™ user guide v-2023.12-sp3 735 chapter 8: ic validator in-design inserting metal fill with ic validator in-design feedback • creates the density and gradient windows starting from the lower-left corner of the chip boundary using a step size of half the window size ◦ to change the starting point for creating the windows, use the -starting_point option with the signoff_report_metal_density command."
.
the elaborate command builds the module specified without linking the rest of the design.
.
.
.
.
.
.
.
.
.
use the following syntax to define the maximum open area rule for each metal layer: mn_max_open_area_rule = value; where n is the metal layer number and value is the side length of the square in microns.
.
.
.
.
"to identify registers that you want the tool to replicate during logic optimization, use the set_register_replication command."
.
.
.
.
.
.
.
.
"• does not check for violations in child blocks • excludes rules that are not suitable for automatic design rule fixing to explicitly specify the design rules checked by the ic validator tool, set the -select_rules rules and -unselect_rules rules application options."
defining minimum wire width rules you can define nondefault minimum wire width rules that are stricter than the minimum width rules defined in the technology file.
.
"by default, the distance is 10 times the layer pitch."
this allows you to run multiple redhawk analyses with only one fusion compiler license.
the default is false (no scaling).
.
.
.
.
.
.
.741 modifying metal fill .
"clock-gating setup condition to perform clock gating, the tool requires that the enable signal of the register bank is synchronous with its clock."
.
you can use this parameter to increase the via density.
.
.
.
layer_map_file (required) (none) specifies the name of the layer mapping file that maps the layer names in the technology file to those in the foundry runset.
.
.
.
.
.
.
288 clock gating in the compile log file .
.
.
.
.
.
.
.
.
"6. insert the mesh drivers by using the create_clock_drivers command, as described in inserting clock drivers."
.
.
.
.
.
.
"to define this information for each via layer, set the signoff.fix_isolated_via.isolated_via_max_range application option, which has the following syntax: { {via_layer1 distance1} ... {via_layern distancen} } where the via_layer argument uses the mask names, such as via1, and the distance argument is in microns."
.
.
"inserting redundant vias on signal nets you can perform redundant via insertion in the following ways: • postroute redundant via insertion • concurrent soft-rule-based redundant via insertion • near 100 percent redundant via insertion in general, you should start with postroute redundant via insertion."
.
.
"• to specify host options for distributed processing, use -host_options option and specify the appropriate settings."
.
.
the name of a clock gate inserted as a result of fanin-based sequential clock gating begins with the prefix seq_clock_gate_fi_.
"fc_shell> set_app_options \ -name clock_opt.flow.enable_multisource_clock_trees -value true fc_shell> clock_opt -from build_clock -to route_clock during this step, the tool incrementally optimizes the existing subtrees."
.
.
"for domain-dependent supply nets, the tool creates the logical supply nets in the topmost hierarchy of the domain."
.
.
.
.
.
"to specify a different name, use the -xml_file option."
.
.
"◦ to reset all threshold values, enter fc_shell> set_analyze_rtl_logic_level_threshold -reset ◦ to reset a specific group setting, enter fc_shell> set_analyze_rtl_logic_level_threshold \ -group path_group -reset 2."
.
lib (ndm) tech.
the set_boundary_cell_rules command configures boundary cell insertion for both the compile_boundary_cells and compile_targeted_boundary_cells commands.
.
.
.
.
.
.
.
.
.
the uniquify process copies and renames any multiply referenced design so that each instance references a unique design.
.
.
the phenomenon of an electrostatic charge being discharged into the device is referred to as either antenna or charge- collecting antenna problems.
.
.
.359 setting skew and latency targets .
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 467 chapter 6: routing and postroute optimization checking routability feedback by default, this command considers the following routing layer constraints when checking for blocked ports: • the global minimum and maximum routing layer constraints set by the -min_routing_layer and -max_routing_layer options of the set_ignored_layers command these constraints can cause blocked ports only if they are defined as hard constraints."
.
"the clock-gating cell selectively prevents clock edges, thus preventing the gated-clock signal from clocking the gated register."
.
.
.
.
.
.
the tool also uses concurrent clock and data optimization techniques to adjust the i/o clock latencies when you subsequently run the compute_clock_latency command.
.
"fusion compiler™ user guide v-2023.12-sp3 748 chapter 9: routing using custom router defining routing constraints feedback for more information, see the fusion compiler design planning user guide."
"3. runs spice simulation, using the spice files generated in the previous step as input."
.
.
3. perform rail analysis using the following command: fc_shell> analyze_rail -nets -voltage_drop 4. run the open_rail_result command to load the design data and analysis results.
.
.
.
.
.
.
.
.
.
2. display the hierarchy settings panel by clicking the hierarchy settings icon ( ) in the view settings panel or the menu bar.
signoff.physical.
.
.
.
"the route_auto basic command performs global routing, track assignment, and detail routing."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
"if the specified alignment pin does not exist in a cell, the cell is aligned by the left edge, and the tool issues an information message."
.
.
.
.
the check_routes command saves the error data to a file named zroute.err.
.
.
"the detailed table views can display up to six runs at one time (your baseline run, plus the first five other runs selected in the choose baseline and visible runs dialog box)."
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 248 chapter 3: physical synthesis performing multibit optimization feedback specifying a name separator when creating the name for a multibit register, the tool concatenates the names of the single-bit registers and uses the _ character as the name separator."
this option removes all checkpoints including and following the specified checkpoint from your checkpoint_history.rpt file; it does not remove any checkpoint reports you have written to the checkpoint directory.
.
.
the ic validator tool uses the results of this voltage drop analysis to drive the power grid augmentation.
fc_shell> derive_mask_constraint \ [get_shapes -of_objects [get_nets net1]] fusion compiler™ user guide v-2023.12-sp3 578 chapter 6: routing and postroute optimization inserting and removing cut metal shapes feedback use options to the derive_mask_constraint command to control how the mask colors are derived.
.
.
"for more information about using the route_custom command, see routing with the custom router."
.
.
3. specify the cutline by -cutline.
.
"for example, fc_shell> set_power_switch_resistance saed32hvt_pg_ss0p_v125c/head2x2_hvt 0.015 3. run the size_power_switches command to perform cell size switching."
.
.
◦ -connect_within_metal_for_via_ladder true this option controls the via enclosures only for performance and electromigration via ladders.
.
• -inverter_pair: adds inverter pairs instead of buffer cells.
the default is 0. the following example creates a differential pair for the prn and prp nets.
.
.
854 creating etms and etm cell libraries .
.
.
"in addition to constraining the routing layers, you can also specify a preferred routing direction for each layer."
.
"◦ to specify the ground net, set the signoff.create_pg_augmentation.ground_net_name application option."
.
"port locations for each port with the location specified in the def file, the tool sets the location on the corresponding port in the block."
example 40 net-based wire matching constraints with pin exclusions # set nets to match length set nets [get_nets -physical_context {net1 net1p}] # set allowed layers set_routing_rule -min_routing_layer m7 -max_routing_layer m8 \ -min_layer_mode allow_pin_connection -max_layer_mode hard $nets # setup custom router wire match constraint set exclude_pin_names [get_pins -physical_context {i2/a i3/a}] create_wire_matching -for $nets -tolerance 0.01 -relative \ -exclude $exclude_pin_names # run custom router route_custom -nets $nets fusion compiler™ user guide v-2023.12-sp3 762 chapter 9: routing using custom router managing constraint groups feedback figure 162 net-based wire matching constraints with pin exclusions managing constraint groups you can report or remove the constraint groups that you create when specifying the routing constraints.
.
.
.
.
.
.
.
.
.
• (optional) extra arguments needed for the submit command use the -submit_command option to specify the submit command with the extra arguments.
.
"fusion compiler™ user guide v-2023.12-sp3 282 chapter 3: physical synthesis performing design analysis feedback to report logic levels, 1."
you can also use ecos to implement late-arriving design changes while maintaining design performance.
.
these settings are saved in the design library and honored by the tool throughout the implementation flow.
.
.
.
.
.
.
"note: if a pin is too small to accommodate any of the via ladders specified for it, the insert_via_ladders command does not insert a via ladder for that pin."
.
.
.
.
◦ timing ◦ maximum capacitance ◦ maximum transition time • the power and ground nets are prerouted.
.
pin locations can be refined for the specified set of blocks during coarse placement steps of the tho.
.
.
.
.463 querying via ladders .
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 619 chapter 7: chip finishing and design for manufacturing finding and fixing antenna violations feedback • by default, zroute reuses existing filler cell locations for diode insertion."
.
.
.
.
.
• the row count begins from row 0 (the bottom row).
.
.
.
.
"• to remove a row or column, use the -remove_rows or -remove_columns option respectively."
.
.
"to enable multithreading for those commands that support it, set the -max_cores option of the set_host_options command to a value greater than one and less than or equal to the number of cores available on your machine, which is the number of cpus in the machine times the number of cores per cpu."
.
◦ specify the number of levels to display in the level field.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
the command outputs a soft congestion report for each spacing weight level of the soft nondefault spacing rules used in the block.
.
this is the recommended setting because it provides the best tradeoff between runtime and qor.
.
.
.
.
.
.
.
.
.
.
.
set the dont_use attribute on all scan registers in the library to map to nonscan cells mapping of synchronous reset or preset registers fusion compiler does not infer synchronous reset or preset flip-flops by default.
.
286 naming convention for tool-inserted clock gates .
.
.
.914 performing distributed redhawk fusion rail analysis .
.
the multibit packing ratio has a higher precedence than clock gating.
.
.
.
.
.
.
.
.
.
".176 controlling the addition of new cells to modules, hierarchical cells, and voltage areas ."
"for example, to see the man page for the report_timing command, use the following command: fc_shell> man report_timing to display the man page for a fusion compiler application option, enter the man command followed by the option name."
.
.
.
.
.
.
you can also perform power or area recovery in the primetime tool.
"during placement, the tool spreads these cells less than those in the upper category."
.
.
.
.
.
.
.
.
"• for information about specifying the preferred routing direction for specific layers, see setting the preferred routing direction for layers."
"by default, the net-specific minimum layer constraint is a soft constraint and the net- specific maximum layer constraint is a hard constraint."
.
"to increase the effort level to use more low-resistance metal layers for routing, set the option to high."
.
"fc_shell> set_app_options \ -name route.detail.repair_shorts_over_macros_effort_level \ -value high • does not fix soft drc violations, such as bridge rule violations to enable the fixing of soft drc violations after the final detail routing iteration, set the route.common.post_detail_route_fix_soft_violations application option to true."
.
.
.
.
.
.
.
this name is used to construct the circuit elements.
.
.
.
.
"by default, the spread_zrt_wires comandcomandspread_zrt_wires spread_wires command uses the following settings to spread the signal wires on the same layer: • spreads the wires by half a pitch in the preferred direction to modify the spread distance, use the -pitch option."
.
.
.
.
.
.
.
.
.
.
.
.
.
.
the template specified in the pin section’s template attribute must be one of the templates specified in the template sections.
.
all other product or company names may be trademarks of their respective owners.
.
.
.
"the following example puts cells with a voltage drop larger than 8 percent of the supply voltage into the upper category and cells with a voltage drop between 4 to 8 percent of the supply voltage into the middle category: fc_shell> set_app_options \ -name place.coarse.ir_drop_default_target_high_population \ -value false fc_shell> set_app_options \ -name place.coarse.ir_drop_default_target_high_percentage \ -value 8.0 fc_shell> set_app_options \ -name place.coarse.ir_drop_default_target_low_population \ -value false fc_shell> set_app_options \ -name place.coarse.ir_drop_default_target_low_percentage \ -value 4.0 you can specify a percentage of the total number of cells to define the upper category and cell voltage drop as a percentage of supply voltage to define the middle category, or vice versa."
.
.
.
.
.
.
.
.
.
.
.
.
.
"for information about defining don’t touch settings, see setting don’t touch settings."
cell input mode cell input mode enables to set distance based on route placement.
.
.
.
.
.
.
.
.
394 removing clock trees .
"specifying the clock root timing characteristics to get realistic clock tree synthesis results, you must ensure that the timing characteristics of the clock roots are correctly modeled."
example 18 shows the association script file generated by this command.
.
.
.
"by default, the compile_fusion command automatically ungroups logical hierarchies that do not have a dont_touch attribute setting."
.
.
.
.
.
.
.
.
.
.
.
"during clock tree synthesis, the tool isolates ignore pins from the clock tree by inserting a guide buffer before the pin."
.
.
.
.
"perform the following steps to set up tho: 1. to perform tho after block-level compile_fusion, you must propagate the ccd useful skew balancing offsets and latency offsets for integrated clock gating cells to the top-level timing context using the following commands: fc_shell> promote_clock_data -auto_clock all -latency_offset fc_shell> promote_clock_data -auto_clock all -balance_points 2. to enable and perform tho on the blocks, ensure that the blocks you want to optimize with tho are enabled for editing: fc_shell> set_editability -blocks {list of blocks} -value true 3. to verify block editability, use the following command: fc_shell> report_editability -blocks [get_blocks -hierarchical] 4. during tho, operations such as congestion updates and route-driven estimation (rde) calculations inside subblocks as well as eco-routing can be run using distributed processing."
"the vertical spines on layer m8 start at a distance of 60 units from the y-axis and repeat every 150 units, until they reach 980 units from the x-axis."
.
"to flatten the physical hierarchy and retain only the relevant logic of the lower-level blocks, use the -preserve_block_instances false option, as shown in the following example: fc_shell> open_block mid fc_shell> create_abstract -preserve_block_instances false use flattened abstracts in top-level implementation flows where the lower-level blocks are treated as read-only."
.
.
.
"to exit the tool, use the exit or quit command."
.
.
"after completing detail routing, zroute outputs a final summary report."
.
.
.
.
"you can specify a list of designs, power domains, and hierarchical instances to which the settings apply."
.
.
.
.
you can view the violations reported by the check_lvs command in the gui by using the error browser.
the check-only mode does not annotate any floorplan information onto the block.
.
.
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 539 chapter 6: routing and postroute optimization shielding nets feedback figure 117 shows the zroute shielding flow, which is described in the topics that follow."
"• when you use the create_voltage_area -merge_regions command, the merges the shapes specified with the -region option."
"for incremental metal fill insertion, the command removes metal and via fill only from the specified regions."
.
.
.
this setting also prevents any splitting performed by placement- aware clock gating.
.
.
.
"for more information, see generating instance-based analysis reports and generating geometry-based analysis reports."
.
.
.
.
"the variant cell feature supports the following • track_pattern mode • siteid_based mode track_pattern mode to specify the first metal layer for track alignment checking in track_pattern mode, use the set_app_options -name eco.placement.first_track_alignment_layer -value name command."
.
.
• the -include option sets the included_purposes attribute on the specified library cells.
.
.
.
.
"note that the highlighted code is not actually in your script, but shows the checkpoint behaviors that are executed when the tool encounters the checkpoints in a run."
"reverting changes made during resizing to revert the eco changes made with the size_cell command, use the revert_cell_sizing command."
.
the fusion compiler tool does not perform any checking on the specified string.
they are technology- specific restrictions that are specified in the logic libraries.
.
.
.
.
"signoff drc results files the signoff_check_drc command writes its output files to the run directory, which is specified by the signoff.check_drc.run_dir application option (or the signoff_check_drc_run directory if you do not use this option)."
.
.
.
.
.
.
note: using concurrent soft-rule-based redundant via insertion during eco routing can impact timing and design rule convergence.
.
"• set the global routing application options for information about the detail routing application options, see the route.global_options man page."
.
.
"as shown in table 37, for diode modes 5 and 6, the maximum antenna ratio is computed as metal_area / (gate_area + equi_gate_area) where the equivalent gate area, equi_gate_area, is computed by using the diode ratio vector: (diode_protection + v1) * (v2 + v3)."
.
.
.
"if the bounding box spans multiple edges along the specified side, the command inserts the tap wall along the longest edge."
the get_attribute command reports the attributes of the group_repeater_driver or group_repeater_loads commands.
.
.
.
.
em.net_duration_condition_for_peak 0.0 specifies the duration value for peak current checking.
.
.
the default is 1.
.
197 setting up for voltage-drop-aware placement .
.
"in case of wide wires that occupy multiple tracks, the command takes the mask color opposite to the next unoccupied track."
.
.
.
.
.
.
repair can include changes in design and setup.
.
"to minimize wire length, multiple load pins are connected using comb routing to a single finger, which is connected to the stripe, as shown in figure 91. figure 91 fishbone topology fanout clock mesh strap (shape_use = user_route) clock mesh strap (shape_use = stripe) comb route driver pins load pins finger route if you are using a fishbone topology, you can specify ◦ a maximum fanout for the loads of a finger, as shown in figure 92, by using -fishbone_fanout option."
.
.
.
.
.
.
.
.
.
"fusion compiler™ user guide v-2023.12-sp3 277 chapter 3: physical synthesis performing design analysis feedback you could then restrict your analysis to your m9 runs by turning off the visibility of your m7 runs, as shown in the following figure: now that you have your best tns runs, you could compare their congestion by sorting the grcoverflow column to show the worst overflow at the top, as shown in the following figure: notice that your higher-utilization runs have more congestion than your lower-utilization runs."
◦ set the level to 1.
.
.
.
.
"by default, the command analyzes 1000 random sites to see if the specified library cells can be placed."
.
"when the tool looks for a file, it starts searching in the leftmost directory specified in the search_path variable and uses the first matching file it finds."
.
fusion compiler™ user guide v-2023.12-sp3 373 chapter 5: clock tree synthesis implementing clock trees and performing post-cts optimization feedback 4.
.
"in the subsequent session, use the saif_map -read_map command to read the saved file and begin tracking further changes to object names."
.
.
.
889 removing taps .
.
.
.
"for example, fc_shell> set_scenario_status -leakage_power true sc1 if the block has multiple scenarios enabled for leakage power, the tool uses the worst- case leakage value of all the specified scenarios."
.
.
"for information about routing guides, see defining routing guides."
.
"• to specify the backoff distance between stripes of different spines, when creating a clock spine structure, use the -backoff option."
.
.
.
.
.
you must specify the routing corridor and the nets or supernets to add to it.
.
.
.
.
.
.
.
.
.
"by default, this routing guide applies to all layers within the routing guide boundary."
.
.
.
.
"global routing stops after the third phase or when the overflow is resolved, whichever occurs first."
.
"optionally, you can apply a different target number of levels to specific sink pins and clock balance points by using the set_multisource_clock_subtree_constraints command with the -pins and -target_level options."
.
concurrent clock and data optimization is enabled by default for the compile_fusion and clock_opt commands.
.
"fusion compiler™ user guide v-2023.12-sp3 584 chapter 7: chip finishing and design for manufacturing inserting tap cells feedback for example, the following command shifts tap cells whose computed tap location is occupied by a fixed instance of the mylib/cell1 library cell: fc_shell> create_tap_cells -lib_cell mylib/tap -distance 30 \ -skip_fixed_cells -preserve_distance_continuity mylib/cell1 when you use the -skip_fixed_cells option, you can also specify the minimum horizontal spacing between the boundary and a corner tap cell that is above or below a blocked area by using the -min_horizontal_periphery_spacing option."
"for example, if the track assignment step is skipped and you run detail routing directly, zroute might generate bad routing results."
note: you cannot use timing-driven metal fill insertion with tcd metal fill insertion.
.
.
"to limit the number of via ladders reported for each category to 40, use the -report_all_via_ladders false option with the verify_via_ladders command."
.
.
.
.984 placing group repeaters before routing .
"primetime timing and signal integrity analysis primetime area and power recovery eco change list file fusion compiler eco to incorporate the primetime eco changes, use the following steps: 1. update the design by sourcing the primetime eco change list file, which is a tcl file containing netlist editing commands."
.
.
.
.
.
.
"to restrict the voltage-area pass-throughs, define a voltage area routing rule, as described in controlling physical-feedthrough nets in voltage areas."
.
"to implicitly associate a tap with the supply net, run the create_taps command without the -supply_net option."
.
.
.
"the error data shows child- fusion compiler™ user guide v-2023.12-sp3 672 chapter 8: ic validator in-design performing signoff design rule checking feedback level errors on only one of the cell instances, which makes it easier to identify lower- level errors."
.
.
.
.
.
"when you use the -max_fanout option, the tool computes the number of copies and attempts to distribute loads evenly without violating the maximum fanout constraints."
you can limit the clock_opt command to one or more contiguous stages by using the -from option to specify the stage from which you want to begin and the -to option to specify the stage after which you want to end.
.
.
.
.
"◦ to use the design view regardless of its timestamp, set the signoff.report_metal_density.fill_view_data application option to discard."
.
"note: for details about each of the design planning operation, see the design planning user guide."
.
.
.
.
"to run only some of these stages, use the -from option to specify the stage from which you want to begin and the -to option to specify the stage after which you want to end."
.
.
"the command analyzes the arithmetic contents of the design and provides feedback, so you can improve the rtl code as needed."
.
.
.
.
"the wire access-preference area is slightly preferred over areas outside of the access preference area because it has a strength of 0.2. the via access-preference area with coordinates at (40, 40) and (45, 45) is ignored, because routing is required in the via access-preference area with coordinates at (0, 0) and (5, 5), which has a strength of 1. fc_shell> create_routing_guide -boundary {{0 0} {300 300}} \ -access_preference {m1 {wire_access_preference {{0 0} {2 1}} 0.2} {via_access_preference {{0 0} {5 5}} 1.0} {via_access_preference {{40 40} {45 45}} 0.5}} to report information about the access preference routing guides defined for your block, use the report_routing_guides command."
.
"when these reports are generated, their names reflect the checkpoint that triggered them (get_current_checkpoint -name), as well as whether they were generated before or after the checkpoint (get_current_checkpoint -position)."
.
"by default, the compile_fusion command removes unloaded registers in the design and prints an information message in the compile log file."
.
.
.
.
"• to specify the maximum length of the orthogonal stripes, when creating a clock spine structure, use the -length option."
.
.
.
"in both cases, the driver pin defines a full or partial buffer tree."
.
.
.
.
.
.
"table 4 reference and target library lexical attribute differences lexical attribute reference library target library lexical_cell_prefix_name nd2 nd2 lexical_drive1_name d1 d1 fusion compiler™ user guide v-2023.12-sp3 96 chapter 2: preparing the design analyzing libraries feedback lexical attribute reference library target library lexical_device_threshold_voltage svt - in this situation, you should ignore the lexical_device_threshold_voltage attribute when comparing the two libraries."
.
911 performing effective resistance analysis .
.
.
mx_max_density_window 50 microns specifies the window size used for maximum density checking.
"before you run the analyze_subcircuit command, you must • detail route the clock mesh net."
.
.
.
.
.
.
set the value in the following format: {net_name distance}.
.
.
.
.
.
.
the tool promotes the required upf constraints from the lower-level blocks to the top level.
.
"if your design does not already have these connections, use the connect_pg_net command to create them."
.
.
.
.
.
.
.
"to specify the replacement cells, use the -non_constraint_fillers option."
.
.
.
.
987 specifying library cells as repeaters .
"if the fat metal contact rule is not defined for a via layer, the tool searches for the default vias that meet the cut width, cut height, and via enclosure width requirements."
.
"this is derived based on the following: • the boolean function specified with the -on_state option, which is ms_ctrl && !"
.
"fusion compiler™ user guide v-2023.12-sp3 330 chapter 4: clock gating self-gating optimization feedback figure 68 general self-gating flow fusion compiler read_saif in.saif or set_switching_activity compile_fusion saif rtl/netlist libraries reports set_app_options -name compile.clockgate.self_gating -value true library requirements for self-gating to perform self-gating, the logic library should contain and and or gates to build the self- gating tree."
"if you specify both, the ic validator parameter overrides the application option."
.
"• does not extend the via enclosures to meet the minimum length rule for the layer to enable patching of the via enclosures to meet the minimum length rule and allow additional stacking of the via ladder, use the -allow_patching true option."
.
.
.
.
.
.
.
.
.
both input pins are inverted.
.
.
.
the following example script shows the signal electromigration flow.
.
.
.
"you can specify either a relative path, in which case the directory is created under the current working directory, or an absolute path."
.
.
.
.
.
.
.
.
"for example, to list all available application options, use the following command: fc_shell> get_app_options to list all available timer application options, use the following command: fc_shell> get_app_options timer."
.
enabling this feature reduces the number of buffers used to fix logical drc violations.
.
.
.
"for example, fc_shell> set_attribute [get_lib_cells -quiet lib1_name/*] \ threshold_voltage_group hvt 3. set the threshold_voltage_group attribute to one of the three built-in threshold voltage group types: high, normal, or low threshold voltage."
.
.
.
-tiling_type specify the orientation.
"(optional) enable distributed processing by using the set_host_options command, as described in enabling ic validator multicore processing."
"to specify the coordinates, use the following format: {{x1 y1} {x2 y2} ... {xn yn}} note that there must be a space between each set of coordinates."
.
"adding buffers at a specified interval to add buffers to one or more nets at a specified interval, specify • a list of one or more library cells to select from by using the -lib_cell option • the distance between the driver of the net and the first buffer by using the -first_distance option • the distance between the load pin of the net and the last buffer by using the -last_distance option you must use the -last_distance option with the -repeater_distance option or the -repeater_distance_length_ratio option."
.
the grcs max overflow value is the number of global routing cells that have the maximum overflow.
.
.
.
.
structural subtrees that you build by using the synthesize_multisource_clock_subtrees command are not changed or removed when you subsequently run any clock tree synthesis command.
figure 223 shows the check and swap with legal reference for target cell.
453 constraint-based via ladder insertion .
.
"finally, define a group (rp5) that contains the hierarchical group rp4 and the leaf cell u7."
.
• have a circuit-level model for each of the gates in your clock tree and a transistor model for each of the transistors in the circuit-level models.
11 diode protection is limited; scaling is based on maximum diode protection.
.
.
.
.
.
.
.
.
"to allow staggering if the maximum number of stagger tracks is not defined for the via ladder rule, use the -auto_stagger true option."
.
this feature is supported only by the compile_boundary_cells command; it is not supported by the compile_targeted_boundary_cells command.
"by default, the root-net routing rule is applied to all the single-fanout clock nets starting from the clock root up to the point where the clock tree branches out to a fanout of more than one."
.
.
"for vias on the same layer, the router uses the minimum spacing defined in the layer section for the via layer."
.
.
"• spread wire tool to activate the spread wires tool, click the button on the edit toolbar or choose edit > spread wires."
"to report the settings for specific clocks, use the -clock option to specify the clocks of interest."
.
.
.
.
.
.
.
.
"figure 51 command output with no options set to specific objects figure 52 shows the report_clock_gating_optionscommand output when no options are set to specific objects, but both the design and b0 have been passed as parameters for objects."
.
"for example, to connect the vdd power net to all pins named vdd and the vss ground net to all pins named vss, use the following commands: fc_shell> connect_pg_net -net vdd [get_pins */vdd] fc_shell> connect_pg_net -net vss [get_pins */vss] to connect pg nets to power and ground pins only, use the -pg option."
.
199 specifying the global layer constraints .
clock gate cg1 is first inserted for register bank r0.
.
.
.
.
.
.
"for example, if the percentage is set to 0.1, geometries with voltage drop values greater than 10% of the ideal supply voltage are reported."
◦ multiple blockages can be controlled by the same attribute.
.
.
.
"this section contains the following topics: • generating hotspots • reporting hotspots • removing hotspots • voltage hotspot analysis examples to write rail results only for the cell instances or geometries that reside in the hotspot area, use the get_instance_result and get_geometry_result commands."
.
• removes the maximum net length constraint if it is less than 50 microns.
the minimum spacing is 3 microns for the m2 layer and 5 microns for the m3 layer.
.
"when using multicore processing, you need one fusion compiler license for every 16 parallel tasks."
.
.
"the following figure shows how you can use checkpoints to instantly apply a set of flow changes or reports to multiple designs, without modifying each design's golden flow script."
.
.
150 defining cell spacing constraints for legalization .
.
.
.
.
the switching activity is scenario specific.
.
it removes hierarchical boundaries and allows fusion compiler to improve timing by reducing the levels of logic and to improve area by sharing logic.
.
.
.
"in the following example, the report_early_data_checks -hierarchical -policy command reports the policy settings for the hierarchical checks set on the top-level design and the block-level designs: fc_shell> report_early_data_checks -policy **************************************** report : report_early_data_checks design : top version: r-2020.09 date : thu aug 20 23:53:54 2020 **************************************** design check policy strategy --------------------------------------------------------------------------------- ------- unit_des.nlib:top.design hier.block.instance_bound_to_frame error unit_des.nlib:top.design hier.block.instance_unlinked error unit_des.nlib:top.design hier.block.instance_with_design_type_macro error unit_des.nlib:top.design hier.top.estimated_corner error --------------------------------------------------------------------------------- ------ blk hier.block.abstract_missing_design_view error blk hier.block.abstract_target_use_non_implementation error blk hier.block.abstract_type_non_timing error blk hier.block.leaf_cell_outside_boundary error --------------------------------------------------------------------------------- ----- in the following example, the report_early_data_checks -hierarchical -verbose command reports the repair performed on the checked object and also provides the details of policies, strategies applied, and checked objects on the subblocks."
.
